function eG(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var r_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $m(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jb={exports:{}},Fp={},Nb={exports:{}},rs={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i3;function tG(){if(i3)return rs;i3=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),f=Symbol.iterator;function v(ee){return ee===null||typeof ee!="object"?null:(ee=f&&ee[f]||ee["@@iterator"],typeof ee=="function"?ee:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,y={};function b(ee,M,E){this.props=ee,this.context=M,this.refs=y,this.updater=E||g}b.prototype.isReactComponent={},b.prototype.setState=function(ee,M){if(typeof ee!="object"&&typeof ee!="function"&&ee!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ee,M,"setState")},b.prototype.forceUpdate=function(ee){this.updater.enqueueForceUpdate(this,ee,"forceUpdate")};function x(){}x.prototype=b.prototype;function N(ee,M,E){this.props=ee,this.context=M,this.refs=y,this.updater=E||g}var S=N.prototype=new x;S.constructor=N,w(S,b.prototype),S.isPureReactComponent=!0;var k=Array.isArray,F=Object.prototype.hasOwnProperty,$={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function D(ee,M,E){var q,se={},re=null,G=null;if(M!=null)for(q in M.ref!==void 0&&(G=M.ref),M.key!==void 0&&(re=""+M.key),M)F.call(M,q)&&!U.hasOwnProperty(q)&&(se[q]=M[q]);var ue=arguments.length-2;if(ue===1)se.children=E;else if(1<ue){for(var ie=Array(ue),Ee=0;Ee<ue;Ee++)ie[Ee]=arguments[Ee+2];se.children=ie}if(ee&&ee.defaultProps)for(q in ue=ee.defaultProps,ue)se[q]===void 0&&(se[q]=ue[q]);return{$$typeof:e,type:ee,key:re,ref:G,props:se,_owner:$.current}}function H(ee,M){return{$$typeof:e,type:ee.type,key:M,ref:ee.ref,props:ee.props,_owner:ee._owner}}function K(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===e}function B(ee){var M={"=":"=0",":":"=2"};return"$"+ee.replace(/[=:]/g,function(E){return M[E]})}var R=/\/+/g;function Z(ee,M){return typeof ee=="object"&&ee!==null&&ee.key!=null?B(""+ee.key):M.toString(36)}function te(ee,M,E,q,se){var re=typeof ee;(re==="undefined"||re==="boolean")&&(ee=null);var G=!1;if(ee===null)G=!0;else switch(re){case"string":case"number":G=!0;break;case"object":switch(ee.$$typeof){case e:case t:G=!0}}if(G)return G=ee,se=se(G),ee=q===""?"."+Z(G,0):q,k(se)?(E="",ee!=null&&(E=ee.replace(R,"$&/")+"/"),te(se,M,E,"",function(Ee){return Ee})):se!=null&&(K(se)&&(se=H(se,E+(!se.key||G&&G.key===se.key?"":(""+se.key).replace(R,"$&/")+"/")+ee)),M.push(se)),1;if(G=0,q=q===""?".":q+":",k(ee))for(var ue=0;ue<ee.length;ue++){re=ee[ue];var ie=q+Z(re,ue);G+=te(re,M,E,ie,se)}else if(ie=v(ee),typeof ie=="function")for(ee=ie.call(ee),ue=0;!(re=ee.next()).done;)re=re.value,ie=q+Z(re,ue++),G+=te(re,M,E,ie,se);else if(re==="object")throw M=String(ee),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(ee).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.");return G}function ye(ee,M,E){if(ee==null)return ee;var q=[],se=0;return te(ee,q,"","",function(re){return M.call(E,re,se++)}),q}function de(ee){if(ee._status===-1){var M=ee._result;M=M(),M.then(function(E){(ee._status===0||ee._status===-1)&&(ee._status=1,ee._result=E)},function(E){(ee._status===0||ee._status===-1)&&(ee._status=2,ee._result=E)}),ee._status===-1&&(ee._status=0,ee._result=M)}if(ee._status===1)return ee._result.default;throw ee._result}var le={current:null},Q={transition:null},oe={ReactCurrentDispatcher:le,ReactCurrentBatchConfig:Q,ReactCurrentOwner:$};function ce(){throw Error("act(...) is not supported in production builds of React.")}return rs.Children={map:ye,forEach:function(ee,M,E){ye(ee,function(){M.apply(this,arguments)},E)},count:function(ee){var M=0;return ye(ee,function(){M++}),M},toArray:function(ee){return ye(ee,function(M){return M})||[]},only:function(ee){if(!K(ee))throw Error("React.Children.only expected to receive a single React element child.");return ee}},rs.Component=b,rs.Fragment=n,rs.Profiler=a,rs.PureComponent=N,rs.StrictMode=s,rs.Suspense=c,rs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,rs.act=ce,rs.cloneElement=function(ee,M,E){if(ee==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ee+".");var q=w({},ee.props),se=ee.key,re=ee.ref,G=ee._owner;if(M!=null){if(M.ref!==void 0&&(re=M.ref,G=$.current),M.key!==void 0&&(se=""+M.key),ee.type&&ee.type.defaultProps)var ue=ee.type.defaultProps;for(ie in M)F.call(M,ie)&&!U.hasOwnProperty(ie)&&(q[ie]=M[ie]===void 0&&ue!==void 0?ue[ie]:M[ie])}var ie=arguments.length-2;if(ie===1)q.children=E;else if(1<ie){ue=Array(ie);for(var Ee=0;Ee<ie;Ee++)ue[Ee]=arguments[Ee+2];q.children=ue}return{$$typeof:e,type:ee.type,key:se,ref:re,props:q,_owner:G}},rs.createContext=function(ee){return ee={$$typeof:o,_currentValue:ee,_currentValue2:ee,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ee.Provider={$$typeof:i,_context:ee},ee.Consumer=ee},rs.createElement=D,rs.createFactory=function(ee){var M=D.bind(null,ee);return M.type=ee,M},rs.createRef=function(){return{current:null}},rs.forwardRef=function(ee){return{$$typeof:l,render:ee}},rs.isValidElement=K,rs.lazy=function(ee){return{$$typeof:u,_payload:{_status:-1,_result:ee},_init:de}},rs.memo=function(ee,M){return{$$typeof:d,type:ee,compare:M===void 0?null:M}},rs.startTransition=function(ee){var M=Q.transition;Q.transition={};try{ee()}finally{Q.transition=M}},rs.unstable_act=ce,rs.useCallback=function(ee,M){return le.current.useCallback(ee,M)},rs.useContext=function(ee){return le.current.useContext(ee)},rs.useDebugValue=function(){},rs.useDeferredValue=function(ee){return le.current.useDeferredValue(ee)},rs.useEffect=function(ee,M){return le.current.useEffect(ee,M)},rs.useId=function(){return le.current.useId()},rs.useImperativeHandle=function(ee,M,E){return le.current.useImperativeHandle(ee,M,E)},rs.useInsertionEffect=function(ee,M){return le.current.useInsertionEffect(ee,M)},rs.useLayoutEffect=function(ee,M){return le.current.useLayoutEffect(ee,M)},rs.useMemo=function(ee,M){return le.current.useMemo(ee,M)},rs.useReducer=function(ee,M,E){return le.current.useReducer(ee,M,E)},rs.useRef=function(ee){return le.current.useRef(ee)},rs.useState=function(ee){return le.current.useState(ee)},rs.useSyncExternalStore=function(ee,M,E){return le.current.useSyncExternalStore(ee,M,E)},rs.useTransition=function(){return le.current.useTransition()},rs.version="18.3.1",rs}var a3;function a1(){return a3||(a3=1,Nb.exports=tG()),Nb.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o3;function rG(){if(o3)return Fp;o3=1;var e=a1(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,d){var u,f={},v=null,g=null;d!==void 0&&(v=""+d),c.key!==void 0&&(v=""+c.key),c.ref!==void 0&&(g=c.ref);for(u in c)s.call(c,u)&&!i.hasOwnProperty(u)&&(f[u]=c[u]);if(l&&l.defaultProps)for(u in c=l.defaultProps,c)f[u]===void 0&&(f[u]=c[u]);return{$$typeof:t,type:l,key:v,ref:g,props:f,_owner:a.current}}return Fp.Fragment=n,Fp.jsx=o,Fp.jsxs=o,Fp}var l3;function nG(){return l3||(l3=1,jb.exports=rG()),jb.exports}var r=nG(),m=a1();const kr=$m(m),o1=eG({__proto__:null,default:kr},[m]);var Dv={},Cb={exports:{}},zl={},_b={exports:{}},Sb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c3;function sG(){return c3||(c3=1,function(e){function t(Q,oe){var ce=Q.length;Q.push(oe);e:for(;0<ce;){var ee=ce-1>>>1,M=Q[ee];if(0<a(M,oe))Q[ee]=oe,Q[ce]=M,ce=ee;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var oe=Q[0],ce=Q.pop();if(ce!==oe){Q[0]=ce;e:for(var ee=0,M=Q.length,E=M>>>1;ee<E;){var q=2*(ee+1)-1,se=Q[q],re=q+1,G=Q[re];if(0>a(se,ce))re<M&&0>a(G,se)?(Q[ee]=G,Q[re]=ce,ee=re):(Q[ee]=se,Q[q]=ce,ee=q);else if(re<M&&0>a(G,ce))Q[ee]=G,Q[re]=ce,ee=re;else break e}}return oe}function a(Q,oe){var ce=Q.sortIndex-oe.sortIndex;return ce!==0?ce:Q.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,f=null,v=3,g=!1,w=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(Q){for(var oe=n(d);oe!==null;){if(oe.callback===null)s(d);else if(oe.startTime<=Q)s(d),oe.sortIndex=oe.expirationTime,t(c,oe);else break;oe=n(d)}}function k(Q){if(y=!1,S(Q),!w)if(n(c)!==null)w=!0,de(F);else{var oe=n(d);oe!==null&&le(k,oe.startTime-Q)}}function F(Q,oe){w=!1,y&&(y=!1,x(D),D=-1),g=!0;var ce=v;try{for(S(oe),f=n(c);f!==null&&(!(f.expirationTime>oe)||Q&&!B());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,v=f.priorityLevel;var M=ee(f.expirationTime<=oe);oe=e.unstable_now(),typeof M=="function"?f.callback=M:f===n(c)&&s(c),S(oe)}else s(c);f=n(c)}if(f!==null)var E=!0;else{var q=n(d);q!==null&&le(k,q.startTime-oe),E=!1}return E}finally{f=null,v=ce,g=!1}}var $=!1,U=null,D=-1,H=5,K=-1;function B(){return!(e.unstable_now()-K<H)}function R(){if(U!==null){var Q=e.unstable_now();K=Q;var oe=!0;try{oe=U(!0,Q)}finally{oe?Z():($=!1,U=null)}}else $=!1}var Z;if(typeof N=="function")Z=function(){N(R)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,ye=te.port2;te.port1.onmessage=R,Z=function(){ye.postMessage(null)}}else Z=function(){b(R,0)};function de(Q){U=Q,$||($=!0,Z())}function le(Q,oe){D=b(function(){Q(e.unstable_now())},oe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Q){Q.callback=null},e.unstable_continueExecution=function(){w||g||(w=!0,de(F))},e.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<Q?Math.floor(1e3/Q):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(Q){switch(v){case 1:case 2:case 3:var oe=3;break;default:oe=v}var ce=v;v=oe;try{return Q()}finally{v=ce}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Q,oe){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ce=v;v=Q;try{return oe()}finally{v=ce}},e.unstable_scheduleCallback=function(Q,oe,ce){var ee=e.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?ee+ce:ee):ce=ee,Q){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ce+M,Q={id:u++,callback:oe,priorityLevel:Q,startTime:ce,expirationTime:M,sortIndex:-1},ce>ee?(Q.sortIndex=ce,t(d,Q),n(c)===null&&Q===n(d)&&(y?(x(D),D=-1):y=!0,le(k,ce-ee))):(Q.sortIndex=M,t(c,Q),w||g||(w=!0,de(F))),Q},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(Q){var oe=v;return function(){var ce=v;v=oe;try{return Q.apply(this,arguments)}finally{v=ce}}}}(Sb)),Sb}var d3;function iG(){return d3||(d3=1,_b.exports=sG()),_b.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u3;function aG(){if(u3)return zl;u3=1;var e=a1(),t=iG();function n(A){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+A,C=1;C<arguments.length;C++)p+="&args[]="+encodeURIComponent(arguments[C]);return"Minified React error #"+A+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function i(A,p){o(A,p),o(A+"Capture",p)}function o(A,p){for(a[A]=p,A=0;A<p.length;A++)s.add(p[A])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},f={};function v(A){return c.call(f,A)?!0:c.call(u,A)?!1:d.test(A)?f[A]=!0:(u[A]=!0,!1)}function g(A,p,C,T){if(C!==null&&C.type===0)return!1;switch(typeof p){case"function":case"symbol":return!0;case"boolean":return T?!1:C!==null?!C.acceptsBooleans:(A=A.toLowerCase().slice(0,5),A!=="data-"&&A!=="aria-");default:return!1}}function w(A,p,C,T){if(p===null||typeof p>"u"||g(A,p,C,T))return!0;if(T)return!1;if(C!==null)switch(C.type){case 3:return!p;case 4:return p===!1;case 5:return isNaN(p);case 6:return isNaN(p)||1>p}return!1}function y(A,p,C,T,V,J,xe){this.acceptsBooleans=p===2||p===3||p===4,this.attributeName=T,this.attributeNamespace=V,this.mustUseProperty=C,this.propertyName=A,this.type=p,this.sanitizeURL=J,this.removeEmptyString=xe}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(A){b[A]=new y(A,0,!1,A,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(A){var p=A[0];b[p]=new y(p,1,!1,A[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(A){b[A]=new y(A,2,!1,A.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(A){b[A]=new y(A,2,!1,A,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(A){b[A]=new y(A,3,!1,A.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(A){b[A]=new y(A,3,!0,A,null,!1,!1)}),["capture","download"].forEach(function(A){b[A]=new y(A,4,!1,A,null,!1,!1)}),["cols","rows","size","span"].forEach(function(A){b[A]=new y(A,6,!1,A,null,!1,!1)}),["rowSpan","start"].forEach(function(A){b[A]=new y(A,5,!1,A.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function N(A){return A[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(A){var p=A.replace(x,N);b[p]=new y(p,1,!1,A,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(A){var p=A.replace(x,N);b[p]=new y(p,1,!1,A,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(A){var p=A.replace(x,N);b[p]=new y(p,1,!1,A,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(A){b[A]=new y(A,1,!1,A.toLowerCase(),null,!1,!1)}),b.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(A){b[A]=new y(A,1,!1,A.toLowerCase(),null,!0,!0)});function S(A,p,C,T){var V=b.hasOwnProperty(p)?b[p]:null;(V!==null?V.type!==0:T||!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(w(p,C,V,T)&&(C=null),T||V===null?v(p)&&(C===null?A.removeAttribute(p):A.setAttribute(p,""+C)):V.mustUseProperty?A[V.propertyName]=C===null?V.type===3?!1:"":C:(p=V.attributeName,T=V.attributeNamespace,C===null?A.removeAttribute(p):(V=V.type,C=V===3||V===4&&C===!0?"":""+C,T?A.setAttributeNS(T,p,C):A.setAttribute(p,C))))}var k=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),$=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),B=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),ye=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),le=Symbol.for("react.offscreen"),Q=Symbol.iterator;function oe(A){return A===null||typeof A!="object"?null:(A=Q&&A[Q]||A["@@iterator"],typeof A=="function"?A:null)}var ce=Object.assign,ee;function M(A){if(ee===void 0)try{throw Error()}catch(C){var p=C.stack.trim().match(/\n( *(at )?)/);ee=p&&p[1]||""}return`
`+ee+A}var E=!1;function q(A,p){if(!A||E)return"";E=!0;var C=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(It){var T=It}Reflect.construct(A,[],p)}else{try{p.call()}catch(It){T=It}A.call(p.prototype)}else{try{throw Error()}catch(It){T=It}A()}}catch(It){if(It&&T&&typeof It.stack=="string"){for(var V=It.stack.split(`
`),J=T.stack.split(`
`),xe=V.length-1,Qe=J.length-1;1<=xe&&0<=Qe&&V[xe]!==J[Qe];)Qe--;for(;1<=xe&&0<=Qe;xe--,Qe--)if(V[xe]!==J[Qe]){if(xe!==1||Qe!==1)do if(xe--,Qe--,0>Qe||V[xe]!==J[Qe]){var Ze=`
`+V[xe].replace(" at new "," at ");return A.displayName&&Ze.includes("<anonymous>")&&(Ze=Ze.replace("<anonymous>",A.displayName)),Ze}while(1<=xe&&0<=Qe);break}}}finally{E=!1,Error.prepareStackTrace=C}return(A=A?A.displayName||A.name:"")?M(A):""}function se(A){switch(A.tag){case 5:return M(A.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return A=q(A.type,!1),A;case 11:return A=q(A.type.render,!1),A;case 1:return A=q(A.type,!0),A;default:return""}}function re(A){if(A==null)return null;if(typeof A=="function")return A.displayName||A.name||null;if(typeof A=="string")return A;switch(A){case U:return"Fragment";case $:return"Portal";case H:return"Profiler";case D:return"StrictMode";case Z:return"Suspense";case te:return"SuspenseList"}if(typeof A=="object")switch(A.$$typeof){case B:return(A.displayName||"Context")+".Consumer";case K:return(A._context.displayName||"Context")+".Provider";case R:var p=A.render;return A=A.displayName,A||(A=p.displayName||p.name||"",A=A!==""?"ForwardRef("+A+")":"ForwardRef"),A;case ye:return p=A.displayName||null,p!==null?p:re(A.type)||"Memo";case de:p=A._payload,A=A._init;try{return re(A(p))}catch{}}return null}function G(A){var p=A.type;switch(A.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return A=p.render,A=A.displayName||A.name||"",p.displayName||(A!==""?"ForwardRef("+A+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return re(p);case 8:return p===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function ue(A){switch(typeof A){case"boolean":case"number":case"string":case"undefined":return A;case"object":return A;default:return""}}function ie(A){var p=A.type;return(A=A.nodeName)&&A.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function Ee(A){var p=ie(A)?"checked":"value",C=Object.getOwnPropertyDescriptor(A.constructor.prototype,p),T=""+A[p];if(!A.hasOwnProperty(p)&&typeof C<"u"&&typeof C.get=="function"&&typeof C.set=="function"){var V=C.get,J=C.set;return Object.defineProperty(A,p,{configurable:!0,get:function(){return V.call(this)},set:function(xe){T=""+xe,J.call(this,xe)}}),Object.defineProperty(A,p,{enumerable:C.enumerable}),{getValue:function(){return T},setValue:function(xe){T=""+xe},stopTracking:function(){A._valueTracker=null,delete A[p]}}}}function He(A){A._valueTracker||(A._valueTracker=Ee(A))}function rt(A){if(!A)return!1;var p=A._valueTracker;if(!p)return!0;var C=p.getValue(),T="";return A&&(T=ie(A)?A.checked?"true":"false":A.value),A=T,A!==C?(p.setValue(A),!0):!1}function we(A){if(A=A||(typeof document<"u"?document:void 0),typeof A>"u")return null;try{return A.activeElement||A.body}catch{return A.body}}function Ve(A,p){var C=p.checked;return ce({},p,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:C??A._wrapperState.initialChecked})}function Re(A,p){var C=p.defaultValue==null?"":p.defaultValue,T=p.checked!=null?p.checked:p.defaultChecked;C=ue(p.value!=null?p.value:C),A._wrapperState={initialChecked:T,initialValue:C,controlled:p.type==="checkbox"||p.type==="radio"?p.checked!=null:p.value!=null}}function je(A,p){p=p.checked,p!=null&&S(A,"checked",p,!1)}function Mt(A,p){je(A,p);var C=ue(p.value),T=p.type;if(C!=null)T==="number"?(C===0&&A.value===""||A.value!=C)&&(A.value=""+C):A.value!==""+C&&(A.value=""+C);else if(T==="submit"||T==="reset"){A.removeAttribute("value");return}p.hasOwnProperty("value")?ct(A,p.type,C):p.hasOwnProperty("defaultValue")&&ct(A,p.type,ue(p.defaultValue)),p.checked==null&&p.defaultChecked!=null&&(A.defaultChecked=!!p.defaultChecked)}function Bt(A,p,C){if(p.hasOwnProperty("value")||p.hasOwnProperty("defaultValue")){var T=p.type;if(!(T!=="submit"&&T!=="reset"||p.value!==void 0&&p.value!==null))return;p=""+A._wrapperState.initialValue,C||p===A.value||(A.value=p),A.defaultValue=p}C=A.name,C!==""&&(A.name=""),A.defaultChecked=!!A._wrapperState.initialChecked,C!==""&&(A.name=C)}function ct(A,p,C){(p!=="number"||we(A.ownerDocument)!==A)&&(C==null?A.defaultValue=""+A._wrapperState.initialValue:A.defaultValue!==""+C&&(A.defaultValue=""+C))}var vt=Array.isArray;function wt(A,p,C,T){if(A=A.options,p){p={};for(var V=0;V<C.length;V++)p["$"+C[V]]=!0;for(C=0;C<A.length;C++)V=p.hasOwnProperty("$"+A[C].value),A[C].selected!==V&&(A[C].selected=V),V&&T&&(A[C].defaultSelected=!0)}else{for(C=""+ue(C),p=null,V=0;V<A.length;V++){if(A[V].value===C){A[V].selected=!0,T&&(A[V].defaultSelected=!0);return}p!==null||A[V].disabled||(p=A[V])}p!==null&&(p.selected=!0)}}function Fe(A,p){if(p.dangerouslySetInnerHTML!=null)throw Error(n(91));return ce({},p,{value:void 0,defaultValue:void 0,children:""+A._wrapperState.initialValue})}function Oe(A,p){var C=p.value;if(C==null){if(C=p.children,p=p.defaultValue,C!=null){if(p!=null)throw Error(n(92));if(vt(C)){if(1<C.length)throw Error(n(93));C=C[0]}p=C}p==null&&(p=""),C=p}A._wrapperState={initialValue:ue(C)}}function _e(A,p){var C=ue(p.value),T=ue(p.defaultValue);C!=null&&(C=""+C,C!==A.value&&(A.value=C),p.defaultValue==null&&A.defaultValue!==C&&(A.defaultValue=C)),T!=null&&(A.defaultValue=""+T)}function nt(A){var p=A.textContent;p===A._wrapperState.initialValue&&p!==""&&p!==null&&(A.value=p)}function ut(A){switch(A){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jt(A,p){return A==null||A==="http://www.w3.org/1999/xhtml"?ut(p):A==="http://www.w3.org/2000/svg"&&p==="foreignObject"?"http://www.w3.org/1999/xhtml":A}var zt,Be=function(A){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(p,C,T,V){MSApp.execUnsafeLocalFunction(function(){return A(p,C,T,V)})}:A}(function(A,p){if(A.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in A)A.innerHTML=p;else{for(zt=zt||document.createElement("div"),zt.innerHTML="<svg>"+p.valueOf().toString()+"</svg>",p=zt.firstChild;A.firstChild;)A.removeChild(A.firstChild);for(;p.firstChild;)A.appendChild(p.firstChild)}});function Ye(A,p){if(p){var C=A.firstChild;if(C&&C===A.lastChild&&C.nodeType===3){C.nodeValue=p;return}}A.textContent=p}var Ue={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lt=["Webkit","ms","Moz","O"];Object.keys(Ue).forEach(function(A){Lt.forEach(function(p){p=p+A.charAt(0).toUpperCase()+A.substring(1),Ue[p]=Ue[A]})});function Et(A,p,C){return p==null||typeof p=="boolean"||p===""?"":C||typeof p!="number"||p===0||Ue.hasOwnProperty(A)&&Ue[A]?(""+p).trim():p+"px"}function hr(A,p){A=A.style;for(var C in p)if(p.hasOwnProperty(C)){var T=C.indexOf("--")===0,V=Et(C,p[C],T);C==="float"&&(C="cssFloat"),T?A.setProperty(C,V):A[C]=V}}var ur=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cr(A,p){if(p){if(ur[A]&&(p.children!=null||p.dangerouslySetInnerHTML!=null))throw Error(n(137,A));if(p.dangerouslySetInnerHTML!=null){if(p.children!=null)throw Error(n(60));if(typeof p.dangerouslySetInnerHTML!="object"||!("__html"in p.dangerouslySetInnerHTML))throw Error(n(61))}if(p.style!=null&&typeof p.style!="object")throw Error(n(62))}}function Tr(A,p){if(A.indexOf("-")===-1)return typeof p.is=="string";switch(A){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fr=null;function dr(A){return A=A.target||A.srcElement||window,A.correspondingUseElement&&(A=A.correspondingUseElement),A.nodeType===3?A.parentNode:A}var Ke=null,qt=null,Ge=null;function st(A){if(A=Nc(A)){if(typeof Ke!="function")throw Error(n(280));var p=A.stateNode;p&&(p=Ru(p),Ke(A.stateNode,A.type,p))}}function it(A){qt?Ge?Ge.push(A):Ge=[A]:qt=A}function Pt(){if(qt){var A=qt,p=Ge;if(Ge=qt=null,st(A),p)for(A=0;A<p.length;A++)st(p[A])}}function _r(A,p){return A(p)}function ot(){}var dt=!1;function er(A,p,C){if(dt)return A(p,C);dt=!0;try{return _r(A,p,C)}finally{dt=!1,(qt!==null||Ge!==null)&&(ot(),Pt())}}function Rt(A,p){var C=A.stateNode;if(C===null)return null;var T=Ru(C);if(T===null)return null;C=T[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(T=!T.disabled)||(A=A.type,T=!(A==="button"||A==="input"||A==="select"||A==="textarea")),A=!T;break e;default:A=!1}if(A)return null;if(C&&typeof C!="function")throw Error(n(231,p,typeof C));return C}var xn=!1;if(l)try{var qr={};Object.defineProperty(qr,"passive",{get:function(){xn=!0}}),window.addEventListener("test",qr,qr),window.removeEventListener("test",qr,qr)}catch{xn=!1}function vn(A,p,C,T,V,J,xe,Qe,Ze){var It=Array.prototype.slice.call(arguments,3);try{p.apply(C,It)}catch(ar){this.onError(ar)}}var Er=!1,Gt=null,kn=!1,ps=null,is={onError:function(A){Er=!0,Gt=A}};function en(A,p,C,T,V,J,xe,Qe,Ze){Er=!1,Gt=null,vn.apply(is,arguments)}function ws(A,p,C,T,V,J,xe,Qe,Ze){if(en.apply(this,arguments),Er){if(Er){var It=Gt;Er=!1,Gt=null}else throw Error(n(198));kn||(kn=!0,ps=It)}}function Pn(A){var p=A,C=A;if(A.alternate)for(;p.return;)p=p.return;else{A=p;do p=A,(p.flags&4098)!==0&&(C=p.return),A=p.return;while(A)}return p.tag===3?C:null}function qn(A){if(A.tag===13){var p=A.memoizedState;if(p===null&&(A=A.alternate,A!==null&&(p=A.memoizedState)),p!==null)return p.dehydrated}return null}function Zn(A){if(Pn(A)!==A)throw Error(n(188))}function Ln(A){var p=A.alternate;if(!p){if(p=Pn(A),p===null)throw Error(n(188));return p!==A?null:A}for(var C=A,T=p;;){var V=C.return;if(V===null)break;var J=V.alternate;if(J===null){if(T=V.return,T!==null){C=T;continue}break}if(V.child===J.child){for(J=V.child;J;){if(J===C)return Zn(V),A;if(J===T)return Zn(V),p;J=J.sibling}throw Error(n(188))}if(C.return!==T.return)C=V,T=J;else{for(var xe=!1,Qe=V.child;Qe;){if(Qe===C){xe=!0,C=V,T=J;break}if(Qe===T){xe=!0,T=V,C=J;break}Qe=Qe.sibling}if(!xe){for(Qe=J.child;Qe;){if(Qe===C){xe=!0,C=J,T=V;break}if(Qe===T){xe=!0,T=J,C=V;break}Qe=Qe.sibling}if(!xe)throw Error(n(189))}}if(C.alternate!==T)throw Error(n(190))}if(C.tag!==3)throw Error(n(188));return C.stateNode.current===C?A:p}function wr(A){return A=Ln(A),A!==null?We(A):null}function We(A){if(A.tag===5||A.tag===6)return A;for(A=A.child;A!==null;){var p=We(A);if(p!==null)return p;A=A.sibling}return null}var Ht=t.unstable_scheduleCallback,mr=t.unstable_cancelCallback,jn=t.unstable_shouldYield,Un=t.unstable_requestPaint,Ur=t.unstable_now,Jr=t.unstable_getCurrentPriorityLevel,Xn=t.unstable_ImmediatePriority,ds=t.unstable_UserBlockingPriority,Nn=t.unstable_NormalPriority,Te=t.unstable_LowPriority,Nt=t.unstable_IdlePriority,Jt=null,Pr=null;function Cn(A){if(Pr&&typeof Pr.onCommitFiberRoot=="function")try{Pr.onCommitFiberRoot(Jt,A,void 0,(A.current.flags&128)===128)}catch{}}var Kr=Math.clz32?Math.clz32:Qi,Y=Math.log,Ls=Math.LN2;function Qi(A){return A>>>=0,A===0?32:31-(Y(A)/Ls|0)|0}var Qs=64,gi=4194304;function Wr(A){switch(A&-A){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return A&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return A&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return A}}function wn(A,p){var C=A.pendingLanes;if(C===0)return 0;var T=0,V=A.suspendedLanes,J=A.pingedLanes,xe=C&268435455;if(xe!==0){var Qe=xe&~V;Qe!==0?T=Wr(Qe):(J&=xe,J!==0&&(T=Wr(J)))}else xe=C&~V,xe!==0?T=Wr(xe):J!==0&&(T=Wr(J));if(T===0)return 0;if(p!==0&&p!==T&&(p&V)===0&&(V=T&-T,J=p&-p,V>=J||V===16&&(J&4194240)!==0))return p;if((T&4)!==0&&(T|=C&16),p=A.entangledLanes,p!==0)for(A=A.entanglements,p&=T;0<p;)C=31-Kr(p),V=1<<C,T|=A[C],p&=~V;return T}function Ni(A,p){switch(A){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pe(A,p){for(var C=A.suspendedLanes,T=A.pingedLanes,V=A.expirationTimes,J=A.pendingLanes;0<J;){var xe=31-Kr(J),Qe=1<<xe,Ze=V[xe];Ze===-1?((Qe&C)===0||(Qe&T)!==0)&&(V[xe]=Ni(Qe,p)):Ze<=p&&(A.expiredLanes|=Qe),J&=~Qe}}function Ct(A){return A=A.pendingLanes&-1073741825,A!==0?A:A&1073741824?1073741824:0}function tr(){var A=Qs;return Qs<<=1,(Qs&4194240)===0&&(Qs=64),A}function Hr(A){for(var p=[],C=0;31>C;C++)p.push(A);return p}function on(A,p,C){A.pendingLanes|=p,p!==536870912&&(A.suspendedLanes=0,A.pingedLanes=0),A=A.eventTimes,p=31-Kr(p),A[p]=C}function nn(A,p){var C=A.pendingLanes&~p;A.pendingLanes=p,A.suspendedLanes=0,A.pingedLanes=0,A.expiredLanes&=p,A.mutableReadLanes&=p,A.entangledLanes&=p,p=A.entanglements;var T=A.eventTimes;for(A=A.expirationTimes;0<C;){var V=31-Kr(C),J=1<<V;p[V]=0,T[V]=-1,A[V]=-1,C&=~J}}function us(A,p){var C=A.entangledLanes|=p;for(A=A.entanglements;C;){var T=31-Kr(C),V=1<<T;V&p|A[T]&p&&(A[T]|=p),C&=~V}}var fn=0;function Hs(A){return A&=-A,1<A?4<A?(A&268435455)!==0?16:536870912:4:1}var Ci,Qa,go,na,ni,_i=!1,ro=[],as=null,Si=null,Bi=null,sn=new Map,ln=new Map,Ys=[],Vn="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ba(A,p){switch(A){case"focusin":case"focusout":as=null;break;case"dragenter":case"dragleave":Si=null;break;case"mouseover":case"mouseout":Bi=null;break;case"pointerover":case"pointerout":sn.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":ln.delete(p.pointerId)}}function Ha(A,p,C,T,V,J){return A===null||A.nativeEvent!==J?(A={blockedOn:p,domEventName:C,eventSystemFlags:T,nativeEvent:J,targetContainers:[V]},p!==null&&(p=Nc(p),p!==null&&Qa(p)),A):(A.eventSystemFlags|=T,p=A.targetContainers,V!==null&&p.indexOf(V)===-1&&p.push(V),A)}function za(A,p,C,T,V){switch(p){case"focusin":return as=Ha(as,A,p,C,T,V),!0;case"dragenter":return Si=Ha(Si,A,p,C,T,V),!0;case"mouseover":return Bi=Ha(Bi,A,p,C,T,V),!0;case"pointerover":var J=V.pointerId;return sn.set(J,Ha(sn.get(J)||null,A,p,C,T,V)),!0;case"gotpointercapture":return J=V.pointerId,ln.set(J,Ha(ln.get(J)||null,A,p,C,T,V)),!0}return!1}function Hi(A){var p=jc(A.target);if(p!==null){var C=Pn(p);if(C!==null){if(p=C.tag,p===13){if(p=qn(C),p!==null){A.blockedOn=p,ni(A.priority,function(){go(C)});return}}else if(p===3&&C.stateNode.current.memoizedState.isDehydrated){A.blockedOn=C.tag===3?C.stateNode.containerInfo:null;return}}}A.blockedOn=null}function si(A){if(A.blockedOn!==null)return!1;for(var p=A.targetContainers;0<p.length;){var C=no(A.domEventName,A.eventSystemFlags,p[0],A.nativeEvent);if(C===null){C=A.nativeEvent;var T=new C.constructor(C.type,C);fr=T,C.target.dispatchEvent(T),fr=null}else return p=Nc(C),p!==null&&Qa(p),A.blockedOn=C,!1;p.shift()}return!0}function he(A,p,C){si(A)&&C.delete(p)}function pt(){_i=!1,as!==null&&si(as)&&(as=null),Si!==null&&si(Si)&&(Si=null),Bi!==null&&si(Bi)&&(Bi=null),sn.forEach(he),ln.forEach(he)}function Wt(A,p){A.blockedOn===p&&(A.blockedOn=null,_i||(_i=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,pt)))}function Ar(A){function p(V){return Wt(V,A)}if(0<ro.length){Wt(ro[0],A);for(var C=1;C<ro.length;C++){var T=ro[C];T.blockedOn===A&&(T.blockedOn=null)}}for(as!==null&&Wt(as,A),Si!==null&&Wt(Si,A),Bi!==null&&Wt(Bi,A),sn.forEach(p),ln.forEach(p),C=0;C<Ys.length;C++)T=Ys[C],T.blockedOn===A&&(T.blockedOn=null);for(;0<Ys.length&&(C=Ys[0],C.blockedOn===null);)Hi(C),C.blockedOn===null&&Ys.shift()}var An=k.ReactCurrentBatchConfig,tn=!0;function xi(A,p,C,T){var V=fn,J=An.transition;An.transition=null;try{fn=1,ci(A,p,C,T)}finally{fn=V,An.transition=J}}function Va(A,p,C,T){var V=fn,J=An.transition;An.transition=null;try{fn=4,ci(A,p,C,T)}finally{fn=V,An.transition=J}}function ci(A,p,C,T){if(tn){var V=no(A,p,C,T);if(V===null)h(A,p,T,Ka,C),Ba(A,T);else if(za(V,A,p,C,T))T.stopPropagation();else if(Ba(A,T),p&4&&-1<Vn.indexOf(A)){for(;V!==null;){var J=Nc(V);if(J!==null&&Ci(J),J=no(A,p,C,T),J===null&&h(A,p,T,Ka,C),J===V)break;V=J}V!==null&&T.stopPropagation()}else h(A,p,T,null,C)}}var Ka=null;function no(A,p,C,T){if(Ka=null,A=dr(T),A=jc(A),A!==null)if(p=Pn(A),p===null)A=null;else if(C=p.tag,C===13){if(A=qn(p),A!==null)return A;A=null}else if(C===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;A=null}else p!==A&&(A=null);return Ka=A,null}function Rn(A){switch(A){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jr()){case Xn:return 1;case ds:return 4;case Nn:case Te:return 16;case Nt:return 536870912;default:return 16}default:return 16}}var so=null,me=null,At=null;function lr(){if(At)return At;var A,p=me,C=p.length,T,V="value"in so?so.value:so.textContent,J=V.length;for(A=0;A<C&&p[A]===V[A];A++);var xe=C-A;for(T=1;T<=xe&&p[C-T]===V[J-T];T++);return At=V.slice(A,1<T?1-T:void 0)}function br(A){var p=A.keyCode;return"charCode"in A?(A=A.charCode,A===0&&p===13&&(A=13)):A=p,A===10&&(A=13),32<=A||A===13?A:0}function Qn(){return!0}function Vr(){return!1}function In(A){function p(C,T,V,J,xe){this._reactName=C,this._targetInst=V,this.type=T,this.nativeEvent=J,this.target=xe,this.currentTarget=null;for(var Qe in A)A.hasOwnProperty(Qe)&&(C=A[Qe],this[Qe]=C?C(J):J[Qe]);return this.isDefaultPrevented=(J.defaultPrevented!=null?J.defaultPrevented:J.returnValue===!1)?Qn:Vr,this.isPropagationStopped=Vr,this}return ce(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var C=this.nativeEvent;C&&(C.preventDefault?C.preventDefault():typeof C.returnValue!="unknown"&&(C.returnValue=!1),this.isDefaultPrevented=Qn)},stopPropagation:function(){var C=this.nativeEvent;C&&(C.stopPropagation?C.stopPropagation():typeof C.cancelBubble!="unknown"&&(C.cancelBubble=!0),this.isPropagationStopped=Qn)},persist:function(){},isPersistent:Qn}),p}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(A){return A.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sa=In(zi),Wa=ce({},zi,{view:0,detail:0}),Xl=In(Wa),Ea,Md,sl,$a=ce({},Wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sr,button:0,buttons:0,relatedTarget:function(A){return A.relatedTarget===void 0?A.fromElement===A.srcElement?A.toElement:A.fromElement:A.relatedTarget},movementX:function(A){return"movementX"in A?A.movementX:(A!==sl&&(sl&&A.type==="mousemove"?(Ea=A.screenX-sl.screenX,Md=A.screenY-sl.screenY):Md=Ea=0,sl=A),Ea)},movementY:function(A){return"movementY"in A?A.movementY:Md}}),$c=In($a),ku=ce({},$a,{dataTransfer:0}),Pu=In(ku),Ud=ce({},Wa,{relatedTarget:0}),Sl=In(Ud),Qd=ce({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),xc=In(Qd),Du=ce({},zi,{clipboardData:function(A){return"clipboardData"in A?A.clipboardData:window.clipboardData}}),O=In(Du),pe=ce({},zi,{data:0}),De=In(pe),qe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ft={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zt(A){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(A):(A=Dt[A])?!!p[A]:!1}function Sr(){return Zt}var Or=ce({},Wa,{key:function(A){if(A.key){var p=qe[A.key]||A.key;if(p!=="Unidentified")return p}return A.type==="keypress"?(A=br(A),A===13?"Enter":String.fromCharCode(A)):A.type==="keydown"||A.type==="keyup"?ft[A.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sr,charCode:function(A){return A.type==="keypress"?br(A):0},keyCode:function(A){return A.type==="keydown"||A.type==="keyup"?A.keyCode:0},which:function(A){return A.type==="keypress"?br(A):A.type==="keydown"||A.type==="keyup"?A.keyCode:0}}),Bn=In(Or),_n=ce({},$a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),es=In(_n),zs=ce({},Wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sr}),$s=In(zs),vi=ce({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ia=In(vi),Ei=ce({},$a,{deltaX:function(A){return"deltaX"in A?A.deltaX:"wheelDeltaX"in A?-A.wheelDeltaX:0},deltaY:function(A){return"deltaY"in A?A.deltaY:"wheelDeltaY"in A?-A.wheelDeltaY:"wheelDelta"in A?-A.wheelDelta:0},deltaZ:0,deltaMode:0}),il=In(Ei),Xs=[9,13,27,32],ia=l&&"CompositionEvent"in window,vc=null;l&&"documentMode"in document&&(vc=document.documentMode);var xo=l&&"TextEvent"in window&&!vc,Hd=l&&(!ia||vc&&8<vc&&11>=vc),Do=" ",zd=!1;function Bl(A,p){switch(A){case"keyup":return Xs.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yc(A){return A=A.detail,typeof A=="object"&&"data"in A?A.data:null}var Vs=!1;function Vd(A,p){switch(A){case"compositionend":return yc(p);case"keypress":return p.which!==32?null:(zd=!0,Do);case"textInput":return A=p.data,A===Do&&zd?null:A;default:return null}}function vo(A,p){if(Vs)return A==="compositionend"||!ia&&Bl(A,p)?(A=lr(),At=me=so=null,Vs=!1,A):null;switch(A){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return Hd&&p.locale!=="ko"?null:p.data;default:return null}}var Zl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kd(A){var p=A&&A.nodeName&&A.nodeName.toLowerCase();return p==="input"?!!Zl[A.type]:p==="textarea"}function aa(A,p,C,T){it(T),p=I(p,"onChange"),0<p.length&&(C=new sa("onChange","change",null,C,T),A.push({event:C,listeners:p}))}var Gc=null,oa=null;function pA(A){qd(A,0)}function yi(A){var p=Cc(A);if(rt(p))return A}function Wd(A,p){if(A==="change")return p}var yo=!1;if(l){var ec;if(l){var al="oninput"in document;if(!al){var El=document.createElement("div");El.setAttribute("oninput","return;"),al=typeof El.oninput=="function"}ec=al}else ec=!1;yo=ec&&(!document.documentMode||9<document.documentMode)}function Vi(){Gc&&(Gc.detachEvent("onpropertychange",Ki),oa=Gc=null)}function Ki(A){if(A.propertyName==="value"&&yi(oa)){var p=[];aa(p,oa,A,dr(A)),er(pA,p)}}function ol(A,p,C){A==="focusin"?(Vi(),Gc=p,oa=C,Gc.attachEvent("onpropertychange",Ki)):A==="focusout"&&Vi()}function io(A){if(A==="selectionchange"||A==="keyup"||A==="keydown")return yi(oa)}function Fo(A,p){if(A==="click")return yi(p)}function wc(A,p){if(A==="input"||A==="change")return yi(p)}function Il(A,p){return A===p&&(A!==0||1/A===1/p)||A!==A&&p!==p}var gs=typeof Object.is=="function"?Object.is:Il;function Lo(A,p){if(gs(A,p))return!0;if(typeof A!="object"||A===null||typeof p!="object"||p===null)return!1;var C=Object.keys(A),T=Object.keys(p);if(C.length!==T.length)return!1;for(T=0;T<C.length;T++){var V=C[T];if(!c.call(p,V)||!gs(A[V],p[V]))return!1}return!0}function Ta(A){for(;A&&A.firstChild;)A=A.firstChild;return A}function ao(A,p){var C=Ta(A);A=0;for(var T;C;){if(C.nodeType===3){if(T=A+C.textContent.length,A<=p&&T>=p)return{node:C,offset:p-A};A=T}e:{for(;C;){if(C.nextSibling){C=C.nextSibling;break e}C=C.parentNode}C=void 0}C=Ta(C)}}function qc(A,p){return A&&p?A===p?!0:A&&A.nodeType===3?!1:p&&p.nodeType===3?qc(A,p.parentNode):"contains"in A?A.contains(p):A.compareDocumentPosition?!!(A.compareDocumentPosition(p)&16):!1:!1}function $d(){for(var A=window,p=we();p instanceof A.HTMLIFrameElement;){try{var C=typeof p.contentWindow.location.href=="string"}catch{C=!1}if(C)A=p.contentWindow;else break;p=we(A.document)}return p}function Jc(A){var p=A&&A.nodeName&&A.nodeName.toLowerCase();return p&&(p==="input"&&(A.type==="text"||A.type==="search"||A.type==="tel"||A.type==="url"||A.type==="password")||p==="textarea"||A.contentEditable==="true")}function ka(A){var p=$d(),C=A.focusedElem,T=A.selectionRange;if(p!==C&&C&&C.ownerDocument&&qc(C.ownerDocument.documentElement,C)){if(T!==null&&Jc(C)){if(p=T.start,A=T.end,A===void 0&&(A=p),"selectionStart"in C)C.selectionStart=p,C.selectionEnd=Math.min(A,C.value.length);else if(A=(p=C.ownerDocument||document)&&p.defaultView||window,A.getSelection){A=A.getSelection();var V=C.textContent.length,J=Math.min(T.start,V);T=T.end===void 0?J:Math.min(T.end,V),!A.extend&&J>T&&(V=T,T=J,J=V),V=ao(C,J);var xe=ao(C,T);V&&xe&&(A.rangeCount!==1||A.anchorNode!==V.node||A.anchorOffset!==V.offset||A.focusNode!==xe.node||A.focusOffset!==xe.offset)&&(p=p.createRange(),p.setStart(V.node,V.offset),A.removeAllRanges(),J>T?(A.addRange(p),A.extend(xe.node,xe.offset)):(p.setEnd(xe.node,xe.offset),A.addRange(p)))}}for(p=[],A=C;A=A.parentNode;)A.nodeType===1&&p.push({element:A,left:A.scrollLeft,top:A.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<p.length;C++)A=p[C],A.element.scrollLeft=A.left,A.element.scrollTop=A.top}}var Tl=l&&"documentMode"in document&&11>=document.documentMode,wo=null,Ro=null,kl=null,Pl=!1;function tc(A,p,C){var T=C.window===C?C.document:C.nodeType===9?C:C.ownerDocument;Pl||wo==null||wo!==we(T)||(T=wo,"selectionStart"in T&&Jc(T)?T={start:T.selectionStart,end:T.selectionEnd}:(T=(T.ownerDocument&&T.ownerDocument.defaultView||window).getSelection(),T={anchorNode:T.anchorNode,anchorOffset:T.anchorOffset,focusNode:T.focusNode,focusOffset:T.focusOffset}),kl&&Lo(kl,T)||(kl=T,T=I(Ro,"onSelect"),0<T.length&&(p=new sa("onSelect","select",null,p,C),A.push({event:p,listeners:T}),p.target=wo)))}function Oo(A,p){var C={};return C[A.toLowerCase()]=p.toLowerCase(),C["Webkit"+A]="webkit"+p,C["Moz"+A]="moz"+p,C}var la={animationend:Oo("Animation","AnimationEnd"),animationiteration:Oo("Animation","AnimationIteration"),animationstart:Oo("Animation","AnimationStart"),transitionend:Oo("Transition","TransitionEnd")},Ii={},_s={};l&&(_s=document.createElement("div").style,"AnimationEvent"in window||(delete la.animationend.animation,delete la.animationiteration.animation,delete la.animationstart.animation),"TransitionEvent"in window||delete la.transitionend.transition);function bs(A){if(Ii[A])return Ii[A];if(!la[A])return A;var p=la[A],C;for(C in p)if(p.hasOwnProperty(C)&&C in _s)return Ii[A]=p[C];return A}var ii=bs("animationend"),Ss=bs("animationiteration"),ll=bs("animationstart"),Yc=bs("transitionend"),cl=new Map,Fu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bo(A,p){cl.set(A,p),i(p,[A])}for(var Dl=0;Dl<Fu.length;Dl++){var Pa=Fu[Dl],jo=Pa.toLowerCase(),gA=Pa[0].toUpperCase()+Pa.slice(1);bo(jo,"on"+gA)}bo(ii,"onAnimationEnd"),bo(Ss,"onAnimationIteration"),bo(ll,"onAnimationStart"),bo("dblclick","onDoubleClick"),bo("focusin","onFocus"),bo("focusout","onBlur"),bo(Yc,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Th=new Set("cancel close invalid load scroll toggle".split(" ").concat(rc));function Gd(A,p,C){var T=A.type||"unknown-event";A.currentTarget=C,ws(T,p,void 0,A),A.currentTarget=null}function qd(A,p){p=(p&4)!==0;for(var C=0;C<A.length;C++){var T=A[C],V=T.event;T=T.listeners;e:{var J=void 0;if(p)for(var xe=T.length-1;0<=xe;xe--){var Qe=T[xe],Ze=Qe.instance,It=Qe.currentTarget;if(Qe=Qe.listener,Ze!==J&&V.isPropagationStopped())break e;Gd(V,Qe,It),J=Ze}else for(xe=0;xe<T.length;xe++){if(Qe=T[xe],Ze=Qe.instance,It=Qe.currentTarget,Qe=Qe.listener,Ze!==J&&V.isPropagationStopped())break e;Gd(V,Qe,It),J=Ze}}}if(kn)throw A=ps,kn=!1,ps=null,A}function Bs(A,p){var C=p[da];C===void 0&&(C=p[da]=new Set);var T=A+"__bubble";C.has(T)||(Lu(p,A,2,!1),C.add(T))}function xA(A,p,C){var T=0;p&&(T|=4),Lu(C,A,T,p)}var Xc="_reactListening"+Math.random().toString(36).slice(2);function bc(A){if(!A[Xc]){A[Xc]=!0,s.forEach(function(C){C!=="selectionchange"&&(Th.has(C)||xA(C,!1,A),xA(C,!0,A))});var p=A.nodeType===9?A:A.ownerDocument;p===null||p[Xc]||(p[Xc]=!0,xA("selectionchange",!1,p))}}function Lu(A,p,C,T){switch(Rn(p)){case 1:var V=xi;break;case 4:V=Va;break;default:V=ci}C=V.bind(null,p,C,A),V=void 0,!xn||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(V=!0),T?V!==void 0?A.addEventListener(p,C,{capture:!0,passive:V}):A.addEventListener(p,C,!0):V!==void 0?A.addEventListener(p,C,{passive:V}):A.addEventListener(p,C,!1)}function h(A,p,C,T,V){var J=T;if((p&1)===0&&(p&2)===0&&T!==null)e:for(;;){if(T===null)return;var xe=T.tag;if(xe===3||xe===4){var Qe=T.stateNode.containerInfo;if(Qe===V||Qe.nodeType===8&&Qe.parentNode===V)break;if(xe===4)for(xe=T.return;xe!==null;){var Ze=xe.tag;if((Ze===3||Ze===4)&&(Ze=xe.stateNode.containerInfo,Ze===V||Ze.nodeType===8&&Ze.parentNode===V))return;xe=xe.return}for(;Qe!==null;){if(xe=jc(Qe),xe===null)return;if(Ze=xe.tag,Ze===5||Ze===6){T=J=xe;continue e}Qe=Qe.parentNode}}T=T.return}er(function(){var It=J,ar=dr(C),cr=[];e:{var rr=cl.get(A);if(rr!==void 0){var Mr=sa,$r=A;switch(A){case"keypress":if(br(C)===0)break e;case"keydown":case"keyup":Mr=Bn;break;case"focusin":$r="focus",Mr=Sl;break;case"focusout":$r="blur",Mr=Sl;break;case"beforeblur":case"afterblur":Mr=Sl;break;case"click":if(C.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Mr=$c;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Mr=Pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Mr=$s;break;case ii:case Ss:case ll:Mr=xc;break;case Yc:Mr=Ia;break;case"scroll":Mr=Xl;break;case"wheel":Mr=il;break;case"copy":case"cut":case"paste":Mr=O;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Mr=es}var Yr=(p&4)!==0,fa=!Yr&&A==="scroll",bt=Yr?rr!==null?rr+"Capture":null:rr;Yr=[];for(var at=It,_t;at!==null;){_t=at;var pr=_t.stateNode;if(_t.tag===5&&pr!==null&&(_t=pr,bt!==null&&(pr=Rt(at,bt),pr!=null&&Yr.push(j(at,pr,_t)))),fa)break;at=at.return}0<Yr.length&&(rr=new Mr(rr,$r,null,C,ar),cr.push({event:rr,listeners:Yr}))}}if((p&7)===0){e:{if(rr=A==="mouseover"||A==="pointerover",Mr=A==="mouseout"||A==="pointerout",rr&&C!==fr&&($r=C.relatedTarget||C.fromElement)&&(jc($r)||$r[ts]))break e;if((Mr||rr)&&(rr=ar.window===ar?ar:(rr=ar.ownerDocument)?rr.defaultView||rr.parentWindow:window,Mr?($r=C.relatedTarget||C.toElement,Mr=It,$r=$r?jc($r):null,$r!==null&&(fa=Pn($r),$r!==fa||$r.tag!==5&&$r.tag!==6)&&($r=null)):(Mr=null,$r=It),Mr!==$r)){if(Yr=$c,pr="onMouseLeave",bt="onMouseEnter",at="mouse",(A==="pointerout"||A==="pointerover")&&(Yr=es,pr="onPointerLeave",bt="onPointerEnter",at="pointer"),fa=Mr==null?rr:Cc(Mr),_t=$r==null?rr:Cc($r),rr=new Yr(pr,at+"leave",Mr,C,ar),rr.target=fa,rr.relatedTarget=_t,pr=null,jc(ar)===It&&(Yr=new Yr(bt,at+"enter",$r,C,ar),Yr.target=_t,Yr.relatedTarget=fa,pr=Yr),fa=pr,Mr&&$r)t:{for(Yr=Mr,bt=$r,at=0,_t=Yr;_t;_t=z(_t))at++;for(_t=0,pr=bt;pr;pr=z(pr))_t++;for(;0<at-_t;)Yr=z(Yr),at--;for(;0<_t-at;)bt=z(bt),_t--;for(;at--;){if(Yr===bt||bt!==null&&Yr===bt.alternate)break t;Yr=z(Yr),bt=z(bt)}Yr=null}else Yr=null;Mr!==null&&ae(cr,rr,Mr,Yr,!1),$r!==null&&fa!==null&&ae(cr,fa,$r,Yr,!0)}}e:{if(rr=It?Cc(It):window,Mr=rr.nodeName&&rr.nodeName.toLowerCase(),Mr==="select"||Mr==="input"&&rr.type==="file")var Zr=Wd;else if(Kd(rr))if(yo)Zr=wc;else{Zr=io;var mn=ol}else(Mr=rr.nodeName)&&Mr.toLowerCase()==="input"&&(rr.type==="checkbox"||rr.type==="radio")&&(Zr=Fo);if(Zr&&(Zr=Zr(A,It))){aa(cr,Zr,C,ar);break e}mn&&mn(A,rr,It),A==="focusout"&&(mn=rr._wrapperState)&&mn.controlled&&rr.type==="number"&&ct(rr,"number",rr.value)}switch(mn=It?Cc(It):window,A){case"focusin":(Kd(mn)||mn.contentEditable==="true")&&(wo=mn,Ro=It,kl=null);break;case"focusout":kl=Ro=wo=null;break;case"mousedown":Pl=!0;break;case"contextmenu":case"mouseup":case"dragend":Pl=!1,tc(cr,C,ar);break;case"selectionchange":if(Tl)break;case"keydown":case"keyup":tc(cr,C,ar)}var pn;if(ia)e:{switch(A){case"compositionstart":var Tn="onCompositionStart";break e;case"compositionend":Tn="onCompositionEnd";break e;case"compositionupdate":Tn="onCompositionUpdate";break e}Tn=void 0}else Vs?Bl(A,C)&&(Tn="onCompositionEnd"):A==="keydown"&&C.keyCode===229&&(Tn="onCompositionStart");Tn&&(Hd&&C.locale!=="ko"&&(Vs||Tn!=="onCompositionStart"?Tn==="onCompositionEnd"&&Vs&&(pn=lr()):(so=ar,me="value"in so?so.value:so.textContent,Vs=!0)),mn=I(It,Tn),0<mn.length&&(Tn=new De(Tn,A,null,C,ar),cr.push({event:Tn,listeners:mn}),pn?Tn.data=pn:(pn=yc(C),pn!==null&&(Tn.data=pn)))),(pn=xo?Vd(A,C):vo(A,C))&&(It=I(It,"onBeforeInput"),0<It.length&&(ar=new De("onBeforeInput","beforeinput",null,C,ar),cr.push({event:ar,listeners:It}),ar.data=pn))}qd(cr,p)})}function j(A,p,C){return{instance:A,listener:p,currentTarget:C}}function I(A,p){for(var C=p+"Capture",T=[];A!==null;){var V=A,J=V.stateNode;V.tag===5&&J!==null&&(V=J,J=Rt(A,C),J!=null&&T.unshift(j(A,J,V)),J=Rt(A,p),J!=null&&T.push(j(A,J,V))),A=A.return}return T}function z(A){if(A===null)return null;do A=A.return;while(A&&A.tag!==5);return A||null}function ae(A,p,C,T,V){for(var J=p._reactName,xe=[];C!==null&&C!==T;){var Qe=C,Ze=Qe.alternate,It=Qe.stateNode;if(Ze!==null&&Ze===T)break;Qe.tag===5&&It!==null&&(Qe=It,V?(Ze=Rt(C,J),Ze!=null&&xe.unshift(j(C,Ze,Qe))):V||(Ze=Rt(C,J),Ze!=null&&xe.push(j(C,Ze,Qe)))),C=C.return}xe.length!==0&&A.push({event:p,listeners:xe})}var be=/\r\n?/g,$e=/\u0000|\uFFFD/g;function yt(A){return(typeof A=="string"?A:""+A).replace(be,`
`).replace($e,"")}function St(A,p,C){if(p=yt(p),yt(A)!==p&&C)throw Error(n(425))}function $t(){}var Ir=null,rn=null;function Hn(A,p){return A==="textarea"||A==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var ca=typeof setTimeout=="function"?setTimeout:void 0,Ti=typeof clearTimeout=="function"?clearTimeout:void 0,No=typeof Promise=="function"?Promise:void 0,oo=typeof queueMicrotask=="function"?queueMicrotask:typeof No<"u"?function(A){return No.resolve(null).then(A).catch(Jd)}:ca;function Jd(A){setTimeout(function(){throw A})}function kh(A,p){var C=p,T=0;do{var V=C.nextSibling;if(A.removeChild(C),V&&V.nodeType===8)if(C=V.data,C==="/$"){if(T===0){A.removeChild(V),Ar(p);return}T--}else C!=="$"&&C!=="$?"&&C!=="$!"||T++;C=V}while(C);Ar(p)}function Ga(A){for(;A!=null;A=A.nextSibling){var p=A.nodeType;if(p===1||p===3)break;if(p===8){if(p=A.data,p==="$"||p==="$!"||p==="$?")break;if(p==="/$")return null}}return A}function Mo(A){A=A.previousSibling;for(var p=0;A;){if(A.nodeType===8){var C=A.data;if(C==="$"||C==="$!"||C==="$?"){if(p===0)return A;p--}else C==="/$"&&p++}A=A.previousSibling}return null}var qa=Math.random().toString(36).slice(2),Fl="__reactFiber$"+qa,Zc="__reactProps$"+qa,ts="__reactContainer$"+qa,da="__reactEvents$"+qa,vp="__reactListeners$"+qa,yp="__reactHandles$"+qa;function jc(A){var p=A[Fl];if(p)return p;for(var C=A.parentNode;C;){if(p=C[ts]||C[Fl]){if(C=p.alternate,p.child!==null||C!==null&&C.child!==null)for(A=Mo(A);A!==null;){if(C=A[Fl])return C;A=Mo(A)}return p}A=C,C=A.parentNode}return null}function Nc(A){return A=A[Fl]||A[ts],!A||A.tag!==5&&A.tag!==6&&A.tag!==13&&A.tag!==3?null:A}function Cc(A){if(A.tag===5||A.tag===6)return A.stateNode;throw Error(n(33))}function Ru(A){return A[Zc]||null}var wp=[],ed=-1;function nc(A){return{current:A}}function Ds(A){0>ed||(A.current=wp[ed],wp[ed]=null,ed--)}function Rs(A,p){ed++,wp[ed]=A.current,A.current=p}var Yd={},Ja=nc(Yd),Uo=nc(!1),Ou=Yd;function vA(A,p){var C=A.type.contextTypes;if(!C)return Yd;var T=A.stateNode;if(T&&T.__reactInternalMemoizedUnmaskedChildContext===p)return T.__reactInternalMemoizedMaskedChildContext;var V={},J;for(J in C)V[J]=p[J];return T&&(A=A.stateNode,A.__reactInternalMemoizedUnmaskedChildContext=p,A.__reactInternalMemoizedMaskedChildContext=V),V}function Qo(A){return A=A.childContextTypes,A!=null}function Ef(){Ds(Uo),Ds(Ja)}function iv(A,p,C){if(Ja.current!==Yd)throw Error(n(168));Rs(Ja,p),Rs(Uo,C)}function bp(A,p,C){var T=A.stateNode;if(p=p.childContextTypes,typeof T.getChildContext!="function")return C;T=T.getChildContext();for(var V in T)if(!(V in p))throw Error(n(108,G(A)||"Unknown",V));return ce({},C,T)}function Mu(A){return A=(A=A.stateNode)&&A.__reactInternalMemoizedMergedChildContext||Yd,Ou=Ja.current,Rs(Ja,A),Rs(Uo,Uo.current),!0}function av(A,p,C){var T=A.stateNode;if(!T)throw Error(n(169));C?(A=bp(A,p,Ou),T.__reactInternalMemoizedMergedChildContext=A,Ds(Uo),Ds(Ja),Rs(Ja,A)):Ds(Uo),Rs(Uo,C)}var td=null,Ph=!1,_=!1;function P(A){td===null?td=[A]:td.push(A)}function W(A){Ph=!0,P(A)}function ne(){if(!_&&td!==null){_=!0;var A=0,p=fn;try{var C=td;for(fn=1;A<C.length;A++){var T=C[A];do T=T(!0);while(T!==null)}td=null,Ph=!1}catch(V){throw td!==null&&(td=td.slice(A+1)),Ht(Xn,ne),V}finally{fn=p,_=!1}}return null}var fe=[],ge=0,ve=null,Ne=0,Ce=[],Ie=0,Xe=null,gt=1,xt="";function lt(A,p){fe[ge++]=Ne,fe[ge++]=ve,ve=A,Ne=p}function Vt(A,p,C){Ce[Ie++]=gt,Ce[Ie++]=xt,Ce[Ie++]=Xe,Xe=A;var T=gt;A=xt;var V=32-Kr(T)-1;T&=~(1<<V),C+=1;var J=32-Kr(p)+V;if(30<J){var xe=V-V%5;J=(T&(1<<xe)-1).toString(32),T>>=xe,V-=xe,gt=1<<32-Kr(p)+V|C<<V|T,xt=J+A}else gt=1<<J|C<<V|T,xt=A}function Ft(A){A.return!==null&&(lt(A,1),Vt(A,1,0))}function et(A){for(;A===ve;)ve=fe[--ge],fe[ge]=null,Ne=fe[--ge],fe[ge]=null;for(;A===Xe;)Xe=Ce[--Ie],Ce[Ie]=null,xt=Ce[--Ie],Ce[Ie]=null,gt=Ce[--Ie],Ce[Ie]=null}var tt=null,Ut=null,Ot=!1,Qt=null;function Dr(A,p){var C=Tc(5,null,null,0);C.elementType="DELETED",C.stateNode=p,C.return=A,p=A.deletions,p===null?(A.deletions=[C],A.flags|=16):p.push(C)}function Nr(A,p){switch(A.tag){case 5:var C=A.type;return p=p.nodeType!==1||C.toLowerCase()!==p.nodeName.toLowerCase()?null:p,p!==null?(A.stateNode=p,tt=A,Ut=Ga(p.firstChild),!0):!1;case 6:return p=A.pendingProps===""||p.nodeType!==3?null:p,p!==null?(A.stateNode=p,tt=A,Ut=null,!0):!1;case 13:return p=p.nodeType!==8?null:p,p!==null?(C=Xe!==null?{id:gt,overflow:xt}:null,A.memoizedState={dehydrated:p,treeContext:C,retryLane:1073741824},C=Tc(18,null,null,0),C.stateNode=p,C.return=A,A.child=C,tt=A,Ut=null,!0):!1;default:return!1}}function cn(A){return(A.mode&1)!==0&&(A.flags&128)===0}function Br(A){if(Ot){var p=Ut;if(p){var C=p;if(!Nr(A,p)){if(cn(A))throw Error(n(418));p=Ga(C.nextSibling);var T=tt;p&&Nr(A,p)?Dr(T,C):(A.flags=A.flags&-4097|2,Ot=!1,tt=A)}}else{if(cn(A))throw Error(n(418));A.flags=A.flags&-4097|2,Ot=!1,tt=A}}}function js(A){for(A=A.return;A!==null&&A.tag!==5&&A.tag!==3&&A.tag!==13;)A=A.return;tt=A}function Ns(A){if(A!==tt)return!1;if(!Ot)return js(A),Ot=!0,!1;var p;if((p=A.tag!==3)&&!(p=A.tag!==5)&&(p=A.type,p=p!=="head"&&p!=="body"&&!Hn(A.type,A.memoizedProps)),p&&(p=Ut)){if(cn(A))throw As(),Error(n(418));for(;p;)Dr(A,p),p=Ga(p.nextSibling)}if(js(A),A.tag===13){if(A=A.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(317));e:{for(A=A.nextSibling,p=0;A;){if(A.nodeType===8){var C=A.data;if(C==="/$"){if(p===0){Ut=Ga(A.nextSibling);break e}p--}else C!=="$"&&C!=="$!"&&C!=="$?"||p++}A=A.nextSibling}Ut=null}}else Ut=tt?Ga(A.stateNode.nextSibling):null;return!0}function As(){for(var A=Ut;A;)A=Ga(A.nextSibling)}function Kn(){Ut=tt=null,Ot=!1}function Fs(A){Qt===null?Qt=[A]:Qt.push(A)}var Os=k.ReactCurrentBatchConfig;function En(A,p,C){if(A=C.ref,A!==null&&typeof A!="function"&&typeof A!="object"){if(C._owner){if(C=C._owner,C){if(C.tag!==1)throw Error(n(309));var T=C.stateNode}if(!T)throw Error(n(147,A));var V=T,J=""+A;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===J?p.ref:(p=function(xe){var Qe=V.refs;xe===null?delete Qe[J]:Qe[J]=xe},p._stringRef=J,p)}if(typeof A!="string")throw Error(n(284));if(!C._owner)throw Error(n(290,A))}return A}function di(A,p){throw A=Object.prototype.toString.call(p),Error(n(31,A==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":A))}function Co(A){var p=A._init;return p(A._payload)}function ki(A){function p(bt,at){if(A){var _t=bt.deletions;_t===null?(bt.deletions=[at],bt.flags|=16):_t.push(at)}}function C(bt,at){if(!A)return null;for(;at!==null;)p(bt,at),at=at.sibling;return null}function T(bt,at){for(bt=new Map;at!==null;)at.key!==null?bt.set(at.key,at):bt.set(at.index,at),at=at.sibling;return bt}function V(bt,at){return bt=TA(bt,at),bt.index=0,bt.sibling=null,bt}function J(bt,at,_t){return bt.index=_t,A?(_t=bt.alternate,_t!==null?(_t=_t.index,_t<at?(bt.flags|=2,at):_t):(bt.flags|=2,at)):(bt.flags|=1048576,at)}function xe(bt){return A&&bt.alternate===null&&(bt.flags|=2),bt}function Qe(bt,at,_t,pr){return at===null||at.tag!==6?(at=gb(_t,bt.mode,pr),at.return=bt,at):(at=V(at,_t),at.return=bt,at)}function Ze(bt,at,_t,pr){var Zr=_t.type;return Zr===U?ar(bt,at,_t.props.children,pr,_t.key):at!==null&&(at.elementType===Zr||typeof Zr=="object"&&Zr!==null&&Zr.$$typeof===de&&Co(Zr)===at.type)?(pr=V(at,_t.props),pr.ref=En(bt,at,_t),pr.return=bt,pr):(pr=_v(_t.type,_t.key,_t.props,null,bt.mode,pr),pr.ref=En(bt,at,_t),pr.return=bt,pr)}function It(bt,at,_t,pr){return at===null||at.tag!==4||at.stateNode.containerInfo!==_t.containerInfo||at.stateNode.implementation!==_t.implementation?(at=xb(_t,bt.mode,pr),at.return=bt,at):(at=V(at,_t.children||[]),at.return=bt,at)}function ar(bt,at,_t,pr,Zr){return at===null||at.tag!==7?(at=Qh(_t,bt.mode,pr,Zr),at.return=bt,at):(at=V(at,_t),at.return=bt,at)}function cr(bt,at,_t){if(typeof at=="string"&&at!==""||typeof at=="number")return at=gb(""+at,bt.mode,_t),at.return=bt,at;if(typeof at=="object"&&at!==null){switch(at.$$typeof){case F:return _t=_v(at.type,at.key,at.props,null,bt.mode,_t),_t.ref=En(bt,null,at),_t.return=bt,_t;case $:return at=xb(at,bt.mode,_t),at.return=bt,at;case de:var pr=at._init;return cr(bt,pr(at._payload),_t)}if(vt(at)||oe(at))return at=Qh(at,bt.mode,_t,null),at.return=bt,at;di(bt,at)}return null}function rr(bt,at,_t,pr){var Zr=at!==null?at.key:null;if(typeof _t=="string"&&_t!==""||typeof _t=="number")return Zr!==null?null:Qe(bt,at,""+_t,pr);if(typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case F:return _t.key===Zr?Ze(bt,at,_t,pr):null;case $:return _t.key===Zr?It(bt,at,_t,pr):null;case de:return Zr=_t._init,rr(bt,at,Zr(_t._payload),pr)}if(vt(_t)||oe(_t))return Zr!==null?null:ar(bt,at,_t,pr,null);di(bt,_t)}return null}function Mr(bt,at,_t,pr,Zr){if(typeof pr=="string"&&pr!==""||typeof pr=="number")return bt=bt.get(_t)||null,Qe(at,bt,""+pr,Zr);if(typeof pr=="object"&&pr!==null){switch(pr.$$typeof){case F:return bt=bt.get(pr.key===null?_t:pr.key)||null,Ze(at,bt,pr,Zr);case $:return bt=bt.get(pr.key===null?_t:pr.key)||null,It(at,bt,pr,Zr);case de:var mn=pr._init;return Mr(bt,at,_t,mn(pr._payload),Zr)}if(vt(pr)||oe(pr))return bt=bt.get(_t)||null,ar(at,bt,pr,Zr,null);di(at,pr)}return null}function $r(bt,at,_t,pr){for(var Zr=null,mn=null,pn=at,Tn=at=0,Ao=null;pn!==null&&Tn<_t.length;Tn++){pn.index>Tn?(Ao=pn,pn=null):Ao=pn.sibling;var Ts=rr(bt,pn,_t[Tn],pr);if(Ts===null){pn===null&&(pn=Ao);break}A&&pn&&Ts.alternate===null&&p(bt,pn),at=J(Ts,at,Tn),mn===null?Zr=Ts:mn.sibling=Ts,mn=Ts,pn=Ao}if(Tn===_t.length)return C(bt,pn),Ot&&lt(bt,Tn),Zr;if(pn===null){for(;Tn<_t.length;Tn++)pn=cr(bt,_t[Tn],pr),pn!==null&&(at=J(pn,at,Tn),mn===null?Zr=pn:mn.sibling=pn,mn=pn);return Ot&&lt(bt,Tn),Zr}for(pn=T(bt,pn);Tn<_t.length;Tn++)Ao=Mr(pn,bt,Tn,_t[Tn],pr),Ao!==null&&(A&&Ao.alternate!==null&&pn.delete(Ao.key===null?Tn:Ao.key),at=J(Ao,at,Tn),mn===null?Zr=Ao:mn.sibling=Ao,mn=Ao);return A&&pn.forEach(function(kA){return p(bt,kA)}),Ot&&lt(bt,Tn),Zr}function Yr(bt,at,_t,pr){var Zr=oe(_t);if(typeof Zr!="function")throw Error(n(150));if(_t=Zr.call(_t),_t==null)throw Error(n(151));for(var mn=Zr=null,pn=at,Tn=at=0,Ao=null,Ts=_t.next();pn!==null&&!Ts.done;Tn++,Ts=_t.next()){pn.index>Tn?(Ao=pn,pn=null):Ao=pn.sibling;var kA=rr(bt,pn,Ts.value,pr);if(kA===null){pn===null&&(pn=Ao);break}A&&pn&&kA.alternate===null&&p(bt,pn),at=J(kA,at,Tn),mn===null?Zr=kA:mn.sibling=kA,mn=kA,pn=Ao}if(Ts.done)return C(bt,pn),Ot&&lt(bt,Tn),Zr;if(pn===null){for(;!Ts.done;Tn++,Ts=_t.next())Ts=cr(bt,Ts.value,pr),Ts!==null&&(at=J(Ts,at,Tn),mn===null?Zr=Ts:mn.sibling=Ts,mn=Ts);return Ot&&lt(bt,Tn),Zr}for(pn=T(bt,pn);!Ts.done;Tn++,Ts=_t.next())Ts=Mr(pn,bt,Tn,Ts.value,pr),Ts!==null&&(A&&Ts.alternate!==null&&pn.delete(Ts.key===null?Tn:Ts.key),at=J(Ts,at,Tn),mn===null?Zr=Ts:mn.sibling=Ts,mn=Ts);return A&&pn.forEach(function(Z$){return p(bt,Z$)}),Ot&&lt(bt,Tn),Zr}function fa(bt,at,_t,pr){if(typeof _t=="object"&&_t!==null&&_t.type===U&&_t.key===null&&(_t=_t.props.children),typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case F:e:{for(var Zr=_t.key,mn=at;mn!==null;){if(mn.key===Zr){if(Zr=_t.type,Zr===U){if(mn.tag===7){C(bt,mn.sibling),at=V(mn,_t.props.children),at.return=bt,bt=at;break e}}else if(mn.elementType===Zr||typeof Zr=="object"&&Zr!==null&&Zr.$$typeof===de&&Co(Zr)===mn.type){C(bt,mn.sibling),at=V(mn,_t.props),at.ref=En(bt,mn,_t),at.return=bt,bt=at;break e}C(bt,mn);break}else p(bt,mn);mn=mn.sibling}_t.type===U?(at=Qh(_t.props.children,bt.mode,pr,_t.key),at.return=bt,bt=at):(pr=_v(_t.type,_t.key,_t.props,null,bt.mode,pr),pr.ref=En(bt,at,_t),pr.return=bt,bt=pr)}return xe(bt);case $:e:{for(mn=_t.key;at!==null;){if(at.key===mn)if(at.tag===4&&at.stateNode.containerInfo===_t.containerInfo&&at.stateNode.implementation===_t.implementation){C(bt,at.sibling),at=V(at,_t.children||[]),at.return=bt,bt=at;break e}else{C(bt,at);break}else p(bt,at);at=at.sibling}at=xb(_t,bt.mode,pr),at.return=bt,bt=at}return xe(bt);case de:return mn=_t._init,fa(bt,at,mn(_t._payload),pr)}if(vt(_t))return $r(bt,at,_t,pr);if(oe(_t))return Yr(bt,at,_t,pr);di(bt,_t)}return typeof _t=="string"&&_t!==""||typeof _t=="number"?(_t=""+_t,at!==null&&at.tag===6?(C(bt,at.sibling),at=V(at,_t),at.return=bt,bt=at):(C(bt,at),at=gb(_t,bt.mode,pr),at.return=bt,bt=at),xe(bt)):C(bt,at)}return fa}var ua=ki(!0),Es=ki(!1),lo=nc(null),co=null,ui=null,Aa=null;function Ya(){Aa=ui=co=null}function Ho(A){var p=lo.current;Ds(lo),A._currentValue=p}function Ll(A,p,C){for(;A!==null;){var T=A.alternate;if((A.childLanes&p)!==p?(A.childLanes|=p,T!==null&&(T.childLanes|=p)):T!==null&&(T.childLanes&p)!==p&&(T.childLanes|=p),A===C)break;A=A.return}}function Ai(A,p){co=A,Aa=ui=null,A=A.dependencies,A!==null&&A.firstContext!==null&&((A.lanes&p)!==0&&(Ul=!0),A.firstContext=null)}function Wi(A){var p=A._currentValue;if(Aa!==A)if(A={context:A,memoizedValue:p,next:null},ui===null){if(co===null)throw Error(n(308));ui=A,co.dependencies={lanes:0,firstContext:A}}else ui=ui.next=A;return p}var dl=null;function Xd(A){dl===null?dl=[A]:dl.push(A)}function rd(A,p,C,T){var V=p.interleaved;return V===null?(C.next=C,Xd(p)):(C.next=V.next,V.next=C),p.interleaved=C,Is(A,T)}function Is(A,p){A.lanes|=p;var C=A.alternate;for(C!==null&&(C.lanes|=p),C=A,A=A.return;A!==null;)A.childLanes|=p,C=A.alternate,C!==null&&(C.childLanes|=p),C=A,A=A.return;return C.tag===3?C.stateNode:null}var _c=!1;function If(A){A.updateQueue={baseState:A.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jp(A,p){A=A.updateQueue,p.updateQueue===A&&(p.updateQueue={baseState:A.baseState,firstBaseUpdate:A.firstBaseUpdate,lastBaseUpdate:A.lastBaseUpdate,shared:A.shared,effects:A.effects})}function Rl(A,p){return{eventTime:A,lane:p,tag:0,payload:null,callback:null,next:null}}function Ol(A,p,C){var T=A.updateQueue;if(T===null)return null;if(T=T.shared,(Cs&2)!==0){var V=T.pending;return V===null?p.next=p:(p.next=V.next,V.next=p),T.pending=p,Is(A,C)}return V=T.interleaved,V===null?(p.next=p,Xd(T)):(p.next=V.next,V.next=p),T.interleaved=p,Is(A,C)}function Uu(A,p,C){if(p=p.updateQueue,p!==null&&(p=p.shared,(C&4194240)!==0)){var T=p.lanes;T&=A.pendingLanes,C|=T,p.lanes=C,us(A,C)}}function Ml(A,p){var C=A.updateQueue,T=A.alternate;if(T!==null&&(T=T.updateQueue,C===T)){var V=null,J=null;if(C=C.firstBaseUpdate,C!==null){do{var xe={eventTime:C.eventTime,lane:C.lane,tag:C.tag,payload:C.payload,callback:C.callback,next:null};J===null?V=J=xe:J=J.next=xe,C=C.next}while(C!==null);J===null?V=J=p:J=J.next=p}else V=J=p;C={baseState:T.baseState,firstBaseUpdate:V,lastBaseUpdate:J,shared:T.shared,effects:T.effects},A.updateQueue=C;return}A=C.lastBaseUpdate,A===null?C.firstBaseUpdate=p:A.next=p,C.lastBaseUpdate=p}function nd(A,p,C,T){var V=A.updateQueue;_c=!1;var J=V.firstBaseUpdate,xe=V.lastBaseUpdate,Qe=V.shared.pending;if(Qe!==null){V.shared.pending=null;var Ze=Qe,It=Ze.next;Ze.next=null,xe===null?J=It:xe.next=It,xe=Ze;var ar=A.alternate;ar!==null&&(ar=ar.updateQueue,Qe=ar.lastBaseUpdate,Qe!==xe&&(Qe===null?ar.firstBaseUpdate=It:Qe.next=It,ar.lastBaseUpdate=Ze))}if(J!==null){var cr=V.baseState;xe=0,ar=It=Ze=null,Qe=J;do{var rr=Qe.lane,Mr=Qe.eventTime;if((T&rr)===rr){ar!==null&&(ar=ar.next={eventTime:Mr,lane:0,tag:Qe.tag,payload:Qe.payload,callback:Qe.callback,next:null});e:{var $r=A,Yr=Qe;switch(rr=p,Mr=C,Yr.tag){case 1:if($r=Yr.payload,typeof $r=="function"){cr=$r.call(Mr,cr,rr);break e}cr=$r;break e;case 3:$r.flags=$r.flags&-65537|128;case 0:if($r=Yr.payload,rr=typeof $r=="function"?$r.call(Mr,cr,rr):$r,rr==null)break e;cr=ce({},cr,rr);break e;case 2:_c=!0}}Qe.callback!==null&&Qe.lane!==0&&(A.flags|=64,rr=V.effects,rr===null?V.effects=[Qe]:rr.push(Qe))}else Mr={eventTime:Mr,lane:rr,tag:Qe.tag,payload:Qe.payload,callback:Qe.callback,next:null},ar===null?(It=ar=Mr,Ze=cr):ar=ar.next=Mr,xe|=rr;if(Qe=Qe.next,Qe===null){if(Qe=V.shared.pending,Qe===null)break;rr=Qe,Qe=rr.next,rr.next=null,V.lastBaseUpdate=rr,V.shared.pending=null}}while(!0);if(ar===null&&(Ze=cr),V.baseState=Ze,V.firstBaseUpdate=It,V.lastBaseUpdate=ar,p=V.shared.interleaved,p!==null){V=p;do xe|=V.lane,V=V.next;while(V!==p)}else J===null&&(V.shared.lanes=0);Rh|=xe,A.lanes=xe,A.memoizedState=cr}}function Qu(A,p,C){if(A=p.effects,p.effects=null,A!==null)for(p=0;p<A.length;p++){var T=A[p],V=T.callback;if(V!==null){if(T.callback=null,T=C,typeof V!="function")throw Error(n(191,V));V.call(T)}}}var yA={},ul=nc(yA),wA=nc(yA),Zd=nc(yA);function sd(A){if(A===yA)throw Error(n(174));return A}function bA(A,p){switch(Rs(Zd,p),Rs(wA,A),Rs(ul,yA),A=p.nodeType,A){case 9:case 11:p=(p=p.documentElement)?p.namespaceURI:jt(null,"");break;default:A=A===8?p.parentNode:p,p=A.namespaceURI||null,A=A.tagName,p=jt(p,A)}Ds(ul),Rs(ul,p)}function Sc(){Ds(ul),Ds(wA),Ds(Zd)}function ov(A){sd(Zd.current);var p=sd(ul.current),C=jt(p,A.type);p!==C&&(Rs(wA,A),Rs(ul,C))}function Np(A){wA.current===A&&(Ds(ul),Ds(wA))}var Zs=nc(0);function sc(A){for(var p=A;p!==null;){if(p.tag===13){var C=p.memoizedState;if(C!==null&&(C=C.dehydrated,C===null||C.data==="$?"||C.data==="$!"))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===A)break;for(;p.sibling===null;){if(p.return===null||p.return===A)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var Cp=[];function _p(){for(var A=0;A<Cp.length;A++)Cp[A]._workInProgressVersionPrimary=null;Cp.length=0}var Tf=k.ReactCurrentDispatcher,kf=k.ReactCurrentBatchConfig,Bc=0,ai=null,$i=null,Pi=null,jA=!1,id=!1,NA=0,zw=0;function ha(){throw Error(n(321))}function Pf(A,p){if(p===null)return!1;for(var C=0;C<p.length&&C<A.length;C++)if(!gs(A[C],p[C]))return!1;return!0}function Dh(A,p,C,T,V,J){if(Bc=J,ai=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,Tf.current=A===null||A.memoizedState===null?C$:_$,A=C(T,V),id){J=0;do{if(id=!1,NA=0,25<=J)throw Error(n(301));J+=1,Pi=$i=null,p.updateQueue=null,Tf.current=S$,A=C(T,V)}while(id)}if(Tf.current=Av,p=$i!==null&&$i.next!==null,Bc=0,Pi=$i=ai=null,jA=!1,p)throw Error(n(300));return A}function Ec(){var A=NA!==0;return NA=0,A}function ic(){var A={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pi===null?ai.memoizedState=Pi=A:Pi=Pi.next=A,Pi}function Al(){if($i===null){var A=ai.alternate;A=A!==null?A.memoizedState:null}else A=$i.next;var p=Pi===null?ai.memoizedState:Pi.next;if(p!==null)Pi=p,$i=A;else{if(A===null)throw Error(n(310));$i=A,A={memoizedState:$i.memoizedState,baseState:$i.baseState,baseQueue:$i.baseQueue,queue:$i.queue,next:null},Pi===null?ai.memoizedState=Pi=A:Pi=Pi.next=A}return Pi}function Fh(A,p){return typeof p=="function"?p(A):p}function Df(A){var p=Al(),C=p.queue;if(C===null)throw Error(n(311));C.lastRenderedReducer=A;var T=$i,V=T.baseQueue,J=C.pending;if(J!==null){if(V!==null){var xe=V.next;V.next=J.next,J.next=xe}T.baseQueue=V=J,C.pending=null}if(V!==null){J=V.next,T=T.baseState;var Qe=xe=null,Ze=null,It=J;do{var ar=It.lane;if((Bc&ar)===ar)Ze!==null&&(Ze=Ze.next={lane:0,action:It.action,hasEagerState:It.hasEagerState,eagerState:It.eagerState,next:null}),T=It.hasEagerState?It.eagerState:A(T,It.action);else{var cr={lane:ar,action:It.action,hasEagerState:It.hasEagerState,eagerState:It.eagerState,next:null};Ze===null?(Qe=Ze=cr,xe=T):Ze=Ze.next=cr,ai.lanes|=ar,Rh|=ar}It=It.next}while(It!==null&&It!==J);Ze===null?xe=T:Ze.next=Qe,gs(T,p.memoizedState)||(Ul=!0),p.memoizedState=T,p.baseState=xe,p.baseQueue=Ze,C.lastRenderedState=T}if(A=C.interleaved,A!==null){V=A;do J=V.lane,ai.lanes|=J,Rh|=J,V=V.next;while(V!==A)}else V===null&&(C.lanes=0);return[p.memoizedState,C.dispatch]}function eu(A){var p=Al(),C=p.queue;if(C===null)throw Error(n(311));C.lastRenderedReducer=A;var T=C.dispatch,V=C.pending,J=p.memoizedState;if(V!==null){C.pending=null;var xe=V=V.next;do J=A(J,xe.action),xe=xe.next;while(xe!==V);gs(J,p.memoizedState)||(Ul=!0),p.memoizedState=J,p.baseQueue===null&&(p.baseState=J),C.lastRenderedState=J}return[J,T]}function lv(){}function Sp(A,p){var C=ai,T=Al(),V=p(),J=!gs(T.memoizedState,V);if(J&&(T.memoizedState=V,Ul=!0),T=T.queue,Rf(dv.bind(null,C,T,A),[A]),T.getSnapshot!==p||J||Pi!==null&&Pi.memoizedState.tag&1){if(C.flags|=2048,hl(9,Bp.bind(null,C,T,V,p),void 0,null),uo===null)throw Error(n(349));(Bc&30)!==0||cv(C,p,V)}return V}function cv(A,p,C){A.flags|=16384,A={getSnapshot:p,value:C},p=ai.updateQueue,p===null?(p={lastEffect:null,stores:null},ai.updateQueue=p,p.stores=[A]):(C=p.stores,C===null?p.stores=[A]:C.push(A))}function Bp(A,p,C,T){p.value=C,p.getSnapshot=T,CA(p)&&Ff(A)}function dv(A,p,C){return C(function(){CA(p)&&Ff(A)})}function CA(A){var p=A.getSnapshot;A=A.value;try{var C=p();return!gs(A,C)}catch{return!0}}function Ff(A){var p=Is(A,1);p!==null&&dd(p,A,1,-1)}function Lh(A){var p=ic();return typeof A=="function"&&(A=A()),p.memoizedState=p.baseState=A,A={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fh,lastRenderedState:A},p.queue=A,A=A.dispatch=N$.bind(null,ai,A),[p.memoizedState,A]}function hl(A,p,C,T){return A={tag:A,create:p,destroy:C,deps:T,next:null},p=ai.updateQueue,p===null?(p={lastEffect:null,stores:null},ai.updateQueue=p,p.lastEffect=A.next=A):(C=p.lastEffect,C===null?p.lastEffect=A.next=A:(T=C.next,C.next=A,A.next=T,p.lastEffect=A)),A}function ad(){return Al().memoizedState}function ac(A,p,C,T){var V=ic();ai.flags|=A,V.memoizedState=hl(1|p,C,void 0,T===void 0?null:T)}function Hu(A,p,C,T){var V=Al();T=T===void 0?null:T;var J=void 0;if($i!==null){var xe=$i.memoizedState;if(J=xe.destroy,T!==null&&Pf(T,xe.deps)){V.memoizedState=hl(p,C,J,T);return}}ai.flags|=A,V.memoizedState=hl(1|p,C,J,T)}function Lf(A,p){return ac(8390656,8,A,p)}function Rf(A,p){return Hu(2048,8,A,p)}function uv(A,p){return Hu(4,2,A,p)}function Of(A,p){return Hu(4,4,A,p)}function Mf(A,p){if(typeof p=="function")return A=A(),p(A),function(){p(null)};if(p!=null)return A=A(),p.current=A,function(){p.current=null}}function nE(A,p,C){return C=C!=null?C.concat([A]):null,Hu(4,4,Mf.bind(null,p,A),C)}function Vw(){}function sE(A,p){var C=Al();p=p===void 0?null:p;var T=C.memoizedState;return T!==null&&p!==null&&Pf(p,T[1])?T[0]:(C.memoizedState=[A,p],A)}function iE(A,p){var C=Al();p=p===void 0?null:p;var T=C.memoizedState;return T!==null&&p!==null&&Pf(p,T[1])?T[0]:(A=A(),C.memoizedState=[A,p],A)}function aE(A,p,C){return(Bc&21)===0?(A.baseState&&(A.baseState=!1,Ul=!0),A.memoizedState=C):(gs(C,p)||(C=tr(),ai.lanes|=C,Rh|=C,A.baseState=!0),p)}function b$(A,p){var C=fn;fn=C!==0&&4>C?C:4,A(!0);var T=kf.transition;kf.transition={};try{A(!1),p()}finally{fn=C,kf.transition=T}}function oE(){return Al().memoizedState}function j$(A,p,C){var T=EA(A);if(C={lane:T,action:C,hasEagerState:!1,eagerState:null,next:null},lE(A))cE(p,C);else if(C=rd(A,p,C,T),C!==null){var V=ml();dd(C,A,T,V),dE(C,p,T)}}function N$(A,p,C){var T=EA(A),V={lane:T,action:C,hasEagerState:!1,eagerState:null,next:null};if(lE(A))cE(p,V);else{var J=A.alternate;if(A.lanes===0&&(J===null||J.lanes===0)&&(J=p.lastRenderedReducer,J!==null))try{var xe=p.lastRenderedState,Qe=J(xe,C);if(V.hasEagerState=!0,V.eagerState=Qe,gs(Qe,xe)){var Ze=p.interleaved;Ze===null?(V.next=V,Xd(p)):(V.next=Ze.next,Ze.next=V),p.interleaved=V;return}}catch{}finally{}C=rd(A,p,V,T),C!==null&&(V=ml(),dd(C,A,T,V),dE(C,p,T))}}function lE(A){var p=A.alternate;return A===ai||p!==null&&p===ai}function cE(A,p){id=jA=!0;var C=A.pending;C===null?p.next=p:(p.next=C.next,C.next=p),A.pending=p}function dE(A,p,C){if((C&4194240)!==0){var T=p.lanes;T&=A.pendingLanes,C|=T,p.lanes=C,us(A,C)}}var Av={readContext:Wi,useCallback:ha,useContext:ha,useEffect:ha,useImperativeHandle:ha,useInsertionEffect:ha,useLayoutEffect:ha,useMemo:ha,useReducer:ha,useRef:ha,useState:ha,useDebugValue:ha,useDeferredValue:ha,useTransition:ha,useMutableSource:ha,useSyncExternalStore:ha,useId:ha,unstable_isNewReconciler:!1},C$={readContext:Wi,useCallback:function(A,p){return ic().memoizedState=[A,p===void 0?null:p],A},useContext:Wi,useEffect:Lf,useImperativeHandle:function(A,p,C){return C=C!=null?C.concat([A]):null,ac(4194308,4,Mf.bind(null,p,A),C)},useLayoutEffect:function(A,p){return ac(4194308,4,A,p)},useInsertionEffect:function(A,p){return ac(4,2,A,p)},useMemo:function(A,p){var C=ic();return p=p===void 0?null:p,A=A(),C.memoizedState=[A,p],A},useReducer:function(A,p,C){var T=ic();return p=C!==void 0?C(p):p,T.memoizedState=T.baseState=p,A={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:A,lastRenderedState:p},T.queue=A,A=A.dispatch=j$.bind(null,ai,A),[T.memoizedState,A]},useRef:function(A){var p=ic();return A={current:A},p.memoizedState=A},useState:Lh,useDebugValue:Vw,useDeferredValue:function(A){return ic().memoizedState=A},useTransition:function(){var A=Lh(!1),p=A[0];return A=b$.bind(null,A[1]),ic().memoizedState=A,[p,A]},useMutableSource:function(){},useSyncExternalStore:function(A,p,C){var T=ai,V=ic();if(Ot){if(C===void 0)throw Error(n(407));C=C()}else{if(C=p(),uo===null)throw Error(n(349));(Bc&30)!==0||cv(T,p,C)}V.memoizedState=C;var J={value:C,getSnapshot:p};return V.queue=J,Lf(dv.bind(null,T,J,A),[A]),T.flags|=2048,hl(9,Bp.bind(null,T,J,C,p),void 0,null),C},useId:function(){var A=ic(),p=uo.identifierPrefix;if(Ot){var C=xt,T=gt;C=(T&~(1<<32-Kr(T)-1)).toString(32)+C,p=":"+p+"R"+C,C=NA++,0<C&&(p+="H"+C.toString(32)),p+=":"}else C=zw++,p=":"+p+"r"+C.toString(32)+":";return A.memoizedState=p},unstable_isNewReconciler:!1},_$={readContext:Wi,useCallback:sE,useContext:Wi,useEffect:Rf,useImperativeHandle:nE,useInsertionEffect:uv,useLayoutEffect:Of,useMemo:iE,useReducer:Df,useRef:ad,useState:function(){return Df(Fh)},useDebugValue:Vw,useDeferredValue:function(A){var p=Al();return aE(p,$i.memoizedState,A)},useTransition:function(){var A=Df(Fh)[0],p=Al().memoizedState;return[A,p]},useMutableSource:lv,useSyncExternalStore:Sp,useId:oE,unstable_isNewReconciler:!1},S$={readContext:Wi,useCallback:sE,useContext:Wi,useEffect:Rf,useImperativeHandle:nE,useInsertionEffect:uv,useLayoutEffect:Of,useMemo:iE,useReducer:eu,useRef:ad,useState:function(){return eu(Fh)},useDebugValue:Vw,useDeferredValue:function(A){var p=Al();return $i===null?p.memoizedState=A:aE(p,$i.memoizedState,A)},useTransition:function(){var A=eu(Fh)[0],p=Al().memoizedState;return[A,p]},useMutableSource:lv,useSyncExternalStore:Sp,useId:oE,unstable_isNewReconciler:!1};function od(A,p){if(A&&A.defaultProps){p=ce({},p),A=A.defaultProps;for(var C in A)p[C]===void 0&&(p[C]=A[C]);return p}return p}function Kw(A,p,C,T){p=A.memoizedState,C=C(T,p),C=C==null?p:ce({},p,C),A.memoizedState=C,A.lanes===0&&(A.updateQueue.baseState=C)}var hv={isMounted:function(A){return(A=A._reactInternals)?Pn(A)===A:!1},enqueueSetState:function(A,p,C){A=A._reactInternals;var T=ml(),V=EA(A),J=Rl(T,V);J.payload=p,C!=null&&(J.callback=C),p=Ol(A,J,V),p!==null&&(dd(p,A,V,T),Uu(p,A,V))},enqueueReplaceState:function(A,p,C){A=A._reactInternals;var T=ml(),V=EA(A),J=Rl(T,V);J.tag=1,J.payload=p,C!=null&&(J.callback=C),p=Ol(A,J,V),p!==null&&(dd(p,A,V,T),Uu(p,A,V))},enqueueForceUpdate:function(A,p){A=A._reactInternals;var C=ml(),T=EA(A),V=Rl(C,T);V.tag=2,p!=null&&(V.callback=p),p=Ol(A,V,T),p!==null&&(dd(p,A,T,C),Uu(p,A,T))}};function uE(A,p,C,T,V,J,xe){return A=A.stateNode,typeof A.shouldComponentUpdate=="function"?A.shouldComponentUpdate(T,J,xe):p.prototype&&p.prototype.isPureReactComponent?!Lo(C,T)||!Lo(V,J):!0}function AE(A,p,C){var T=!1,V=Yd,J=p.contextType;return typeof J=="object"&&J!==null?J=Wi(J):(V=Qo(p)?Ou:Ja.current,T=p.contextTypes,J=(T=T!=null)?vA(A,V):Yd),p=new p(C,J),A.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=hv,A.stateNode=p,p._reactInternals=A,T&&(A=A.stateNode,A.__reactInternalMemoizedUnmaskedChildContext=V,A.__reactInternalMemoizedMaskedChildContext=J),p}function hE(A,p,C,T){A=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(C,T),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(C,T),p.state!==A&&hv.enqueueReplaceState(p,p.state,null)}function Ww(A,p,C,T){var V=A.stateNode;V.props=C,V.state=A.memoizedState,V.refs={},If(A);var J=p.contextType;typeof J=="object"&&J!==null?V.context=Wi(J):(J=Qo(p)?Ou:Ja.current,V.context=vA(A,J)),V.state=A.memoizedState,J=p.getDerivedStateFromProps,typeof J=="function"&&(Kw(A,p,J,C),V.state=A.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof V.getSnapshotBeforeUpdate=="function"||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(p=V.state,typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount(),p!==V.state&&hv.enqueueReplaceState(V,V.state,null),nd(A,C,V,T),V.state=A.memoizedState),typeof V.componentDidMount=="function"&&(A.flags|=4194308)}function Uf(A,p){try{var C="",T=p;do C+=se(T),T=T.return;while(T);var V=C}catch(J){V=`
Error generating stack: `+J.message+`
`+J.stack}return{value:A,source:p,stack:V,digest:null}}function $w(A,p,C){return{value:A,source:null,stack:C??null,digest:p??null}}function Gw(A,p){try{console.error(p.value)}catch(C){setTimeout(function(){throw C})}}var B$=typeof WeakMap=="function"?WeakMap:Map;function fE(A,p,C){C=Rl(-1,C),C.tag=3,C.payload={element:null};var T=p.value;return C.callback=function(){yv||(yv=!0,cb=T),Gw(A,p)},C}function mE(A,p,C){C=Rl(-1,C),C.tag=3;var T=A.type.getDerivedStateFromError;if(typeof T=="function"){var V=p.value;C.payload=function(){return T(V)},C.callback=function(){Gw(A,p)}}var J=A.stateNode;return J!==null&&typeof J.componentDidCatch=="function"&&(C.callback=function(){Gw(A,p),typeof T!="function"&&(SA===null?SA=new Set([this]):SA.add(this));var xe=p.stack;this.componentDidCatch(p.value,{componentStack:xe!==null?xe:""})}),C}function pE(A,p,C){var T=A.pingCache;if(T===null){T=A.pingCache=new B$;var V=new Set;T.set(p,V)}else V=T.get(p),V===void 0&&(V=new Set,T.set(p,V));V.has(C)||(V.add(C),A=H$.bind(null,A,p,C),p.then(A,A))}function gE(A){do{var p;if((p=A.tag===13)&&(p=A.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return A;A=A.return}while(A!==null);return null}function xE(A,p,C,T,V){return(A.mode&1)===0?(A===p?A.flags|=65536:(A.flags|=128,C.flags|=131072,C.flags&=-52805,C.tag===1&&(C.alternate===null?C.tag=17:(p=Rl(-1,1),p.tag=2,Ol(C,p,1))),C.lanes|=1),A):(A.flags|=65536,A.lanes=V,A)}var E$=k.ReactCurrentOwner,Ul=!1;function fl(A,p,C,T){p.child=A===null?Es(p,null,C,T):ua(p,A.child,C,T)}function vE(A,p,C,T,V){C=C.render;var J=p.ref;return Ai(p,V),T=Dh(A,p,C,T,J,V),C=Ec(),A!==null&&!Ul?(p.updateQueue=A.updateQueue,p.flags&=-2053,A.lanes&=~V,zu(A,p,V)):(Ot&&C&&Ft(p),p.flags|=1,fl(A,p,T,V),p.child)}function yE(A,p,C,T,V){if(A===null){var J=C.type;return typeof J=="function"&&!pb(J)&&J.defaultProps===void 0&&C.compare===null&&C.defaultProps===void 0?(p.tag=15,p.type=J,wE(A,p,J,T,V)):(A=_v(C.type,null,T,p,p.mode,V),A.ref=p.ref,A.return=p,p.child=A)}if(J=A.child,(A.lanes&V)===0){var xe=J.memoizedProps;if(C=C.compare,C=C!==null?C:Lo,C(xe,T)&&A.ref===p.ref)return zu(A,p,V)}return p.flags|=1,A=TA(J,T),A.ref=p.ref,A.return=p,p.child=A}function wE(A,p,C,T,V){if(A!==null){var J=A.memoizedProps;if(Lo(J,T)&&A.ref===p.ref)if(Ul=!1,p.pendingProps=T=J,(A.lanes&V)!==0)(A.flags&131072)!==0&&(Ul=!0);else return p.lanes=A.lanes,zu(A,p,V)}return qw(A,p,C,T,V)}function bE(A,p,C){var T=p.pendingProps,V=T.children,J=A!==null?A.memoizedState:null;if(T.mode==="hidden")if((p.mode&1)===0)p.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rs(Hf,oc),oc|=C;else{if((C&1073741824)===0)return A=J!==null?J.baseLanes|C:C,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:A,cachePool:null,transitions:null},p.updateQueue=null,Rs(Hf,oc),oc|=A,null;p.memoizedState={baseLanes:0,cachePool:null,transitions:null},T=J!==null?J.baseLanes:C,Rs(Hf,oc),oc|=T}else J!==null?(T=J.baseLanes|C,p.memoizedState=null):T=C,Rs(Hf,oc),oc|=T;return fl(A,p,V,C),p.child}function jE(A,p){var C=p.ref;(A===null&&C!==null||A!==null&&A.ref!==C)&&(p.flags|=512,p.flags|=2097152)}function qw(A,p,C,T,V){var J=Qo(C)?Ou:Ja.current;return J=vA(p,J),Ai(p,V),C=Dh(A,p,C,T,J,V),T=Ec(),A!==null&&!Ul?(p.updateQueue=A.updateQueue,p.flags&=-2053,A.lanes&=~V,zu(A,p,V)):(Ot&&T&&Ft(p),p.flags|=1,fl(A,p,C,V),p.child)}function NE(A,p,C,T,V){if(Qo(C)){var J=!0;Mu(p)}else J=!1;if(Ai(p,V),p.stateNode===null)mv(A,p),AE(p,C,T),Ww(p,C,T,V),T=!0;else if(A===null){var xe=p.stateNode,Qe=p.memoizedProps;xe.props=Qe;var Ze=xe.context,It=C.contextType;typeof It=="object"&&It!==null?It=Wi(It):(It=Qo(C)?Ou:Ja.current,It=vA(p,It));var ar=C.getDerivedStateFromProps,cr=typeof ar=="function"||typeof xe.getSnapshotBeforeUpdate=="function";cr||typeof xe.UNSAFE_componentWillReceiveProps!="function"&&typeof xe.componentWillReceiveProps!="function"||(Qe!==T||Ze!==It)&&hE(p,xe,T,It),_c=!1;var rr=p.memoizedState;xe.state=rr,nd(p,T,xe,V),Ze=p.memoizedState,Qe!==T||rr!==Ze||Uo.current||_c?(typeof ar=="function"&&(Kw(p,C,ar,T),Ze=p.memoizedState),(Qe=_c||uE(p,C,Qe,T,rr,Ze,It))?(cr||typeof xe.UNSAFE_componentWillMount!="function"&&typeof xe.componentWillMount!="function"||(typeof xe.componentWillMount=="function"&&xe.componentWillMount(),typeof xe.UNSAFE_componentWillMount=="function"&&xe.UNSAFE_componentWillMount()),typeof xe.componentDidMount=="function"&&(p.flags|=4194308)):(typeof xe.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=T,p.memoizedState=Ze),xe.props=T,xe.state=Ze,xe.context=It,T=Qe):(typeof xe.componentDidMount=="function"&&(p.flags|=4194308),T=!1)}else{xe=p.stateNode,jp(A,p),Qe=p.memoizedProps,It=p.type===p.elementType?Qe:od(p.type,Qe),xe.props=It,cr=p.pendingProps,rr=xe.context,Ze=C.contextType,typeof Ze=="object"&&Ze!==null?Ze=Wi(Ze):(Ze=Qo(C)?Ou:Ja.current,Ze=vA(p,Ze));var Mr=C.getDerivedStateFromProps;(ar=typeof Mr=="function"||typeof xe.getSnapshotBeforeUpdate=="function")||typeof xe.UNSAFE_componentWillReceiveProps!="function"&&typeof xe.componentWillReceiveProps!="function"||(Qe!==cr||rr!==Ze)&&hE(p,xe,T,Ze),_c=!1,rr=p.memoizedState,xe.state=rr,nd(p,T,xe,V);var $r=p.memoizedState;Qe!==cr||rr!==$r||Uo.current||_c?(typeof Mr=="function"&&(Kw(p,C,Mr,T),$r=p.memoizedState),(It=_c||uE(p,C,It,T,rr,$r,Ze)||!1)?(ar||typeof xe.UNSAFE_componentWillUpdate!="function"&&typeof xe.componentWillUpdate!="function"||(typeof xe.componentWillUpdate=="function"&&xe.componentWillUpdate(T,$r,Ze),typeof xe.UNSAFE_componentWillUpdate=="function"&&xe.UNSAFE_componentWillUpdate(T,$r,Ze)),typeof xe.componentDidUpdate=="function"&&(p.flags|=4),typeof xe.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof xe.componentDidUpdate!="function"||Qe===A.memoizedProps&&rr===A.memoizedState||(p.flags|=4),typeof xe.getSnapshotBeforeUpdate!="function"||Qe===A.memoizedProps&&rr===A.memoizedState||(p.flags|=1024),p.memoizedProps=T,p.memoizedState=$r),xe.props=T,xe.state=$r,xe.context=Ze,T=It):(typeof xe.componentDidUpdate!="function"||Qe===A.memoizedProps&&rr===A.memoizedState||(p.flags|=4),typeof xe.getSnapshotBeforeUpdate!="function"||Qe===A.memoizedProps&&rr===A.memoizedState||(p.flags|=1024),T=!1)}return Jw(A,p,C,T,J,V)}function Jw(A,p,C,T,V,J){jE(A,p);var xe=(p.flags&128)!==0;if(!T&&!xe)return V&&av(p,C,!1),zu(A,p,J);T=p.stateNode,E$.current=p;var Qe=xe&&typeof C.getDerivedStateFromError!="function"?null:T.render();return p.flags|=1,A!==null&&xe?(p.child=ua(p,A.child,null,J),p.child=ua(p,null,Qe,J)):fl(A,p,Qe,J),p.memoizedState=T.state,V&&av(p,C,!0),p.child}function CE(A){var p=A.stateNode;p.pendingContext?iv(A,p.pendingContext,p.pendingContext!==p.context):p.context&&iv(A,p.context,!1),bA(A,p.containerInfo)}function _E(A,p,C,T,V){return Kn(),Fs(V),p.flags|=256,fl(A,p,C,T),p.child}var Yw={dehydrated:null,treeContext:null,retryLane:0};function Xw(A){return{baseLanes:A,cachePool:null,transitions:null}}function SE(A,p,C){var T=p.pendingProps,V=Zs.current,J=!1,xe=(p.flags&128)!==0,Qe;if((Qe=xe)||(Qe=A!==null&&A.memoizedState===null?!1:(V&2)!==0),Qe?(J=!0,p.flags&=-129):(A===null||A.memoizedState!==null)&&(V|=1),Rs(Zs,V&1),A===null)return Br(p),A=p.memoizedState,A!==null&&(A=A.dehydrated,A!==null)?((p.mode&1)===0?p.lanes=1:A.data==="$!"?p.lanes=8:p.lanes=1073741824,null):(xe=T.children,A=T.fallback,J?(T=p.mode,J=p.child,xe={mode:"hidden",children:xe},(T&1)===0&&J!==null?(J.childLanes=0,J.pendingProps=xe):J=Sv(xe,T,0,null),A=Qh(A,T,C,null),J.return=p,A.return=p,J.sibling=A,p.child=J,p.child.memoizedState=Xw(C),p.memoizedState=Yw,A):Zw(p,xe));if(V=A.memoizedState,V!==null&&(Qe=V.dehydrated,Qe!==null))return I$(A,p,xe,T,Qe,V,C);if(J){J=T.fallback,xe=p.mode,V=A.child,Qe=V.sibling;var Ze={mode:"hidden",children:T.children};return(xe&1)===0&&p.child!==V?(T=p.child,T.childLanes=0,T.pendingProps=Ze,p.deletions=null):(T=TA(V,Ze),T.subtreeFlags=V.subtreeFlags&14680064),Qe!==null?J=TA(Qe,J):(J=Qh(J,xe,C,null),J.flags|=2),J.return=p,T.return=p,T.sibling=J,p.child=T,T=J,J=p.child,xe=A.child.memoizedState,xe=xe===null?Xw(C):{baseLanes:xe.baseLanes|C,cachePool:null,transitions:xe.transitions},J.memoizedState=xe,J.childLanes=A.childLanes&~C,p.memoizedState=Yw,T}return J=A.child,A=J.sibling,T=TA(J,{mode:"visible",children:T.children}),(p.mode&1)===0&&(T.lanes=C),T.return=p,T.sibling=null,A!==null&&(C=p.deletions,C===null?(p.deletions=[A],p.flags|=16):C.push(A)),p.child=T,p.memoizedState=null,T}function Zw(A,p){return p=Sv({mode:"visible",children:p},A.mode,0,null),p.return=A,A.child=p}function fv(A,p,C,T){return T!==null&&Fs(T),ua(p,A.child,null,C),A=Zw(p,p.pendingProps.children),A.flags|=2,p.memoizedState=null,A}function I$(A,p,C,T,V,J,xe){if(C)return p.flags&256?(p.flags&=-257,T=$w(Error(n(422))),fv(A,p,xe,T)):p.memoizedState!==null?(p.child=A.child,p.flags|=128,null):(J=T.fallback,V=p.mode,T=Sv({mode:"visible",children:T.children},V,0,null),J=Qh(J,V,xe,null),J.flags|=2,T.return=p,J.return=p,T.sibling=J,p.child=T,(p.mode&1)!==0&&ua(p,A.child,null,xe),p.child.memoizedState=Xw(xe),p.memoizedState=Yw,J);if((p.mode&1)===0)return fv(A,p,xe,null);if(V.data==="$!"){if(T=V.nextSibling&&V.nextSibling.dataset,T)var Qe=T.dgst;return T=Qe,J=Error(n(419)),T=$w(J,T,void 0),fv(A,p,xe,T)}if(Qe=(xe&A.childLanes)!==0,Ul||Qe){if(T=uo,T!==null){switch(xe&-xe){case 4:V=2;break;case 16:V=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:V=32;break;case 536870912:V=268435456;break;default:V=0}V=(V&(T.suspendedLanes|xe))!==0?0:V,V!==0&&V!==J.retryLane&&(J.retryLane=V,Is(A,V),dd(T,A,V,-1))}return mb(),T=$w(Error(n(421))),fv(A,p,xe,T)}return V.data==="$?"?(p.flags|=128,p.child=A.child,p=z$.bind(null,A),V._reactRetry=p,null):(A=J.treeContext,Ut=Ga(V.nextSibling),tt=p,Ot=!0,Qt=null,A!==null&&(Ce[Ie++]=gt,Ce[Ie++]=xt,Ce[Ie++]=Xe,gt=A.id,xt=A.overflow,Xe=p),p=Zw(p,T.children),p.flags|=4096,p)}function BE(A,p,C){A.lanes|=p;var T=A.alternate;T!==null&&(T.lanes|=p),Ll(A.return,p,C)}function eb(A,p,C,T,V){var J=A.memoizedState;J===null?A.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:T,tail:C,tailMode:V}:(J.isBackwards=p,J.rendering=null,J.renderingStartTime=0,J.last=T,J.tail=C,J.tailMode=V)}function EE(A,p,C){var T=p.pendingProps,V=T.revealOrder,J=T.tail;if(fl(A,p,T.children,C),T=Zs.current,(T&2)!==0)T=T&1|2,p.flags|=128;else{if(A!==null&&(A.flags&128)!==0)e:for(A=p.child;A!==null;){if(A.tag===13)A.memoizedState!==null&&BE(A,C,p);else if(A.tag===19)BE(A,C,p);else if(A.child!==null){A.child.return=A,A=A.child;continue}if(A===p)break e;for(;A.sibling===null;){if(A.return===null||A.return===p)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}T&=1}if(Rs(Zs,T),(p.mode&1)===0)p.memoizedState=null;else switch(V){case"forwards":for(C=p.child,V=null;C!==null;)A=C.alternate,A!==null&&sc(A)===null&&(V=C),C=C.sibling;C=V,C===null?(V=p.child,p.child=null):(V=C.sibling,C.sibling=null),eb(p,!1,V,C,J);break;case"backwards":for(C=null,V=p.child,p.child=null;V!==null;){if(A=V.alternate,A!==null&&sc(A)===null){p.child=V;break}A=V.sibling,V.sibling=C,C=V,V=A}eb(p,!0,C,null,J);break;case"together":eb(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function mv(A,p){(p.mode&1)===0&&A!==null&&(A.alternate=null,p.alternate=null,p.flags|=2)}function zu(A,p,C){if(A!==null&&(p.dependencies=A.dependencies),Rh|=p.lanes,(C&p.childLanes)===0)return null;if(A!==null&&p.child!==A.child)throw Error(n(153));if(p.child!==null){for(A=p.child,C=TA(A,A.pendingProps),p.child=C,C.return=p;A.sibling!==null;)A=A.sibling,C=C.sibling=TA(A,A.pendingProps),C.return=p;C.sibling=null}return p.child}function T$(A,p,C){switch(p.tag){case 3:CE(p),Kn();break;case 5:ov(p);break;case 1:Qo(p.type)&&Mu(p);break;case 4:bA(p,p.stateNode.containerInfo);break;case 10:var T=p.type._context,V=p.memoizedProps.value;Rs(lo,T._currentValue),T._currentValue=V;break;case 13:if(T=p.memoizedState,T!==null)return T.dehydrated!==null?(Rs(Zs,Zs.current&1),p.flags|=128,null):(C&p.child.childLanes)!==0?SE(A,p,C):(Rs(Zs,Zs.current&1),A=zu(A,p,C),A!==null?A.sibling:null);Rs(Zs,Zs.current&1);break;case 19:if(T=(C&p.childLanes)!==0,(A.flags&128)!==0){if(T)return EE(A,p,C);p.flags|=128}if(V=p.memoizedState,V!==null&&(V.rendering=null,V.tail=null,V.lastEffect=null),Rs(Zs,Zs.current),T)break;return null;case 22:case 23:return p.lanes=0,bE(A,p,C)}return zu(A,p,C)}var IE,tb,TE,kE;IE=function(A,p){for(var C=p.child;C!==null;){if(C.tag===5||C.tag===6)A.appendChild(C.stateNode);else if(C.tag!==4&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===p)break;for(;C.sibling===null;){if(C.return===null||C.return===p)return;C=C.return}C.sibling.return=C.return,C=C.sibling}},tb=function(){},TE=function(A,p,C,T){var V=A.memoizedProps;if(V!==T){A=p.stateNode,sd(ul.current);var J=null;switch(C){case"input":V=Ve(A,V),T=Ve(A,T),J=[];break;case"select":V=ce({},V,{value:void 0}),T=ce({},T,{value:void 0}),J=[];break;case"textarea":V=Fe(A,V),T=Fe(A,T),J=[];break;default:typeof V.onClick!="function"&&typeof T.onClick=="function"&&(A.onclick=$t)}Cr(C,T);var xe;C=null;for(It in V)if(!T.hasOwnProperty(It)&&V.hasOwnProperty(It)&&V[It]!=null)if(It==="style"){var Qe=V[It];for(xe in Qe)Qe.hasOwnProperty(xe)&&(C||(C={}),C[xe]="")}else It!=="dangerouslySetInnerHTML"&&It!=="children"&&It!=="suppressContentEditableWarning"&&It!=="suppressHydrationWarning"&&It!=="autoFocus"&&(a.hasOwnProperty(It)?J||(J=[]):(J=J||[]).push(It,null));for(It in T){var Ze=T[It];if(Qe=V!=null?V[It]:void 0,T.hasOwnProperty(It)&&Ze!==Qe&&(Ze!=null||Qe!=null))if(It==="style")if(Qe){for(xe in Qe)!Qe.hasOwnProperty(xe)||Ze&&Ze.hasOwnProperty(xe)||(C||(C={}),C[xe]="");for(xe in Ze)Ze.hasOwnProperty(xe)&&Qe[xe]!==Ze[xe]&&(C||(C={}),C[xe]=Ze[xe])}else C||(J||(J=[]),J.push(It,C)),C=Ze;else It==="dangerouslySetInnerHTML"?(Ze=Ze?Ze.__html:void 0,Qe=Qe?Qe.__html:void 0,Ze!=null&&Qe!==Ze&&(J=J||[]).push(It,Ze)):It==="children"?typeof Ze!="string"&&typeof Ze!="number"||(J=J||[]).push(It,""+Ze):It!=="suppressContentEditableWarning"&&It!=="suppressHydrationWarning"&&(a.hasOwnProperty(It)?(Ze!=null&&It==="onScroll"&&Bs("scroll",A),J||Qe===Ze||(J=[])):(J=J||[]).push(It,Ze))}C&&(J=J||[]).push("style",C);var It=J;(p.updateQueue=It)&&(p.flags|=4)}},kE=function(A,p,C,T){C!==T&&(p.flags|=4)};function Ep(A,p){if(!Ot)switch(A.tailMode){case"hidden":p=A.tail;for(var C=null;p!==null;)p.alternate!==null&&(C=p),p=p.sibling;C===null?A.tail=null:C.sibling=null;break;case"collapsed":C=A.tail;for(var T=null;C!==null;)C.alternate!==null&&(T=C),C=C.sibling;T===null?p||A.tail===null?A.tail=null:A.tail.sibling=null:T.sibling=null}}function zo(A){var p=A.alternate!==null&&A.alternate.child===A.child,C=0,T=0;if(p)for(var V=A.child;V!==null;)C|=V.lanes|V.childLanes,T|=V.subtreeFlags&14680064,T|=V.flags&14680064,V.return=A,V=V.sibling;else for(V=A.child;V!==null;)C|=V.lanes|V.childLanes,T|=V.subtreeFlags,T|=V.flags,V.return=A,V=V.sibling;return A.subtreeFlags|=T,A.childLanes=C,p}function k$(A,p,C){var T=p.pendingProps;switch(et(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zo(p),null;case 1:return Qo(p.type)&&Ef(),zo(p),null;case 3:return T=p.stateNode,Sc(),Ds(Uo),Ds(Ja),_p(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(A===null||A.child===null)&&(Ns(p)?p.flags|=4:A===null||A.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,Qt!==null&&(Ab(Qt),Qt=null))),tb(A,p),zo(p),null;case 5:Np(p);var V=sd(Zd.current);if(C=p.type,A!==null&&p.stateNode!=null)TE(A,p,C,T,V),A.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!T){if(p.stateNode===null)throw Error(n(166));return zo(p),null}if(A=sd(ul.current),Ns(p)){T=p.stateNode,C=p.type;var J=p.memoizedProps;switch(T[Fl]=p,T[Zc]=J,A=(p.mode&1)!==0,C){case"dialog":Bs("cancel",T),Bs("close",T);break;case"iframe":case"object":case"embed":Bs("load",T);break;case"video":case"audio":for(V=0;V<rc.length;V++)Bs(rc[V],T);break;case"source":Bs("error",T);break;case"img":case"image":case"link":Bs("error",T),Bs("load",T);break;case"details":Bs("toggle",T);break;case"input":Re(T,J),Bs("invalid",T);break;case"select":T._wrapperState={wasMultiple:!!J.multiple},Bs("invalid",T);break;case"textarea":Oe(T,J),Bs("invalid",T)}Cr(C,J),V=null;for(var xe in J)if(J.hasOwnProperty(xe)){var Qe=J[xe];xe==="children"?typeof Qe=="string"?T.textContent!==Qe&&(J.suppressHydrationWarning!==!0&&St(T.textContent,Qe,A),V=["children",Qe]):typeof Qe=="number"&&T.textContent!==""+Qe&&(J.suppressHydrationWarning!==!0&&St(T.textContent,Qe,A),V=["children",""+Qe]):a.hasOwnProperty(xe)&&Qe!=null&&xe==="onScroll"&&Bs("scroll",T)}switch(C){case"input":He(T),Bt(T,J,!0);break;case"textarea":He(T),nt(T);break;case"select":case"option":break;default:typeof J.onClick=="function"&&(T.onclick=$t)}T=V,p.updateQueue=T,T!==null&&(p.flags|=4)}else{xe=V.nodeType===9?V:V.ownerDocument,A==="http://www.w3.org/1999/xhtml"&&(A=ut(C)),A==="http://www.w3.org/1999/xhtml"?C==="script"?(A=xe.createElement("div"),A.innerHTML="<script><\/script>",A=A.removeChild(A.firstChild)):typeof T.is=="string"?A=xe.createElement(C,{is:T.is}):(A=xe.createElement(C),C==="select"&&(xe=A,T.multiple?xe.multiple=!0:T.size&&(xe.size=T.size))):A=xe.createElementNS(A,C),A[Fl]=p,A[Zc]=T,IE(A,p,!1,!1),p.stateNode=A;e:{switch(xe=Tr(C,T),C){case"dialog":Bs("cancel",A),Bs("close",A),V=T;break;case"iframe":case"object":case"embed":Bs("load",A),V=T;break;case"video":case"audio":for(V=0;V<rc.length;V++)Bs(rc[V],A);V=T;break;case"source":Bs("error",A),V=T;break;case"img":case"image":case"link":Bs("error",A),Bs("load",A),V=T;break;case"details":Bs("toggle",A),V=T;break;case"input":Re(A,T),V=Ve(A,T),Bs("invalid",A);break;case"option":V=T;break;case"select":A._wrapperState={wasMultiple:!!T.multiple},V=ce({},T,{value:void 0}),Bs("invalid",A);break;case"textarea":Oe(A,T),V=Fe(A,T),Bs("invalid",A);break;default:V=T}Cr(C,V),Qe=V;for(J in Qe)if(Qe.hasOwnProperty(J)){var Ze=Qe[J];J==="style"?hr(A,Ze):J==="dangerouslySetInnerHTML"?(Ze=Ze?Ze.__html:void 0,Ze!=null&&Be(A,Ze)):J==="children"?typeof Ze=="string"?(C!=="textarea"||Ze!=="")&&Ye(A,Ze):typeof Ze=="number"&&Ye(A,""+Ze):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(a.hasOwnProperty(J)?Ze!=null&&J==="onScroll"&&Bs("scroll",A):Ze!=null&&S(A,J,Ze,xe))}switch(C){case"input":He(A),Bt(A,T,!1);break;case"textarea":He(A),nt(A);break;case"option":T.value!=null&&A.setAttribute("value",""+ue(T.value));break;case"select":A.multiple=!!T.multiple,J=T.value,J!=null?wt(A,!!T.multiple,J,!1):T.defaultValue!=null&&wt(A,!!T.multiple,T.defaultValue,!0);break;default:typeof V.onClick=="function"&&(A.onclick=$t)}switch(C){case"button":case"input":case"select":case"textarea":T=!!T.autoFocus;break e;case"img":T=!0;break e;default:T=!1}}T&&(p.flags|=4)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return zo(p),null;case 6:if(A&&p.stateNode!=null)kE(A,p,A.memoizedProps,T);else{if(typeof T!="string"&&p.stateNode===null)throw Error(n(166));if(C=sd(Zd.current),sd(ul.current),Ns(p)){if(T=p.stateNode,C=p.memoizedProps,T[Fl]=p,(J=T.nodeValue!==C)&&(A=tt,A!==null))switch(A.tag){case 3:St(T.nodeValue,C,(A.mode&1)!==0);break;case 5:A.memoizedProps.suppressHydrationWarning!==!0&&St(T.nodeValue,C,(A.mode&1)!==0)}J&&(p.flags|=4)}else T=(C.nodeType===9?C:C.ownerDocument).createTextNode(T),T[Fl]=p,p.stateNode=T}return zo(p),null;case 13:if(Ds(Zs),T=p.memoizedState,A===null||A.memoizedState!==null&&A.memoizedState.dehydrated!==null){if(Ot&&Ut!==null&&(p.mode&1)!==0&&(p.flags&128)===0)As(),Kn(),p.flags|=98560,J=!1;else if(J=Ns(p),T!==null&&T.dehydrated!==null){if(A===null){if(!J)throw Error(n(318));if(J=p.memoizedState,J=J!==null?J.dehydrated:null,!J)throw Error(n(317));J[Fl]=p}else Kn(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;zo(p),J=!1}else Qt!==null&&(Ab(Qt),Qt=null),J=!0;if(!J)return p.flags&65536?p:null}return(p.flags&128)!==0?(p.lanes=C,p):(T=T!==null,T!==(A!==null&&A.memoizedState!==null)&&T&&(p.child.flags|=8192,(p.mode&1)!==0&&(A===null||(Zs.current&1)!==0?Xa===0&&(Xa=3):mb())),p.updateQueue!==null&&(p.flags|=4),zo(p),null);case 4:return Sc(),tb(A,p),A===null&&bc(p.stateNode.containerInfo),zo(p),null;case 10:return Ho(p.type._context),zo(p),null;case 17:return Qo(p.type)&&Ef(),zo(p),null;case 19:if(Ds(Zs),J=p.memoizedState,J===null)return zo(p),null;if(T=(p.flags&128)!==0,xe=J.rendering,xe===null)if(T)Ep(J,!1);else{if(Xa!==0||A!==null&&(A.flags&128)!==0)for(A=p.child;A!==null;){if(xe=sc(A),xe!==null){for(p.flags|=128,Ep(J,!1),T=xe.updateQueue,T!==null&&(p.updateQueue=T,p.flags|=4),p.subtreeFlags=0,T=C,C=p.child;C!==null;)J=C,A=T,J.flags&=14680066,xe=J.alternate,xe===null?(J.childLanes=0,J.lanes=A,J.child=null,J.subtreeFlags=0,J.memoizedProps=null,J.memoizedState=null,J.updateQueue=null,J.dependencies=null,J.stateNode=null):(J.childLanes=xe.childLanes,J.lanes=xe.lanes,J.child=xe.child,J.subtreeFlags=0,J.deletions=null,J.memoizedProps=xe.memoizedProps,J.memoizedState=xe.memoizedState,J.updateQueue=xe.updateQueue,J.type=xe.type,A=xe.dependencies,J.dependencies=A===null?null:{lanes:A.lanes,firstContext:A.firstContext}),C=C.sibling;return Rs(Zs,Zs.current&1|2),p.child}A=A.sibling}J.tail!==null&&Ur()>zf&&(p.flags|=128,T=!0,Ep(J,!1),p.lanes=4194304)}else{if(!T)if(A=sc(xe),A!==null){if(p.flags|=128,T=!0,C=A.updateQueue,C!==null&&(p.updateQueue=C,p.flags|=4),Ep(J,!0),J.tail===null&&J.tailMode==="hidden"&&!xe.alternate&&!Ot)return zo(p),null}else 2*Ur()-J.renderingStartTime>zf&&C!==1073741824&&(p.flags|=128,T=!0,Ep(J,!1),p.lanes=4194304);J.isBackwards?(xe.sibling=p.child,p.child=xe):(C=J.last,C!==null?C.sibling=xe:p.child=xe,J.last=xe)}return J.tail!==null?(p=J.tail,J.rendering=p,J.tail=p.sibling,J.renderingStartTime=Ur(),p.sibling=null,C=Zs.current,Rs(Zs,T?C&1|2:C&1),p):(zo(p),null);case 22:case 23:return fb(),T=p.memoizedState!==null,A!==null&&A.memoizedState!==null!==T&&(p.flags|=8192),T&&(p.mode&1)!==0?(oc&1073741824)!==0&&(zo(p),p.subtreeFlags&6&&(p.flags|=8192)):zo(p),null;case 24:return null;case 25:return null}throw Error(n(156,p.tag))}function P$(A,p){switch(et(p),p.tag){case 1:return Qo(p.type)&&Ef(),A=p.flags,A&65536?(p.flags=A&-65537|128,p):null;case 3:return Sc(),Ds(Uo),Ds(Ja),_p(),A=p.flags,(A&65536)!==0&&(A&128)===0?(p.flags=A&-65537|128,p):null;case 5:return Np(p),null;case 13:if(Ds(Zs),A=p.memoizedState,A!==null&&A.dehydrated!==null){if(p.alternate===null)throw Error(n(340));Kn()}return A=p.flags,A&65536?(p.flags=A&-65537|128,p):null;case 19:return Ds(Zs),null;case 4:return Sc(),null;case 10:return Ho(p.type._context),null;case 22:case 23:return fb(),null;case 24:return null;default:return null}}var pv=!1,Vo=!1,D$=typeof WeakSet=="function"?WeakSet:Set,zr=null;function Qf(A,p){var C=A.ref;if(C!==null)if(typeof C=="function")try{C(null)}catch(T){Gi(A,p,T)}else C.current=null}function rb(A,p,C){try{C()}catch(T){Gi(A,p,T)}}var PE=!1;function F$(A,p){if(Ir=tn,A=$d(),Jc(A)){if("selectionStart"in A)var C={start:A.selectionStart,end:A.selectionEnd};else e:{C=(C=A.ownerDocument)&&C.defaultView||window;var T=C.getSelection&&C.getSelection();if(T&&T.rangeCount!==0){C=T.anchorNode;var V=T.anchorOffset,J=T.focusNode;T=T.focusOffset;try{C.nodeType,J.nodeType}catch{C=null;break e}var xe=0,Qe=-1,Ze=-1,It=0,ar=0,cr=A,rr=null;t:for(;;){for(var Mr;cr!==C||V!==0&&cr.nodeType!==3||(Qe=xe+V),cr!==J||T!==0&&cr.nodeType!==3||(Ze=xe+T),cr.nodeType===3&&(xe+=cr.nodeValue.length),(Mr=cr.firstChild)!==null;)rr=cr,cr=Mr;for(;;){if(cr===A)break t;if(rr===C&&++It===V&&(Qe=xe),rr===J&&++ar===T&&(Ze=xe),(Mr=cr.nextSibling)!==null)break;cr=rr,rr=cr.parentNode}cr=Mr}C=Qe===-1||Ze===-1?null:{start:Qe,end:Ze}}else C=null}C=C||{start:0,end:0}}else C=null;for(rn={focusedElem:A,selectionRange:C},tn=!1,zr=p;zr!==null;)if(p=zr,A=p.child,(p.subtreeFlags&1028)!==0&&A!==null)A.return=p,zr=A;else for(;zr!==null;){p=zr;try{var $r=p.alternate;if((p.flags&1024)!==0)switch(p.tag){case 0:case 11:case 15:break;case 1:if($r!==null){var Yr=$r.memoizedProps,fa=$r.memoizedState,bt=p.stateNode,at=bt.getSnapshotBeforeUpdate(p.elementType===p.type?Yr:od(p.type,Yr),fa);bt.__reactInternalSnapshotBeforeUpdate=at}break;case 3:var _t=p.stateNode.containerInfo;_t.nodeType===1?_t.textContent="":_t.nodeType===9&&_t.documentElement&&_t.removeChild(_t.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(pr){Gi(p,p.return,pr)}if(A=p.sibling,A!==null){A.return=p.return,zr=A;break}zr=p.return}return $r=PE,PE=!1,$r}function Ip(A,p,C){var T=p.updateQueue;if(T=T!==null?T.lastEffect:null,T!==null){var V=T=T.next;do{if((V.tag&A)===A){var J=V.destroy;V.destroy=void 0,J!==void 0&&rb(p,C,J)}V=V.next}while(V!==T)}}function gv(A,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var C=p=p.next;do{if((C.tag&A)===A){var T=C.create;C.destroy=T()}C=C.next}while(C!==p)}}function nb(A){var p=A.ref;if(p!==null){var C=A.stateNode;switch(A.tag){case 5:A=C;break;default:A=C}typeof p=="function"?p(A):p.current=A}}function DE(A){var p=A.alternate;p!==null&&(A.alternate=null,DE(p)),A.child=null,A.deletions=null,A.sibling=null,A.tag===5&&(p=A.stateNode,p!==null&&(delete p[Fl],delete p[Zc],delete p[da],delete p[vp],delete p[yp])),A.stateNode=null,A.return=null,A.dependencies=null,A.memoizedProps=null,A.memoizedState=null,A.pendingProps=null,A.stateNode=null,A.updateQueue=null}function FE(A){return A.tag===5||A.tag===3||A.tag===4}function LE(A){e:for(;;){for(;A.sibling===null;){if(A.return===null||FE(A.return))return null;A=A.return}for(A.sibling.return=A.return,A=A.sibling;A.tag!==5&&A.tag!==6&&A.tag!==18;){if(A.flags&2||A.child===null||A.tag===4)continue e;A.child.return=A,A=A.child}if(!(A.flags&2))return A.stateNode}}function sb(A,p,C){var T=A.tag;if(T===5||T===6)A=A.stateNode,p?C.nodeType===8?C.parentNode.insertBefore(A,p):C.insertBefore(A,p):(C.nodeType===8?(p=C.parentNode,p.insertBefore(A,C)):(p=C,p.appendChild(A)),C=C._reactRootContainer,C!=null||p.onclick!==null||(p.onclick=$t));else if(T!==4&&(A=A.child,A!==null))for(sb(A,p,C),A=A.sibling;A!==null;)sb(A,p,C),A=A.sibling}function ib(A,p,C){var T=A.tag;if(T===5||T===6)A=A.stateNode,p?C.insertBefore(A,p):C.appendChild(A);else if(T!==4&&(A=A.child,A!==null))for(ib(A,p,C),A=A.sibling;A!==null;)ib(A,p,C),A=A.sibling}var _o=null,ld=!1;function _A(A,p,C){for(C=C.child;C!==null;)RE(A,p,C),C=C.sibling}function RE(A,p,C){if(Pr&&typeof Pr.onCommitFiberUnmount=="function")try{Pr.onCommitFiberUnmount(Jt,C)}catch{}switch(C.tag){case 5:Vo||Qf(C,p);case 6:var T=_o,V=ld;_o=null,_A(A,p,C),_o=T,ld=V,_o!==null&&(ld?(A=_o,C=C.stateNode,A.nodeType===8?A.parentNode.removeChild(C):A.removeChild(C)):_o.removeChild(C.stateNode));break;case 18:_o!==null&&(ld?(A=_o,C=C.stateNode,A.nodeType===8?kh(A.parentNode,C):A.nodeType===1&&kh(A,C),Ar(A)):kh(_o,C.stateNode));break;case 4:T=_o,V=ld,_o=C.stateNode.containerInfo,ld=!0,_A(A,p,C),_o=T,ld=V;break;case 0:case 11:case 14:case 15:if(!Vo&&(T=C.updateQueue,T!==null&&(T=T.lastEffect,T!==null))){V=T=T.next;do{var J=V,xe=J.destroy;J=J.tag,xe!==void 0&&((J&2)!==0||(J&4)!==0)&&rb(C,p,xe),V=V.next}while(V!==T)}_A(A,p,C);break;case 1:if(!Vo&&(Qf(C,p),T=C.stateNode,typeof T.componentWillUnmount=="function"))try{T.props=C.memoizedProps,T.state=C.memoizedState,T.componentWillUnmount()}catch(Qe){Gi(C,p,Qe)}_A(A,p,C);break;case 21:_A(A,p,C);break;case 22:C.mode&1?(Vo=(T=Vo)||C.memoizedState!==null,_A(A,p,C),Vo=T):_A(A,p,C);break;default:_A(A,p,C)}}function OE(A){var p=A.updateQueue;if(p!==null){A.updateQueue=null;var C=A.stateNode;C===null&&(C=A.stateNode=new D$),p.forEach(function(T){var V=V$.bind(null,A,T);C.has(T)||(C.add(T),T.then(V,V))})}}function cd(A,p){var C=p.deletions;if(C!==null)for(var T=0;T<C.length;T++){var V=C[T];try{var J=A,xe=p,Qe=xe;e:for(;Qe!==null;){switch(Qe.tag){case 5:_o=Qe.stateNode,ld=!1;break e;case 3:_o=Qe.stateNode.containerInfo,ld=!0;break e;case 4:_o=Qe.stateNode.containerInfo,ld=!0;break e}Qe=Qe.return}if(_o===null)throw Error(n(160));RE(J,xe,V),_o=null,ld=!1;var Ze=V.alternate;Ze!==null&&(Ze.return=null),V.return=null}catch(It){Gi(V,p,It)}}if(p.subtreeFlags&12854)for(p=p.child;p!==null;)ME(p,A),p=p.sibling}function ME(A,p){var C=A.alternate,T=A.flags;switch(A.tag){case 0:case 11:case 14:case 15:if(cd(p,A),tu(A),T&4){try{Ip(3,A,A.return),gv(3,A)}catch(Yr){Gi(A,A.return,Yr)}try{Ip(5,A,A.return)}catch(Yr){Gi(A,A.return,Yr)}}break;case 1:cd(p,A),tu(A),T&512&&C!==null&&Qf(C,C.return);break;case 5:if(cd(p,A),tu(A),T&512&&C!==null&&Qf(C,C.return),A.flags&32){var V=A.stateNode;try{Ye(V,"")}catch(Yr){Gi(A,A.return,Yr)}}if(T&4&&(V=A.stateNode,V!=null)){var J=A.memoizedProps,xe=C!==null?C.memoizedProps:J,Qe=A.type,Ze=A.updateQueue;if(A.updateQueue=null,Ze!==null)try{Qe==="input"&&J.type==="radio"&&J.name!=null&&je(V,J),Tr(Qe,xe);var It=Tr(Qe,J);for(xe=0;xe<Ze.length;xe+=2){var ar=Ze[xe],cr=Ze[xe+1];ar==="style"?hr(V,cr):ar==="dangerouslySetInnerHTML"?Be(V,cr):ar==="children"?Ye(V,cr):S(V,ar,cr,It)}switch(Qe){case"input":Mt(V,J);break;case"textarea":_e(V,J);break;case"select":var rr=V._wrapperState.wasMultiple;V._wrapperState.wasMultiple=!!J.multiple;var Mr=J.value;Mr!=null?wt(V,!!J.multiple,Mr,!1):rr!==!!J.multiple&&(J.defaultValue!=null?wt(V,!!J.multiple,J.defaultValue,!0):wt(V,!!J.multiple,J.multiple?[]:"",!1))}V[Zc]=J}catch(Yr){Gi(A,A.return,Yr)}}break;case 6:if(cd(p,A),tu(A),T&4){if(A.stateNode===null)throw Error(n(162));V=A.stateNode,J=A.memoizedProps;try{V.nodeValue=J}catch(Yr){Gi(A,A.return,Yr)}}break;case 3:if(cd(p,A),tu(A),T&4&&C!==null&&C.memoizedState.isDehydrated)try{Ar(p.containerInfo)}catch(Yr){Gi(A,A.return,Yr)}break;case 4:cd(p,A),tu(A);break;case 13:cd(p,A),tu(A),V=A.child,V.flags&8192&&(J=V.memoizedState!==null,V.stateNode.isHidden=J,!J||V.alternate!==null&&V.alternate.memoizedState!==null||(lb=Ur())),T&4&&OE(A);break;case 22:if(ar=C!==null&&C.memoizedState!==null,A.mode&1?(Vo=(It=Vo)||ar,cd(p,A),Vo=It):cd(p,A),tu(A),T&8192){if(It=A.memoizedState!==null,(A.stateNode.isHidden=It)&&!ar&&(A.mode&1)!==0)for(zr=A,ar=A.child;ar!==null;){for(cr=zr=ar;zr!==null;){switch(rr=zr,Mr=rr.child,rr.tag){case 0:case 11:case 14:case 15:Ip(4,rr,rr.return);break;case 1:Qf(rr,rr.return);var $r=rr.stateNode;if(typeof $r.componentWillUnmount=="function"){T=rr,C=rr.return;try{p=T,$r.props=p.memoizedProps,$r.state=p.memoizedState,$r.componentWillUnmount()}catch(Yr){Gi(T,C,Yr)}}break;case 5:Qf(rr,rr.return);break;case 22:if(rr.memoizedState!==null){HE(cr);continue}}Mr!==null?(Mr.return=rr,zr=Mr):HE(cr)}ar=ar.sibling}e:for(ar=null,cr=A;;){if(cr.tag===5){if(ar===null){ar=cr;try{V=cr.stateNode,It?(J=V.style,typeof J.setProperty=="function"?J.setProperty("display","none","important"):J.display="none"):(Qe=cr.stateNode,Ze=cr.memoizedProps.style,xe=Ze!=null&&Ze.hasOwnProperty("display")?Ze.display:null,Qe.style.display=Et("display",xe))}catch(Yr){Gi(A,A.return,Yr)}}}else if(cr.tag===6){if(ar===null)try{cr.stateNode.nodeValue=It?"":cr.memoizedProps}catch(Yr){Gi(A,A.return,Yr)}}else if((cr.tag!==22&&cr.tag!==23||cr.memoizedState===null||cr===A)&&cr.child!==null){cr.child.return=cr,cr=cr.child;continue}if(cr===A)break e;for(;cr.sibling===null;){if(cr.return===null||cr.return===A)break e;ar===cr&&(ar=null),cr=cr.return}ar===cr&&(ar=null),cr.sibling.return=cr.return,cr=cr.sibling}}break;case 19:cd(p,A),tu(A),T&4&&OE(A);break;case 21:break;default:cd(p,A),tu(A)}}function tu(A){var p=A.flags;if(p&2){try{e:{for(var C=A.return;C!==null;){if(FE(C)){var T=C;break e}C=C.return}throw Error(n(160))}switch(T.tag){case 5:var V=T.stateNode;T.flags&32&&(Ye(V,""),T.flags&=-33);var J=LE(A);ib(A,J,V);break;case 3:case 4:var xe=T.stateNode.containerInfo,Qe=LE(A);sb(A,Qe,xe);break;default:throw Error(n(161))}}catch(Ze){Gi(A,A.return,Ze)}A.flags&=-3}p&4096&&(A.flags&=-4097)}function L$(A,p,C){zr=A,UE(A)}function UE(A,p,C){for(var T=(A.mode&1)!==0;zr!==null;){var V=zr,J=V.child;if(V.tag===22&&T){var xe=V.memoizedState!==null||pv;if(!xe){var Qe=V.alternate,Ze=Qe!==null&&Qe.memoizedState!==null||Vo;Qe=pv;var It=Vo;if(pv=xe,(Vo=Ze)&&!It)for(zr=V;zr!==null;)xe=zr,Ze=xe.child,xe.tag===22&&xe.memoizedState!==null?zE(V):Ze!==null?(Ze.return=xe,zr=Ze):zE(V);for(;J!==null;)zr=J,UE(J),J=J.sibling;zr=V,pv=Qe,Vo=It}QE(A)}else(V.subtreeFlags&8772)!==0&&J!==null?(J.return=V,zr=J):QE(A)}}function QE(A){for(;zr!==null;){var p=zr;if((p.flags&8772)!==0){var C=p.alternate;try{if((p.flags&8772)!==0)switch(p.tag){case 0:case 11:case 15:Vo||gv(5,p);break;case 1:var T=p.stateNode;if(p.flags&4&&!Vo)if(C===null)T.componentDidMount();else{var V=p.elementType===p.type?C.memoizedProps:od(p.type,C.memoizedProps);T.componentDidUpdate(V,C.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var J=p.updateQueue;J!==null&&Qu(p,J,T);break;case 3:var xe=p.updateQueue;if(xe!==null){if(C=null,p.child!==null)switch(p.child.tag){case 5:C=p.child.stateNode;break;case 1:C=p.child.stateNode}Qu(p,xe,C)}break;case 5:var Qe=p.stateNode;if(C===null&&p.flags&4){C=Qe;var Ze=p.memoizedProps;switch(p.type){case"button":case"input":case"select":case"textarea":Ze.autoFocus&&C.focus();break;case"img":Ze.src&&(C.src=Ze.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(p.memoizedState===null){var It=p.alternate;if(It!==null){var ar=It.memoizedState;if(ar!==null){var cr=ar.dehydrated;cr!==null&&Ar(cr)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Vo||p.flags&512&&nb(p)}catch(rr){Gi(p,p.return,rr)}}if(p===A){zr=null;break}if(C=p.sibling,C!==null){C.return=p.return,zr=C;break}zr=p.return}}function HE(A){for(;zr!==null;){var p=zr;if(p===A){zr=null;break}var C=p.sibling;if(C!==null){C.return=p.return,zr=C;break}zr=p.return}}function zE(A){for(;zr!==null;){var p=zr;try{switch(p.tag){case 0:case 11:case 15:var C=p.return;try{gv(4,p)}catch(Ze){Gi(p,C,Ze)}break;case 1:var T=p.stateNode;if(typeof T.componentDidMount=="function"){var V=p.return;try{T.componentDidMount()}catch(Ze){Gi(p,V,Ze)}}var J=p.return;try{nb(p)}catch(Ze){Gi(p,J,Ze)}break;case 5:var xe=p.return;try{nb(p)}catch(Ze){Gi(p,xe,Ze)}}}catch(Ze){Gi(p,p.return,Ze)}if(p===A){zr=null;break}var Qe=p.sibling;if(Qe!==null){Qe.return=p.return,zr=Qe;break}zr=p.return}}var R$=Math.ceil,xv=k.ReactCurrentDispatcher,ab=k.ReactCurrentOwner,Ic=k.ReactCurrentBatchConfig,Cs=0,uo=null,Da=null,So=0,oc=0,Hf=nc(0),Xa=0,Tp=null,Rh=0,vv=0,ob=0,kp=null,Ql=null,lb=0,zf=1/0,Vu=null,yv=!1,cb=null,SA=null,wv=!1,BA=null,bv=0,Pp=0,db=null,jv=-1,Nv=0;function ml(){return(Cs&6)!==0?Ur():jv!==-1?jv:jv=Ur()}function EA(A){return(A.mode&1)===0?1:(Cs&2)!==0&&So!==0?So&-So:Os.transition!==null?(Nv===0&&(Nv=tr()),Nv):(A=fn,A!==0||(A=window.event,A=A===void 0?16:Rn(A.type)),A)}function dd(A,p,C,T){if(50<Pp)throw Pp=0,db=null,Error(n(185));on(A,C,T),((Cs&2)===0||A!==uo)&&(A===uo&&((Cs&2)===0&&(vv|=C),Xa===4&&IA(A,So)),Hl(A,T),C===1&&Cs===0&&(p.mode&1)===0&&(zf=Ur()+500,Ph&&ne()))}function Hl(A,p){var C=A.callbackNode;Pe(A,p);var T=wn(A,A===uo?So:0);if(T===0)C!==null&&mr(C),A.callbackNode=null,A.callbackPriority=0;else if(p=T&-T,A.callbackPriority!==p){if(C!=null&&mr(C),p===1)A.tag===0?W(KE.bind(null,A)):P(KE.bind(null,A)),oo(function(){(Cs&6)===0&&ne()}),C=null;else{switch(Hs(T)){case 1:C=Xn;break;case 4:C=ds;break;case 16:C=Nn;break;case 536870912:C=Nt;break;default:C=Nn}C=ZE(C,VE.bind(null,A))}A.callbackPriority=p,A.callbackNode=C}}function VE(A,p){if(jv=-1,Nv=0,(Cs&6)!==0)throw Error(n(327));var C=A.callbackNode;if(Vf()&&A.callbackNode!==C)return null;var T=wn(A,A===uo?So:0);if(T===0)return null;if((T&30)!==0||(T&A.expiredLanes)!==0||p)p=Cv(A,T);else{p=T;var V=Cs;Cs|=2;var J=$E();(uo!==A||So!==p)&&(Vu=null,zf=Ur()+500,Mh(A,p));do try{U$();break}catch(Qe){WE(A,Qe)}while(!0);Ya(),xv.current=J,Cs=V,Da!==null?p=0:(uo=null,So=0,p=Xa)}if(p!==0){if(p===2&&(V=Ct(A),V!==0&&(T=V,p=ub(A,V))),p===1)throw C=Tp,Mh(A,0),IA(A,T),Hl(A,Ur()),C;if(p===6)IA(A,T);else{if(V=A.current.alternate,(T&30)===0&&!O$(V)&&(p=Cv(A,T),p===2&&(J=Ct(A),J!==0&&(T=J,p=ub(A,J))),p===1))throw C=Tp,Mh(A,0),IA(A,T),Hl(A,Ur()),C;switch(A.finishedWork=V,A.finishedLanes=T,p){case 0:case 1:throw Error(n(345));case 2:Uh(A,Ql,Vu);break;case 3:if(IA(A,T),(T&130023424)===T&&(p=lb+500-Ur(),10<p)){if(wn(A,0)!==0)break;if(V=A.suspendedLanes,(V&T)!==T){ml(),A.pingedLanes|=A.suspendedLanes&V;break}A.timeoutHandle=ca(Uh.bind(null,A,Ql,Vu),p);break}Uh(A,Ql,Vu);break;case 4:if(IA(A,T),(T&4194240)===T)break;for(p=A.eventTimes,V=-1;0<T;){var xe=31-Kr(T);J=1<<xe,xe=p[xe],xe>V&&(V=xe),T&=~J}if(T=V,T=Ur()-T,T=(120>T?120:480>T?480:1080>T?1080:1920>T?1920:3e3>T?3e3:4320>T?4320:1960*R$(T/1960))-T,10<T){A.timeoutHandle=ca(Uh.bind(null,A,Ql,Vu),T);break}Uh(A,Ql,Vu);break;case 5:Uh(A,Ql,Vu);break;default:throw Error(n(329))}}}return Hl(A,Ur()),A.callbackNode===C?VE.bind(null,A):null}function ub(A,p){var C=kp;return A.current.memoizedState.isDehydrated&&(Mh(A,p).flags|=256),A=Cv(A,p),A!==2&&(p=Ql,Ql=C,p!==null&&Ab(p)),A}function Ab(A){Ql===null?Ql=A:Ql.push.apply(Ql,A)}function O$(A){for(var p=A;;){if(p.flags&16384){var C=p.updateQueue;if(C!==null&&(C=C.stores,C!==null))for(var T=0;T<C.length;T++){var V=C[T],J=V.getSnapshot;V=V.value;try{if(!gs(J(),V))return!1}catch{return!1}}}if(C=p.child,p.subtreeFlags&16384&&C!==null)C.return=p,p=C;else{if(p===A)break;for(;p.sibling===null;){if(p.return===null||p.return===A)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function IA(A,p){for(p&=~ob,p&=~vv,A.suspendedLanes|=p,A.pingedLanes&=~p,A=A.expirationTimes;0<p;){var C=31-Kr(p),T=1<<C;A[C]=-1,p&=~T}}function KE(A){if((Cs&6)!==0)throw Error(n(327));Vf();var p=wn(A,0);if((p&1)===0)return Hl(A,Ur()),null;var C=Cv(A,p);if(A.tag!==0&&C===2){var T=Ct(A);T!==0&&(p=T,C=ub(A,T))}if(C===1)throw C=Tp,Mh(A,0),IA(A,p),Hl(A,Ur()),C;if(C===6)throw Error(n(345));return A.finishedWork=A.current.alternate,A.finishedLanes=p,Uh(A,Ql,Vu),Hl(A,Ur()),null}function hb(A,p){var C=Cs;Cs|=1;try{return A(p)}finally{Cs=C,Cs===0&&(zf=Ur()+500,Ph&&ne())}}function Oh(A){BA!==null&&BA.tag===0&&(Cs&6)===0&&Vf();var p=Cs;Cs|=1;var C=Ic.transition,T=fn;try{if(Ic.transition=null,fn=1,A)return A()}finally{fn=T,Ic.transition=C,Cs=p,(Cs&6)===0&&ne()}}function fb(){oc=Hf.current,Ds(Hf)}function Mh(A,p){A.finishedWork=null,A.finishedLanes=0;var C=A.timeoutHandle;if(C!==-1&&(A.timeoutHandle=-1,Ti(C)),Da!==null)for(C=Da.return;C!==null;){var T=C;switch(et(T),T.tag){case 1:T=T.type.childContextTypes,T!=null&&Ef();break;case 3:Sc(),Ds(Uo),Ds(Ja),_p();break;case 5:Np(T);break;case 4:Sc();break;case 13:Ds(Zs);break;case 19:Ds(Zs);break;case 10:Ho(T.type._context);break;case 22:case 23:fb()}C=C.return}if(uo=A,Da=A=TA(A.current,null),So=oc=p,Xa=0,Tp=null,ob=vv=Rh=0,Ql=kp=null,dl!==null){for(p=0;p<dl.length;p++)if(C=dl[p],T=C.interleaved,T!==null){C.interleaved=null;var V=T.next,J=C.pending;if(J!==null){var xe=J.next;J.next=V,T.next=xe}C.pending=T}dl=null}return A}function WE(A,p){do{var C=Da;try{if(Ya(),Tf.current=Av,jA){for(var T=ai.memoizedState;T!==null;){var V=T.queue;V!==null&&(V.pending=null),T=T.next}jA=!1}if(Bc=0,Pi=$i=ai=null,id=!1,NA=0,ab.current=null,C===null||C.return===null){Xa=1,Tp=p,Da=null;break}e:{var J=A,xe=C.return,Qe=C,Ze=p;if(p=So,Qe.flags|=32768,Ze!==null&&typeof Ze=="object"&&typeof Ze.then=="function"){var It=Ze,ar=Qe,cr=ar.tag;if((ar.mode&1)===0&&(cr===0||cr===11||cr===15)){var rr=ar.alternate;rr?(ar.updateQueue=rr.updateQueue,ar.memoizedState=rr.memoizedState,ar.lanes=rr.lanes):(ar.updateQueue=null,ar.memoizedState=null)}var Mr=gE(xe);if(Mr!==null){Mr.flags&=-257,xE(Mr,xe,Qe,J,p),Mr.mode&1&&pE(J,It,p),p=Mr,Ze=It;var $r=p.updateQueue;if($r===null){var Yr=new Set;Yr.add(Ze),p.updateQueue=Yr}else $r.add(Ze);break e}else{if((p&1)===0){pE(J,It,p),mb();break e}Ze=Error(n(426))}}else if(Ot&&Qe.mode&1){var fa=gE(xe);if(fa!==null){(fa.flags&65536)===0&&(fa.flags|=256),xE(fa,xe,Qe,J,p),Fs(Uf(Ze,Qe));break e}}J=Ze=Uf(Ze,Qe),Xa!==4&&(Xa=2),kp===null?kp=[J]:kp.push(J),J=xe;do{switch(J.tag){case 3:J.flags|=65536,p&=-p,J.lanes|=p;var bt=fE(J,Ze,p);Ml(J,bt);break e;case 1:Qe=Ze;var at=J.type,_t=J.stateNode;if((J.flags&128)===0&&(typeof at.getDerivedStateFromError=="function"||_t!==null&&typeof _t.componentDidCatch=="function"&&(SA===null||!SA.has(_t)))){J.flags|=65536,p&=-p,J.lanes|=p;var pr=mE(J,Qe,p);Ml(J,pr);break e}}J=J.return}while(J!==null)}qE(C)}catch(Zr){p=Zr,Da===C&&C!==null&&(Da=C=C.return);continue}break}while(!0)}function $E(){var A=xv.current;return xv.current=Av,A===null?Av:A}function mb(){(Xa===0||Xa===3||Xa===2)&&(Xa=4),uo===null||(Rh&268435455)===0&&(vv&268435455)===0||IA(uo,So)}function Cv(A,p){var C=Cs;Cs|=2;var T=$E();(uo!==A||So!==p)&&(Vu=null,Mh(A,p));do try{M$();break}catch(V){WE(A,V)}while(!0);if(Ya(),Cs=C,xv.current=T,Da!==null)throw Error(n(261));return uo=null,So=0,Xa}function M$(){for(;Da!==null;)GE(Da)}function U$(){for(;Da!==null&&!jn();)GE(Da)}function GE(A){var p=XE(A.alternate,A,oc);A.memoizedProps=A.pendingProps,p===null?qE(A):Da=p,ab.current=null}function qE(A){var p=A;do{var C=p.alternate;if(A=p.return,(p.flags&32768)===0){if(C=k$(C,p,oc),C!==null){Da=C;return}}else{if(C=P$(C,p),C!==null){C.flags&=32767,Da=C;return}if(A!==null)A.flags|=32768,A.subtreeFlags=0,A.deletions=null;else{Xa=6,Da=null;return}}if(p=p.sibling,p!==null){Da=p;return}Da=p=A}while(p!==null);Xa===0&&(Xa=5)}function Uh(A,p,C){var T=fn,V=Ic.transition;try{Ic.transition=null,fn=1,Q$(A,p,C,T)}finally{Ic.transition=V,fn=T}return null}function Q$(A,p,C,T){do Vf();while(BA!==null);if((Cs&6)!==0)throw Error(n(327));C=A.finishedWork;var V=A.finishedLanes;if(C===null)return null;if(A.finishedWork=null,A.finishedLanes=0,C===A.current)throw Error(n(177));A.callbackNode=null,A.callbackPriority=0;var J=C.lanes|C.childLanes;if(nn(A,J),A===uo&&(Da=uo=null,So=0),(C.subtreeFlags&2064)===0&&(C.flags&2064)===0||wv||(wv=!0,ZE(Nn,function(){return Vf(),null})),J=(C.flags&15990)!==0,(C.subtreeFlags&15990)!==0||J){J=Ic.transition,Ic.transition=null;var xe=fn;fn=1;var Qe=Cs;Cs|=4,ab.current=null,F$(A,C),ME(C,A),ka(rn),tn=!!Ir,rn=Ir=null,A.current=C,L$(C),Un(),Cs=Qe,fn=xe,Ic.transition=J}else A.current=C;if(wv&&(wv=!1,BA=A,bv=V),J=A.pendingLanes,J===0&&(SA=null),Cn(C.stateNode),Hl(A,Ur()),p!==null)for(T=A.onRecoverableError,C=0;C<p.length;C++)V=p[C],T(V.value,{componentStack:V.stack,digest:V.digest});if(yv)throw yv=!1,A=cb,cb=null,A;return(bv&1)!==0&&A.tag!==0&&Vf(),J=A.pendingLanes,(J&1)!==0?A===db?Pp++:(Pp=0,db=A):Pp=0,ne(),null}function Vf(){if(BA!==null){var A=Hs(bv),p=Ic.transition,C=fn;try{if(Ic.transition=null,fn=16>A?16:A,BA===null)var T=!1;else{if(A=BA,BA=null,bv=0,(Cs&6)!==0)throw Error(n(331));var V=Cs;for(Cs|=4,zr=A.current;zr!==null;){var J=zr,xe=J.child;if((zr.flags&16)!==0){var Qe=J.deletions;if(Qe!==null){for(var Ze=0;Ze<Qe.length;Ze++){var It=Qe[Ze];for(zr=It;zr!==null;){var ar=zr;switch(ar.tag){case 0:case 11:case 15:Ip(8,ar,J)}var cr=ar.child;if(cr!==null)cr.return=ar,zr=cr;else for(;zr!==null;){ar=zr;var rr=ar.sibling,Mr=ar.return;if(DE(ar),ar===It){zr=null;break}if(rr!==null){rr.return=Mr,zr=rr;break}zr=Mr}}}var $r=J.alternate;if($r!==null){var Yr=$r.child;if(Yr!==null){$r.child=null;do{var fa=Yr.sibling;Yr.sibling=null,Yr=fa}while(Yr!==null)}}zr=J}}if((J.subtreeFlags&2064)!==0&&xe!==null)xe.return=J,zr=xe;else e:for(;zr!==null;){if(J=zr,(J.flags&2048)!==0)switch(J.tag){case 0:case 11:case 15:Ip(9,J,J.return)}var bt=J.sibling;if(bt!==null){bt.return=J.return,zr=bt;break e}zr=J.return}}var at=A.current;for(zr=at;zr!==null;){xe=zr;var _t=xe.child;if((xe.subtreeFlags&2064)!==0&&_t!==null)_t.return=xe,zr=_t;else e:for(xe=at;zr!==null;){if(Qe=zr,(Qe.flags&2048)!==0)try{switch(Qe.tag){case 0:case 11:case 15:gv(9,Qe)}}catch(Zr){Gi(Qe,Qe.return,Zr)}if(Qe===xe){zr=null;break e}var pr=Qe.sibling;if(pr!==null){pr.return=Qe.return,zr=pr;break e}zr=Qe.return}}if(Cs=V,ne(),Pr&&typeof Pr.onPostCommitFiberRoot=="function")try{Pr.onPostCommitFiberRoot(Jt,A)}catch{}T=!0}return T}finally{fn=C,Ic.transition=p}}return!1}function JE(A,p,C){p=Uf(C,p),p=fE(A,p,1),A=Ol(A,p,1),p=ml(),A!==null&&(on(A,1,p),Hl(A,p))}function Gi(A,p,C){if(A.tag===3)JE(A,A,C);else for(;p!==null;){if(p.tag===3){JE(p,A,C);break}else if(p.tag===1){var T=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(SA===null||!SA.has(T))){A=Uf(C,A),A=mE(p,A,1),p=Ol(p,A,1),A=ml(),p!==null&&(on(p,1,A),Hl(p,A));break}}p=p.return}}function H$(A,p,C){var T=A.pingCache;T!==null&&T.delete(p),p=ml(),A.pingedLanes|=A.suspendedLanes&C,uo===A&&(So&C)===C&&(Xa===4||Xa===3&&(So&130023424)===So&&500>Ur()-lb?Mh(A,0):ob|=C),Hl(A,p)}function YE(A,p){p===0&&((A.mode&1)===0?p=1:(p=gi,gi<<=1,(gi&130023424)===0&&(gi=4194304)));var C=ml();A=Is(A,p),A!==null&&(on(A,p,C),Hl(A,C))}function z$(A){var p=A.memoizedState,C=0;p!==null&&(C=p.retryLane),YE(A,C)}function V$(A,p){var C=0;switch(A.tag){case 13:var T=A.stateNode,V=A.memoizedState;V!==null&&(C=V.retryLane);break;case 19:T=A.stateNode;break;default:throw Error(n(314))}T!==null&&T.delete(p),YE(A,C)}var XE;XE=function(A,p,C){if(A!==null)if(A.memoizedProps!==p.pendingProps||Uo.current)Ul=!0;else{if((A.lanes&C)===0&&(p.flags&128)===0)return Ul=!1,T$(A,p,C);Ul=(A.flags&131072)!==0}else Ul=!1,Ot&&(p.flags&1048576)!==0&&Vt(p,Ne,p.index);switch(p.lanes=0,p.tag){case 2:var T=p.type;mv(A,p),A=p.pendingProps;var V=vA(p,Ja.current);Ai(p,C),V=Dh(null,p,T,A,V,C);var J=Ec();return p.flags|=1,typeof V=="object"&&V!==null&&typeof V.render=="function"&&V.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,Qo(T)?(J=!0,Mu(p)):J=!1,p.memoizedState=V.state!==null&&V.state!==void 0?V.state:null,If(p),V.updater=hv,p.stateNode=V,V._reactInternals=p,Ww(p,T,A,C),p=Jw(null,p,T,!0,J,C)):(p.tag=0,Ot&&J&&Ft(p),fl(null,p,V,C),p=p.child),p;case 16:T=p.elementType;e:{switch(mv(A,p),A=p.pendingProps,V=T._init,T=V(T._payload),p.type=T,V=p.tag=W$(T),A=od(T,A),V){case 0:p=qw(null,p,T,A,C);break e;case 1:p=NE(null,p,T,A,C);break e;case 11:p=vE(null,p,T,A,C);break e;case 14:p=yE(null,p,T,od(T.type,A),C);break e}throw Error(n(306,T,""))}return p;case 0:return T=p.type,V=p.pendingProps,V=p.elementType===T?V:od(T,V),qw(A,p,T,V,C);case 1:return T=p.type,V=p.pendingProps,V=p.elementType===T?V:od(T,V),NE(A,p,T,V,C);case 3:e:{if(CE(p),A===null)throw Error(n(387));T=p.pendingProps,J=p.memoizedState,V=J.element,jp(A,p),nd(p,T,null,C);var xe=p.memoizedState;if(T=xe.element,J.isDehydrated)if(J={element:T,isDehydrated:!1,cache:xe.cache,pendingSuspenseBoundaries:xe.pendingSuspenseBoundaries,transitions:xe.transitions},p.updateQueue.baseState=J,p.memoizedState=J,p.flags&256){V=Uf(Error(n(423)),p),p=_E(A,p,T,C,V);break e}else if(T!==V){V=Uf(Error(n(424)),p),p=_E(A,p,T,C,V);break e}else for(Ut=Ga(p.stateNode.containerInfo.firstChild),tt=p,Ot=!0,Qt=null,C=Es(p,null,T,C),p.child=C;C;)C.flags=C.flags&-3|4096,C=C.sibling;else{if(Kn(),T===V){p=zu(A,p,C);break e}fl(A,p,T,C)}p=p.child}return p;case 5:return ov(p),A===null&&Br(p),T=p.type,V=p.pendingProps,J=A!==null?A.memoizedProps:null,xe=V.children,Hn(T,V)?xe=null:J!==null&&Hn(T,J)&&(p.flags|=32),jE(A,p),fl(A,p,xe,C),p.child;case 6:return A===null&&Br(p),null;case 13:return SE(A,p,C);case 4:return bA(p,p.stateNode.containerInfo),T=p.pendingProps,A===null?p.child=ua(p,null,T,C):fl(A,p,T,C),p.child;case 11:return T=p.type,V=p.pendingProps,V=p.elementType===T?V:od(T,V),vE(A,p,T,V,C);case 7:return fl(A,p,p.pendingProps,C),p.child;case 8:return fl(A,p,p.pendingProps.children,C),p.child;case 12:return fl(A,p,p.pendingProps.children,C),p.child;case 10:e:{if(T=p.type._context,V=p.pendingProps,J=p.memoizedProps,xe=V.value,Rs(lo,T._currentValue),T._currentValue=xe,J!==null)if(gs(J.value,xe)){if(J.children===V.children&&!Uo.current){p=zu(A,p,C);break e}}else for(J=p.child,J!==null&&(J.return=p);J!==null;){var Qe=J.dependencies;if(Qe!==null){xe=J.child;for(var Ze=Qe.firstContext;Ze!==null;){if(Ze.context===T){if(J.tag===1){Ze=Rl(-1,C&-C),Ze.tag=2;var It=J.updateQueue;if(It!==null){It=It.shared;var ar=It.pending;ar===null?Ze.next=Ze:(Ze.next=ar.next,ar.next=Ze),It.pending=Ze}}J.lanes|=C,Ze=J.alternate,Ze!==null&&(Ze.lanes|=C),Ll(J.return,C,p),Qe.lanes|=C;break}Ze=Ze.next}}else if(J.tag===10)xe=J.type===p.type?null:J.child;else if(J.tag===18){if(xe=J.return,xe===null)throw Error(n(341));xe.lanes|=C,Qe=xe.alternate,Qe!==null&&(Qe.lanes|=C),Ll(xe,C,p),xe=J.sibling}else xe=J.child;if(xe!==null)xe.return=J;else for(xe=J;xe!==null;){if(xe===p){xe=null;break}if(J=xe.sibling,J!==null){J.return=xe.return,xe=J;break}xe=xe.return}J=xe}fl(A,p,V.children,C),p=p.child}return p;case 9:return V=p.type,T=p.pendingProps.children,Ai(p,C),V=Wi(V),T=T(V),p.flags|=1,fl(A,p,T,C),p.child;case 14:return T=p.type,V=od(T,p.pendingProps),V=od(T.type,V),yE(A,p,T,V,C);case 15:return wE(A,p,p.type,p.pendingProps,C);case 17:return T=p.type,V=p.pendingProps,V=p.elementType===T?V:od(T,V),mv(A,p),p.tag=1,Qo(T)?(A=!0,Mu(p)):A=!1,Ai(p,C),AE(p,T,V),Ww(p,T,V,C),Jw(null,p,T,!0,A,C);case 19:return EE(A,p,C);case 22:return bE(A,p,C)}throw Error(n(156,p.tag))};function ZE(A,p){return Ht(A,p)}function K$(A,p,C,T){this.tag=A,this.key=C,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tc(A,p,C,T){return new K$(A,p,C,T)}function pb(A){return A=A.prototype,!(!A||!A.isReactComponent)}function W$(A){if(typeof A=="function")return pb(A)?1:0;if(A!=null){if(A=A.$$typeof,A===R)return 11;if(A===ye)return 14}return 2}function TA(A,p){var C=A.alternate;return C===null?(C=Tc(A.tag,p,A.key,A.mode),C.elementType=A.elementType,C.type=A.type,C.stateNode=A.stateNode,C.alternate=A,A.alternate=C):(C.pendingProps=p,C.type=A.type,C.flags=0,C.subtreeFlags=0,C.deletions=null),C.flags=A.flags&14680064,C.childLanes=A.childLanes,C.lanes=A.lanes,C.child=A.child,C.memoizedProps=A.memoizedProps,C.memoizedState=A.memoizedState,C.updateQueue=A.updateQueue,p=A.dependencies,C.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},C.sibling=A.sibling,C.index=A.index,C.ref=A.ref,C}function _v(A,p,C,T,V,J){var xe=2;if(T=A,typeof A=="function")pb(A)&&(xe=1);else if(typeof A=="string")xe=5;else e:switch(A){case U:return Qh(C.children,V,J,p);case D:xe=8,V|=8;break;case H:return A=Tc(12,C,p,V|2),A.elementType=H,A.lanes=J,A;case Z:return A=Tc(13,C,p,V),A.elementType=Z,A.lanes=J,A;case te:return A=Tc(19,C,p,V),A.elementType=te,A.lanes=J,A;case le:return Sv(C,V,J,p);default:if(typeof A=="object"&&A!==null)switch(A.$$typeof){case K:xe=10;break e;case B:xe=9;break e;case R:xe=11;break e;case ye:xe=14;break e;case de:xe=16,T=null;break e}throw Error(n(130,A==null?A:typeof A,""))}return p=Tc(xe,C,p,V),p.elementType=A,p.type=T,p.lanes=J,p}function Qh(A,p,C,T){return A=Tc(7,A,T,p),A.lanes=C,A}function Sv(A,p,C,T){return A=Tc(22,A,T,p),A.elementType=le,A.lanes=C,A.stateNode={isHidden:!1},A}function gb(A,p,C){return A=Tc(6,A,null,p),A.lanes=C,A}function xb(A,p,C){return p=Tc(4,A.children!==null?A.children:[],A.key,p),p.lanes=C,p.stateNode={containerInfo:A.containerInfo,pendingChildren:null,implementation:A.implementation},p}function $$(A,p,C,T,V){this.tag=p,this.containerInfo=A,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hr(0),this.expirationTimes=Hr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hr(0),this.identifierPrefix=T,this.onRecoverableError=V,this.mutableSourceEagerHydrationData=null}function vb(A,p,C,T,V,J,xe,Qe,Ze){return A=new $$(A,p,C,Qe,Ze),p===1?(p=1,J===!0&&(p|=8)):p=0,J=Tc(3,null,null,p),A.current=J,J.stateNode=A,J.memoizedState={element:T,isDehydrated:C,cache:null,transitions:null,pendingSuspenseBoundaries:null},If(J),A}function G$(A,p,C){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:T==null?null:""+T,children:A,containerInfo:p,implementation:C}}function e3(A){if(!A)return Yd;A=A._reactInternals;e:{if(Pn(A)!==A||A.tag!==1)throw Error(n(170));var p=A;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(Qo(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(n(171))}if(A.tag===1){var C=A.type;if(Qo(C))return bp(A,C,p)}return p}function t3(A,p,C,T,V,J,xe,Qe,Ze){return A=vb(C,T,!0,A,V,J,xe,Qe,Ze),A.context=e3(null),C=A.current,T=ml(),V=EA(C),J=Rl(T,V),J.callback=p??null,Ol(C,J,V),A.current.lanes=V,on(A,V,T),Hl(A,T),A}function Bv(A,p,C,T){var V=p.current,J=ml(),xe=EA(V);return C=e3(C),p.context===null?p.context=C:p.pendingContext=C,p=Rl(J,xe),p.payload={element:A},T=T===void 0?null:T,T!==null&&(p.callback=T),A=Ol(V,p,xe),A!==null&&(dd(A,V,xe,J),Uu(A,V,xe)),xe}function Ev(A){if(A=A.current,!A.child)return null;switch(A.child.tag){case 5:return A.child.stateNode;default:return A.child.stateNode}}function r3(A,p){if(A=A.memoizedState,A!==null&&A.dehydrated!==null){var C=A.retryLane;A.retryLane=C!==0&&C<p?C:p}}function yb(A,p){r3(A,p),(A=A.alternate)&&r3(A,p)}function q$(){return null}var n3=typeof reportError=="function"?reportError:function(A){console.error(A)};function wb(A){this._internalRoot=A}Iv.prototype.render=wb.prototype.render=function(A){var p=this._internalRoot;if(p===null)throw Error(n(409));Bv(A,p,null,null)},Iv.prototype.unmount=wb.prototype.unmount=function(){var A=this._internalRoot;if(A!==null){this._internalRoot=null;var p=A.containerInfo;Oh(function(){Bv(null,A,null,null)}),p[ts]=null}};function Iv(A){this._internalRoot=A}Iv.prototype.unstable_scheduleHydration=function(A){if(A){var p=na();A={blockedOn:null,target:A,priority:p};for(var C=0;C<Ys.length&&p!==0&&p<Ys[C].priority;C++);Ys.splice(C,0,A),C===0&&Hi(A)}};function bb(A){return!(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11)}function Tv(A){return!(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11&&(A.nodeType!==8||A.nodeValue!==" react-mount-point-unstable "))}function s3(){}function J$(A,p,C,T,V){if(V){if(typeof T=="function"){var J=T;T=function(){var It=Ev(xe);J.call(It)}}var xe=t3(p,T,A,0,null,!1,!1,"",s3);return A._reactRootContainer=xe,A[ts]=xe.current,bc(A.nodeType===8?A.parentNode:A),Oh(),xe}for(;V=A.lastChild;)A.removeChild(V);if(typeof T=="function"){var Qe=T;T=function(){var It=Ev(Ze);Qe.call(It)}}var Ze=vb(A,0,!1,null,null,!1,!1,"",s3);return A._reactRootContainer=Ze,A[ts]=Ze.current,bc(A.nodeType===8?A.parentNode:A),Oh(function(){Bv(p,Ze,C,T)}),Ze}function kv(A,p,C,T,V){var J=C._reactRootContainer;if(J){var xe=J;if(typeof V=="function"){var Qe=V;V=function(){var Ze=Ev(xe);Qe.call(Ze)}}Bv(p,xe,A,V)}else xe=J$(C,p,A,V,T);return Ev(xe)}Ci=function(A){switch(A.tag){case 3:var p=A.stateNode;if(p.current.memoizedState.isDehydrated){var C=Wr(p.pendingLanes);C!==0&&(us(p,C|1),Hl(p,Ur()),(Cs&6)===0&&(zf=Ur()+500,ne()))}break;case 13:Oh(function(){var T=Is(A,1);if(T!==null){var V=ml();dd(T,A,1,V)}}),yb(A,1)}},Qa=function(A){if(A.tag===13){var p=Is(A,134217728);if(p!==null){var C=ml();dd(p,A,134217728,C)}yb(A,134217728)}},go=function(A){if(A.tag===13){var p=EA(A),C=Is(A,p);if(C!==null){var T=ml();dd(C,A,p,T)}yb(A,p)}},na=function(){return fn},ni=function(A,p){var C=fn;try{return fn=A,p()}finally{fn=C}},Ke=function(A,p,C){switch(p){case"input":if(Mt(A,C),p=C.name,C.type==="radio"&&p!=null){for(C=A;C.parentNode;)C=C.parentNode;for(C=C.querySelectorAll("input[name="+JSON.stringify(""+p)+'][type="radio"]'),p=0;p<C.length;p++){var T=C[p];if(T!==A&&T.form===A.form){var V=Ru(T);if(!V)throw Error(n(90));rt(T),Mt(T,V)}}}break;case"textarea":_e(A,C);break;case"select":p=C.value,p!=null&&wt(A,!!C.multiple,p,!1)}},_r=hb,ot=Oh;var Y$={usingClientEntryPoint:!1,Events:[Nc,Cc,Ru,it,Pt,hb]},Dp={findFiberByHostInstance:jc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},X$={bundleType:Dp.bundleType,version:Dp.version,rendererPackageName:Dp.rendererPackageName,rendererConfig:Dp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(A){return A=wr(A),A===null?null:A.stateNode},findFiberByHostInstance:Dp.findFiberByHostInstance||q$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pv.isDisabled&&Pv.supportsFiber)try{Jt=Pv.inject(X$),Pr=Pv}catch{}}return zl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y$,zl.createPortal=function(A,p){var C=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bb(p))throw Error(n(200));return G$(A,p,null,C)},zl.createRoot=function(A,p){if(!bb(A))throw Error(n(299));var C=!1,T="",V=n3;return p!=null&&(p.unstable_strictMode===!0&&(C=!0),p.identifierPrefix!==void 0&&(T=p.identifierPrefix),p.onRecoverableError!==void 0&&(V=p.onRecoverableError)),p=vb(A,1,!1,null,null,C,!1,T,V),A[ts]=p.current,bc(A.nodeType===8?A.parentNode:A),new wb(p)},zl.findDOMNode=function(A){if(A==null)return null;if(A.nodeType===1)return A;var p=A._reactInternals;if(p===void 0)throw typeof A.render=="function"?Error(n(188)):(A=Object.keys(A).join(","),Error(n(268,A)));return A=wr(p),A=A===null?null:A.stateNode,A},zl.flushSync=function(A){return Oh(A)},zl.hydrate=function(A,p,C){if(!Tv(p))throw Error(n(200));return kv(null,A,p,!0,C)},zl.hydrateRoot=function(A,p,C){if(!bb(A))throw Error(n(405));var T=C!=null&&C.hydratedSources||null,V=!1,J="",xe=n3;if(C!=null&&(C.unstable_strictMode===!0&&(V=!0),C.identifierPrefix!==void 0&&(J=C.identifierPrefix),C.onRecoverableError!==void 0&&(xe=C.onRecoverableError)),p=t3(p,null,A,1,C??null,V,!1,J,xe),A[ts]=p.current,bc(A),T)for(A=0;A<T.length;A++)C=T[A],V=C._getVersion,V=V(C._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[C,V]:p.mutableSourceEagerHydrationData.push(C,V);return new Iv(p)},zl.render=function(A,p,C){if(!Tv(p))throw Error(n(200));return kv(null,A,p,!1,C)},zl.unmountComponentAtNode=function(A){if(!Tv(A))throw Error(n(40));return A._reactRootContainer?(Oh(function(){kv(null,null,A,!1,function(){A._reactRootContainer=null,A[ts]=null})}),!0):!1},zl.unstable_batchedUpdates=hb,zl.unstable_renderSubtreeIntoContainer=function(A,p,C,T){if(!Tv(C))throw Error(n(200));if(A==null||A._reactInternals===void 0)throw Error(n(38));return kv(A,p,C,!1,T)},zl.version="18.3.1-next-f1338f8080-20240426",zl}var A3;function FR(){if(A3)return Cb.exports;A3=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Cb.exports=aG(),Cb.exports}var h3;function oG(){if(h3)return Dv;h3=1;var e=FR();return Dv.createRoot=e.createRoot,Dv.hydrateRoot=e.hydrateRoot,Dv}var lG=oG();const cG=$m(lG),l1=()=>!window.invokeNative;function Ws(e){if(!e)return"";try{return new URL(e).href}catch{return l1()?`./images/${e}`:`./images/${e}`}}const dG=()=>{},Gs=(e,t)=>{const n=m.useRef(dG);m.useEffect(()=>{n.current=t},[t]),m.useEffect(()=>{const s=a=>{const{action:i,data:o}=a.data;n.current&&i===e&&n.current(o)};return window.addEventListener("message",s),()=>window.removeEventListener("message",s)},[e])};async function ke(e,t,n){const s={method:"post",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(t)};if(l1()&&n)return n;const a="kartik-mdt";try{const i=await fetch(`https://${a}/${e}`,s);if(!i.ok)throw console.error(`No response received for event: ${e}`),new Error(`No response received for event: ${e}`);const o=await i.text();return o?JSON.parse(o):(console.warn(`Empty response for event: ${e}`),{})}catch(i){throw console.error(`Error fetching NUI for ${e}:`,i),i}}const LR=m.createContext(null),uG=({children:e})=>{const[t,n]=m.useState(!0);return Gs("setVisible",n),m.useEffect(()=>{if(!t)return;const s=a=>{["Escape"].includes(a.code)&&(l1()?n(!t):ke("hideFrame"))};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[t]),r.jsx(LR.Provider,{value:{visible:t,setVisible:n},children:r.jsx("div",{style:{visibility:t?"visible":"hidden",height:"100%"},children:e})})},AG=()=>m.useContext(LR);var Lp={},f3;function hG(){if(f3)return Lp;f3=1,Object.defineProperty(Lp,"__esModule",{value:!0}),Lp.parse=o,Lp.serialize=d;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,i=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function o(v,g){const w=new i,y=v.length;if(y<2)return w;const b=(g==null?void 0:g.decode)||u;let x=0;do{const N=v.indexOf("=",x);if(N===-1)break;const S=v.indexOf(";",x),k=S===-1?y:S;if(N>k){x=v.lastIndexOf(";",N-1)+1;continue}const F=l(v,x,N),$=c(v,N,F),U=v.slice(F,$);if(w[U]===void 0){let D=l(v,N+1,k),H=c(v,k,D);const K=b(v.slice(D,H));w[U]=K}x=k+1}while(x<y);return w}function l(v,g,w){do{const y=v.charCodeAt(g);if(y!==32&&y!==9)return g}while(++g<w);return w}function c(v,g,w){for(;g>w;){const y=v.charCodeAt(--g);if(y!==32&&y!==9)return g+1}return w}function d(v,g,w){const y=(w==null?void 0:w.encode)||encodeURIComponent;if(!e.test(v))throw new TypeError(`argument name is invalid: ${v}`);const b=y(g);if(!t.test(b))throw new TypeError(`argument val is invalid: ${g}`);let x=v+"="+b;if(!w)return x;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);x+="; Max-Age="+w.maxAge}if(w.domain){if(!n.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);x+="; Domain="+w.domain}if(w.path){if(!s.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);x+="; Path="+w.path}if(w.expires){if(!f(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);x+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(x+="; HttpOnly"),w.secure&&(x+="; Secure"),w.partitioned&&(x+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":x+="; Priority=Low";break;case"medium":x+="; Priority=Medium";break;case"high":x+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":x+="; SameSite=Strict";break;case"lax":x+="; SameSite=Lax";break;case"none":x+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return x}function u(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function f(v){return a.call(v)==="[object Date]"}return Lp}hG();var m3="popstate";function fG(e={}){function t(a,i){let{pathname:o="/",search:l="",hash:c=""}=vf(a.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),n_("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(a,i){let o=a.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=a.location.href,d=c.indexOf("#");l=d===-1?c:c.slice(0,d)}return l+"#"+(typeof i=="string"?i:zg(i))}function s(a,i){Cd(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return pG(t,n,s,e)}function Ri(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Cd(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function mG(){return Math.random().toString(36).substring(2,10)}function p3(e,t){return{usr:e.state,key:e.key,idx:t}}function n_(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?vf(t):t,state:n,key:t&&t.key||s||mG()}}function zg({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function vf(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function pG(e,t,n,s={}){let{window:a=document.defaultView,v5Compat:i=!1}=s,o=a.history,l="POP",c=null,d=u();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function u(){return(o.state||{idx:null}).idx}function f(){l="POP";let b=u(),x=b==null?null:b-d;d=b,c&&c({action:l,location:y.location,delta:x})}function v(b,x){l="PUSH";let N=n_(y.location,b,x);n&&n(N,b),d=u()+1;let S=p3(N,d),k=y.createHref(N);try{o.pushState(S,"",k)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;a.location.assign(k)}i&&c&&c({action:l,location:y.location,delta:1})}function g(b,x){l="REPLACE";let N=n_(y.location,b,x);n&&n(N,b),d=u();let S=p3(N,d),k=y.createHref(N);o.replaceState(S,"",k),i&&c&&c({action:l,location:y.location,delta:0})}function w(b){let x=a.location.origin!=="null"?a.location.origin:a.location.href,N=typeof b=="string"?b:zg(b);return N=N.replace(/ $/,"%20"),Ri(x,`No window.location.(origin|href) available to create URL for href: ${N}`),new URL(N,x)}let y={get action(){return l},get location(){return e(a,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(m3,f),c=b,()=>{a.removeEventListener(m3,f),c=null}},createHref(b){return t(a,b)},createURL:w,encodeLocation(b){let x=w(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:v,replace:g,go(b){return o.go(b)}};return y}function RR(e,t,n="/"){return gG(e,t,n,!1)}function gG(e,t,n,s){let a=typeof t=="string"?vf(t):t,i=sA(a.pathname||"/",n);if(i==null)return null;let o=OR(e);xG(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=EG(i);l=SG(o[c],d,s)}return l}function OR(e,t=[],n=[],s=""){let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Ri(c.relativePath.startsWith(s),`Absolute route path "${c.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(s.length));let d=Xu([s,c.relativePath]),u=n.concat(c);i.children&&i.children.length>0&&(Ri(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),OR(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:CG(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of MR(i.path))a(i,o,c)}),t}function MR(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let o=MR(s.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function xG(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:_G(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var vG=/^:[\w-]+$/,yG=3,wG=2,bG=1,jG=10,NG=-2,g3=e=>e==="*";function CG(e,t){let n=e.split("/"),s=n.length;return n.some(g3)&&(s+=NG),t&&(s+=wG),n.filter(a=>!g3(a)).reduce((a,i)=>a+(vG.test(i)?yG:i===""?bG:jG),s)}function _G(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function SG(e,t,n=!1){let{routesMeta:s}=e,a={},i="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=fy({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),v=c.route;if(!f&&d&&n&&!s[s.length-1].route.index&&(f=fy({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Xu([i,f.pathname]),pathnameBase:PG(Xu([i,f.pathnameBase])),route:v}),f.pathnameBase!=="/"&&(i=Xu([i,f.pathnameBase]))}return o}function fy(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=BG(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:s.reduce((d,{paramName:u,isOptional:f},v)=>{if(u==="*"){let w=l[v]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const g=l[v];return f&&!g?d[u]=void 0:d[u]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function BG(e,t=!1,n=!0){Cd(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function EG(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Cd(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function sA(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function IG(e,t="/"){let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?vf(e):e;return{pathname:n?n.startsWith("/")?n:TG(n,t):t,search:DG(s),hash:FG(a)}}function TG(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Bb(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kG(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function UR(e){let t=kG(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function QR(e,t,n,s=!1){let a;typeof e=="string"?a=vf(e):(a={...e},Ri(!a.pathname||!a.pathname.includes("?"),Bb("?","pathname","search",a)),Ri(!a.pathname||!a.pathname.includes("#"),Bb("#","pathname","hash",a)),Ri(!a.search||!a.search.includes("#"),Bb("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=n;else{let f=t.length-1;if(!s&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),f-=1;a.pathname=v.join("/")}l=f>=0?t[f]:"/"}let c=IG(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}var Xu=e=>e.join("/").replace(/\/\/+/g,"/"),PG=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),DG=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,FG=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function LG(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var HR=["POST","PUT","PATCH","DELETE"];new Set(HR);var RG=["GET",...HR];new Set(RG);var Gm=m.createContext(null);Gm.displayName="DataRouter";var c1=m.createContext(null);c1.displayName="DataRouterState";var zR=m.createContext({isTransitioning:!1});zR.displayName="ViewTransition";var OG=m.createContext(new Map);OG.displayName="Fetchers";var MG=m.createContext(null);MG.displayName="Await";var wu=m.createContext(null);wu.displayName="Navigation";var gx=m.createContext(null);gx.displayName="Location";var bu=m.createContext({outlet:null,matches:[],isDataRoute:!1});bu.displayName="Route";var iS=m.createContext(null);iS.displayName="RouteError";function UG(e,{relative:t}={}){Ri(xx(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=m.useContext(wu),{hash:a,pathname:i,search:o}=vx(e,{relative:t}),l=i;return n!=="/"&&(l=i==="/"?n:Xu([n,i])),s.createHref({pathname:l,search:o,hash:a})}function xx(){return m.useContext(gx)!=null}function li(){return Ri(xx(),"useLocation() may be used only in the context of a <Router> component."),m.useContext(gx).location}var VR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function KR(e){m.useContext(wu).static||m.useLayoutEffect(e)}function Vc(){let{isDataRoute:e}=m.useContext(bu);return e?ZG():QG()}function QG(){Ri(xx(),"useNavigate() may be used only in the context of a <Router> component.");let e=m.useContext(Gm),{basename:t,navigator:n}=m.useContext(wu),{matches:s}=m.useContext(bu),{pathname:a}=li(),i=JSON.stringify(UR(s)),o=m.useRef(!1);return KR(()=>{o.current=!0}),m.useCallback((c,d={})=>{if(Cd(o.current,VR),!o.current)return;if(typeof c=="number"){n.go(c);return}let u=QR(c,JSON.parse(i),a,d.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:Xu([t,u.pathname])),(d.replace?n.replace:n.push)(u,d.state,d)},[t,n,i,a,e])}m.createContext(null);function aS(){let{matches:e}=m.useContext(bu),t=e[e.length-1];return t?t.params:{}}function vx(e,{relative:t}={}){let{matches:n}=m.useContext(bu),{pathname:s}=li(),a=JSON.stringify(UR(n));return m.useMemo(()=>QR(e,JSON.parse(a),s,t==="path"),[e,a,s,t])}function HG(e,t){return WR(e,t)}function WR(e,t,n,s){var N;Ri(xx(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:i}=m.useContext(wu),{matches:o}=m.useContext(bu),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",u=l?l.pathnameBase:"/",f=l&&l.route;{let S=f&&f.path||"";$R(d,!f||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let v=li(),g;if(t){let S=typeof t=="string"?vf(t):t;Ri(u==="/"||((N=S.pathname)==null?void 0:N.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${S.pathname}" was given in the \`location\` prop.`),g=S}else g=v;let w=g.pathname||"/",y=w;if(u!=="/"){let S=u.replace(/^\//,"").split("/");y="/"+w.replace(/^\//,"").split("/").slice(S.length).join("/")}let b=!i&&n&&n.matches&&n.matches.length>0?n.matches:RR(e,{pathname:y});Cd(f||b!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Cd(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=$G(b&&b.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:Xu([u,a.encodeLocation?a.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?u:Xu([u,a.encodeLocation?a.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),o,n,s);return t&&x?m.createElement(gx.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},x):x}function zG(){let e=XG(),t=LG(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},i={padding:"2px 4px",backgroundColor:s},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=m.createElement(m.Fragment,null,m.createElement("p",null," Hey developer "),m.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",m.createElement("code",{style:i},"ErrorBoundary")," or"," ",m.createElement("code",{style:i},"errorElement")," prop on your route.")),m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),n?m.createElement("pre",{style:a},n):null,o)}var VG=m.createElement(zG,null),KG=class extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?m.createElement(bu.Provider,{value:this.props.routeContext},m.createElement(iS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function WG({routeContext:e,match:t,children:n}){let s=m.useContext(Gm);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),m.createElement(bu.Provider,{value:e},n)}function $G(e,t=[],n=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,i=n==null?void 0:n.errors;if(i!=null){let c=a.findIndex(d=>d.route.id&&(i==null?void 0:i[d.route.id])!==void 0);Ri(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),a=a.slice(0,Math.min(a.length,c+1))}let o=!1,l=-1;if(n)for(let c=0;c<a.length;c++){let d=a[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=c),d.route.id){let{loaderData:u,errors:f}=n,v=d.route.loader&&!u.hasOwnProperty(d.route.id)&&(!f||f[d.route.id]===void 0);if(d.route.lazy||v){o=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}return a.reduceRight((c,d,u)=>{let f,v=!1,g=null,w=null;n&&(f=i&&d.route.id?i[d.route.id]:void 0,g=d.route.errorElement||VG,o&&(l<0&&u===0?($R("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):l===u&&(v=!0,w=d.route.hydrateFallbackElement||null)));let y=t.concat(a.slice(0,u+1)),b=()=>{let x;return f?x=g:v?x=w:d.route.Component?x=m.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=c,m.createElement(WG,{match:d,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:x})};return n&&(d.route.ErrorBoundary||d.route.errorElement||u===0)?m.createElement(KG,{location:n.location,revalidation:n.revalidation,component:g,error:f,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}function oS(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GG(e){let t=m.useContext(Gm);return Ri(t,oS(e)),t}function qG(e){let t=m.useContext(c1);return Ri(t,oS(e)),t}function JG(e){let t=m.useContext(bu);return Ri(t,oS(e)),t}function lS(e){let t=JG(e),n=t.matches[t.matches.length-1];return Ri(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function YG(){return lS("useRouteId")}function XG(){var s;let e=m.useContext(iS),t=qG("useRouteError"),n=lS("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[n]}function ZG(){let{router:e}=GG("useNavigate"),t=lS("useNavigate"),n=m.useRef(!1);return KR(()=>{n.current=!0}),m.useCallback(async(a,i={})=>{Cd(n.current,VR),n.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var x3={};function $R(e,t,n){!t&&!x3[e]&&(x3[e]=!0,Cd(!1,n))}m.memo(eq);function eq({routes:e,future:t,state:n}){return WR(e,void 0,n,t)}function ei(e){Ri(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function tq({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:a,static:i=!1}){Ri(!xx(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=m.useMemo(()=>({basename:o,navigator:a,static:i,future:{}}),[o,a,i]);typeof n=="string"&&(n=vf(n));let{pathname:c="/",search:d="",hash:u="",state:f=null,key:v="default"}=n,g=m.useMemo(()=>{let w=sA(c,o);return w==null?null:{location:{pathname:w,search:d,hash:u,state:f,key:v},navigationType:s}},[o,c,d,u,f,v,s]);return Cd(g!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${u}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:m.createElement(wu.Provider,{value:l},m.createElement(gx.Provider,{children:t,value:g}))}function rq({children:e,location:t}){return HG(s_(e),t)}function s_(e,t=[]){let n=[];return m.Children.forEach(e,(s,a)=>{if(!m.isValidElement(s))return;let i=[...t,a];if(s.type===m.Fragment){n.push.apply(n,s_(s.props.children,i));return}Ri(s.type===ei,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ri(!s.props.index||!s.props.children,"An index route cannot have child routes.");let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=s_(s.props.children,i)),n.push(o)}),n}var M0="get",U0="application/x-www-form-urlencoded";function d1(e){return e!=null&&typeof e.tagName=="string"}function nq(e){return d1(e)&&e.tagName.toLowerCase()==="button"}function sq(e){return d1(e)&&e.tagName.toLowerCase()==="form"}function iq(e){return d1(e)&&e.tagName.toLowerCase()==="input"}function aq(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function oq(e,t){return e.button===0&&(!t||t==="_self")&&!aq(e)}var Fv=null;function lq(){if(Fv===null)try{new FormData(document.createElement("form"),0),Fv=!1}catch{Fv=!0}return Fv}var cq=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Eb(e){return e!=null&&!cq.has(e)?(Cd(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${U0}"`),null):e}function dq(e,t){let n,s,a,i,o;if(sq(e)){let l=e.getAttribute("action");s=l?sA(l,t):null,n=e.getAttribute("method")||M0,a=Eb(e.getAttribute("enctype"))||U0,i=new FormData(e)}else if(nq(e)||iq(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(s=c?sA(c,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||M0,a=Eb(e.getAttribute("formenctype"))||Eb(l.getAttribute("enctype"))||U0,i=new FormData(l,e),!lq()){let{name:d,type:u,value:f}=e;if(u==="image"){let v=d?`${d}.`:"";i.append(`${v}x`,"0"),i.append(`${v}y`,"0")}else d&&i.append(d,f)}}else{if(d1(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=M0,s=null,a=U0,o=e}return i&&a==="text/plain"&&(o=i,i=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:i,body:o}}function cS(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function uq(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Aq(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function hq(e,t,n){let s=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let o=await uq(i,n);return o.links?o.links():[]}return[]}));return gq(s.flat(1).filter(Aq).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function v3(e,t,n,s,a,i){let o=(c,d)=>n[d]?c.route.id!==n[d].route.id:!0,l=(c,d)=>{var u;return n[d].pathname!==c.pathname||((u=n[d].route.path)==null?void 0:u.endsWith("*"))&&n[d].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,d)=>o(c,d)||l(c,d)):i==="data"?t.filter((c,d)=>{var f;let u=s.routes[c.route.id];if(!u||!u.hasLoader)return!1;if(o(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let v=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function fq(e,t,{includeHydrateFallback:n}={}){return mq(e.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function mq(e){return[...new Set(e)]}function pq(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function gq(e,t){let n=new Set;return new Set(t),e.reduce((s,a)=>{let i=JSON.stringify(pq(a));return n.has(i)||(n.add(i),s.push({key:i,link:a})),s},[])}var xq=new Set([100,101,204,205]);function vq(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&sA(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function GR(){let e=m.useContext(Gm);return cS(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function yq(){let e=m.useContext(c1);return cS(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var dS=m.createContext(void 0);dS.displayName="FrameworkContext";function qR(){let e=m.useContext(dS);return cS(e,"You must render this element inside a <HydratedRouter> element"),e}function wq(e,t){let n=m.useContext(dS),[s,a]=m.useState(!1),[i,o]=m.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:f}=t,v=m.useRef(null);m.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let y=x=>{x.forEach(N=>{o(N.isIntersecting)})},b=new IntersectionObserver(y,{threshold:.5});return v.current&&b.observe(v.current),()=>{b.disconnect()}}},[e]),m.useEffect(()=>{if(s){let y=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(y)}}},[s]);let g=()=>{a(!0)},w=()=>{a(!1),o(!1)};return n?e!=="intent"?[i,v,{}]:[i,v,{onFocus:Rp(l,g),onBlur:Rp(c,w),onMouseEnter:Rp(d,g),onMouseLeave:Rp(u,w),onTouchStart:Rp(f,g)}]:[!1,v,{}]}function Rp(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function bq({page:e,...t}){let{router:n}=GR(),s=m.useMemo(()=>RR(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?m.createElement(Nq,{page:e,matches:s,...t}):null}function jq(e){let{manifest:t,routeModules:n}=qR(),[s,a]=m.useState([]);return m.useEffect(()=>{let i=!1;return hq(e,t,n).then(o=>{i||a(o)}),()=>{i=!0}},[e,t,n]),s}function Nq({page:e,matches:t,...n}){let s=li(),{manifest:a,routeModules:i}=qR(),{basename:o}=GR(),{loaderData:l,matches:c}=yq(),d=m.useMemo(()=>v3(e,t,c,a,s,"data"),[e,t,c,a,s]),u=m.useMemo(()=>v3(e,t,c,a,s,"assets"),[e,t,c,a,s]),f=m.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let w=new Set,y=!1;if(t.forEach(x=>{var S;let N=a.routes[x.route.id];!N||!N.hasLoader||(!d.some(k=>k.route.id===x.route.id)&&x.route.id in l&&((S=i[x.route.id])!=null&&S.shouldRevalidate)||N.hasClientLoader?y=!0:w.add(x.route.id))}),w.size===0)return[];let b=vq(e,o);return y&&w.size>0&&b.searchParams.set("_routes",t.filter(x=>w.has(x.route.id)).map(x=>x.route.id).join(",")),[b.pathname+b.search]},[o,l,s,a,d,t,e,i]),v=m.useMemo(()=>fq(u,a),[u,a]),g=jq(u);return m.createElement(m.Fragment,null,f.map(w=>m.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),v.map(w=>m.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),g.map(({key:w,link:y})=>m.createElement("link",{key:w,...y})))}function Cq(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var JR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{JR&&(window.__reactRouterVersion="7.5.3")}catch{}function _q({basename:e,children:t,window:n}){let s=m.useRef();s.current==null&&(s.current=fG({window:n,v5Compat:!0}));let a=s.current,[i,o]=m.useState({action:a.action,location:a.location}),l=m.useCallback(c=>{m.startTransition(()=>o(c))},[o]);return m.useLayoutEffect(()=>a.listen(l),[a,l]),m.createElement(tq,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:a})}var YR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uS=m.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:f,...v},g){let{basename:w}=m.useContext(wu),y=typeof d=="string"&&YR.test(d),b,x=!1;if(typeof d=="string"&&y&&(b=d,JR))try{let H=new URL(window.location.href),K=d.startsWith("//")?new URL(H.protocol+d):new URL(d),B=sA(K.pathname,w);K.origin===H.origin&&B!=null?d=B+K.search+K.hash:x=!0}catch{Cd(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=UG(d,{relative:a}),[S,k,F]=wq(s,v),$=Iq(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:f});function U(H){t&&t(H),H.defaultPrevented||$(H)}let D=m.createElement("a",{...v,...F,href:b||N,onClick:x||i?t:U,ref:Cq(g,k),target:c,"data-discover":!y&&n==="render"?"true":void 0});return S&&!y?m.createElement(m.Fragment,null,D,m.createElement(bq,{page:N})):D});uS.displayName="Link";var Sq=m.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:a=!1,style:i,to:o,viewTransition:l,children:c,...d},u){let f=vx(o,{relative:d.relative}),v=li(),g=m.useContext(c1),{navigator:w,basename:y}=m.useContext(wu),b=g!=null&&Fq(f)&&l===!0,x=w.encodeLocation?w.encodeLocation(f).pathname:f.pathname,N=v.pathname,S=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(N=N.toLowerCase(),S=S?S.toLowerCase():null,x=x.toLowerCase()),S&&y&&(S=sA(S,y)||S);const k=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let F=N===x||!a&&N.startsWith(x)&&N.charAt(k)==="/",$=S!=null&&(S===x||!a&&S.startsWith(x)&&S.charAt(x.length)==="/"),U={isActive:F,isPending:$,isTransitioning:b},D=F?t:void 0,H;typeof s=="function"?H=s(U):H=[s,F?"active":null,$?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let K=typeof i=="function"?i(U):i;return m.createElement(uS,{...d,"aria-current":D,className:H,ref:u,style:K,to:o,viewTransition:l},typeof c=="function"?c(U):c)});Sq.displayName="NavLink";var Bq=m.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:a,state:i,method:o=M0,action:l,onSubmit:c,relative:d,preventScrollReset:u,viewTransition:f,...v},g)=>{let w=Pq(),y=Dq(l,{relative:d}),b=o.toLowerCase()==="get"?"get":"post",x=typeof l=="string"&&YR.test(l),N=S=>{if(c&&c(S),S.defaultPrevented)return;S.preventDefault();let k=S.nativeEvent.submitter,F=(k==null?void 0:k.getAttribute("formmethod"))||o;w(k||S.currentTarget,{fetcherKey:t,method:F,navigate:n,replace:a,state:i,relative:d,preventScrollReset:u,viewTransition:f})};return m.createElement("form",{ref:g,method:b,action:y,onSubmit:s?c:N,...v,"data-discover":!x&&e==="render"?"true":void 0})});Bq.displayName="Form";function Eq(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XR(e){let t=m.useContext(Gm);return Ri(t,Eq(e)),t}function Iq(e,{target:t,replace:n,state:s,preventScrollReset:a,relative:i,viewTransition:o}={}){let l=Vc(),c=li(),d=vx(e,{relative:i});return m.useCallback(u=>{if(oq(u,t)){u.preventDefault();let f=n!==void 0?n:zg(c)===zg(d);l(e,{replace:f,state:s,preventScrollReset:a,relative:i,viewTransition:o})}},[c,l,d,n,s,t,e,a,i,o])}var Tq=0,kq=()=>`__${String(++Tq)}__`;function Pq(){let{router:e}=XR("useSubmit"),{basename:t}=m.useContext(wu),n=YG();return m.useCallback(async(s,a={})=>{let{action:i,method:o,encType:l,formData:c,body:d}=dq(s,t);if(a.navigate===!1){let u=a.fetcherKey||kq();await e.fetch(u,n,a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||o,formEncType:a.encType||l,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||o,formEncType:a.encType||l,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}function Dq(e,{relative:t}={}){let{basename:n}=m.useContext(wu),s=m.useContext(bu);Ri(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),i={...vx(e||".",{relative:t})},o=li();if(e==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(u=>u==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let u=l.toString();i.search=u?`?${u}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Xu([n,i.pathname])),zg(i)}function Fq(e,t={}){let n=m.useContext(zR);Ri(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=XR("useViewTransitionState"),a=vx(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=sA(n.currentLocation.pathname,s)||n.currentLocation.pathname,o=sA(n.nextLocation.pathname,s)||n.nextLocation.pathname;return fy(a.pathname,o)!=null||fy(a.pathname,i)!=null}new TextEncoder;[...xq];var Kl=FR();const Lq=$m(Kl);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rq=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ZR=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Oq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mq=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...l},c)=>m.createElement("svg",{ref:c,...Oq,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:ZR("lucide",a),...l},[...o.map(([d,u])=>m.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=(e,t)=>{const n=m.forwardRef(({className:s,...a},i)=>m.createElement(Mq,{ref:i,iconNode:t,className:ZR(`lucide-${Rq(e)}`,s),...a}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uq=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],dm=or("Activity",Uq);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qq=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Op=or("Archive",Qq);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hq=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]],zq=or("ArrowDownWideNarrow",Hq);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vq=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Kq=or("ArrowLeft",Vq);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wq=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],$q=or("Award",Wq);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gq=[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]],qq=or("Battery",Gq);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jq=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],Yq=or("BellOff",Jq);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xq=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],eO=or("Bell",Xq);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zq=[["path",{d:"M17 10c.7-.7 1.69 0 2.5 0a2.5 2.5 0 1 0 0-5 .5.5 0 0 1-.5-.5 2.5 2.5 0 1 0-5 0c0 .81.7 1.8 0 2.5l-7 7c-.7.7-1.69 0-2.5 0a2.5 2.5 0 0 0 0 5c.28 0 .5.22.5.5a2.5 2.5 0 1 0 5 0c0-.81-.7-1.8 0-2.5Z",key:"w610uw"}]],eJ=or("Bone",Zq);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tJ=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Fm=or("Briefcase",tJ);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rJ=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ua=or("Calendar",rJ);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nJ=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],ja=or("Camera",nJ);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sJ=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],Di=or("Car",sJ);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iJ=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],fc=or("Check",iJ);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aJ=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],$A=or("ChevronDown",aJ);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oJ=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Oi=or("ChevronLeft",oJ);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lJ=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Vg=or("ChevronRight",lJ);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cJ=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],dJ=or("ChevronUp",cJ);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],xl=or("CircleAlert",uJ);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AJ=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],jd=or("CircleCheckBig",AJ);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],tO=or("CirclePlay",hJ);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],wh=or("CircleX",fJ);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],yx=or("Circle",mJ);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Mi=or("Clock",pJ);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],xJ=or("Crosshair",gJ);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vJ=[["path",{d:"m10 16 1.5 1.5",key:"11lckj"}],["path",{d:"m14 8-1.5-1.5",key:"1ohn8i"}],["path",{d:"M15 2c-1.798 1.998-2.518 3.995-2.807 5.993",key:"80uv8i"}],["path",{d:"m16.5 10.5 1 1",key:"696xn5"}],["path",{d:"m17 6-2.891-2.891",key:"xu6p2f"}],["path",{d:"M2 15c6.667-6 13.333 0 20-6",key:"1pyr53"}],["path",{d:"m20 9 .891.891",key:"3xwk7g"}],["path",{d:"M3.109 14.109 4 15",key:"q76aoh"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m7 18 2.891 2.891",key:"1sisit"}],["path",{d:"M9 22c1.798-1.998 2.518-3.995 2.807-5.993",key:"q3hbxp"}]],rO=or("Dna",vJ);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yJ=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],AS=or("DollarSign",yJ);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wJ=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Nd=or("Download",wJ);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bJ=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],jJ=or("Droplets",bJ);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NJ=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],CJ=or("Ellipsis",NJ);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _J=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],y3=or("Eye",_J);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SJ=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],w3=or("FileSpreadsheet",SJ);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BJ=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],fi=or("FileText",BJ);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EJ=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],nO=or("File",EJ);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IJ=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],TJ=or("Filter",IJ);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kJ=[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]],hS=or("Fingerprint",kJ);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PJ=[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]],sO=or("Flag",PJ);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DJ=[["path",{d:"M18 6c0 2-2 2-2 4v10a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2V10c0-2-2-2-2-4V2h12z",key:"1orkel"}],["line",{x1:"6",x2:"18",y1:"6",y2:"6",key:"1z11jq"}],["line",{x1:"12",x2:"12",y1:"12",y2:"12",key:"1f4yc1"}]];or("Flashlight",DJ);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FJ=[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]],Mc=or("Gavel",FJ);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LJ=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],RJ=or("Grid3x3",LJ);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OJ=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],fS=or("GripVertical",OJ);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MJ=[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]],b3=or("Hammer",MJ);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UJ=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],iO=or("Hand",UJ);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QJ=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],HJ=or("History",QJ);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zJ=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],th=or("House",zJ);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VJ=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Sg=or("Image",VJ);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KJ=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],mS=or("Layers",KJ);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WJ=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],aO=or("LayoutGrid",WJ);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $J=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],GJ=or("LayoutList",$J);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qJ=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],Q0=or("Link2",qJ);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JJ=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],oO=or("Link",JJ);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YJ=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],XJ=or("List",YJ);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZJ=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ac=or("LoaderCircle",ZJ);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eY=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ns=or("Lock",eY);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tY=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]];or("Mail",tY);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rY=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],qs=or("MapPin",rY);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nY=[["path",{d:"M5 3v16h16",key:"1mqmf9"}],["path",{d:"m5 19 6-6",key:"jh6hbb"}],["path",{d:"m2 6 3-3 3 3",key:"tkyvxa"}],["path",{d:"m18 16 3 3-3 3",key:"1d4glt"}]],sY=or("Move3d",nY);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iY=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],aY=or("PenLine",iY);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oY=[["line",{x1:"22",x2:"16",y1:"2",y2:"8",key:"1xzwqn"}],["line",{x1:"16",x2:"22",y1:"2",y2:"8",key:"13zxdn"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]];or("PhoneMissed",oY);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lY=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],wx=or("Phone",lY);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cY=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Xr=or("Plus",cY);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dY=[["path",{d:"M19.07 4.93A10 10 0 0 0 6.99 3.34",key:"z3du51"}],["path",{d:"M4 6h.01",key:"oypzma"}],["path",{d:"M2.29 9.62A10 10 0 1 0 21.31 8.35",key:"qzzz0"}],["path",{d:"M16.24 7.76A6 6 0 1 0 8.23 16.67",key:"1yjesh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M17.99 11.66A6 6 0 0 1 15.77 16.67",key:"1u2y91"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"m13.41 10.59 5.66-5.66",key:"mhq4k0"}]],j3=or("Radar",dY);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uY=[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]],lf=or("Radio",uY);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AY=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Nm=or("Receipt",AY);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hY=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],lO=or("RefreshCw",hY);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fY=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],cO=or("RotateCcw",fY);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mY=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],pY=or("Save",mY);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gY=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],Lv=or("Scale",gY);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xY=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],ls=or("Search",xY);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vY=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pS=or("Settings",vY);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yY=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Ib=or("Share2",yY);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wY=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],bY=or("ShieldAlert",wY);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jY=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m4.243 5.21 14.39 12.472",key:"1c9a7c"}]],NY=or("ShieldBan",jY);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CY=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],vl=or("Shield",CY);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Y=[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]],SY=or("Signal",_Y);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BY=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],EY=or("Sparkles",BY);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IY=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ks=or("SquarePen",IY);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TY=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Hh=or("Star",TY);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kY=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]],ef=or("Sword",kY);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PY=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],i_=or("Swords",PY);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DY=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],N3=or("Tag",DY);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],a_=or("Target",FY);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LY=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],ms=or("Trash2",LY);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RY=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],C3=or("TrendingUp",RY);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OY=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],cs=or("TriangleAlert",OY);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MY=[["path",{d:"m19 5 3-3",key:"yk6iyv"}],["path",{d:"m2 22 3-3",key:"19mgm9"}],["path",{d:"M6.3 20.3a2.4 2.4 0 0 0 3.4 0L12 18l-6-6-2.3 2.3a2.4 2.4 0 0 0 0 3.4Z",key:"goz73y"}],["path",{d:"M7.5 13.5 10 11",key:"7xgeeb"}],["path",{d:"M10.5 16.5 13 14",key:"10btkg"}],["path",{d:"m12 6 6 6 2.3-2.3a2.4 2.4 0 0 0 0-3.4l-2.6-2.6a2.4 2.4 0 0 0-3.4 0Z",key:"1snsnr"}]],UY=or("Unplug",MY);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QY=[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]],my=or("UserCog",QY);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HY=[["path",{d:"M2 21a8 8 0 0 1 13.292-6",key:"bjp14o"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M22 19h-6",key:"vcuq98"}]],_3=or("UserRoundPlus",HY);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zY=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],gS=or("UserRound",zY);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VY=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Lm=or("UserX",VY);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KY=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ri=or("User",KY);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WY=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],ba=or("Users",WY);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Y=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],o_=or("Video",$Y);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GY=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ah=or("WifiOff",GY);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qY=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Rm=or("Wifi",qY);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JY=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],mc=or("X",JY);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YY=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],XY=or("Zap",YY),dO=m.createContext(null),ZY=({children:e})=>{const[t,n]=m.useState([{id:1,label:"Dashboard",path:"/dashboard"}]),[s,a]=m.useState(1),i=Vc(),o=m.useCallback(u=>{a(u);const f=t.find(v=>v.id===u);f&&i(f.path,{state:{data:f.data}})},[t,i]),l=(u="Dashboard",f="/dashboard")=>{var w;let v=t&&(t==null?void 0:t.length)>0&&Array.isArray(t)?Math.max(...(w=t||[])==null?void 0:w.map(y=>y.id))+1:1;const g={id:v,label:u,path:f};n([...t,g]),a(v),i(g.path)},c=u=>{const f=t.filter(v=>v.id!==u);n(f),s===u&&(f==null?void 0:f.length)>0?o(f[(f==null?void 0:f.length)-1].id):(f==null?void 0:f.length)===0&&i("/")},d=(u,f)=>{n(v=>{var g;return(g=v||[])==null?void 0:g.map(w=>w.id===s?{...w,data:u,label:f}:w)})};return r.jsx(dO.Provider,{value:{tabs:t,setTabs:n,activeTabId:s,setActiveTabId:a,handleTabChange:o,handleAddTab:l,handleRemoveTab:c,setTabData:d},children:e})},ko=()=>{const e=m.useContext(dO);if(!e)throw new Error("useTabContext must be used within a TabProvider");return e};function uO(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=uO(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function AO(){for(var e,t,n=0,s="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=uO(e))&&(s&&(s+=" "),s+=t);return s}const xS="-",eX=e=>{const t=rX(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const l=o.split(xS);return l[0]===""&&l.length!==1&&l.shift(),hO(l,t)||tX(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},hO=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),a=s?hO(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(xS);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},S3=/^\[(.+)\]$/,tX=e=>{if(S3.test(e)){const t=S3.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},rX=e=>{const{theme:t,prefix:n}=e,s={nextPart:new Map,validators:[]};return sX(Object.entries(e.classGroups),n).forEach(([i,o])=>{l_(o,s,i,t)}),s},l_=(e,t,n,s)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:B3(t,a);i.classGroupId=n;return}if(typeof a=="function"){if(nX(a)){l_(a(s),t,n,s);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([i,o])=>{l_(o,B3(t,i),n,s)})})},B3=(e,t)=>{let n=e;return t.split(xS).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},nX=e=>e.isThemeGetter,sX=(e,t)=>t?e.map(([n,s])=>{const a=s.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[n,a]}):e,iX=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const a=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,s=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return a(i,o),o},set(i,o){n.has(i)?n.set(i,o):a(i,o)}}},fO="!",aX=e=>{const{separator:t,experimentalParseClassName:n}=e,s=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,f;for(let b=0;b<l.length;b++){let x=l[b];if(d===0){if(x===a&&(s||l.slice(b,b+i)===t)){c.push(l.slice(u,b)),u=b+i;continue}if(x==="/"){f=b;continue}}x==="["?d++:x==="]"&&d--}const v=c.length===0?l:l.substring(u),g=v.startsWith(fO),w=g?v.substring(1):v,y=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:w,maybePostfixModifierPosition:y}};return n?l=>n({className:l,parseClassName:o}):o},oX=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(s=>{s[0]==="["?(t.push(...n.sort(),s),n=[]):n.push(s)}),t.push(...n.sort()),t},lX=e=>({cache:iX(e.cacheSize),parseClassName:aX(e),...eX(e)}),cX=/\s+/,dX=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(cX);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:f,baseClassName:v,maybePostfixModifierPosition:g}=n(d);let w=!!g,y=s(w?v.substring(0,g):v);if(!y){if(!w){l=d+(l.length>0?" "+l:l);continue}if(y=s(v),!y){l=d+(l.length>0?" "+l:l);continue}w=!1}const b=oX(u).join(":"),x=f?b+fO:b,N=x+y;if(i.includes(N))continue;i.push(N);const S=a(y,w);for(let k=0;k<S.length;++k){const F=S[k];i.push(x+F)}l=d+(l.length>0?" "+l:l)}return l};function uX(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=mO(t))&&(s&&(s+=" "),s+=n);return s}const mO=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=mO(e[s]))&&(n&&(n+=" "),n+=t);return n};function AX(e,...t){let n,s,a,i=o;function o(c){const d=t.reduce((u,f)=>f(u),e());return n=lX(d),s=n.cache.get,a=n.cache.set,i=l,l(c)}function l(c){const d=s(c);if(d)return d;const u=dX(c,n);return a(c,u),u}return function(){return i(uX.apply(null,arguments))}}const hi=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},pO=/^\[(?:([a-z-]+):)?(.+)\]$/i,hX=/^\d+\/\d+$/,fX=new Set(["px","full","screen"]),mX=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,pX=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,gX=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,xX=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,vX=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ku=e=>Cm(e)||fX.has(e)||hX.test(e),PA=e=>qm(e,"length",SX),Cm=e=>!!e&&!Number.isNaN(Number(e)),Tb=e=>qm(e,"number",Cm),Mp=e=>!!e&&Number.isInteger(Number(e)),yX=e=>e.endsWith("%")&&Cm(e.slice(0,-1)),Jn=e=>pO.test(e),DA=e=>mX.test(e),wX=new Set(["length","size","percentage"]),bX=e=>qm(e,wX,gO),jX=e=>qm(e,"position",gO),NX=new Set(["image","url"]),CX=e=>qm(e,NX,EX),_X=e=>qm(e,"",BX),Up=()=>!0,qm=(e,t,n)=>{const s=pO.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):n(s[2]):!1},SX=e=>pX.test(e)&&!gX.test(e),gO=()=>!1,BX=e=>xX.test(e),EX=e=>vX.test(e),IX=()=>{const e=hi("colors"),t=hi("spacing"),n=hi("blur"),s=hi("brightness"),a=hi("borderColor"),i=hi("borderRadius"),o=hi("borderSpacing"),l=hi("borderWidth"),c=hi("contrast"),d=hi("grayscale"),u=hi("hueRotate"),f=hi("invert"),v=hi("gap"),g=hi("gradientColorStops"),w=hi("gradientColorStopPositions"),y=hi("inset"),b=hi("margin"),x=hi("opacity"),N=hi("padding"),S=hi("saturate"),k=hi("scale"),F=hi("sepia"),$=hi("skew"),U=hi("space"),D=hi("translate"),H=()=>["auto","contain","none"],K=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto",Jn,t],R=()=>[Jn,t],Z=()=>["",Ku,PA],te=()=>["auto",Cm,Jn],ye=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],de=()=>["solid","dashed","dotted","double","none"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>["start","end","center","between","around","evenly","stretch"],oe=()=>["","0",Jn],ce=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[Cm,Jn];return{cacheSize:500,separator:":",theme:{colors:[Up],spacing:[Ku,PA],blur:["none","",DA,Jn],brightness:ee(),borderColor:[e],borderRadius:["none","","full",DA,Jn],borderSpacing:R(),borderWidth:Z(),contrast:ee(),grayscale:oe(),hueRotate:ee(),invert:oe(),gap:R(),gradientColorStops:[e],gradientColorStopPositions:[yX,PA],inset:B(),margin:B(),opacity:ee(),padding:R(),saturate:ee(),scale:ee(),sepia:oe(),skew:ee(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",Jn]}],container:["container"],columns:[{columns:[DA]}],"break-after":[{"break-after":ce()}],"break-before":[{"break-before":ce()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ye(),Jn]}],overflow:[{overflow:K()}],"overflow-x":[{"overflow-x":K()}],"overflow-y":[{"overflow-y":K()}],overscroll:[{overscroll:H()}],"overscroll-x":[{"overscroll-x":H()}],"overscroll-y":[{"overscroll-y":H()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Mp,Jn]}],basis:[{basis:B()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Jn]}],grow:[{grow:oe()}],shrink:[{shrink:oe()}],order:[{order:["first","last","none",Mp,Jn]}],"grid-cols":[{"grid-cols":[Up]}],"col-start-end":[{col:["auto",{span:["full",Mp,Jn]},Jn]}],"col-start":[{"col-start":te()}],"col-end":[{"col-end":te()}],"grid-rows":[{"grid-rows":[Up]}],"row-start-end":[{row:["auto",{span:[Mp,Jn]},Jn]}],"row-start":[{"row-start":te()}],"row-end":[{"row-end":te()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Jn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Jn]}],gap:[{gap:[v]}],"gap-x":[{"gap-x":[v]}],"gap-y":[{"gap-y":[v]}],"justify-content":[{justify:["normal",...Q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[N]}],px:[{px:[N]}],py:[{py:[N]}],ps:[{ps:[N]}],pe:[{pe:[N]}],pt:[{pt:[N]}],pr:[{pr:[N]}],pb:[{pb:[N]}],pl:[{pl:[N]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[U]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[U]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Jn,t]}],"min-w":[{"min-w":[Jn,t,"min","max","fit"]}],"max-w":[{"max-w":[Jn,t,"none","full","min","max","fit","prose",{screen:[DA]},DA]}],h:[{h:[Jn,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Jn,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Jn,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Jn,t,"auto","min","max","fit"]}],"font-size":[{text:["base",DA,PA]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Tb]}],"font-family":[{font:[Up]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Jn]}],"line-clamp":[{"line-clamp":["none",Cm,Tb]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ku,Jn]}],"list-image":[{"list-image":["none",Jn]}],"list-style-type":[{list:["none","disc","decimal",Jn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...de(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ku,PA]}],"underline-offset":[{"underline-offset":["auto",Ku,Jn]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Jn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Jn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ye(),jX]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",bX]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},CX]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...de(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:de()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...de()]}],"outline-offset":[{"outline-offset":[Ku,Jn]}],"outline-w":[{outline:[Ku,PA]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Ku,PA]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",DA,_X]}],"shadow-color":[{shadow:[Up]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...le(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":le()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",DA,Jn]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[S]}],sepia:[{sepia:[F]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[F]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Jn]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",Jn]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",Jn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Mp,Jn]}],"translate-x":[{"translate-x":[D]}],"translate-y":[{"translate-y":[D]}],"skew-x":[{"skew-x":[$]}],"skew-y":[{"skew-y":[$]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Jn]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Jn]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Jn]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ku,PA,Tb]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},TX=AX(IX);function Tt(...e){return TX(AO(e))}const Le=m.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Tt("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Le.displayName="Card";const mt=m.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Tt("flex flex-col space-y-1.5 p-6",e),...t}));mt.displayName="CardHeader";const kt=m.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Tt("text-2xl font-semibold leading-none tracking-tight",e),...t}));kt.displayName="CardTitle";const bx=m.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Tt("text-sm text-muted-foreground",e),...t}));bx.displayName="CardDescription";const Je=m.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Tt("p-6 pt-0",e),...t}));Je.displayName="CardContent";const ju=m.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Tt("flex items-center p-6 pt-0",e),...t}));ju.displayName="CardFooter";const ht=m.forwardRef(({className:e,type:t,...n},s)=>r.jsx("input",{type:t,className:Tt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...n}));ht.displayName="Input";function E3(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function _d(...e){return t=>{let n=!1;const s=e.map(a=>{const i=E3(a,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<s.length;a++){const i=s[a];typeof i=="function"?i():E3(e[a],null)}}}}function an(...e){return m.useCallback(_d(...e),e)}function oh(e){const t=PX(e),n=m.forwardRef((s,a)=>{const{children:i,...o}=s,l=m.Children.toArray(i),c=l.find(DX);if(c){const d=c.props.children,u=l.map(f=>f===c?m.Children.count(d)>1?m.Children.only(null):m.isValidElement(d)?d.props.children:null:f);return r.jsx(t,{...o,ref:a,children:m.isValidElement(d)?m.cloneElement(d,void 0,u):null})}return r.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}var kX=oh("Slot");function PX(e){const t=m.forwardRef((n,s)=>{const{children:a,...i}=n;if(m.isValidElement(a)){const o=LX(a),l=FX(i,a.props);return a.type!==m.Fragment&&(l.ref=s?_d(s,o):o),m.cloneElement(a,l)}return m.Children.count(a)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var xO=Symbol("radix.slottable");function vO(e){const t=({children:n})=>r.jsx(r.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=xO,t}function DX(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===xO}function FX(e,t){const n={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?n[s]=(...l)=>{i(...l),a(...l)}:a&&(n[s]=a):s==="style"?n[s]={...a,...i}:s==="className"&&(n[s]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function LX(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const I3=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,T3=AO,u1=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return T3(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const u=n==null?void 0:n[d],f=i==null?void 0:i[d];if(u===null)return null;const v=I3(u)||I3(f);return a[d][v]}),l=n&&Object.entries(n).reduce((d,u)=>{let[f,v]=u;return v===void 0||(d[f]=v),d},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((d,u)=>{let{class:f,className:v,...g}=u;return Object.entries(g).every(w=>{let[y,b]=w;return Array.isArray(b)?b.includes({...i,...l}[y]):{...i,...l}[y]===b})?[...d,f,v]:d},[]);return T3(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},vS=u1("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ae=m.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...a},i)=>{const o=s?kX:"button";return r.jsx(o,{className:Tt(vS({variant:t,size:n,className:e})),ref:i,...a})});Ae.displayName="Button";var RX=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],jr=RX.reduce((e,t)=>{const n=oh(`Primitive.${t}`),s=m.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function yS(e,t){e&&Kl.flushSync(()=>e.dispatchEvent(t))}var Zi=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{};function OX(e,t){return m.useReducer((n,s)=>t[n][s]??n,e)}var Na=e=>{const{present:t,children:n}=e,s=MX(t),a=typeof n=="function"?n({present:s.isPresent}):m.Children.only(n),i=an(s.ref,UX(a));return typeof n=="function"||s.isPresent?m.cloneElement(a,{ref:i}):null};Na.displayName="Presence";function MX(e){const[t,n]=m.useState(),s=m.useRef(null),a=m.useRef(e),i=m.useRef("none"),o=e?"mounted":"unmounted",[l,c]=OX(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const d=Rv(s.current);i.current=l==="mounted"?d:"none"},[l]),Zi(()=>{const d=s.current,u=a.current;if(u!==e){const v=i.current,g=Rv(d);e?c("MOUNT"):g==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&v!==g?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Zi(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,f=g=>{const y=Rv(s.current).includes(g.animationName);if(g.target===t&&y&&(c("ANIMATION_END"),!a.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},v=g=>{g.target===t&&(i.current=Rv(s.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(d=>{s.current=d?getComputedStyle(d):null,n(d)},[])}}function Rv(e){return(e==null?void 0:e.animationName)||"none"}function UX(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function QX(e,t){const n=m.createContext(t),s=i=>{const{children:o,...l}=i,c=m.useMemo(()=>l,Object.values(l));return r.jsx(n.Provider,{value:c,children:o})};s.displayName=e+"Provider";function a(i){const o=m.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,a]}function ji(e,t=[]){let n=[];function s(i,o){const l=m.createContext(o),c=n.length;n=[...n,o];const d=f=>{var x;const{scope:v,children:g,...w}=f,y=((x=v==null?void 0:v[e])==null?void 0:x[c])||l,b=m.useMemo(()=>w,Object.values(w));return r.jsx(y.Provider,{value:b,children:g})};d.displayName=i+"Provider";function u(f,v){var y;const g=((y=v==null?void 0:v[e])==null?void 0:y[c])||l,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=n.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,HX(a,...t)]}function HX(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Fi(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}var zX=m.createContext(void 0);function bh(e){const t=m.useContext(zX);return e||t||"ltr"}function Kg(e,[t,n]){return Math.min(n,Math.max(t,e))}function Kt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function VX(e,t){return m.useReducer((n,s)=>t[n][s]??n,e)}var wS="ScrollArea",[yO,c5e]=ji(wS),[KX,Kc]=yO(wS),iA=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:s="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=m.useState(null),[d,u]=m.useState(null),[f,v]=m.useState(null),[g,w]=m.useState(null),[y,b]=m.useState(null),[x,N]=m.useState(0),[S,k]=m.useState(0),[F,$]=m.useState(!1),[U,D]=m.useState(!1),H=an(t,B=>c(B)),K=bh(a);return r.jsx(KX,{scope:n,type:s,dir:K,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:u,content:f,onContentChange:v,scrollbarX:g,onScrollbarXChange:w,scrollbarXEnabled:F,onScrollbarXEnabledChange:$,scrollbarY:y,onScrollbarYChange:b,scrollbarYEnabled:U,onScrollbarYEnabledChange:D,onCornerWidthChange:N,onCornerHeightChange:k,children:r.jsx(jr.div,{dir:K,...o,ref:H,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":S+"px",...e.style}})})});iA.displayName=wS;var wO="ScrollAreaViewport",bO=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:s,nonce:a,...i}=e,o=Kc(wO,n),l=m.useRef(null),c=an(t,l,o.onViewportChange);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),r.jsx(jr.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:r.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});bO.displayName=wO;var Nu="ScrollAreaScrollbar",bS=m.forwardRef((e,t)=>{const{forceMount:n,...s}=e,a=Kc(Nu,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return m.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?r.jsx(WX,{...s,ref:t,forceMount:n}):a.type==="scroll"?r.jsx($X,{...s,ref:t,forceMount:n}):a.type==="auto"?r.jsx(jO,{...s,ref:t,forceMount:n}):a.type==="always"?r.jsx(jS,{...s,ref:t}):null});bS.displayName=Nu;var WX=m.forwardRef((e,t)=>{const{forceMount:n,...s}=e,a=Kc(Nu,e.__scopeScrollArea),[i,o]=m.useState(!1);return m.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),r.jsx(Na,{present:n||i,children:r.jsx(jO,{"data-state":i?"visible":"hidden",...s,ref:t})})}),$X=m.forwardRef((e,t)=>{const{forceMount:n,...s}=e,a=Kc(Nu,e.__scopeScrollArea),i=e.orientation==="horizontal",o=h1(()=>c("SCROLL_END"),100),[l,c]=VX("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,a.scrollHideDelay,c]),m.useEffect(()=>{const d=a.viewport,u=i?"scrollLeft":"scrollTop";if(d){let f=d[u];const v=()=>{const g=d[u];f!==g&&(c("SCROLL"),o()),f=g};return d.addEventListener("scroll",v),()=>d.removeEventListener("scroll",v)}},[a.viewport,i,c,o]),r.jsx(Na,{present:n||l!=="hidden",children:r.jsx(jS,{"data-state":l==="hidden"?"hidden":"visible",...s,ref:t,onPointerEnter:Kt(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Kt(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),jO=m.forwardRef((e,t)=>{const n=Kc(Nu,e.__scopeScrollArea),{forceMount:s,...a}=e,[i,o]=m.useState(!1),l=e.orientation==="horizontal",c=h1(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?d:u)}},10);return Om(n.viewport,c),Om(n.content,c),r.jsx(Na,{present:s||i,children:r.jsx(jS,{"data-state":i?"visible":"hidden",...a,ref:t})})}),jS=m.forwardRef((e,t)=>{const{orientation:n="vertical",...s}=e,a=Kc(Nu,e.__scopeScrollArea),i=m.useRef(null),o=m.useRef(0),[l,c]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=BO(l.viewport,l.content),u={...s,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:v=>i.current=v,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:v=>o.current=v};function f(v,g){return ZX(v,o.current,l,g)}return n==="horizontal"?r.jsx(GX,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const v=a.viewport.scrollLeft,g=k3(v,l,a.dir);i.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:v=>{a.viewport&&(a.viewport.scrollLeft=v)},onDragScroll:v=>{a.viewport&&(a.viewport.scrollLeft=f(v,a.dir))}}):n==="vertical"?r.jsx(qX,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const v=a.viewport.scrollTop,g=k3(v,l);i.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:v=>{a.viewport&&(a.viewport.scrollTop=v)},onDragScroll:v=>{a.viewport&&(a.viewport.scrollTop=f(v))}}):null}),GX=m.forwardRef((e,t)=>{const{sizes:n,onSizesChange:s,...a}=e,i=Kc(Nu,e.__scopeScrollArea),[o,l]=m.useState(),c=m.useRef(null),d=an(t,c,i.onScrollbarXChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),r.jsx(CO,{"data-orientation":"horizontal",...a,ref:d,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":A1(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(i.viewport){const v=i.viewport.scrollLeft+u.deltaX;e.onWheelScroll(v),IO(v,f)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&s({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:gy(o.paddingLeft),paddingEnd:gy(o.paddingRight)}})}})}),qX=m.forwardRef((e,t)=>{const{sizes:n,onSizesChange:s,...a}=e,i=Kc(Nu,e.__scopeScrollArea),[o,l]=m.useState(),c=m.useRef(null),d=an(t,c,i.onScrollbarYChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),r.jsx(CO,{"data-orientation":"vertical",...a,ref:d,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":A1(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(i.viewport){const v=i.viewport.scrollTop+u.deltaY;e.onWheelScroll(v),IO(v,f)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&s({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:gy(o.paddingTop),paddingEnd:gy(o.paddingBottom)}})}})}),[JX,NO]=yO(Nu),CO=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:s,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:f,...v}=e,g=Kc(Nu,n),[w,y]=m.useState(null),b=an(t,H=>y(H)),x=m.useRef(null),N=m.useRef(""),S=g.viewport,k=s.content-s.viewport,F=Fi(u),$=Fi(c),U=h1(f,10);function D(H){if(x.current){const K=H.clientX-x.current.left,B=H.clientY-x.current.top;d({x:K,y:B})}}return m.useEffect(()=>{const H=K=>{const B=K.target;(w==null?void 0:w.contains(B))&&F(K,k)};return document.addEventListener("wheel",H,{passive:!1}),()=>document.removeEventListener("wheel",H,{passive:!1})},[S,w,k,F]),m.useEffect($,[s,$]),Om(w,U),Om(g.content,U),r.jsx(JX,{scope:n,scrollbar:w,hasThumb:a,onThumbChange:Fi(i),onThumbPointerUp:Fi(o),onThumbPositionChange:$,onThumbPointerDown:Fi(l),children:r.jsx(jr.div,{...v,ref:b,style:{position:"absolute",...v.style},onPointerDown:Kt(e.onPointerDown,H=>{H.button===0&&(H.target.setPointerCapture(H.pointerId),x.current=w.getBoundingClientRect(),N.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),D(H))}),onPointerMove:Kt(e.onPointerMove,D),onPointerUp:Kt(e.onPointerUp,H=>{const K=H.target;K.hasPointerCapture(H.pointerId)&&K.releasePointerCapture(H.pointerId),document.body.style.webkitUserSelect=N.current,g.viewport&&(g.viewport.style.scrollBehavior=""),x.current=null})})})}),py="ScrollAreaThumb",_O=m.forwardRef((e,t)=>{const{forceMount:n,...s}=e,a=NO(py,e.__scopeScrollArea);return r.jsx(Na,{present:n||a.hasThumb,children:r.jsx(YX,{ref:t,...s})})}),YX=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:s,...a}=e,i=Kc(py,n),o=NO(py,n),{onThumbPositionChange:l}=o,c=an(t,f=>o.onThumbChange(f)),d=m.useRef(void 0),u=h1(()=>{d.current&&(d.current(),d.current=void 0)},100);return m.useEffect(()=>{const f=i.viewport;if(f){const v=()=>{if(u(),!d.current){const g=eZ(f,l);d.current=g,l()}};return l(),f.addEventListener("scroll",v),()=>f.removeEventListener("scroll",v)}},[i.viewport,u,l]),r.jsx(jr.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:Kt(e.onPointerDownCapture,f=>{const g=f.target.getBoundingClientRect(),w=f.clientX-g.left,y=f.clientY-g.top;o.onThumbPointerDown({x:w,y})}),onPointerUp:Kt(e.onPointerUp,o.onThumbPointerUp)})});_O.displayName=py;var NS="ScrollAreaCorner",SO=m.forwardRef((e,t)=>{const n=Kc(NS,e.__scopeScrollArea),s=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&s?r.jsx(XX,{...e,ref:t}):null});SO.displayName=NS;var XX=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,...s}=e,a=Kc(NS,n),[i,o]=m.useState(0),[l,c]=m.useState(0),d=!!(i&&l);return Om(a.scrollbarX,()=>{var f;const u=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(u),c(u)}),Om(a.scrollbarY,()=>{var f;const u=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(u),o(u)}),d?r.jsx(jr.div,{...s,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function gy(e){return e?parseInt(e,10):0}function BO(e,t){const n=e/t;return isNaN(n)?0:n}function A1(e){const t=BO(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-n)*t;return Math.max(s,18)}function ZX(e,t,n,s="ltr"){const a=A1(n),i=a/2,o=t||i,l=a-o,c=n.scrollbar.paddingStart+o,d=n.scrollbar.size-n.scrollbar.paddingEnd-l,u=n.content-n.viewport,f=s==="ltr"?[0,u]:[u*-1,0];return EO([c,d],f)(e)}function k3(e,t,n="ltr"){const s=A1(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-s,c=n==="ltr"?[0,o]:[o*-1,0],d=Kg(e,c);return EO([0,o],[0,l])(d)}function EO(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(n-e[0])}}function IO(e,t){return e>0&&e<t}var eZ=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},s=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=n.left!==i.left,l=n.top!==i.top;(o||l)&&t(),n=i,s=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(s)};function h1(e,t){const n=Fi(e),s=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(s.current),[]),m.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(n,t)},[n,t])}function Om(e,t){const n=Fi(t);Zi(()=>{let s=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(n)});return a.observe(e),()=>{window.cancelAnimationFrame(s),a.unobserve(e)}}},[e,n])}var TO=iA,tZ=bO,rZ=SO;const nr=m.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(TO,{ref:s,className:Tt("relative overflow-hidden",e),...n,children:[r.jsx(tZ,{className:"h-full w-full rounded-[inherit]",children:t}),r.jsx(Gl,{}),r.jsx(rZ,{})]}));nr.displayName=TO.displayName;const Gl=m.forwardRef(({className:e,orientation:t="vertical",...n},s)=>r.jsx(bS,{ref:s,orientation:t,className:Tt("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:r.jsx(_O,{className:"relative flex-1 rounded-full bg-border"})}));Gl.displayName=bS.displayName;const CS=m.createContext({});function _S(e){const t=m.useRef(null);return t.current===null&&(t.current=e()),t.current}const f1=m.createContext(null),SS=m.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class nZ extends m.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function sZ({children:e,isPresent:t}){const n=m.useId(),s=m.useRef(null),a=m.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=m.useContext(SS);return m.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:d}=a.current;if(t||!s.current||!o||!l)return;s.current.dataset.motionPopId=n;const u=document.createElement("style");return i&&(u.nonce=i),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),r.jsx(nZ,{isPresent:t,childRef:s,sizeRef:a,children:m.cloneElement(e,{ref:s})})}const iZ=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:i,mode:o})=>{const l=_S(aZ),c=m.useId(),d=m.useCallback(f=>{l.set(f,!0);for(const v of l.values())if(!v)return;s&&s()},[l,s]),u=m.useMemo(()=>({id:c,initial:t,isPresent:n,custom:a,onExitComplete:d,register:f=>(l.set(f,!1),()=>l.delete(f))}),i?[Math.random(),d]:[n,d]);return m.useMemo(()=>{l.forEach((f,v)=>l.set(v,!1))},[n]),m.useEffect(()=>{!n&&!l.size&&s&&s()},[n]),o==="popLayout"&&(e=r.jsx(sZ,{isPresent:n,children:e})),r.jsx(f1.Provider,{value:u,children:e})};function aZ(){return new Map}function kO(e=!0){const t=m.useContext(f1);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=t,i=m.useId();m.useEffect(()=>{e&&a(i)},[e]);const o=m.useCallback(()=>e&&s&&s(i),[i,s,e]);return!n&&s?[!1,o]:[!0]}const Ov=e=>e.key||"";function P3(e){const t=[];return m.Children.forEach(e,n=>{m.isValidElement(n)&&t.push(n)}),t}const BS=typeof window<"u",PO=BS?m.useLayoutEffect:m.useEffect,Gn=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:i="sync",propagate:o=!1})=>{const[l,c]=kO(o),d=m.useMemo(()=>P3(e),[e]),u=o&&!l?[]:d.map(Ov),f=m.useRef(!0),v=m.useRef(d),g=_S(()=>new Map),[w,y]=m.useState(d),[b,x]=m.useState(d);PO(()=>{f.current=!1,v.current=d;for(let k=0;k<b.length;k++){const F=Ov(b[k]);u.includes(F)?g.delete(F):g.get(F)!==!0&&g.set(F,!1)}},[b,u.length,u.join("-")]);const N=[];if(d!==w){let k=[...d];for(let F=0;F<b.length;F++){const $=b[F],U=Ov($);u.includes(U)||(k.splice(F,0,$),N.push($))}i==="wait"&&N.length&&(k=N),x(P3(k)),y(d);return}const{forceRender:S}=m.useContext(CS);return r.jsx(r.Fragment,{children:b.map(k=>{const F=Ov(k),$=o&&!l?!1:d===b||u.includes(F),U=()=>{if(g.has(F))g.set(F,!0);else return;let D=!0;g.forEach(H=>{H||(D=!1)}),D&&(S==null||S(),x(v.current),o&&(c==null||c()),s&&s())};return r.jsx(iZ,{isPresent:$,initial:!f.current||n?void 0:!1,custom:$?void 0:t,presenceAffectsLayout:a,mode:i,onExitComplete:$?void 0:U,children:k},F)})})},Wl=e=>e;let DO=Wl;function ES(e){let t;return()=>(t===void 0&&(t=e()),t)}const Mm=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s},Zu=e=>e*1e3,eA=e=>e/1e3,oZ={useManualTiming:!1};function lZ(e){let t=new Set,n=new Set,s=!1,a=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(d){i.has(d)&&(c.schedule(d),e()),d(o)}const c={schedule:(d,u=!1,f=!1)=>{const g=f&&s?t:n;return u&&i.add(d),g.has(d)||g.add(d),d},cancel:d=>{n.delete(d),i.delete(d)},process:d=>{if(o=d,s){a=!0;return}s=!0,[t,n]=[n,t],t.forEach(l),t.clear(),s=!1,a&&(a=!1,c.process(d))}};return c}const Mv=["read","resolveKeyframes","update","preRender","render","postRender"],cZ=40;function FO(e,t){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Mv.reduce((x,N)=>(x[N]=lZ(i),x),{}),{read:l,resolveKeyframes:c,update:d,preRender:u,render:f,postRender:v}=o,g=()=>{const x=performance.now();n=!1,a.delta=s?1e3/60:Math.max(Math.min(x-a.timestamp,cZ),1),a.timestamp=x,a.isProcessing=!0,l.process(a),c.process(a),d.process(a),u.process(a),f.process(a),v.process(a),a.isProcessing=!1,n&&t&&(s=!1,e(g))},w=()=>{n=!0,s=!0,a.isProcessing||e(g)};return{schedule:Mv.reduce((x,N)=>{const S=o[N];return x[N]=(k,F=!1,$=!1)=>(n||w(),S.schedule(k,F,$)),x},{}),cancel:x=>{for(let N=0;N<Mv.length;N++)o[Mv[N]].cancel(x)},state:a,steps:o}}const{schedule:pi,cancel:lh,state:Bo,steps:kb}=FO(typeof requestAnimationFrame<"u"?requestAnimationFrame:Wl,!0),LO=m.createContext({strict:!1}),D3={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Um={};for(const e in D3)Um[e]={isEnabled:t=>D3[e].some(n=>!!t[n])};function dZ(e){for(const t in e)Um[t]={...Um[t],...e[t]}}const uZ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function xy(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||uZ.has(e)}let RO=e=>!xy(e);function AZ(e){e&&(RO=t=>t.startsWith("on")?!xy(t):e(t))}try{AZ(require("@emotion/is-prop-valid").default)}catch{}function hZ(e,t,n){const s={};for(const a in e)a==="values"&&typeof e.values=="object"||(RO(a)||n===!0&&xy(a)||!t&&!xy(a)||e.draggable&&a.startsWith("onDrag"))&&(s[a]=e[a]);return s}function fZ(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...s)=>e(...s);return new Proxy(n,{get:(s,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const m1=m.createContext({});function Wg(e){return typeof e=="string"||Array.isArray(e)}function p1(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const IS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],TS=["initial",...IS];function g1(e){return p1(e.animate)||TS.some(t=>Wg(e[t]))}function OO(e){return!!(g1(e)||e.variants)}function mZ(e,t){if(g1(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Wg(n)?n:void 0,animate:Wg(s)?s:void 0}}return e.inherit!==!1?t:{}}function pZ(e){const{initial:t,animate:n}=mZ(e,m.useContext(m1));return m.useMemo(()=>({initial:t,animate:n}),[F3(t),F3(n)])}function F3(e){return Array.isArray(e)?e.join(" "):e}const gZ=Symbol.for("motionComponentSymbol");function gm(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function xZ(e,t,n){return m.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):gm(n)&&(n.current=s))},[t])}const kS=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),vZ="framerAppearId",MO="data-"+kS(vZ),{schedule:PS}=FO(queueMicrotask,!1),UO=m.createContext({});function yZ(e,t,n,s,a){var i,o;const{visualElement:l}=m.useContext(m1),c=m.useContext(LO),d=m.useContext(f1),u=m.useContext(SS).reducedMotion,f=m.useRef(null);s=s||c.renderer,!f.current&&s&&(f.current=s(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:u}));const v=f.current,g=m.useContext(UO);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&wZ(f.current,n,a,g);const w=m.useRef(!1);m.useInsertionEffect(()=>{v&&w.current&&v.update(n,d)});const y=n[MO],b=m.useRef(!!y&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,y))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,y)));return PO(()=>{v&&(w.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),PS.render(v.render),b.current&&v.animationState&&v.animationState.animateChanges())}),m.useEffect(()=>{v&&(!b.current&&v.animationState&&v.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)===null||x===void 0||x.call(window,y)}),b.current=!1))}),v}function wZ(e,t,n,s){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:QO(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&gm(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,layoutScroll:c,layoutRoot:d})}function QO(e){if(e)return e.options.allowProjection!==!1?e.projection:QO(e.parent)}function bZ({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:s,Component:a}){var i,o;e&&dZ(e);function l(d,u){let f;const v={...m.useContext(SS),...d,layoutId:jZ(d)},{isStatic:g}=v,w=pZ(d),y=s(d,g);if(!g&&BS){NZ();const b=CZ(v);f=b.MeasureLayout,w.visualElement=yZ(a,y,v,t,b.ProjectionNode)}return r.jsxs(m1.Provider,{value:w,children:[f&&w.visualElement?r.jsx(f,{visualElement:w.visualElement,...v}):null,n(a,d,xZ(y,w.visualElement,u),y,g,w.visualElement)]})}l.displayName=`motion.${typeof a=="string"?a:`create(${(o=(i=a.displayName)!==null&&i!==void 0?i:a.name)!==null&&o!==void 0?o:""})`}`;const c=m.forwardRef(l);return c[gZ]=a,c}function jZ({layoutId:e}){const t=m.useContext(CS).id;return t&&e!==void 0?t+"-"+e:e}function NZ(e,t){m.useContext(LO).strict}function CZ(e){const{drag:t,layout:n}=Um;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const _Z=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function DS(e){return typeof e!="string"||e.includes("-")?!1:!!(_Z.indexOf(e)>-1||/[A-Z]/u.test(e))}function L3(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function FS(e,t,n,s){if(typeof t=="function"){const[a,i]=L3(s);t=t(n!==void 0?n:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=L3(s);t=t(n!==void 0?n:e.custom,a,i)}return t}const c_=e=>Array.isArray(e),SZ=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),BZ=e=>c_(e)?e[e.length-1]||0:e,tl=e=>!!(e&&e.getVelocity);function H0(e){const t=tl(e)?e.get():e;return SZ(t)?t.toValue():t}function EZ({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},s,a,i){const o={latestValues:IZ(s,a,i,e),renderState:t()};return n&&(o.onMount=l=>n({props:s,current:l,...o}),o.onUpdate=l=>n(l)),o}const HO=e=>(t,n)=>{const s=m.useContext(m1),a=m.useContext(f1),i=()=>EZ(e,t,s,a);return n?i():_S(i)};function IZ(e,t,n,s){const a={},i=s(e,{});for(const v in i)a[v]=H0(i[v]);let{initial:o,animate:l}=e;const c=g1(e),d=OO(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const f=u?l:o;if(f&&typeof f!="boolean"&&!p1(f)){const v=Array.isArray(f)?f:[f];for(let g=0;g<v.length;g++){const w=FS(e,v[g]);if(w){const{transitionEnd:y,transition:b,...x}=w;for(const N in x){let S=x[N];if(Array.isArray(S)){const k=u?S.length-1:0;S=S[k]}S!==null&&(a[N]=S)}for(const N in y)a[N]=y[N]}}}return a}const Jm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],yf=new Set(Jm),zO=e=>t=>typeof t=="string"&&t.startsWith(e),VO=zO("--"),TZ=zO("var(--"),LS=e=>TZ(e)?kZ.test(e.split("/*")[0].trim()):!1,kZ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,KO=(e,t)=>t&&typeof e=="number"?t.transform(e):e,aA=(e,t,n)=>n>t?t:n<e?e:n,Ym={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},$g={...Ym,transform:e=>aA(0,1,e)},Uv={...Ym,default:1},jx=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),MA=jx("deg"),au=jx("%"),bn=jx("px"),PZ=jx("vh"),DZ=jx("vw"),R3={...au,parse:e=>au.parse(e)/100,transform:e=>au.transform(e*100)},FZ={borderWidth:bn,borderTopWidth:bn,borderRightWidth:bn,borderBottomWidth:bn,borderLeftWidth:bn,borderRadius:bn,radius:bn,borderTopLeftRadius:bn,borderTopRightRadius:bn,borderBottomRightRadius:bn,borderBottomLeftRadius:bn,width:bn,maxWidth:bn,height:bn,maxHeight:bn,top:bn,right:bn,bottom:bn,left:bn,padding:bn,paddingTop:bn,paddingRight:bn,paddingBottom:bn,paddingLeft:bn,margin:bn,marginTop:bn,marginRight:bn,marginBottom:bn,marginLeft:bn,backgroundPositionX:bn,backgroundPositionY:bn},LZ={rotate:MA,rotateX:MA,rotateY:MA,rotateZ:MA,scale:Uv,scaleX:Uv,scaleY:Uv,scaleZ:Uv,skew:MA,skewX:MA,skewY:MA,distance:bn,translateX:bn,translateY:bn,translateZ:bn,x:bn,y:bn,z:bn,perspective:bn,transformPerspective:bn,opacity:$g,originX:R3,originY:R3,originZ:bn},O3={...Ym,transform:Math.round},RS={...FZ,...LZ,zIndex:O3,size:bn,fillOpacity:$g,strokeOpacity:$g,numOctaves:O3},RZ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},OZ=Jm.length;function MZ(e,t,n){let s="",a=!0;for(let i=0;i<OZ;i++){const o=Jm[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const d=KO(l,RS[o]);if(!c){a=!1;const u=RZ[o]||o;s+=`${u}(${d}) `}n&&(t[o]=d)}}return s=s.trim(),n?s=n(t,a?"":s):a&&(s="none"),s}function OS(e,t,n){const{style:s,vars:a,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const d=t[c];if(yf.has(c)){o=!0;continue}else if(VO(c)){a[c]=d;continue}else{const u=KO(d,RS[c]);c.startsWith("origin")?(l=!0,i[c]=u):s[c]=u}}if(t.transform||(o||n?s.transform=MZ(t,e.transform,n):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;s.transformOrigin=`${c} ${d} ${u}`}}const UZ={offset:"stroke-dashoffset",array:"stroke-dasharray"},QZ={offset:"strokeDashoffset",array:"strokeDasharray"};function HZ(e,t,n=1,s=0,a=!0){e.pathLength=1;const i=a?UZ:QZ;e[i.offset]=bn.transform(-s);const o=bn.transform(t),l=bn.transform(n);e[i.array]=`${o} ${l}`}function M3(e,t,n){return typeof e=="string"?e:bn.transform(t+n*e)}function zZ(e,t,n){const s=M3(t,e.x,e.width),a=M3(n,e.y,e.height);return`${s} ${a}`}function MS(e,{attrX:t,attrY:n,attrScale:s,originX:a,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},u,f){if(OS(e,d,f),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:g,dimensions:w}=e;v.transform&&(w&&(g.transform=v.transform),delete v.transform),w&&(a!==void 0||i!==void 0||g.transform)&&(g.transformOrigin=zZ(w,a!==void 0?a:.5,i!==void 0?i:.5)),t!==void 0&&(v.x=t),n!==void 0&&(v.y=n),s!==void 0&&(v.scale=s),o!==void 0&&HZ(v,o,l,c,!1)}const US=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),WO=()=>({...US(),attrs:{}}),QS=e=>typeof e=="string"&&e.toLowerCase()==="svg";function $O(e,{style:t,vars:n},s,a){Object.assign(e.style,t,a&&a.getProjectionStyles(s));for(const i in n)e.style.setProperty(i,n[i])}const GO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function qO(e,t,n,s){$O(e,t,void 0,s);for(const a in t.attrs)e.setAttribute(GO.has(a)?a:kS(a),t.attrs[a])}const vy={};function VZ(e){Object.assign(vy,e)}function JO(e,{layout:t,layoutId:n}){return yf.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!vy[e]||e==="opacity")}function HS(e,t,n){var s;const{style:a}=e,i={};for(const o in a)(tl(a[o])||t.style&&tl(t.style[o])||JO(o,e)||((s=n==null?void 0:n.getValue(o))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(i[o]=a[o]);return i}function YO(e,t,n){const s=HS(e,t,n);for(const a in e)if(tl(e[a])||tl(t[a])){const i=Jm.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[i]=e[a]}return s}function KZ(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const U3=["x","y","width","height","cx","cy","r"],WZ={useVisualState:HO({scrapeMotionValuesFromProps:YO,createRenderState:WO,onUpdate:({props:e,prevProps:t,current:n,renderState:s,latestValues:a})=>{if(!n)return;let i=!!e.drag;if(!i){for(const l in a)if(yf.has(l)){i=!0;break}}if(!i)return;let o=!t;if(t)for(let l=0;l<U3.length;l++){const c=U3[l];e[c]!==t[c]&&(o=!0)}o&&pi.read(()=>{KZ(n,s),pi.render(()=>{MS(s,a,QS(n.tagName),e.transformTemplate),qO(n,s)})})}})},$Z={useVisualState:HO({scrapeMotionValuesFromProps:HS,createRenderState:US})};function XO(e,t,n){for(const s in t)!tl(t[s])&&!JO(s,n)&&(e[s]=t[s])}function GZ({transformTemplate:e},t){return m.useMemo(()=>{const n=US();return OS(n,t,e),Object.assign({},n.vars,n.style)},[t])}function qZ(e,t){const n=e.style||{},s={};return XO(s,n,e),Object.assign(s,GZ(e,t)),s}function JZ(e,t){const n={},s=qZ(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}function YZ(e,t,n,s){const a=m.useMemo(()=>{const i=WO();return MS(i,t,QS(s),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};XO(i,e.style,e),a.style={...i,...a.style}}return a}function XZ(e=!1){return(n,s,a,{latestValues:i},o)=>{const c=(DS(n)?YZ:JZ)(s,i,o,n),d=hZ(s,typeof n=="string",e),u=n!==m.Fragment?{...d,...c,ref:a}:{},{children:f}=s,v=m.useMemo(()=>tl(f)?f.get():f,[f]);return m.createElement(n,{...u,children:v})}}function ZZ(e,t){return function(s,{forwardMotionProps:a}={forwardMotionProps:!1}){const o={...DS(s)?WZ:$Z,preloadedFeatures:e,useRender:XZ(a),createVisualElement:t,Component:s};return bZ(o)}}function ZO(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}function x1(e,t,n){const s=e.getProps();return FS(s,t,n!==void 0?n:s.custom,e)}const eee=ES(()=>window.ScrollTimeline!==void 0);class tee{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let s=0;s<this.animations.length;s++)this.animations[s][t]=n}attachTimeline(t,n){const s=this.animations.map(a=>{if(eee()&&a.attachTimeline)return a.attachTimeline(t);if(typeof n=="function")return n(a)});return()=>{s.forEach((a,i)=>{a&&a(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class ree extends tee{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function zS(e,t){return e?e[t]||e.default||e:void 0}const d_=2e4;function eM(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<d_;)t+=n,s=e.next(t);return t>=d_?1/0:t}function VS(e){return typeof e=="function"}function Q3(e,t){e.timeline=t,e.onfinish=null}const KS=e=>Array.isArray(e)&&typeof e[0]=="number",nee={linearEasing:void 0};function see(e,t){const n=ES(e);return()=>{var s;return(s=nee[t])!==null&&s!==void 0?s:n()}}const yy=see(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),tM=(e,t,n=10)=>{let s="";const a=Math.max(Math.round(t/n),2);for(let i=0;i<a;i++)s+=e(Mm(0,a-1,i))+", ";return`linear(${s.substring(0,s.length-2)})`};function rM(e){return!!(typeof e=="function"&&yy()||!e||typeof e=="string"&&(e in u_||yy())||KS(e)||Array.isArray(e)&&e.every(rM))}const Ag=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,u_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ag([0,.65,.55,1]),circOut:Ag([.55,0,1,.45]),backIn:Ag([.31,.01,.66,-.59]),backOut:Ag([.33,1.53,.69,.99])};function nM(e,t){if(e)return typeof e=="function"&&yy()?tM(e,t):KS(e)?Ag(e):Array.isArray(e)?e.map(n=>nM(n,t)||u_.easeOut):u_[e]}const xd={x:!1,y:!1};function sM(){return xd.x||xd.y}function iee(e,t,n){var s;if(e instanceof Element)return[e];if(typeof e=="string"){let a=document;const i=(s=void 0)!==null&&s!==void 0?s:a.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function iM(e,t){const n=iee(e),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[n,a,()=>s.abort()]}function H3(e){return t=>{t.pointerType==="touch"||sM()||e(t)}}function aee(e,t,n={}){const[s,a,i]=iM(e,n),o=H3(l=>{const{target:c}=l,d=t(l);if(typeof d!="function"||!c)return;const u=H3(f=>{d(f),c.removeEventListener("pointerleave",u)});c.addEventListener("pointerleave",u,a)});return s.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const aM=(e,t)=>t?e===t?!0:aM(e,t.parentElement):!1,WS=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,oee=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function lee(e){return oee.has(e.tagName)||e.tabIndex!==-1}const hg=new WeakSet;function z3(e){return t=>{t.key==="Enter"&&e(t)}}function Pb(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const cee=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=z3(()=>{if(hg.has(n))return;Pb(n,"down");const a=z3(()=>{Pb(n,"up")}),i=()=>Pb(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function V3(e){return WS(e)&&!sM()}function dee(e,t,n={}){const[s,a,i]=iM(e,n),o=l=>{const c=l.currentTarget;if(!V3(l)||hg.has(c))return;hg.add(c);const d=t(l),u=(g,w)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",v),!(!V3(g)||!hg.has(c))&&(hg.delete(c),typeof d=="function"&&d(g,{success:w}))},f=g=>{u(g,n.useGlobalTarget||aM(c,g.target))},v=g=>{u(g,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",v,a)};return s.forEach(l=>{!lee(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),l.addEventListener("focus",d=>cee(d,a),a)}),i}function uee(e){return e==="x"||e==="y"?xd[e]?null:(xd[e]=!0,()=>{xd[e]=!1}):xd.x||xd.y?null:(xd.x=xd.y=!0,()=>{xd.x=xd.y=!1})}const oM=new Set(["width","height","top","left","right","bottom",...Jm]);let z0;function Aee(){z0=void 0}const ou={now:()=>(z0===void 0&&ou.set(Bo.isProcessing||oZ.useManualTiming?Bo.timestamp:performance.now()),z0),set:e=>{z0=e,queueMicrotask(Aee)}};function $S(e,t){e.indexOf(t)===-1&&e.push(t)}function GS(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class qS{constructor(){this.subscriptions=[]}add(t){return $S(this.subscriptions,t),()=>GS(this.subscriptions,t)}notify(t,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,s);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function lM(e,t){return t?e*(1e3/t):0}const K3=30,hee=e=>!isNaN(parseFloat(e));class fee{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,a=!0)=>{const i=ou.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=ou.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=hee(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new qS);const s=this.events[t].add(n);return t==="change"?()=>{s(),pi.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=ou.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>K3)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,K3);return lM(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Gg(e,t){return new fee(e,t)}function mee(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Gg(n))}function pee(e,t){const n=x1(e,t);let{transitionEnd:s={},transition:a={},...i}=n||{};i={...i,...s};for(const o in i){const l=BZ(i[o]);mee(e,o,l)}}function gee(e){return!!(tl(e)&&e.add)}function A_(e,t){const n=e.getValue("willChange");if(gee(n))return n.add(t)}function cM(e){return e.props[MO]}const dM=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,xee=1e-7,vee=12;function yee(e,t,n,s,a){let i,o,l=0;do o=t+(n-t)/2,i=dM(o,s,a)-e,i>0?n=o:t=o;while(Math.abs(i)>xee&&++l<vee);return o}function Nx(e,t,n,s){if(e===t&&n===s)return Wl;const a=i=>yee(i,0,1,e,n);return i=>i===0||i===1?i:dM(a(i),t,s)}const uM=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,AM=e=>t=>1-e(1-t),hM=Nx(.33,1.53,.69,.99),JS=AM(hM),fM=uM(JS),mM=e=>(e*=2)<1?.5*JS(e):.5*(2-Math.pow(2,-10*(e-1))),YS=e=>1-Math.sin(Math.acos(e)),pM=AM(YS),gM=uM(YS),xM=e=>/^0[^.\s]+$/u.test(e);function wee(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||xM(e):!0}const Bg=e=>Math.round(e*1e5)/1e5,XS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function bee(e){return e==null}const jee=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ZS=(e,t)=>n=>!!(typeof n=="string"&&jee.test(n)&&n.startsWith(e)||t&&!bee(n)&&Object.prototype.hasOwnProperty.call(n,t)),vM=(e,t,n)=>s=>{if(typeof s!="string")return s;const[a,i,o,l]=s.match(XS);return{[e]:parseFloat(a),[t]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Nee=e=>aA(0,255,e),Db={...Ym,transform:e=>Math.round(Nee(e))},nf={test:ZS("rgb","red"),parse:vM("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+Db.transform(e)+", "+Db.transform(t)+", "+Db.transform(n)+", "+Bg($g.transform(s))+")"};function Cee(e){let t="",n="",s="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const h_={test:ZS("#"),parse:Cee,transform:nf.transform},xm={test:ZS("hsl","hue"),parse:vM("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+au.transform(Bg(t))+", "+au.transform(Bg(n))+", "+Bg($g.transform(s))+")"},Jo={test:e=>nf.test(e)||h_.test(e)||xm.test(e),parse:e=>nf.test(e)?nf.parse(e):xm.test(e)?xm.parse(e):h_.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?nf.transform(e):xm.transform(e)},_ee=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function See(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(XS))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(_ee))===null||n===void 0?void 0:n.length)||0)>0}const yM="number",wM="color",Bee="var",Eee="var(",W3="${}",Iee=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function qg(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},a=[];let i=0;const l=t.replace(Iee,c=>(Jo.test(c)?(s.color.push(i),a.push(wM),n.push(Jo.parse(c))):c.startsWith(Eee)?(s.var.push(i),a.push(Bee),n.push(c)):(s.number.push(i),a.push(yM),n.push(parseFloat(c))),++i,W3)).split(W3);return{values:n,split:l,indexes:s,types:a}}function bM(e){return qg(e).values}function jM(e){const{split:t,types:n}=qg(e),s=t.length;return a=>{let i="";for(let o=0;o<s;o++)if(i+=t[o],a[o]!==void 0){const l=n[o];l===yM?i+=Bg(a[o]):l===wM?i+=Jo.transform(a[o]):i+=a[o]}return i}}const Tee=e=>typeof e=="number"?0:e;function kee(e){const t=bM(e);return jM(e)(t.map(Tee))}const ch={test:See,parse:bM,createTransformer:jM,getAnimatableNone:kee},Pee=new Set(["brightness","contrast","saturate","opacity"]);function Dee(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(XS)||[];if(!s)return e;const a=n.replace(s,"");let i=Pee.has(t)?1:0;return s!==n&&(i*=100),t+"("+i+a+")"}const Fee=/\b([a-z-]*)\(.*?\)/gu,f_={...ch,getAnimatableNone:e=>{const t=e.match(Fee);return t?t.map(Dee).join(" "):e}},Lee={...RS,color:Jo,backgroundColor:Jo,outlineColor:Jo,fill:Jo,stroke:Jo,borderColor:Jo,borderTopColor:Jo,borderRightColor:Jo,borderBottomColor:Jo,borderLeftColor:Jo,filter:f_,WebkitFilter:f_},e4=e=>Lee[e];function NM(e,t){let n=e4(e);return n!==f_&&(n=ch),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Ree=new Set(["auto","none","0"]);function Oee(e,t,n){let s=0,a;for(;s<e.length&&!a;){const i=e[s];typeof i=="string"&&!Ree.has(i)&&qg(i).values.length&&(a=e[s]),s++}if(a&&n)for(const i of t)e[i]=NM(n,a)}const $3=e=>e===Ym||e===bn,G3=(e,t)=>parseFloat(e.split(", ")[t]),q3=(e,t)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const a=s.match(/^matrix3d\((.+)\)$/u);if(a)return G3(a[1],t);{const i=s.match(/^matrix\((.+)\)$/u);return i?G3(i[1],e):0}},Mee=new Set(["x","y","z"]),Uee=Jm.filter(e=>!Mee.has(e));function Qee(e){const t=[];return Uee.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const Qm={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:q3(4,13),y:q3(5,14)};Qm.translateX=Qm.x;Qm.translateY=Qm.y;const cf=new Set;let m_=!1,p_=!1;function CM(){if(p_){const e=Array.from(cf).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const a=Qee(s);a.length&&(n.set(s,a),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([i,o])=>{var l;(l=s.getValue(i))===null||l===void 0||l.set(o)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}p_=!1,m_=!1,cf.forEach(e=>e.complete()),cf.clear()}function _M(){cf.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(p_=!0)})}function Hee(){_M(),CM()}class t4{constructor(t,n,s,a,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(cf.add(this),m_||(m_=!0,pi.read(_M),pi.resolveKeyframes(CM))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:a}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const o=a==null?void 0:a.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(s&&n){const c=s.readValue(n,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),a&&o===void 0&&a.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),cf.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,cf.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const SM=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),zee=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Vee(e){const t=zee.exec(e);if(!t)return[,];const[,n,s,a]=t;return[`--${n??s}`,a]}function BM(e,t,n=1){const[s,a]=Vee(e);if(!s)return;const i=window.getComputedStyle(t).getPropertyValue(s);if(i){const o=i.trim();return SM(o)?parseFloat(o):o}return LS(a)?BM(a,t,n+1):a}const EM=e=>t=>t.test(e),Kee={test:e=>e==="auto",parse:e=>e},IM=[Ym,bn,au,MA,DZ,PZ,Kee],J3=e=>IM.find(EM(e));class TM extends t4{constructor(t,n,s,a,i){super(t,n,s,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),LS(d))){const u=BM(d,n.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!oM.has(s)||t.length!==2)return;const[a,i]=t,o=J3(a),l=J3(i);if(o!==l)if($3(o)&&$3(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let a=0;a<t.length;a++)wee(t[a])&&s.push(a);s.length&&Oee(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Qm[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){var t;const{element:n,name:s,unresolvedKeyframes:a}=this;if(!n||!n.current)return;const i=n.getValue(s);i&&i.jump(this.measuredOrigin,!1);const o=a.length-1,l=a[o];a[o]=Qm[s](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,d])=>{n.getValue(c).set(d)}),this.resolveNoneKeyframes()}}const Y3=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ch.test(e)||e==="0")&&!e.startsWith("url("));function Wee(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function $ee(e,t,n,s){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=Y3(a,t),l=Y3(i,t);return!o||!l?!1:Wee(e)||(n==="spring"||VS(n))&&s}const Gee=e=>e!==null;function v1(e,{repeat:t,repeatType:n="loop"},s){const a=e.filter(Gee),i=t&&n!=="loop"&&t%2===1?0:a.length-1;return!i||s===void 0?a[i]:s}const qee=40;class kM{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ou.now(),this.options={autoplay:t,delay:n,type:s,repeat:a,repeatDelay:i,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>qee?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Hee(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=ou.now(),this.hasAttemptedResolve=!0;const{name:s,type:a,velocity:i,delay:o,onComplete:l,onUpdate:c,isGenerator:d}=this.options;if(!d&&!$ee(t,s,a,i))if(o)this.options.duration=0;else{c&&c(v1(t,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const u=this.initPlayback(t,n);u!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Li=(e,t,n)=>e+(t-e)*n;function Fb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Jee({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let a=0,i=0,o=0;if(!t)a=i=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;a=Fb(c,l,e+1/3),i=Fb(c,l,e),o=Fb(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:s}}function wy(e,t){return n=>n>0?t:e}const Lb=(e,t,n)=>{const s=e*e,a=n*(t*t-s)+s;return a<0?0:Math.sqrt(a)},Yee=[h_,nf,xm],Xee=e=>Yee.find(t=>t.test(e));function X3(e){const t=Xee(e);if(!t)return!1;let n=t.parse(e);return t===xm&&(n=Jee(n)),n}const Z3=(e,t)=>{const n=X3(e),s=X3(t);if(!n||!s)return wy(e,t);const a={...n};return i=>(a.red=Lb(n.red,s.red,i),a.green=Lb(n.green,s.green,i),a.blue=Lb(n.blue,s.blue,i),a.alpha=Li(n.alpha,s.alpha,i),nf.transform(a))},Zee=(e,t)=>n=>t(e(n)),Cx=(...e)=>e.reduce(Zee),g_=new Set(["none","hidden"]);function ete(e,t){return g_.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function tte(e,t){return n=>Li(e,t,n)}function r4(e){return typeof e=="number"?tte:typeof e=="string"?LS(e)?wy:Jo.test(e)?Z3:ste:Array.isArray(e)?PM:typeof e=="object"?Jo.test(e)?Z3:rte:wy}function PM(e,t){const n=[...e],s=n.length,a=e.map((i,o)=>r4(i)(i,t[o]));return i=>{for(let o=0;o<s;o++)n[o]=a[o](i);return n}}function rte(e,t){const n={...e,...t},s={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(s[a]=r4(e[a])(e[a],t[a]));return a=>{for(const i in s)n[i]=s[i](a);return n}}function nte(e,t){var n;const s=[],a={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],l=e.indexes[o][a[o]],c=(n=e.values[l])!==null&&n!==void 0?n:0;s[i]=c,a[o]++}return s}const ste=(e,t)=>{const n=ch.createTransformer(t),s=qg(e),a=qg(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?g_.has(e)&&!a.values.length||g_.has(t)&&!s.values.length?ete(e,t):Cx(PM(nte(s,a),a.values),n):wy(e,t)};function DM(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Li(e,t,n):r4(e)(e,t)}const ite=5;function FM(e,t,n){const s=Math.max(t-ite,0);return lM(n-e(s),t-s)}const Ji={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},eI=.001;function ate({duration:e=Ji.duration,bounce:t=Ji.bounce,velocity:n=Ji.velocity,mass:s=Ji.mass}){let a,i,o=1-t;o=aA(Ji.minDamping,Ji.maxDamping,o),e=aA(Ji.minDuration,Ji.maxDuration,eA(e)),o<1?(a=d=>{const u=d*o,f=u*e,v=u-n,g=x_(d,o),w=Math.exp(-f);return eI-v/g*w},i=d=>{const f=d*o*e,v=f*n+n,g=Math.pow(o,2)*Math.pow(d,2)*e,w=Math.exp(-f),y=x_(Math.pow(d,2),o);return(-a(d)+eI>0?-1:1)*((v-g)*w)/y}):(a=d=>{const u=Math.exp(-d*e),f=(d-n)*e+1;return-.001+u*f},i=d=>{const u=Math.exp(-d*e),f=(n-d)*(e*e);return u*f});const l=5/e,c=lte(a,i,l);if(e=Zu(e),isNaN(c))return{stiffness:Ji.stiffness,damping:Ji.damping,duration:e};{const d=Math.pow(c,2)*s;return{stiffness:d,damping:o*2*Math.sqrt(s*d),duration:e}}}const ote=12;function lte(e,t,n){let s=n;for(let a=1;a<ote;a++)s=s-e(s)/t(s);return s}function x_(e,t){return e*Math.sqrt(1-t*t)}const cte=["duration","bounce"],dte=["stiffness","damping","mass"];function tI(e,t){return t.some(n=>e[n]!==void 0)}function ute(e){let t={velocity:Ji.velocity,stiffness:Ji.stiffness,damping:Ji.damping,mass:Ji.mass,isResolvedFromDuration:!1,...e};if(!tI(e,dte)&&tI(e,cte))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,i=2*aA(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Ji.mass,stiffness:a,damping:i}}else{const n=ate(e);t={...t,...n,mass:Ji.mass},t.isResolvedFromDuration=!0}return t}function LM(e=Ji.visualDuration,t=Ji.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:a}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:f,velocity:v,isResolvedFromDuration:g}=ute({...n,velocity:-eA(n.velocity||0)}),w=v||0,y=d/(2*Math.sqrt(c*u)),b=o-i,x=eA(Math.sqrt(c/u)),N=Math.abs(b)<5;s||(s=N?Ji.restSpeed.granular:Ji.restSpeed.default),a||(a=N?Ji.restDelta.granular:Ji.restDelta.default);let S;if(y<1){const F=x_(x,y);S=$=>{const U=Math.exp(-y*x*$);return o-U*((w+y*x*b)/F*Math.sin(F*$)+b*Math.cos(F*$))}}else if(y===1)S=F=>o-Math.exp(-x*F)*(b+(w+x*b)*F);else{const F=x*Math.sqrt(y*y-1);S=$=>{const U=Math.exp(-y*x*$),D=Math.min(F*$,300);return o-U*((w+y*x*b)*Math.sinh(D)+F*b*Math.cosh(D))/F}}const k={calculatedDuration:g&&f||null,next:F=>{const $=S(F);if(g)l.done=F>=f;else{let U=0;y<1&&(U=F===0?Zu(w):FM(S,F,$));const D=Math.abs(U)<=s,H=Math.abs(o-$)<=a;l.done=D&&H}return l.value=l.done?o:$,l},toString:()=>{const F=Math.min(eM(k),d_),$=tM(U=>k.next(F*U).value,F,30);return F+"ms "+$}};return k}function rI({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const f=e[0],v={done:!1,value:f},g=D=>l!==void 0&&D<l||c!==void 0&&D>c,w=D=>l===void 0?c:c===void 0||Math.abs(l-D)<Math.abs(c-D)?l:c;let y=n*t;const b=f+y,x=o===void 0?b:o(b);x!==b&&(y=x-f);const N=D=>-y*Math.exp(-D/s),S=D=>x+N(D),k=D=>{const H=N(D),K=S(D);v.done=Math.abs(H)<=d,v.value=v.done?x:K};let F,$;const U=D=>{g(v.value)&&(F=D,$=LM({keyframes:[v.value,w(v.value)],velocity:FM(S,D,v.value),damping:a,stiffness:i,restDelta:d,restSpeed:u}))};return U(0),{calculatedDuration:null,next:D=>{let H=!1;return!$&&F===void 0&&(H=!0,k(D),U(D)),F!==void 0&&D>=F?$.next(D-F):(!H&&k(D),v)}}}const Ate=Nx(.42,0,1,1),hte=Nx(0,0,.58,1),RM=Nx(.42,0,.58,1),fte=e=>Array.isArray(e)&&typeof e[0]!="number",mte={linear:Wl,easeIn:Ate,easeInOut:RM,easeOut:hte,circIn:YS,circInOut:gM,circOut:pM,backIn:JS,backInOut:fM,backOut:hM,anticipate:mM},nI=e=>{if(KS(e)){DO(e.length===4);const[t,n,s,a]=e;return Nx(t,n,s,a)}else if(typeof e=="string")return mte[e];return e};function pte(e,t,n){const s=[],a=n||DM,i=e.length-1;for(let o=0;o<i;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Wl:t;l=Cx(c,l)}s.push(l)}return s}function gte(e,t,{clamp:n=!0,ease:s,mixer:a}={}){const i=e.length;if(DO(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=pte(t,s,a),c=l.length,d=u=>{if(o&&u<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const v=Mm(e[f],e[f+1],u);return l[f](v)};return n?u=>d(aA(e[0],e[i-1],u)):d}function xte(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const a=Mm(0,t,s);e.push(Li(n,1,a))}}function vte(e){const t=[0];return xte(t,e.length-1),t}function yte(e,t){return e.map(n=>n*t)}function wte(e,t){return e.map(()=>t||RM).splice(0,e.length-1)}function by({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const a=fte(s)?s.map(nI):nI(s),i={done:!1,value:t[0]},o=yte(n&&n.length===t.length?n:vte(t),e),l=gte(o,t,{ease:Array.isArray(a)?a:wte(t,a)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const bte=e=>{const t=({timestamp:n})=>e(n);return{start:()=>pi.update(t,!0),stop:()=>lh(t),now:()=>Bo.isProcessing?Bo.timestamp:ou.now()}},jte={decay:rI,inertia:rI,tween:by,keyframes:by,spring:LM},Nte=e=>e/100;class n4 extends kM{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:s,element:a,keyframes:i}=this.options,o=(a==null?void 0:a.KeyframeResolver)||t4,l=(c,d)=>this.onKeyframesResolved(c,d);this.resolver=new o(i,l,n,s,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=this.options,l=VS(n)?n:jte[n]||by;let c,d;l!==by&&typeof t[0]!="number"&&(c=Cx(Nte,DM(t[0],t[1])),t=[0,100]);const u=l({...this.options,keyframes:t});i==="mirror"&&(d=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=eM(u));const{calculatedDuration:f}=u,v=f+a,g=v*(s+1)-a;return{generator:u,mirroredGenerator:d,mapPercentToKeyframes:c,calculatedDuration:f,resolvedDuration:v,totalDuration:g}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:s}=this;if(!s){const{keyframes:D}=this.options;return{done:!0,value:D[D.length-1]}}const{finalKeyframe:a,generator:i,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:d,totalDuration:u,resolvedDuration:f}=s;if(this.startTime===null)return i.next(0);const{delay:v,repeat:g,repeatType:w,repeatDelay:y,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-u/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const x=this.currentTime-v*(this.speed>=0?1:-1),N=this.speed>=0?x<0:x>u;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let S=this.currentTime,k=i;if(g){const D=Math.min(this.currentTime,u)/f;let H=Math.floor(D),K=D%1;!K&&D>=1&&(K=1),K===1&&H--,H=Math.min(H,g+1),!!(H%2)&&(w==="reverse"?(K=1-K,y&&(K-=y/f)):w==="mirror"&&(k=o)),S=aA(0,1,K)*f}const F=N?{done:!1,value:c[0]}:k.next(S);l&&(F.value=l(F.value));let{done:$}=F;!N&&d!==null&&($=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const U=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&$);return U&&a!==void 0&&(F.value=v1(c,this.options,a)),b&&b(F.value),U&&this.finish(),F}get duration(){const{resolved:t}=this;return t?eA(t.calculatedDuration):0}get time(){return eA(this.currentTime)}set time(t){t=Zu(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=eA(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=bte,onPlay:n,startTime:s}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),n&&n();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const Cte=new Set(["opacity","clipPath","filter","transform"]);function _te(e,t,n,{delay:s=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const d={[t]:n};c&&(d.offset=c);const u=nM(l,a);return Array.isArray(u)&&(d.easing=u),e.animate(d,{delay:s,duration:a,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const Ste=ES(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),jy=10,Bte=2e4;function Ete(e){return VS(e.type)||e.type==="spring"||!rM(e.ease)}function Ite(e,t){const n=new n4({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:e[0]};const a=[];let i=0;for(;!s.done&&i<Bte;)s=n.sample(i),a.push(s.value),i+=jy;return{times:void 0,keyframes:a,duration:i-jy,ease:"linear"}}const OM={anticipate:mM,backInOut:fM,circInOut:gM};function Tte(e){return e in OM}class sI extends kM{constructor(t){super(t);const{name:n,motionValue:s,element:a,keyframes:i}=this.options;this.resolver=new TM(i,(o,l)=>this.onKeyframesResolved(o,l),n,s,a),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:s=300,times:a,ease:i,type:o,motionValue:l,name:c,startTime:d}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof i=="string"&&yy()&&Tte(i)&&(i=OM[i]),Ete(this.options)){const{onComplete:f,onUpdate:v,motionValue:g,element:w,...y}=this.options,b=Ite(t,y);t=b.keyframes,t.length===1&&(t[1]=t[0]),s=b.duration,a=b.times,i=b.ease,o="keyframes"}const u=_te(l.owner.current,c,t,{...this.options,duration:s,times:a,ease:i});return u.startTime=d??this.calcStartTime(),this.pendingTimeline?(Q3(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:f}=this.options;l.set(v1(t,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:s,times:a,type:o,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return eA(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return eA(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.currentTime=Zu(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Wl;const{animation:s}=n;Q3(s,t)}return Wl}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:s,duration:a,type:i,ease:o,times:l}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:u,onComplete:f,element:v,...g}=this.options,w=new n4({...g,keyframes:s,duration:a,type:i,ease:o,times:l,isGenerator:!0}),y=Zu(this.time);d.setWithVelocity(w.sample(y-jy).value,w.sample(y).value,jy)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:s,repeatDelay:a,repeatType:i,damping:o,type:l}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=n.owner.getProps();return Ste()&&s&&Cte.has(s)&&!c&&!d&&!a&&i!=="mirror"&&o!==0&&l!=="inertia"}}const kte={type:"spring",stiffness:500,damping:25,restSpeed:10},Pte=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Dte={type:"keyframes",duration:.8},Fte={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Lte=(e,{keyframes:t})=>t.length>2?Dte:yf.has(e)?e.startsWith("scale")?Pte(t[1]):kte:Fte;function Rte({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const s4=(e,t,n,s={},a,i)=>o=>{const l=zS(s,e)||{},c=l.delay||s.delay||0;let{elapsed:d=0}=s;d=d-Zu(c);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:v=>{t.set(v),l.onUpdate&&l.onUpdate(v)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:a};Rte(l)||(u={...u,...Lte(e,u)}),u.duration&&(u.duration=Zu(u.duration)),u.repeatDelay&&(u.repeatDelay=Zu(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(f=!0)),f&&!i&&t.get()!==void 0){const v=v1(u.keyframes,l);if(v!==void 0)return pi.update(()=>{u.onUpdate(v),u.onComplete()}),new ree([])}return!i&&sI.supports(u)?new sI(u):new n4(u)};function Ote({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function MM(e,t,{delay:n=0,transitionOverride:s,type:a}={}){var i;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;s&&(o=s);const d=[],u=a&&e.animationState&&e.animationState.getState()[a];for(const f in c){const v=e.getValue(f,(i=e.latestValues[f])!==null&&i!==void 0?i:null),g=c[f];if(g===void 0||u&&Ote(u,f))continue;const w={delay:n,...zS(o||{},f)};let y=!1;if(window.MotionHandoffAnimation){const x=cM(e);if(x){const N=window.MotionHandoffAnimation(x,f,pi);N!==null&&(w.startTime=N,y=!0)}}A_(e,f),v.start(s4(f,v,g,e.shouldReduceMotion&&oM.has(f)?{type:!1}:w,e,y));const b=v.animation;b&&d.push(b)}return l&&Promise.all(d).then(()=>{pi.update(()=>{l&&pee(e,l)})}),d}function v_(e,t,n={}){var s;const a=x1(e,t,n.type==="exit"?(s=e.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(i=n.transitionOverride);const o=a?()=>Promise.all(MM(e,a,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:v}=i;return Mte(e,t,u+d,f,v,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[d,u]=c==="beforeChildren"?[o,l]:[l,o];return d().then(()=>u())}else return Promise.all([o(),l(n.delay)])}function Mte(e,t,n=0,s=0,a=1,i){const o=[],l=(e.variantChildren.size-1)*s,c=a===1?(d=0)=>d*s:(d=0)=>l-d*s;return Array.from(e.variantChildren).sort(Ute).forEach((d,u)=>{d.notify("AnimationStart",t),o.push(v_(d,t,{...i,delay:n+c(u)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function Ute(e,t){return e.sortNodePosition(t)}function Qte(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(i=>v_(e,i,n));s=Promise.all(a)}else if(typeof t=="string")s=v_(e,t,n);else{const a=typeof t=="function"?x1(e,t,n.custom):t;s=Promise.all(MM(e,a,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}const Hte=TS.length;function UM(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?UM(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Hte;n++){const s=TS[n],a=e.props[s];(Wg(a)||a===!1)&&(t[s]=a)}return t}const zte=[...IS].reverse(),Vte=IS.length;function Kte(e){return t=>Promise.all(t.map(({animation:n,options:s})=>Qte(e,n,s)))}function Wte(e){let t=Kte(e),n=iI(),s=!0;const a=c=>(d,u)=>{var f;const v=x1(e,u,c==="exit"?(f=e.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(v){const{transition:g,transitionEnd:w,...y}=v;d={...d,...y,...w}}return d};function i(c){t=c(e)}function o(c){const{props:d}=e,u=UM(e.parent)||{},f=[],v=new Set;let g={},w=1/0;for(let b=0;b<Vte;b++){const x=zte[b],N=n[x],S=d[x]!==void 0?d[x]:u[x],k=Wg(S),F=x===c?N.isActive:null;F===!1&&(w=b);let $=S===u[x]&&S!==d[x]&&k;if($&&s&&e.manuallyAnimateOnMount&&($=!1),N.protectedKeys={...g},!N.isActive&&F===null||!S&&!N.prevProp||p1(S)||typeof S=="boolean")continue;const U=$te(N.prevProp,S);let D=U||x===c&&N.isActive&&!$&&k||b>w&&k,H=!1;const K=Array.isArray(S)?S:[S];let B=K.reduce(a(x),{});F===!1&&(B={});const{prevResolvedValues:R={}}=N,Z={...R,...B},te=le=>{D=!0,v.has(le)&&(H=!0,v.delete(le)),N.needsAnimating[le]=!0;const Q=e.getValue(le);Q&&(Q.liveStyle=!1)};for(const le in Z){const Q=B[le],oe=R[le];if(g.hasOwnProperty(le))continue;let ce=!1;c_(Q)&&c_(oe)?ce=!ZO(Q,oe):ce=Q!==oe,ce?Q!=null?te(le):v.add(le):Q!==void 0&&v.has(le)?te(le):N.protectedKeys[le]=!0}N.prevProp=S,N.prevResolvedValues=B,N.isActive&&(g={...g,...B}),s&&e.blockInitialAnimation&&(D=!1),D&&(!($&&U)||H)&&f.push(...K.map(le=>({animation:le,options:{type:x}})))}if(v.size){const b={};v.forEach(x=>{const N=e.getBaseTarget(x),S=e.getValue(x);S&&(S.liveStyle=!0),b[x]=N??null}),f.push({animation:b})}let y=!!f.length;return s&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(y=!1),s=!1,y?t(f):Promise.resolve()}function l(c,d){var u;if(n[c].isActive===d)return Promise.resolve();(u=e.variantChildren)===null||u===void 0||u.forEach(v=>{var g;return(g=v.animationState)===null||g===void 0?void 0:g.setActive(c,d)}),n[c].isActive=d;const f=o(c);for(const v in n)n[v].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=iI(),s=!0}}}function $te(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!ZO(t,e):!1}function zh(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function iI(){return{animate:zh(!0),whileInView:zh(),whileHover:zh(),whileTap:zh(),whileDrag:zh(),whileFocus:zh(),exit:zh()}}class jh{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Gte extends jh{constructor(t){super(t),t.animationState||(t.animationState=Wte(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();p1(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let qte=0;class Jte extends jh{constructor(){super(...arguments),this.id=qte++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Yte={animation:{Feature:Gte},exit:{Feature:Jte}};function Jg(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function _x(e){return{point:{x:e.pageX,y:e.pageY}}}const Xte=e=>t=>WS(t)&&e(t,_x(t));function Eg(e,t,n,s){return Jg(e,t,Xte(n),s)}const aI=(e,t)=>Math.abs(e-t);function Zte(e,t){const n=aI(e.x,t.x),s=aI(e.y,t.y);return Math.sqrt(n**2+s**2)}class QM{constructor(t,n,{transformPagePoint:s,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Ob(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,g=Zte(f.offset,{x:0,y:0})>=3;if(!v&&!g)return;const{point:w}=f,{timestamp:y}=Bo;this.history.push({...w,timestamp:y});const{onStart:b,onMove:x}=this.handlers;v||(b&&b(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,v)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Rb(v,this.transformPagePoint),pi.update(this.updatePoint,!0)},this.handlePointerUp=(f,v)=>{this.end();const{onEnd:g,onSessionEnd:w,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Ob(f.type==="pointercancel"?this.lastMoveEventInfo:Rb(v,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,b),w&&w(f,b)},!WS(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=s,this.contextWindow=a||window;const o=_x(t),l=Rb(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=Bo;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=n;u&&u(t,Ob(l,this.history)),this.removeListeners=Cx(Eg(this.contextWindow,"pointermove",this.handlePointerMove),Eg(this.contextWindow,"pointerup",this.handlePointerUp),Eg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),lh(this.updatePoint)}}function Rb(e,t){return t?{point:t(e.point)}:e}function oI(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ob({point:e},t){return{point:e,delta:oI(e,HM(t)),offset:oI(e,ere(t)),velocity:tre(t,.1)}}function ere(e){return e[0]}function HM(e){return e[e.length-1]}function tre(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const a=HM(e);for(;n>=0&&(s=e[n],!(a.timestamp-s.timestamp>Zu(t)));)n--;if(!s)return{x:0,y:0};const i=eA(a.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-s.x)/i,y:(a.y-s.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const zM=1e-4,rre=1-zM,nre=1+zM,VM=.01,sre=0-VM,ire=0+VM;function pc(e){return e.max-e.min}function are(e,t,n){return Math.abs(e-t)<=n}function lI(e,t,n,s=.5){e.origin=s,e.originPoint=Li(t.min,t.max,e.origin),e.scale=pc(n)/pc(t),e.translate=Li(n.min,n.max,e.origin)-e.originPoint,(e.scale>=rre&&e.scale<=nre||isNaN(e.scale))&&(e.scale=1),(e.translate>=sre&&e.translate<=ire||isNaN(e.translate))&&(e.translate=0)}function Ig(e,t,n,s){lI(e.x,t.x,n.x,s?s.originX:void 0),lI(e.y,t.y,n.y,s?s.originY:void 0)}function cI(e,t,n){e.min=n.min+t.min,e.max=e.min+pc(t)}function ore(e,t,n){cI(e.x,t.x,n.x),cI(e.y,t.y,n.y)}function dI(e,t,n){e.min=t.min-n.min,e.max=e.min+pc(t)}function Tg(e,t,n){dI(e.x,t.x,n.x),dI(e.y,t.y,n.y)}function lre(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?Li(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?Li(n,e,s.max):Math.min(e,n)),e}function uI(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function cre(e,{top:t,left:n,bottom:s,right:a}){return{x:uI(e.x,n,a),y:uI(e.y,t,s)}}function AI(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function dre(e,t){return{x:AI(e.x,t.x),y:AI(e.y,t.y)}}function ure(e,t){let n=.5;const s=pc(e),a=pc(t);return a>s?n=Mm(t.min,t.max-s,e.min):s>a&&(n=Mm(e.min,e.max-a,t.min)),aA(0,1,n)}function Are(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const y_=.35;function hre(e=y_){return e===!1?e=0:e===!0&&(e=y_),{x:hI(e,"left","right"),y:hI(e,"top","bottom")}}function hI(e,t,n){return{min:fI(e,t),max:fI(e,n)}}function fI(e,t){return typeof e=="number"?e:e[t]||0}const mI=()=>({translate:0,scale:1,origin:0,originPoint:0}),vm=()=>({x:mI(),y:mI()}),pI=()=>({min:0,max:0}),pa=()=>({x:pI(),y:pI()});function Dc(e){return[e("x"),e("y")]}function KM({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function fre({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function mre(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Mb(e){return e===void 0||e===1}function w_({scale:e,scaleX:t,scaleY:n}){return!Mb(e)||!Mb(t)||!Mb(n)}function Gh(e){return w_(e)||WM(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function WM(e){return gI(e.x)||gI(e.y)}function gI(e){return e&&e!=="0%"}function Ny(e,t,n){const s=e-n,a=t*s;return n+a}function xI(e,t,n,s,a){return a!==void 0&&(e=Ny(e,a,s)),Ny(e,n,s)+t}function b_(e,t=0,n=1,s,a){e.min=xI(e.min,t,n,s,a),e.max=xI(e.max,t,n,s,a)}function $M(e,{x:t,y:n}){b_(e.x,t.translate,t.scale,t.originPoint),b_(e.y,n.translate,n.scale,n.originPoint)}const vI=.999999999999,yI=1.0000000000001;function pre(e,t,n,s=!1){const a=n.length;if(!a)return;t.x=t.y=1;let i,o;for(let l=0;l<a;l++){i=n[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&wm(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,$M(e,o)),s&&Gh(i.latestValues)&&wm(e,i.latestValues))}t.x<yI&&t.x>vI&&(t.x=1),t.y<yI&&t.y>vI&&(t.y=1)}function ym(e,t){e.min=e.min+t,e.max=e.max+t}function wI(e,t,n,s,a=.5){const i=Li(e.min,e.max,a);b_(e,t,n,i,s)}function wm(e,t){wI(e.x,t.x,t.scaleX,t.scale,t.originX),wI(e.y,t.y,t.scaleY,t.scale,t.originY)}function GM(e,t){return KM(mre(e.getBoundingClientRect(),t))}function gre(e,t,n){const s=GM(e,n),{scroll:a}=t;return a&&(ym(s.x,a.offset.x),ym(s.y,a.offset.y)),s}const qM=({current:e})=>e?e.ownerDocument.defaultView:null,xre=new WeakMap;class vre{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pa(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(_x(u).point)},i=(u,f)=>{const{drag:v,dragPropagation:g,onDragStart:w}=this.getProps();if(v&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=uee(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Dc(b=>{let x=this.getAxisMotionValue(b).get()||0;if(au.test(x)){const{projection:N}=this.visualElement;if(N&&N.layout){const S=N.layout.layoutBox[b];S&&(x=pc(S)*(parseFloat(x)/100))}}this.originPoint[b]=x}),w&&pi.postRender(()=>w(u,f)),A_(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(u,f)=>{const{dragPropagation:v,dragDirectionLock:g,onDirectionLock:w,onDrag:y}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:b}=f;if(g&&this.currentDirection===null){this.currentDirection=yre(b),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",f.point,b),this.updateAxis("y",f.point,b),this.visualElement.render(),y&&y(u,f)},l=(u,f)=>this.stop(u,f),c=()=>Dc(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new QM(t,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:qM(this.visualElement)})}stop(t,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&pi.postRender(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:a}=this.getProps();if(!s||!Qv(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(o=lre(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:s}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&gm(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=cre(a.layoutBox,n):this.constraints=!1,this.elastic=hre(s),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Dc(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Are(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!gm(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=gre(s,a.root,this.visualElement.getTransformPagePoint());let o=dre(a.layout.layoutBox,i);if(n){const l=n(fre(o));this.hasMutatedConstraints=!!l,l&&(o=KM(l))}return o}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Dc(u=>{if(!Qv(u,n,this.currentDirection))return;let f=c&&c[u]||{};o&&(f={min:0,max:0});const v=a?200:1e6,g=a?40:1e7,w={type:"inertia",velocity:s?t[u]:0,bounceStiffness:v,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(u,w)});return Promise.all(d).then(l)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return A_(this.visualElement,t),s.start(s4(t,s,0,n,this.visualElement,!1))}stopAnimation(){Dc(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Dc(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Dc(n=>{const{drag:s}=this.getProps();if(!Qv(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(n);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[n];i.set(t[n]-Li(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!gm(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Dc(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=ure({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Dc(o=>{if(!Qv(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(Li(c,d,a[o]))})}addListeners(){if(!this.visualElement.current)return;xre.set(this.visualElement,this);const t=this.visualElement.current,n=Eg(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();gm(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),pi.read(s);const o=Jg(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Dc(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=c[u].translate,f.set(f.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=y_,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Qv(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function yre(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class wre extends jh{constructor(t){super(t),this.removeGroupControls=Wl,this.removeListeners=Wl,this.controls=new vre(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Wl}unmount(){this.removeGroupControls(),this.removeListeners()}}const bI=e=>(t,n)=>{e&&pi.postRender(()=>e(t,n))};class bre extends jh{constructor(){super(...arguments),this.removePointerDownListener=Wl}onPointerDown(t){this.session=new QM(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:qM(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:bI(t),onStart:bI(n),onMove:s,onEnd:(i,o)=>{delete this.session,a&&pi.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=Eg(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const V0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function jI(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Qp={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(bn.test(e))e=parseFloat(e);else return e;const n=jI(e,t.target.x),s=jI(e,t.target.y);return`${n}% ${s}%`}},jre={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,a=ch.parse(e);if(a.length>5)return s;const i=ch.createTransformer(e),o=typeof a[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const d=Li(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=d),typeof a[3+o]=="number"&&(a[3+o]/=d),i(a)}};class Nre extends m.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:i}=t;VZ(Cre),i&&(n.group&&n.group.add(i),s&&s.register&&a&&s.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),V0.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:a,isPresent:i}=this.props,o=s.projection;return o&&(o.isPresent=i,a||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||pi.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),PS.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function JM(e){const[t,n]=kO(),s=m.useContext(CS);return r.jsx(Nre,{...e,layoutGroup:s,switchLayoutGroup:m.useContext(UO),isPresent:t,safeToRemove:n})}const Cre={borderRadius:{...Qp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Qp,borderTopRightRadius:Qp,borderBottomLeftRadius:Qp,borderBottomRightRadius:Qp,boxShadow:jre};function _re(e,t,n){const s=tl(e)?e:Gg(e);return s.start(s4("",s,t,n)),s.animation}function Sre(e){return e instanceof SVGElement&&e.tagName!=="svg"}const Bre=(e,t)=>e.depth-t.depth;class Ere{constructor(){this.children=[],this.isDirty=!1}add(t){$S(this.children,t),this.isDirty=!0}remove(t){GS(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Bre),this.isDirty=!1,this.children.forEach(t)}}function Ire(e,t){const n=ou.now(),s=({timestamp:a})=>{const i=a-n;i>=t&&(lh(s),e(i-t))};return pi.read(s,!0),()=>lh(s)}const YM=["TopLeft","TopRight","BottomLeft","BottomRight"],Tre=YM.length,NI=e=>typeof e=="string"?parseFloat(e):e,CI=e=>typeof e=="number"||bn.test(e);function kre(e,t,n,s,a,i){a?(e.opacity=Li(0,n.opacity!==void 0?n.opacity:1,Pre(s)),e.opacityExit=Li(t.opacity!==void 0?t.opacity:1,0,Dre(s))):i&&(e.opacity=Li(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let o=0;o<Tre;o++){const l=`border${YM[o]}Radius`;let c=_I(t,l),d=_I(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||CI(c)===CI(d)?(e[l]=Math.max(Li(NI(c),NI(d),s),0),(au.test(d)||au.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||n.rotate)&&(e.rotate=Li(t.rotate||0,n.rotate||0,s))}function _I(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Pre=XM(0,.5,pM),Dre=XM(.5,.95,Wl);function XM(e,t,n){return s=>s<e?0:s>t?1:n(Mm(e,t,s))}function SI(e,t){e.min=t.min,e.max=t.max}function kc(e,t){SI(e.x,t.x),SI(e.y,t.y)}function BI(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function EI(e,t,n,s,a){return e-=t,e=Ny(e,1/n,s),a!==void 0&&(e=Ny(e,1/a,s)),e}function Fre(e,t=0,n=1,s=.5,a,i=e,o=e){if(au.test(t)&&(t=parseFloat(t),t=Li(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Li(i.min,i.max,s);e===i&&(l-=t),e.min=EI(e.min,t,n,l,a),e.max=EI(e.max,t,n,l,a)}function II(e,t,[n,s,a],i,o){Fre(e,t[n],t[s],t[a],t.scale,i,o)}const Lre=["x","scaleX","originX"],Rre=["y","scaleY","originY"];function TI(e,t,n,s){II(e.x,t,Lre,n?n.x:void 0,s?s.x:void 0),II(e.y,t,Rre,n?n.y:void 0,s?s.y:void 0)}function kI(e){return e.translate===0&&e.scale===1}function ZM(e){return kI(e.x)&&kI(e.y)}function PI(e,t){return e.min===t.min&&e.max===t.max}function Ore(e,t){return PI(e.x,t.x)&&PI(e.y,t.y)}function DI(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function eU(e,t){return DI(e.x,t.x)&&DI(e.y,t.y)}function FI(e){return pc(e.x)/pc(e.y)}function LI(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Mre{constructor(){this.members=[]}add(t){$S(this.members,t),t.scheduleRender()}remove(t){if(GS(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Ure(e,t,n){let s="";const a=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((a||i||o)&&(s=`translate3d(${a}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:u,rotateX:f,rotateY:v,skewX:g,skewY:w}=n;d&&(s=`perspective(${d}px) ${s}`),u&&(s+=`rotate(${u}deg) `),f&&(s+=`rotateX(${f}deg) `),v&&(s+=`rotateY(${v}deg) `),g&&(s+=`skewX(${g}deg) `),w&&(s+=`skewY(${w}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const qh={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},fg=typeof window<"u"&&window.MotionDebug!==void 0,Ub=["","X","Y","Z"],Qre={visibility:"hidden"},RI=1e3;let Hre=0;function Qb(e,t,n,s){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),s&&(s[e]=0))}function tU(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=cM(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",pi,!(a||i))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&tU(s)}function rU({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(o={},l=t==null?void 0:t()){this.id=Hre++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,fg&&(qh.totalNodes=qh.resolvedTargetDeltas=qh.recalculatedProjection=0),this.nodes.forEach(Kre),this.nodes.forEach(Jre),this.nodes.forEach(Yre),this.nodes.forEach(Wre),fg&&window.MotionDebug.record(qh)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ere)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new qS),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Sre(o),this.instance=o;const{layoutId:c,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),e){let f;const v=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=Ire(v,250),V0.hasAnimatedSinceResize&&(V0.hasAnimatedSinceResize=!1,this.nodes.forEach(MI))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||d)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:v,hasRelativeTargetChanged:g,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||rne,{onLayoutAnimationStart:b,onLayoutAnimationComplete:x}=u.getProps(),N=!this.targetLayout||!eU(this.targetLayout,w)||g,S=!v&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||v&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,S);const k={...zS(y,"layout"),onPlay:b,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else v||MI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,lh(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Xre),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&tU(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(OI);return}this.isUpdating||this.nodes.forEach(Gre),this.isUpdating=!1,this.nodes.forEach(qre),this.nodes.forEach(zre),this.nodes.forEach(Vre),this.clearAllSnapshots();const l=ou.now();Bo.delta=aA(0,1e3/60,l-Bo.timestamp),Bo.timestamp=l,Bo.isProcessing=!0,kb.update.process(Bo),kb.preRender.process(Bo),kb.render.process(Bo),Bo.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,PS.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach($re),this.sharedNodes.forEach(Zre)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,pi.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){pi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=pa(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!ZM(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&(l||Gh(this.latestValues)||u)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),nne(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return pa();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(sne))){const{scroll:u}=this.root;u&&(ym(c.x,u.offset.x),ym(c.y,u.offset.y))}return c}removeElementScroll(o){var l;const c=pa();if(kc(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:f,options:v}=u;u!==this.root&&f&&v.layoutScroll&&(f.wasRoot&&kc(c,o),ym(c.x,f.offset.x),ym(c.y,f.offset.y))}return c}applyTransform(o,l=!1){const c=pa();kc(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&wm(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Gh(u.latestValues)&&wm(c,u.latestValues)}return Gh(this.latestValues)&&wm(c,this.latestValues),c}removeTransform(o){const l=pa();kc(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Gh(d.latestValues))continue;w_(d.latestValues)&&d.updateSnapshot();const u=pa(),f=d.measurePageBox();kc(u,f),TI(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return Gh(this.latestValues)&&TI(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Bo.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:v}=this.options;if(!(!this.layout||!(f||v))){if(this.resolvedRelativeTargetAt=Bo.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pa(),this.relativeTargetOrigin=pa(),Tg(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),kc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=pa(),this.targetWithTransforms=pa()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ore(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):kc(this.target,this.layout.layoutBox),$M(this.target,this.targetDelta)):kc(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pa(),this.relativeTargetOrigin=pa(),Tg(this.relativeTargetOrigin,this.target,g.target),kc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}fg&&qh.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||w_(this.parent.latestValues)||WM(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Bo.timestamp&&(d=!1),d)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;kc(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,g=this.treeScale.y;pre(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=pa());const{target:w}=l;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(BI(this.prevProjectionDelta.x,this.projectionDelta.x),BI(this.prevProjectionDelta.y,this.projectionDelta.y)),Ig(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==g||!LI(this.projectionDelta.x,this.prevProjectionDelta.x)||!LI(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),fg&&qh.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=vm(),this.projectionDelta=vm(),this.projectionDeltaWithTransform=vm()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},f=vm();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const v=pa(),g=c?c.source:void 0,w=this.layout?this.layout.source:void 0,y=g!==w,b=this.getStack(),x=!b||b.members.length<=1,N=!!(y&&!x&&this.options.crossfade===!0&&!this.path.some(tne));this.animationProgress=0;let S;this.mixTargetDelta=k=>{const F=k/1e3;UI(f.x,o.x,F),UI(f.y,o.y,F),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Tg(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ene(this.relativeTarget,this.relativeTargetOrigin,v,F),S&&Ore(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=pa()),kc(S,this.relativeTarget)),y&&(this.animationValues=u,kre(u,d,this.latestValues,F,N,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(lh(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=pi.update(()=>{V0.hasAnimatedSinceResize=!0,this.currentAnimation=_re(0,RI,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(RI),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&nU(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||pa();const f=pc(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const v=pc(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+v}kc(l,c),wm(l,u),Ig(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Mre),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&Qb("z",o,d,this.animationValues);for(let u=0;u<Ub.length;u++)Qb(`rotate${Ub[u]}`,o,d,this.animationValues),Qb(`skew${Ub[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Qre;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=H0(o==null?void 0:o.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=H0(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Gh(this.latestValues)&&(y.transform=u?u({},""):"none",this.hasProjected=!1),y}const v=f.animationValues||f.latestValues;this.applyTransformsToTarget(),d.transform=Ure(this.projectionDeltaWithTransform,this.treeScale,v),u&&(d.transform=u(v,d.transform));const{x:g,y:w}=this.projectionDelta;d.transformOrigin=`${g.origin*100}% ${w.origin*100}% 0`,f.animationValues?d.opacity=f===this?(c=(l=v.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:d.opacity=f===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const y in vy){if(v[y]===void 0)continue;const{correct:b,applyTo:x}=vy[y],N=d.transform==="none"?v[y]:b(v[y],f);if(x){const S=x.length;for(let k=0;k<S;k++)d[x[k]]=N}else d[y]=N}return this.options.layoutId&&(d.pointerEvents=f===this?H0(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(OI),this.root.sharedNodes.clear()}}}function zre(e){e.updateLayout()}function Vre(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?Dc(f=>{const v=o?n.measuredBox[f]:n.layoutBox[f],g=pc(v);v.min=s[f].min,v.max=v.min+g}):nU(i,n.layoutBox,s)&&Dc(f=>{const v=o?n.measuredBox[f]:n.layoutBox[f],g=pc(s[f]);v.max=v.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+g)});const l=vm();Ig(l,s,n.layoutBox);const c=vm();o?Ig(c,e.applyTransform(a,!0),n.measuredBox):Ig(c,s,n.layoutBox);const d=!ZM(l);let u=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:v,layout:g}=f;if(v&&g){const w=pa();Tg(w,n.layoutBox,v.layoutBox);const y=pa();Tg(y,s,g.layoutBox),eU(w,y)||(u=!0),f.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=w,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function Kre(e){fg&&qh.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Wre(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function $re(e){e.clearSnapshot()}function OI(e){e.clearMeasurements()}function Gre(e){e.isLayoutDirty=!1}function qre(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function MI(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Jre(e){e.resolveTargetDelta()}function Yre(e){e.calcProjection()}function Xre(e){e.resetSkewAndRotation()}function Zre(e){e.removeLeadSnapshot()}function UI(e,t,n){e.translate=Li(t.translate,0,n),e.scale=Li(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function QI(e,t,n,s){e.min=Li(t.min,n.min,s),e.max=Li(t.max,n.max,s)}function ene(e,t,n,s){QI(e.x,t.x,n.x,s),QI(e.y,t.y,n.y,s)}function tne(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const rne={duration:.45,ease:[.4,0,.1,1]},HI=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),zI=HI("applewebkit/")&&!HI("chrome/")?Math.round:Wl;function VI(e){e.min=zI(e.min),e.max=zI(e.max)}function nne(e){VI(e.x),VI(e.y)}function nU(e,t,n){return e==="position"||e==="preserve-aspect"&&!are(FI(t),FI(n),.2)}function sne(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const ine=rU({attachResizeListener:(e,t)=>Jg(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Hb={current:void 0},sU=rU({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Hb.current){const e=new ine({});e.mount(window),e.setOptions({layoutScroll:!0}),Hb.current=e}return Hb.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),ane={pan:{Feature:bre},drag:{Feature:wre,ProjectionNode:sU,MeasureLayout:JM}};function KI(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,i=s[a];i&&pi.postRender(()=>i(t,_x(t)))}class one extends jh{mount(){const{current:t}=this.node;t&&(this.unmount=aee(t,n=>(KI(this.node,n,"Start"),s=>KI(this.node,s,"End"))))}unmount(){}}class lne extends jh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Cx(Jg(this.node.current,"focus",()=>this.onFocus()),Jg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function WI(e,t,n){const{props:s}=e;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),i=s[a];i&&pi.postRender(()=>i(t,_x(t)))}class cne extends jh{mount(){const{current:t}=this.node;t&&(this.unmount=dee(t,n=>(WI(this.node,n,"Start"),(s,{success:a})=>WI(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const j_=new WeakMap,zb=new WeakMap,dne=e=>{const t=j_.get(e.target);t&&t(e)},une=e=>{e.forEach(dne)};function Ane({root:e,...t}){const n=e||document;zb.has(n)||zb.set(n,{});const s=zb.get(n),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(une,{root:e,...t})),s[a]}function hne(e,t,n){const s=Ane(t);return j_.set(e,n),s.observe(e),()=>{j_.delete(e),s.unobserve(e)}}const fne={some:0,all:1};class mne extends jh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:fne[a]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),v=d?u:f;v&&v(c)};return hne(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(pne(t,n))&&this.startObserver()}unmount(){}}function pne({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const gne={inView:{Feature:mne},tap:{Feature:cne},focus:{Feature:lne},hover:{Feature:one}},xne={layout:{ProjectionNode:sU,MeasureLayout:JM}},N_={current:null},iU={current:!1};function vne(){if(iU.current=!0,!!BS)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>N_.current=e.matches;e.addListener(t),t()}else N_.current=!1}const yne=[...IM,Jo,ch],wne=e=>yne.find(EM(e)),$I=new WeakMap;function bne(e,t,n){for(const s in t){const a=t[s],i=n[s];if(tl(a))e.addValue(s,a);else if(tl(i))e.addValue(s,Gg(a,{owner:e}));else if(i!==a)if(e.hasValue(s)){const o=e.getValue(s);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(s);e.addValue(s,Gg(o!==void 0?o:a,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const GI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class jne{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=t4,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=ou.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,pi.render(this.render,!1,!0))};const{latestValues:c,renderState:d,onUpdate:u}=o;this.onUpdate=u,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=g1(n),this.isVariantNode=OO(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in v){const w=v[g];c[g]!==void 0&&tl(w)&&w.set(c[g],!1)}}mount(t){this.current=t,$I.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),iU.current||vne(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:N_.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){$I.delete(this.current),this.projection&&this.projection.unmount(),lh(this.notifyUpdate),lh(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=yf.has(t),a=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&pi.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Um){const n=Um[t];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pa()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<GI.length;s++){const a=GI[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=t[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=bne(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Gg(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){var s;let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(s=this.getBaseTargetFromProps(this.props,t))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(SM(a)||xM(a))?a=parseFloat(a):!wne(a)&&ch.test(n)&&(a=NM(t,n)),this.setBaseTarget(t,tl(a)?a.get():a)),tl(a)?a.get():a}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:s}=this.props;let a;if(typeof s=="string"||typeof s=="object"){const o=FS(this.props,s,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(a=o[t])}if(s&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!tl(i)?i:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new qS),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class aU extends jne{constructor(){super(...arguments),this.KeyframeResolver=TM}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;tl(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Nne(e){return window.getComputedStyle(e)}class Cne extends aU{constructor(){super(...arguments),this.type="html",this.renderInstance=$O}readValueFromInstance(t,n){if(yf.has(n)){const s=e4(n);return s&&s.default||0}else{const s=Nne(t),a=(VO(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return GM(t,n)}build(t,n,s){OS(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return HS(t,n,s)}}class _ne extends aU{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=pa}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(yf.has(n)){const s=e4(n);return s&&s.default||0}return n=GO.has(n)?n:kS(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return YO(t,n,s)}build(t,n,s){MS(t,n,this.isSVGTag,s.transformTemplate)}renderInstance(t,n,s,a){qO(t,n,s,a)}mount(t){this.isSVGTag=QS(t.tagName),super.mount(t)}}const Sne=(e,t)=>DS(e)?new _ne(t):new Cne(t,{allowProjection:e!==m.Fragment}),Bne=ZZ({...Yte,...gne,...ane,...xne},Sne),Xt=fZ(Bne),oU=m.createContext(null),Ene=({children:e})=>{const[t,n]=m.useState(null),[s,a]=m.useState([]),i=(d,u)=>{t&&n({...t,[d]:u})},o=async()=>{try{const d=await ke("fetchActiveUnits",{});n(u=>({...u,activeOfficers:Array.isArray(d.units)?d.units:[]}))}catch(d){console.error("Error:",d)}};Gs("updateDuty",d=>{d.success&&t&&(n({...t,status:d.status}),o())});const l=async(d,u)=>{try{await ke("toggleDuty",{citizenId:d,status:u})}catch(f){return console.error("Error:",f),null}},c=async d=>{if(d){const u={id:`CH${Date.now()}`,name:d,units:[],status:"active"};try{if((await ke("createRadioChannels",{newChannel:u})).success)return i("radioChannels",[...(t==null?void 0:t.radioChannels)||[],u]),{channelId:u.id};throw new Error("Failed to create radio channel")}catch(f){throw console.error("Error:",f),f}}};return r.jsx(oU.Provider,{value:{user:t,setUser:n,setUserField:i,toggleUserDuty:l,createRadioChannel:c,logos:s,setLogos:a},children:e})},Yn=()=>{const e=m.useContext(oU);if(!e)throw new Error("useUserContext must be used within a UserProvider");return e},Ine=u1("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ze({className:e,variant:t,...n}){return r.jsx("div",{className:Tt(Ine({variant:t}),e),...n})}const lU=m.createContext({locale:{},setLocale:()=>{}}),Tne=({children:e})=>{const[t,n]=m.useState({});return m.useEffect(()=>{(async()=>{try{const a=await ke("setLocale",{});n(a||[])}catch(a){console.error("Failed to load locale:",a)}})()},[]),r.jsx(lU.Provider,{value:{locale:t,setLocale:n},children:e})},ir=()=>{const e=m.useContext(lU);if(!e)throw new Error("useLocales must be used within a LocaleProvider");return e},kne=({camera:e,onClick:t})=>{const{locale:n}=ir();return r.jsx(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:r.jsxs(Le,{className:`bg-card/50  border-primary/20 hover:bg-card/80 transition-colors cursor-pointer ${e.status==="offline"?"opacity-70":""}`,onClick:t,children:[r.jsx(mt,{className:"pb-2",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs(kt,{className:"text-lg flex items-center",children:[r.jsx(o_,{className:"mr-2 h-5 w-5 text-primary"}),e==null?void 0:e.name]}),e.status==="on"?r.jsxs(ze,{variant:"outline",className:"bg-green-500/20 text-green-500 border-green-500/50",children:[r.jsx(Rm,{className:"mr-1 h-3 w-3"}),(n==null?void 0:n.text_online)||"Online"]}):r.jsxs(ze,{variant:"outline",className:"bg-red-500/20 text-red-500 border-red-500/50",children:[r.jsx(ah,{className:"mr-1 h-3 w-3"}),(n==null?void 0:n.text_offline)||"Offline"]})]})}),r.jsx(Je,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"aspect-video bg-black rounded-lg overflow-hidden relative",children:e.status==="on"?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx(o_,{className:"h-12 w-12 text-primary"})}),r.jsx("div",{className:"absolute top-2 left-2 bg-red-500 h-2 w-2 rounded-full animate-ping"}),r.jsx("div",{className:"absolute bottom-2 left-2 text-xs text-white bg-black/50 px-2 py-1 rounded",children:(n==null?void 0:n.text_live)||"LIVE"})]}):r.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/80",children:[r.jsx(ah,{className:"h-12 w-12 text-red-500 mb-2"}),r.jsx("span",{className:"text-xs text-white",children:(n==null?void 0:n.text_connection_lost)||"Connection Lost"})]})}),r.jsx("div",{children:r.jsx(ze,{variant:"outline",className:"bg-blue-500/20 text-blue-500 border-blue-500/50",children:e==null?void 0:e.department})})]})})]})})},Pne=1,Dne=1e6;let Vb=0;function Fne(){return Vb=(Vb+1)%Number.MAX_SAFE_INTEGER,Vb.toString()}const Kb=new Map,qI=e=>{if(Kb.has(e))return;const t=setTimeout(()=>{Kb.delete(e),kg({type:"REMOVE_TOAST",toastId:e})},Dne);Kb.set(e,t)},Lne=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Pne)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?qI(n):e.toasts.forEach(s=>{qI(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},K0=[];let W0={toasts:[]};function kg(e){W0=Lne(W0,e),K0.forEach(t=>{t(W0)})}function lc({...e}){const t=Fne(),n=a=>kg({type:"UPDATE_TOAST",toast:{...a,id:t}}),s=()=>kg({type:"DISMISS_TOAST",toastId:t});return kg({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||s()}}}),{id:t,dismiss:s,update:n}}function ys(){const[e,t]=m.useState(W0);return m.useEffect(()=>(K0.push(t),()=>{const n=K0.indexOf(t);n>-1&&K0.splice(n,1)}),[e]),{...e,toast:lc,dismiss:n=>kg({type:"DISMISS_TOAST",toastId:n})}}const cU=({onCameraDetails:e})=>{const t=m.useRef(null),[n,s]=m.useState(!1),{user:a,setUser:i}=Yn(),o=m.useRef([]),l=m.useRef(null),c=m.useRef(new Date),d=m.useRef(null),u=m.useRef(null),{locale:f}=ir();m.useEffect(()=>{const D=setInterval(()=>{c.current=new Date},1e3);return()=>clearInterval(D)},[]),Gs("forceStopRecording",()=>{setTimeout(()=>{F()},500)}),m.useEffect(()=>{const D=()=>{F()};return document.addEventListener("stopRecording",D),()=>{document.removeEventListener("stopRecording",D)}},[]);const v=`
         attribute vec2 a_position;
            attribute vec2 a_texcoord;
            uniform mat3 u_matrix;
            varying vec2 textureCoordinate;
            void main() {
                gl_Position = vec4(a_position, 0.0, 1.0);
                textureCoordinate = a_texcoord;
            }
    `,g=`
       varying highp vec2 textureCoordinate;
            uniform sampler2D external_texture;
            void main()
            {
            gl_FragColor = texture2D(external_texture, textureCoordinate);
            }
    `,w=(D,H,K)=>{const B=D.createShader(H);if(!B)throw new Error("Failed to create shader");if(D.shaderSource(B,K),D.compileShader(B),!D.getShaderParameter(B,D.COMPILE_STATUS)){const R=D.getShaderInfoLog(B);throw D.deleteShader(B),new Error("Could not compile shader: "+R)}return B},y=D=>{const H=D.createTexture(),K=new Uint8Array([0,0,255,255]);return D.bindTexture(D.TEXTURE_2D,H),D.texImage2D(D.TEXTURE_2D,0,D.RGBA,1,1,0,D.RGBA,D.UNSIGNED_BYTE,K),D.texParameterf(D.TEXTURE_2D,D.TEXTURE_MAG_FILTER,D.LINEAR),D.texParameterf(D.TEXTURE_2D,D.TEXTURE_MIN_FILTER,D.LINEAR),D.texParameterf(D.TEXTURE_2D,D.TEXTURE_WRAP_S,D.CLAMP_TO_EDGE),D.texParameterf(D.TEXTURE_2D,D.TEXTURE_WRAP_T,D.CLAMP_TO_EDGE),D.texParameterf(D.TEXTURE_2D,D.TEXTURE_WRAP_T,D.MIRRORED_REPEAT),D.texParameterf(D.TEXTURE_2D,D.TEXTURE_WRAP_T,D.REPEAT),D.texParameterf(D.TEXTURE_2D,D.TEXTURE_WRAP_T,D.CLAMP_TO_EDGE),H},b=D=>{const H=D.createBuffer();D.bindBuffer(D.ARRAY_BUFFER,H),D.bufferData(D.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,1]),D.STATIC_DRAW);const K=D.createBuffer();return D.bindBuffer(D.ARRAY_BUFFER,K),D.bufferData(D.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,1,1]),D.STATIC_DRAW),{vertexBuff:H,texBuff:K}},x=D=>{const H=w(D,D.VERTEX_SHADER,v),K=w(D,D.FRAGMENT_SHADER,g),B=D.createProgram();D.attachShader(B,H),D.attachShader(B,K),D.linkProgram(B),D.useProgram(B);const R=D.getAttribLocation(B,"a_position"),Z=D.getAttribLocation(B,"a_texcoord");return{program:B,vloc:R,tloc:Z}},N=D=>{const H=y(D),{program:K,vloc:B,tloc:R}=x(D),{vertexBuff:Z,texBuff:te}=b(D);D.useProgram(K),D.bindTexture(D.TEXTURE_2D,H),D.uniform1i(D.getUniformLocation(K,"external_texture"),0),D.bindBuffer(D.ARRAY_BUFFER,Z),D.vertexAttribPointer(B,2,D.FLOAT,!1,0,0),D.enableVertexAttribArray(B),D.bindBuffer(D.ARRAY_BUFFER,te),D.vertexAttribPointer(R,2,D.FLOAT,!1,0,0),D.enableVertexAttribArray(R),D.viewport(0,0,D.canvas.width,D.canvas.height)},S=(D,H)=>{D.drawArrays(D.TRIANGLE_STRIP,0,4),D.finish();let K=()=>{};H.animationFrame=requestAnimationFrame(K)},k=m.useCallback(async D=>{const H=new FormData;let K="";try{const B=await ke("getServerWebhook",{});if(B!=null&&B.success)K=B==null?void 0:B.webhook;else throw new Error("Failed to get webhook URL");if(!K)throw new Error("Webhook URL is empty");H.append("file",D,"video.webm");const R=await fetch(K,{method:"POST",body:H});if(!R.ok)throw new Error(`Failed to upload video to Discord: ${R.status}`);const Z=await R.json();e(Z.attachments[0].url)}catch(B){console.error("^1[ERROR]:^3",B instanceof Error?B.message:B)}},[e]),F=m.useCallback(()=>{if(l.current&&l.current.state==="recording"){try{l.current.stop()}catch(D){console.error("Error stopping MediaRecorder:",D)}l.current.stream.getTracks().forEach(D=>{D.stop()})}u.current&&clearTimeout(u.current),s(!1)},[]),$=m.useCallback(async()=>{if(n)return;o.current=[],s(!0);const D=t.current;if(!D)return;const H=document.createElement("canvas");H.width=D.width,H.height=D.height;const K=H.getContext("2d");K&&setInterval(()=>{U(K,D)},1e3);const B=D.getContext("webgl",{antialias:!0,depth:!1,stencil:!1,alpha:!1,desynchronized:!0,failIfMajorPerformanceCaveat:!1});if(!B)return;N(B);const R=document.createElement("canvas");R.width=D.width,R.height=D.height;const Z=R.getContext("2d");if(!Z)return;(()=>{const le=()=>{Z.clearRect(0,0,R.width,R.height),Z.drawImage(D,0,0),Z.drawImage(H,0,0),requestAnimationFrame(le)};le()})();const ye=R.captureStream(30),de=new MediaStream([...ye.getVideoTracks()]);l.current=new MediaRecorder(de,{mimeType:"video/webm;codecs=vp9"}),l.current.start(),l.current.ondataavailable=le=>le.data.size>0&&o.current.push(le.data),l.current.onstop=async()=>{d.current&&(d.current.postMessage({videoChunks:o.current}),d.current.onmessage=async le=>{const Q=le.data;Q.size>0&&(s(!1),await k(Q)),l.current=null,o.current=[]})},a!=null&&a.recordTime&&(u.current=setTimeout(()=>{F()},a.recordTime*1e3))},[n,k,a==null?void 0:a.recordTime,F]),U=(D,H)=>{!D||!H||(D.clearRect(0,0,H.width,H.height),D.fillStyle="rgba(0, 0, 0, 0.5)",D.fillRect(10,10,80,30),D.fillStyle="red",D.beginPath(),D.arc(25,25,6,0,2*Math.PI),D.fill(),D.fillStyle="white",D.font="16px Arial",D.fillText("LIVE",40,30),D.fillStyle="rgba(0, 0, 0, 0.5)",D.fillRect(10,H.height-40,200,30),D.fillStyle="white",D.fillText(c.current.toLocaleString(),20,H.height-20))};return m.useEffect(()=>{const D=t.current;if(!D)return;D.width=window.innerWidth,D.height=window.innerHeight;const H=D.getContext("webgl",{antialias:!1,depth:!1,stencil:!1,alpha:!1,desynchronized:!0,failIfMajorPerformanceCaveat:!1}),K={animationFrame:void 0};H&&(N(H),setInterval(()=>{S(H,K)},0))},[]),m.useEffect(()=>(d.current=new Worker(new URL(""+new URL("videoWorker-GOZxy9iq.js",import.meta.url).href,import.meta.url)),()=>{l.current&&l.current.state==="recording"&&(l.current.stop(),l.current.stream.getTracks().forEach(D=>D.stop())),d.current&&d.current.terminate()}),[]),r.jsxs("div",{className:"flex items-center justify-center min-h-full bg-gray-900 relative",children:[r.jsx("canvas",{ref:t,className:"w-full h-full absolute"}),r.jsx("div",{className:"absolute bottom-2 right-2 flex items-center bg-black bg-opacity-50 text-white px-2 py-1 rounded text-sm",children:r.jsx("button",{onClick:n?F:$,className:"px-4 py-2 rounded text-white",children:n?(f==null?void 0:f.text_stop_recording)||"Stop Recording":(f==null?void 0:f.text_start_recording)||"Start Recording"})})]})},Rne=({camera:e,userPermissions:t,onClose:n})=>{const{locale:s}=ir(),{toast:a}=ys(),[i,o]=m.useState(e),[l,c]=m.useState(null),[d,u]=m.useState(1),[f]=m.useState(5);m.useEffect(()=>{o(e)},[e]);const[v,g]=m.useState([]),[w,y]=m.useState(1),[b,x]=m.useState(!1),N=Math.ceil(w/f),S=async H=>{x(!0);try{const K=await ke("getPaginatedCameraVideos",{id:i==null?void 0:i.citizenId,page:H,perPage:f});K.success&&(g(Array.isArray(K.videos)?K.videos:JSON.parse(K.videos||"[]")),y(K.totalCount))}catch(K){console.error("Error fetching paginated footage:",K)}finally{x(!1)}};m.useEffect(()=>{i!=null&&i.citizenId&&S(d)},[d,i==null?void 0:i.citizenId]);const k=()=>{u(H=>Math.max(1,H-1))},F=()=>{u(H=>Math.min(N,H+1))},$=async H=>{try{const K=await ke("saveVideoUrl",{url:H,id:i==null?void 0:i.citizenId,type:"bodycam"});K.success&&a({title:"Video Uploaded",description:K.message})}catch(K){console.error("Error fetching video duration:",K)}},U=H=>{D(),c(H)},D=()=>{const H=new Event("stopRecording");document.dispatchEvent(H)};return r.jsx(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"flex w-full ",children:r.jsxs("div",{className:"w-full",children:[r.jsx(mt,{className:"flex flex-row items-center justify-between w-full",children:r.jsxs("div",{className:"flex items-center gap-4 w-full justify-between",children:[r.jsx(Ae,{variant:"outline",size:"icon",onClick:()=>{D(),n()},className:"h-10 w-10",children:r.jsx(Oi,{className:"h-5 w-5"})}),r.jsx("div",{children:r.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[i==null?void 0:i.name,r.jsxs(ze,{variant:"outline",className:"bg-green-500/10 text-green-500",children:["#",i==null?void 0:i.citizenId]}),i.status==="on"?r.jsxs(ze,{variant:"outline",className:"bg-green-500/20 text-green-500 border-green-500/50",children:[r.jsx(Rm,{className:"mr-1 h-3 w-3"}),(s==null?void 0:s.text_online)||"Online"]}):r.jsxs(ze,{variant:"outline",className:"bg-red-500/20 text-red-500 border-red-500/50",children:[r.jsx(ah,{className:"mr-1 h-3 w-3"}),(s==null?void 0:s.text_offline)||"Offline"]})]})}),r.jsx("div",{className:"ml-auto",children:l&&r.jsx("div",{className:"flex gap-2",children:r.jsxs(Ae,{variant:"outline",onClick:()=>{c(null)},children:[r.jsx(Rm,{className:"h-4 w-4 text-red-500"}),(s==null?void 0:s.text_live)||"LIVE"]})})})]})}),r.jsx(Je,{children:r.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[r.jsx("div",{className:"col-span-3",children:r.jsxs(Le,{className:"lg:col-span-2 bg-transparent border-primary/20",children:[r.jsx(mt,{className:"pb-2",children:r.jsx(kt,{className:"flex items-center",children:l?r.jsxs("div",{className:"flex items-center",children:[r.jsx(tO,{className:"mr-2 h-5 w-5 text-primary"}),(s==null?void 0:s.text_footage)||"Footage:"," ",new Date(l.datetime).toLocaleDateString()," ",new Date(l.datetime).toLocaleTimeString()]}):r.jsxs("div",{className:"flex items-center",children:[r.jsx(ja,{className:"mr-2 h-5 w-5 text-primary"}),(s==null?void 0:s.text_live_feed)||"Live Feed"]})})}),r.jsx(Je,{children:r.jsx("div",{className:"space-y-4 h-[55vh]",children:r.jsx("div",{className:"aspect-video bg-black rounded-lg overflow-hidden relative",children:l?r.jsx("div",{className:"h-[55vh]",children:r.jsxs("video",{controls:!0,className:"w-full h-full rounded-md",children:[r.jsx("source",{src:l==null?void 0:l.videoURL,type:"video/mp4"}),"Your browser does not support the video tag."]})}):(i==null?void 0:i.status)==="on"?r.jsxs("div",{className:"h-[55vh]",children:[r.jsx(cU,{onCameraDetails:$}),r.jsx("div",{className:"absolute top-2 left-2 bg-red-500 h-2 w-2 rounded-full animate-ping"}),r.jsx("div",{className:"absolute bottom-2 left-2 text-xs text-white bg-black/50 px-2 py-1 rounded",children:(s==null?void 0:s.text_live)||"LIVE"}),r.jsxs("div",{className:"absolute top-2 right-2 text-xs text-white bg-black/50 px-2 py-1 rounded",children:[i.citizenId," - ",i.name]})]}):r.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/80 h-[55vh]",children:[r.jsx(ah,{className:"h-16 w-16 text-red-500 mb-2"}),r.jsx("span",{className:"text-white",children:(s==null?void 0:s.text_connection_lost)||"Connection Lost"})]})})})})]})}),r.jsx("div",{className:"col-span-1",children:r.jsxs(Le,{className:"bg-transparent border-primary/20",children:[r.jsx(mt,{className:"pb-2",children:r.jsx(kt,{children:(s==null?void 0:s.text_footage)||"Footages"})}),r.jsxs(Je,{children:[r.jsx(nr,{className:"h-[55vh] pr-4",children:r.jsx("div",{className:"space-y-3",children:v&&Array.isArray(v)&&v.map((H,K)=>r.jsx(Le,{className:`p-3 hover:bg-accent/50 transition-colors cursor-pointer ${l===H?"border-primary bg-accent/50":""}`,onClick:()=>U(H),children:r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("div",{className:"w-24 h-16 bg-black rounded overflow-hidden flex-shrink-0",children:r.jsx(ja,{className:"w-full h-full text-gray-500"})}),r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("p",{className:"font-medium text-sm",children:new Date(H.datetime).toLocaleDateString()}),r.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(H.datetime).toLocaleTimeString()})]})})]})},(H==null?void 0:H.id)||K))})}),N>1&&r.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t",children:[r.jsxs(Ae,{variant:"outline",size:"sm",onClick:k,disabled:d==1,className:"flex items-center gap-2",children:[r.jsx(Oi,{className:"h-4 w-4"}),"Previous"]}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",d," of ",N]}),r.jsxs(Ae,{variant:"outline",size:"sm",onClick:F,disabled:d==N,className:"flex items-center gap-2",children:["Next",r.jsx(Oi,{className:"h-4 w-4 rotate-180"})]})]})]})]})})]})})]})})};function Se({className:e,...t}){return r.jsx("div",{className:Tt("rounded-md bg-muted",e),...t})}function One(){return r.jsxs("div",{className:"flex-1 space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(Se,{className:"w-1 h-10 rounded-full"}),r.jsx(Se,{className:"h-8 w-48"})]}),r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:r.jsxs(Le,{className:"lg:col-span-3 bg-card/50  border-primary/20 overflow-hidden",children:[r.jsx(mt,{className:"flex flex-row items-center justify-between",children:r.jsxs(kt,{className:"flex items-center",children:[r.jsx(Se,{className:"h-5 w-5 mr-2"}),r.jsx(Se,{className:"h-6 w-32"})]})}),r.jsxs(Je,{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Se,{className:"h-5 w-5"}),r.jsx(Se,{className:"h-9 w-full"})]}),r.jsx(nr,{className:"h-[calc(85vh-300px)] mt-2",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[...Array(8)].map((e,t)=>r.jsxs(Le,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(Se,{className:"h-12 w-12 rounded-full"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Se,{className:"h-4 w-32"}),r.jsx(Se,{className:"h-3 w-24"})]})]}),r.jsxs("div",{className:"mt-4 space-y-2",children:[r.jsx(Se,{className:"h-3 w-full"}),r.jsx(Se,{className:"h-3 w-3/4"})]}),r.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[r.jsx(Se,{className:"h-6 w-20"}),r.jsx(Se,{className:"h-6 w-20"})]})]},t))})}),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsx(Se,{className:"h-4 w-48"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Se,{className:"h-9 w-24"}),r.jsx(Se,{className:"h-9 w-24"})]})]})]})]})})]})}const Wb=10,Mne={bodycams:[{citizenId:"12345",name:"John Doe",department:"Police",status:"on",videos:[{url:"https://example.com/video1.mp4",date:"2022-01-01"},{url:"https://example.com/video2.mp4",date:"2022-01-02"}]},{citizenId:"67890",name:"Jane Smith",department:"Fire",status:"off",videos:[{url:"https://example.com/video3.mp4",date:"2022-01-03"},{url:"https://example.com/video4.mp4",date:"2022-01-04"}]},{citizenId:"11111",name:"Michael Johnson",department:"EMS",status:"on",videos:[{url:"https://example.com/video5.mp4",date:"2022-01-05"},{url:"https://example.com/video6.mp4",date:"2022-01-06"}]}]},Une={citizenId:"11111",name:"Michael Johnson",department:"EMS",status:"on",videos:[{url:"https://example.com/video5.mp4",date:"2022-01-05"},{url:"https://example.com/video6.mp4",date:"2022-01-06"}]};function i4(){var D;const[e,t]=m.useState(""),[n,s]=m.useState(null),[a,i]=m.useState(1),[o,l]=m.useState([]),[c,d]=m.useState(e),[u,f]=m.useState(0),[v,g]=m.useState(!0),{locale:w}=ir(),{user:y,setUserField:b,setUser:x}=Yn(),N=(D=y==null?void 0:y.permissions)==null?void 0:D.Pages.bodycam,S=N&&N.view,k=Math.ceil(u/Wb),F=async(H,K)=>{try{if(await ke("fetchBodycamDataById",{id:K},Une)){const R={...H};if(H.status=="on"){const Z=await ke("openBodycam",{camera:H});Z!=null&&Z.success?b("recordTime",Z.recTime):R.status="off",s(R)}else s(R)}else console.error("No response received."),s(null)}catch(B){console.error("Error:",B),s(null)}};m.useEffect(()=>{const H=setTimeout(()=>{d(e)},500);return()=>{clearTimeout(H)}},[e]);const $=H=>{H.key==="Enter"&&d(e)},U=(H,K)=>{g(!0);try{return ke("fetchBodycams",{page:H,query:K},Mne).then(B=>{l(B.bodycams),f(B.totalCount)}).catch(B=>{console.error("Error:",B),l([])}).finally(()=>{g(!1)})}catch(B){console.error("Error during fetchBodycams:",B),l([]),g(!1)}};return m.useEffect(()=>{a!==1&&i(1)},[c]),m.useEffect(()=>{U(a,c)},[a,c]),S?v?r.jsx(One,{}):r.jsxs("div",{className:"flex-1 space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("hr",{className:"w-1 h-10 bg-primary border-none rounded-full"}),r.jsx("h2",{className:"text-3xl font-bold",children:(w==null?void 0:w.text_bodycams)||"Bodycams"})]}),r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:r.jsx(Le,{className:"lg:col-span-3 bg-card/50  border-primary/20 overflow-hidden",children:r.jsx(Gn,{mode:"wait",children:n?r.jsx(Xt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"flex w-full ",children:r.jsx(Rne,{camera:n,userPermissions:N,onClose:()=>{s(null),ke("closeCamera")}})},"list-view"):r.jsxs(Xt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:[r.jsx(mt,{className:"flex flex-row items-center justify-between",children:r.jsxs(kt,{className:"flex items-center",children:[r.jsx(ja,{className:"mr-2 h-5 w-5 text-primary"}),(w==null?void 0:w.text_camera_network)||"Camera Network"]})}),r.jsxs(Je,{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ls,{className:"h-5 w-5 text-muted-foreground"}),r.jsx(ht,{placeholder:(w==null?void 0:w.text_search_bodycams)||"Search bodycam...",className:"flex-1 bg-background/50 border-primary/20 focus:border-primary",value:e,onChange:H=>t(H.target.value),onKeyDown:$})]}),r.jsx(nr,{className:"h-[calc(85vh-300px)] mt-2",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:r.jsx(Gn,{children:o&&o.length>0&&o.map(H=>r.jsx(Xt.div,{className:"cursor-pointer hover:bg-primary/10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:r.jsx(kne,{camera:H,onClick:()=>{H!=null&&H.citizenId&&F(H,H.citizenId)}})},H.id))})})}),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsxs("div",{children:[(w==null?void 0:w.text_showing)||"Showing"," ",(a-1)*Wb+1," ",(w==null?void 0:w.text_to)||"to"," ",Math.min(a*Wb,o.length)," ",(w==null?void 0:w.text_of)||"of"," ",u," ",(w==null?void 0:w.text_cameras)||"Cameras"]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>i(H=>Math.max(1,H-1)),disabled:a===1,children:(w==null?void 0:w.text_previous)||"Previous"}),r.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>i(H=>Math.min(k,H+1)),disabled:a===k,children:(w==null?void 0:w.text_next)||"Next"})]})]})]})]},"list-view")})})})]}):null}const Qne=({camera:e,onClick:t})=>{const{locale:n}=ir();return r.jsx(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:r.jsxs(Le,{className:`bg-card/50  border-primary/20 hover:bg-card/80 transition-colors cursor-pointer ${e.status==="offline"?"opacity-70":""}`,onClick:t,children:[r.jsx(mt,{className:"pb-2",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs(kt,{className:"text-lg flex items-center",children:[r.jsx(ja,{className:"mr-2 h-5 w-5 text-primary"}),e.id]}),e.status==="online"?r.jsxs(ze,{variant:"outline",className:"bg-green-500/20 text-green-500 border-green-500/50",children:[r.jsx(Rm,{className:"mr-1 h-3 w-3"}),n==null?void 0:n.text_online]}):r.jsxs(ze,{variant:"outline",className:"bg-red-500/20 text-red-500 border-red-500/50",children:[r.jsx(ah,{className:"mr-1 h-3 w-3"}),n==null?void 0:n.text_offline]})]})}),r.jsx(Je,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"aspect-video bg-black rounded-lg overflow-hidden relative",children:e.status==="online"?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx(ja,{className:"h-12 w-12 text-primary"})}),r.jsx("div",{className:"absolute top-2 left-2 bg-red-500 h-2 w-2 rounded-full animate-ping"}),r.jsx("div",{className:"absolute bottom-2 left-2 text-xs text-white bg-black/50 px-2 py-1 rounded",children:n==null?void 0:n.text_live})]}):r.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/80",children:[r.jsx(ah,{className:"h-12 w-12 text-red-500 mb-2"}),r.jsx("span",{className:"text-xs text-white",children:n==null?void 0:n.text_connection_lost})]})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:e.location}),r.jsxs("div",{className:"flex items-center text-sm text-muted-foreground mt-1",children:[r.jsx(qs,{className:"h-3 w-3 mr-1"}),r.jsx("span",{children:e==null?void 0:e.location})]})]})]})})]})})},Hne=({camera:e,userPermissions:t,onClose:n})=>{const{toast:s}=ys(),{locale:a}=ir(),[i,o]=m.useState(e),[l,c]=m.useState(null),[d,u]=m.useState(1),[f]=m.useState(5);m.useEffect(()=>{o(e)},[e]);const[v,g]=m.useState([]),[w,y]=m.useState(1),[b,x]=m.useState(!1),N=Math.ceil(w/f),S=async H=>{x(!0);try{const K=await ke("getPaginatedSecurityCameraVideos",{id:i==null?void 0:i.id,page:H,perPage:f});K.success&&(g(Array.isArray(K.videos)?K.videos:JSON.parse(K.videos||"[]")),y(K.totalCount))}catch(K){console.error("Error fetching paginated footage:",K)}finally{x(!1)}};m.useEffect(()=>{i!=null&&i.id&&S(d)},[d,i==null?void 0:i.id]);const k=()=>{u(H=>Math.max(1,H-1))},F=()=>{u(H=>Math.min(N,H+1))},$=async H=>{try{const K=await ke("saveVideoUrl",{url:H,id:i==null?void 0:i.id,type:"security"});K.success&&s({title:(a==null?void 0:a.text_video_uploaded)||"Video Uploaded",description:K.message})}catch(K){console.error("Error fetching video duration:",K)}},U=H=>{D(),c(H)},D=()=>{const H=new Event("stopRecording");document.dispatchEvent(H)};return r.jsx(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"flex w-full ",children:r.jsxs("div",{className:"w-full",children:[r.jsx(mt,{className:"flex flex-row items-center justify-between w-full",children:r.jsxs("div",{className:"flex items-center gap-4 w-full justify-between",children:[r.jsx(Ae,{variant:"outline",size:"icon",onClick:()=>{D(),n()},className:"h-10 w-10",children:r.jsx(Oi,{className:"h-5 w-5"})}),r.jsx("div",{children:r.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[i==null?void 0:i.location,r.jsxs(ze,{variant:"outline",className:"bg-green-500/10 text-green-500",children:["#",i==null?void 0:i.id]}),i.status==="online"?r.jsxs(ze,{variant:"outline",className:"bg-green-500/20 text-green-500 border-green-500/50",children:[r.jsx(Rm,{className:"mr-1 h-3 w-3"}),a==null?void 0:a.text_online]}):r.jsxs(ze,{variant:"outline",className:"bg-red-500/20 text-red-500 border-red-500/50",children:[r.jsx(ah,{className:"mr-1 h-3 w-3"}),a==null?void 0:a.text_offline]})]})}),r.jsx("div",{className:"ml-auto",children:l&&r.jsx("div",{className:"flex gap-2",children:r.jsxs(Ae,{variant:"outline",onClick:()=>{c(null)},children:[r.jsx(Rm,{className:"h-4 w-4 text-red-500"}),a==null?void 0:a.text_live]})})})]})}),r.jsx(Je,{children:r.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[r.jsx("div",{className:"col-span-3",children:r.jsxs(Le,{className:"lg:col-span-2 bg-transparent border-primary/20",children:[r.jsx(mt,{className:"pb-2",children:r.jsx(kt,{className:"flex items-center",children:l?r.jsxs("div",{className:"flex items-center",children:[r.jsx(tO,{className:"mr-2 h-5 w-5 text-primary"}),a==null?void 0:a.text_footage,": ",new Date(l.datetime).toLocaleDateString()," ",new Date(l.datetime).toLocaleTimeString()]}):r.jsxs("div",{className:"flex items-center",children:[r.jsx(ja,{className:"mr-2 h-5 w-5 text-primary"}),a==null?void 0:a.text_live_feed]})})}),r.jsx(Je,{children:r.jsx("div",{className:"space-y-4 h-[55vh]",children:r.jsx("div",{className:"aspect-video rounded-lg overflow-hidden relative",children:l?r.jsx("div",{className:"h-[55vh]",children:r.jsxs("video",{controls:!0,className:"w-full h-full rounded-md",children:[r.jsx("source",{src:l==null?void 0:l.videoURL,type:"video/mp4"}),"Your browser does not support the video tag."]})}):(i==null?void 0:i.status)==="online"?r.jsxs("div",{className:"h-[55vh]",children:[r.jsx(cU,{onCameraDetails:$}),r.jsx("div",{className:"absolute top-2 left-2 bg-red-500 h-2 w-2 rounded-full animate-ping"}),r.jsx("div",{className:"absolute bottom-2 left-2 text-xs text-white bg-black/50 px-2 py-1 rounded",children:a==null?void 0:a.text_live}),r.jsxs("div",{className:"absolute top-2 right-2 text-xs text-white bg-black/50 px-2 py-1 rounded",children:[i.id," - ",i.location]})]}):r.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/80 h-[55vh]",children:[r.jsx(ah,{className:"h-16 w-16 text-red-500 mb-2"}),r.jsx("span",{className:"text-white",children:a==null?void 0:a.text_connection_lost})]})})})})]})}),r.jsx("div",{className:"col-span-1",children:r.jsxs(Le,{className:"bg-transparent border-primary/20",children:[r.jsx(mt,{className:"pb-2",children:r.jsx(kt,{children:a==null?void 0:a.text_footages})}),r.jsxs(Je,{children:[r.jsx(nr,{className:"h-[55vh] pr-4",children:r.jsx("div",{className:"space-y-3",children:v&&Array.isArray(v)&&v.map((H,K)=>r.jsx(Le,{className:`p-3 hover:bg-accent/50 transition-colors cursor-pointer ${l===H?"border-primary bg-accent/50":""}`,onClick:()=>U(H),children:r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("div",{className:"w-24 h-16 bg-black rounded overflow-hidden flex-shrink-0",children:r.jsx(ja,{className:"w-full h-full text-gray-500"})}),r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("p",{className:"font-medium text-sm",children:new Date(H.datetime).toLocaleDateString()}),r.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(H.datetime).toLocaleTimeString()})]})})]})},K))})}),N>1&&r.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t",children:[r.jsxs(Ae,{variant:"outline",size:"sm",onClick:k,disabled:d==1,className:"flex items-center gap-2",children:[r.jsx(Oi,{className:"h-4 w-4"}),"Previous"]}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",d," of ",N]}),r.jsxs(Ae,{variant:"outline",size:"sm",onClick:F,disabled:d==N,className:"flex items-center gap-2",children:["Next",r.jsx(Oi,{className:"h-4 w-4 rotate-180"})]})]})]})]})})]})})]})})};function zne(){return r.jsxs("div",{className:"flex-1 space-y-4 w-full h-full",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(Se,{className:"w-1 h-10 rounded-full"}),r.jsx(Se,{className:"h-8 w-48"})]}),r.jsx("div",{className:"grid grid-cols-6 gap-4 grid-rows-1 h-full",children:r.jsxs(Le,{className:"col-span-6 row-span-1 bg-card/50  border-primary/20 max-h-[calc(95vh-200px)] overflow-hidden",children:[r.jsx(mt,{className:"flex flex-row items-center justify-between",children:r.jsxs(kt,{className:"flex items-center",children:[r.jsx(Se,{className:"h-5 w-5 mr-2"}),r.jsx(Se,{className:"h-6 w-32"})]})}),r.jsxs(Je,{children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-5",children:[r.jsx(Se,{className:"h-5 w-5"}),r.jsx(Se,{className:"h-9 w-full"})]}),r.jsx(nr,{className:"h-[calc(85vh-300px)]",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[...Array(8)].map((e,t)=>r.jsxs(Le,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(Se,{className:"h-12 w-12 rounded-full"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Se,{className:"h-4 w-32"}),r.jsx(Se,{className:"h-3 w-24"})]})]}),r.jsxs("div",{className:"mt-4 space-y-2",children:[r.jsx(Se,{className:"h-3 w-full"}),r.jsx(Se,{className:"h-3 w-3/4"})]}),r.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[r.jsx(Se,{className:"h-6 w-20"}),r.jsx(Se,{className:"h-6 w-20"})]})]},t))})}),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsx(Se,{className:"h-4 w-48"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Se,{className:"h-9 w-24"}),r.jsx(Se,{className:"h-9 w-24"})]})]})]})]})})]})}const $b=10,Vne=[{id:1,location:"Pacific Bank CAM#1",status:"online",camHeading:90,videos:[{id:0,cameraId:1,duration:"00:00:30",videoURL:"https://example.com/video.mp4",datetime:new Date().toISOString()},{id:1,cameraId:1,duration:"00:01:00",videoURL:"https://example.com/video2.mp4",datetime:new Date(new Date().setHours(new Date().getHours()-1)).toISOString()},{id:2,cameraId:1,duration:"00:02:00",videoURL:"https://example.com/video3.mp4",datetime:new Date(new Date().setHours(new Date().getHours()-2)).toISOString()}]},{id:2,location:"Limited Ltd Grove St. CAM#1",status:"online",camHeading:90},{id:3,location:"Casino Garage",status:"offline",camHeading:157.7447}],Kne={id:3,location:"Casino Garage",status:"online",camHeading:157.7447,videos:[{id:0,cameraId:1,duration:"00:00:30",videoURL:"https://cdn.discordapp.com/attachments/845295038581571594/1351780760624955472/video.webm?ex=67e62b70&is=67e4d9f0&hm=a02d5c697cc6043af9463381a0e13b23b453002aadf0856a24f5e92314bc925c&",datetime:new Date().toISOString()},{id:1,cameraId:1,duration:"00:01:00",videoURL:"https://example.com/video2.mp4",datetime:new Date(new Date().setHours(new Date().getHours()-1)).toISOString()},{id:2,cameraId:1,duration:"00:02:00",videoURL:"https://example.com/video3.mp4",datetime:new Date(new Date().setHours(new Date().getHours()-2)).toISOString()},{id:0,cameraId:1,duration:"00:00:30",videoURL:"https://example.com/video.mp4",datetime:new Date().toISOString()},{id:1,cameraId:1,duration:"00:01:00",videoURL:"https://example.com/video2.mp4",datetime:new Date(new Date().setHours(new Date().getHours()-1)).toISOString()},{id:2,cameraId:1,duration:"00:02:00",videoURL:"https://example.com/video3.mp4",datetime:new Date(new Date().setHours(new Date().getHours()-2)).toISOString()},{id:0,cameraId:1,duration:"00:00:30",videoURL:"https://example.com/video.mp4",datetime:new Date().toISOString()},{id:1,cameraId:1,duration:"00:01:00",videoURL:"https://example.com/video2.mp4",datetime:new Date(new Date().setHours(new Date().getHours()-1)).toISOString()},{id:2,cameraId:1,duration:"00:02:00",videoURL:"https://example.com/video3.mp4",datetime:new Date(new Date().setHours(new Date().getHours()-2)).toISOString()},{id:0,cameraId:1,duration:"00:00:30",videoURL:"https://example.com/video.mp4",datetime:new Date().toISOString()},{id:1,cameraId:1,duration:"00:01:00",videoURL:"https://example.com/video2.mp4",datetime:new Date(new Date().setHours(new Date().getHours()-1)).toISOString()},{id:2,cameraId:1,duration:"00:02:00",videoURL:"https://example.com/video3.mp4",datetime:new Date(new Date().setHours(new Date().getHours()-2)).toISOString()}]};function dU(){var K;const[e,t]=m.useState(""),[n,s]=m.useState(null),[a,i]=m.useState(1),[o,l]=m.useState([]),[c,d]=m.useState(null),[u,f]=m.useState(e),[v,g]=m.useState(!0),[w,y]=m.useState(0),{locale:b}=ir(),x=Array.isArray(o)?o.filter(B=>{var R;return((R=B.location)==null?void 0:R.toLowerCase().includes(e.toLowerCase()))||B.id.toString().toLowerCase().includes(e.toLowerCase())}):[],{user:N,setUserField:S,setUser:k}=Yn(),F=(K=N==null?void 0:N.permissions)==null?void 0:K.Pages.securitycamera;if(!F||!F.view)return null;const $=Math.ceil(w/$b),U=(B,R)=>{g(!0);try{return ke("getCameraList",{page:B,query:R},Vne).then(Z=>{Z?(l(Z==null?void 0:Z.cameras),y(Z==null?void 0:Z.totalCount)):(console.error("No response received."),l([]))}).catch(Z=>{console.error("Error fetching camera data:",Z),l([])}).finally(()=>{g(!1)})}catch(Z){console.error("Error during fetchBodycams:",Z),l([]),g(!1)}};m.useEffect(()=>{U(a,u)},[a,u]),m.useEffect(()=>{const B=setTimeout(()=>{f(e)},500);return()=>{clearTimeout(B)}},[e]);const D=B=>{B.key==="Enter"&&f(e)},H=m.useCallback((B,R)=>{s(B),ke("openCamera",{id:R,type:"view"}).then(Z=>{Z.success&&S("recordTime",Z.recTime)})},[ke,Kne,s,k]);return v?r.jsx(zne,{}):r.jsxs("div",{className:"flex-1 space-y-4 w-full h-full",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("hr",{className:"w-1 h-10 bg-primary border-none rounded-full"}),r.jsx("h2",{className:"text-3xl font-bold",children:(b==null?void 0:b.text_security_cameras)||"Security Cameras"})]}),r.jsx("div",{className:"grid grid-cols-6 gap-4 grid-rows-1 h-full",children:r.jsx(Le,{className:"col-span-6 row-span-1 bg-card/50  border-primary/20 max-h-[calc(95vh-200px)] overflow-hidden",children:r.jsx(Gn,{mode:"wait",children:n?r.jsx(Xt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"flex w-full ",children:r.jsx(Hne,{camera:n,userPermissions:F,onClose:()=>{s(null),ke("closeCamera")}})},"list-view"):r.jsxs(Xt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:[r.jsx(mt,{className:"flex flex-row items-center justify-between",children:r.jsxs(kt,{className:"flex items-center",children:[r.jsx(ja,{className:"mr-2 h-5 w-5 text-primary"}),(b==null?void 0:b.text_camera_network)||"Camera Network"]})}),r.jsxs(Je,{children:[r.jsxs("div",{className:"mb-4 flex items-center space-x-2",children:[r.jsx(ls,{className:"h-5 w-5 text-muted-foreground"}),r.jsx(ht,{placeholder:(b==null?void 0:b.text_search_cameras)||"Search Cameras...",className:"flex-1 bg-background/50 border-primary/20 focus:border-primary",value:e,onChange:B=>t(B.target.value),onKeyDown:D})]}),r.jsx(nr,{className:"h-[calc(85vh-300px)]",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:r.jsx(Gn,{children:o&&Array.isArray(o)&&(o||[]).map(B=>r.jsx(Xt.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"cursor-pointer hover:bg-primary/10",children:r.jsx(Qne,{camera:B,onClick:()=>{H(B,B==null?void 0:B.id)}})},B.id))})})}),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsxs("div",{children:[(b==null?void 0:b.text_showing)||"Showing"," ",(a-1)*$b+1," ",(b==null?void 0:b.text_to)||"to"," ",Math.min(a*$b,x.length)," ",(b==null?void 0:b.text_of)||"of"," ",w," ",(b==null?void 0:b.text_cameras)||"Cameras"]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>i(B=>Math.max(1,B-1)),disabled:a===1,children:(b==null?void 0:b.text_previous)||"Previous"}),r.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>i(B=>Math.min($,B+1)),disabled:a==$||$==0,children:(b==null?void 0:b.text_next)||"Next"})]})]})]})]},"list-view")})})})]})}var Wne=o1[" useId ".trim().toString()]||(()=>{}),$ne=0;function Ma(e){const[t,n]=m.useState(Wne());return Zi(()=>{n(s=>s??String($ne++))},[e]),t?`radix-${t}`:""}var Gne=o1[" useInsertionEffect ".trim().toString()]||Zi;function To({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[a,i,o]=qne({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const u=m.useRef(e!==void 0);m.useEffect(()=>{const f=u.current;f!==l&&console.warn(`${s} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,s])}const d=m.useCallback(u=>{var f;if(l){const v=Jne(u)?u(e):u;v!==e&&((f=o.current)==null||f.call(o,v))}else i(u)},[l,e,i,o]);return[c,d]}function qne({defaultProp:e,onChange:t}){const[n,s]=m.useState(e),a=m.useRef(n),i=m.useRef(t);return Gne(()=>{i.current=t},[t]),m.useEffect(()=>{var o;a.current!==n&&((o=i.current)==null||o.call(i,n),a.current=n)},[n,a]),[n,s,i]}function Jne(e){return typeof e=="function"}function Yne(e,t=globalThis==null?void 0:globalThis.document){const n=Fi(e);m.useEffect(()=>{const s=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var Xne="DismissableLayer",C_="dismissableLayer.update",Zne="dismissableLayer.pointerDownOutside",ese="dismissableLayer.focusOutside",JI,uU=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Nh=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=m.useContext(uU),[u,f]=m.useState(null),v=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=an(t,U=>f(U)),y=Array.from(d.layers),[b]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),x=y.indexOf(b),N=u?y.indexOf(u):-1,S=d.layersWithOutsidePointerEventsDisabled.size>0,k=N>=x,F=rse(U=>{const D=U.target,H=[...d.branches].some(K=>K.contains(D));!k||H||(a==null||a(U),o==null||o(U),U.defaultPrevented||l==null||l())},v),$=nse(U=>{const D=U.target;[...d.branches].some(K=>K.contains(D))||(i==null||i(U),o==null||o(U),U.defaultPrevented||l==null||l())},v);return Yne(U=>{N===d.layers.size-1&&(s==null||s(U),!U.defaultPrevented&&l&&(U.preventDefault(),l()))},v),m.useEffect(()=>{if(u)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(JI=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),YI(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=JI)}},[u,v,n,d]),m.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),YI())},[u,d]),m.useEffect(()=>{const U=()=>g({});return document.addEventListener(C_,U),()=>document.removeEventListener(C_,U)},[]),r.jsx(jr.div,{...c,ref:w,style:{pointerEvents:S?k?"auto":"none":void 0,...e.style},onFocusCapture:Kt(e.onFocusCapture,$.onFocusCapture),onBlurCapture:Kt(e.onBlurCapture,$.onBlurCapture),onPointerDownCapture:Kt(e.onPointerDownCapture,F.onPointerDownCapture)})});Nh.displayName=Xne;var tse="DismissableLayerBranch",AU=m.forwardRef((e,t)=>{const n=m.useContext(uU),s=m.useRef(null),a=an(t,s);return m.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),r.jsx(jr.div,{...e,ref:a})});AU.displayName=tse;function rse(e,t=globalThis==null?void 0:globalThis.document){const n=Fi(e),s=m.useRef(!1),a=m.useRef(()=>{});return m.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){hU(Zne,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function nse(e,t=globalThis==null?void 0:globalThis.document){const n=Fi(e),s=m.useRef(!1);return m.useEffect(()=>{const a=i=>{i.target&&!s.current&&hU(ese,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function YI(){const e=new CustomEvent(C_);document.dispatchEvent(e)}function hU(e,t,n,{discrete:s}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?yS(a,i):a.dispatchEvent(i)}var sse=Nh,ise=AU,Gb="focusScope.autoFocusOnMount",qb="focusScope.autoFocusOnUnmount",XI={bubbles:!1,cancelable:!0},ase="FocusScope",Sx=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=m.useState(null),d=Fi(a),u=Fi(i),f=m.useRef(null),v=an(t,y=>c(y)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(s){let y=function(S){if(g.paused||!l)return;const k=S.target;l.contains(k)?f.current=k:UA(f.current,{select:!0})},b=function(S){if(g.paused||!l)return;const k=S.relatedTarget;k!==null&&(l.contains(k)||UA(f.current,{select:!0}))},x=function(S){if(document.activeElement===document.body)for(const F of S)F.removedNodes.length>0&&UA(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",b);const N=new MutationObserver(x);return l&&N.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),N.disconnect()}}},[s,l,g.paused]),m.useEffect(()=>{if(l){eT.add(g);const y=document.activeElement;if(!l.contains(y)){const x=new CustomEvent(Gb,XI);l.addEventListener(Gb,d),l.dispatchEvent(x),x.defaultPrevented||(ose(Ase(fU(l)),{select:!0}),document.activeElement===y&&UA(l))}return()=>{l.removeEventListener(Gb,d),setTimeout(()=>{const x=new CustomEvent(qb,XI);l.addEventListener(qb,u),l.dispatchEvent(x),x.defaultPrevented||UA(y??document.body,{select:!0}),l.removeEventListener(qb,u),eT.remove(g)},0)}}},[l,d,u,g]);const w=m.useCallback(y=>{if(!n&&!s||g.paused)return;const b=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,x=document.activeElement;if(b&&x){const N=y.currentTarget,[S,k]=lse(N);S&&k?!y.shiftKey&&x===k?(y.preventDefault(),n&&UA(S,{select:!0})):y.shiftKey&&x===S&&(y.preventDefault(),n&&UA(k,{select:!0})):x===N&&y.preventDefault()}},[n,s,g.paused]);return r.jsx(jr.div,{tabIndex:-1,...o,ref:v,onKeyDown:w})});Sx.displayName=ase;function ose(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(UA(s,{select:t}),document.activeElement!==n)return}function lse(e){const t=fU(e),n=ZI(t,e),s=ZI(t.reverse(),e);return[n,s]}function fU(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function ZI(e,t){for(const n of e)if(!cse(n,{upTo:t}))return n}function cse(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function dse(e){return e instanceof HTMLInputElement&&"select"in e}function UA(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&dse(e)&&t&&e.select()}}var eT=use();function use(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=tT(e,t),e.unshift(t)},remove(t){var n;e=tT(e,t),(n=e[0])==null||n.resume()}}}function tT(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function Ase(e){return e.filter(t=>t.tagName!=="A")}var hse="Portal",Xm=m.forwardRef((e,t)=>{var l;const{container:n,...s}=e,[a,i]=m.useState(!1);Zi(()=>i(!0),[]);const o=n||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Lq.createPortal(r.jsx(jr.div,{...s,ref:t}),o):null});Xm.displayName=hse;var Jb=0;function y1(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??rT()),document.body.insertAdjacentElement("beforeend",e[1]??rT()),Jb++,()=>{Jb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Jb--}},[])}function rT(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var su=function(){return su=Object.assign||function(t){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},su.apply(this,arguments)};function mU(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n}function fse(e,t,n){if(n||arguments.length===2)for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}var $0="right-scroll-bar-position",G0="width-before-scroll-bar",mse="with-scroll-bars-hidden",pse="--removed-body-scroll-bar-size";function Yb(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function gse(e,t){var n=m.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var a=n.value;a!==s&&(n.value=s,n.callback(s,a))}}}})[0];return n.callback=t,n.facade}var xse=typeof window<"u"?m.useLayoutEffect:m.useEffect,nT=new WeakMap;function vse(e,t){var n=gse(null,function(s){return e.forEach(function(a){return Yb(a,s)})});return xse(function(){var s=nT.get(n);if(s){var a=new Set(s),i=new Set(e),o=n.current;a.forEach(function(l){i.has(l)||Yb(l,null)}),i.forEach(function(l){a.has(l)||Yb(l,o)})}nT.set(n,e)},[e]),n}function yse(e){return e}function wse(e,t){t===void 0&&(t=yse);var n=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,s);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(s=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){s=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),n}}}};return a}function bse(e){e===void 0&&(e={});var t=wse(null);return t.options=su({async:!0,ssr:!1},e),t}var pU=function(e){var t=e.sideCar,n=mU(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return m.createElement(s,su({},n))};pU.isSideCarExport=!0;function jse(e,t){return e.useMedium(t),pU}var gU=bse(),Xb=function(){},w1=m.forwardRef(function(e,t){var n=m.useRef(null),s=m.useState({onScrollCapture:Xb,onWheelCapture:Xb,onTouchMoveCapture:Xb}),a=s[0],i=s[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,f=e.shards,v=e.sideCar,g=e.noIsolation,w=e.inert,y=e.allowPinchZoom,b=e.as,x=b===void 0?"div":b,N=e.gapMode,S=mU(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=v,F=vse([n,t]),$=su(su({},S),a);return m.createElement(m.Fragment,null,u&&m.createElement(k,{sideCar:gU,removeScrollBar:d,shards:f,noIsolation:g,inert:w,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:N}),o?m.cloneElement(m.Children.only(l),su(su({},$),{ref:F})):m.createElement(x,su({},$,{className:c,ref:F}),l))});w1.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};w1.classNames={fullWidth:G0,zeroRight:$0};var Nse=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Cse(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Nse();return t&&e.setAttribute("nonce",t),e}function _se(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Sse(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Bse=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Cse())&&(_se(t,n),Sse(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Ese=function(){var e=Bse();return function(t,n){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},xU=function(){var e=Ese(),t=function(n){var s=n.styles,a=n.dynamic;return e(s,a),null};return t},Ise={left:0,top:0,right:0,gap:0},Zb=function(e){return parseInt(e||"",10)||0},Tse=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Zb(n),Zb(s),Zb(a)]},kse=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Ise;var t=Tse(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},Pse=xU(),_m="data-scroll-locked",Dse=function(e,t,n,s){var a=e.left,i=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(mse,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(_m,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($0,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(G0,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat($0," .").concat($0,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(G0," .").concat(G0,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(_m,`] {
    `).concat(pse,": ").concat(l,`px;
  }
`)},sT=function(){var e=parseInt(document.body.getAttribute(_m)||"0",10);return isFinite(e)?e:0},Fse=function(){m.useEffect(function(){return document.body.setAttribute(_m,(sT()+1).toString()),function(){var e=sT()-1;e<=0?document.body.removeAttribute(_m):document.body.setAttribute(_m,e.toString())}},[])},Lse=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;Fse();var i=m.useMemo(function(){return kse(a)},[a]);return m.createElement(Pse,{styles:Dse(i,!t,a,n?"":"!important")})},__=!1;if(typeof window<"u")try{var Hv=Object.defineProperty({},"passive",{get:function(){return __=!0,!0}});window.addEventListener("test",Hv,Hv),window.removeEventListener("test",Hv,Hv)}catch{__=!1}var Kf=__?{passive:!1}:!1,Rse=function(e){return e.tagName==="TEXTAREA"},vU=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Rse(e)&&n[t]==="visible")},Ose=function(e){return vU(e,"overflowY")},Mse=function(e){return vU(e,"overflowX")},iT=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=yU(e,s);if(a){var i=wU(e,s),o=i[1],l=i[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},Use=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},Qse=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},yU=function(e,t){return e==="v"?Ose(t):Mse(t)},wU=function(e,t){return e==="v"?Use(t):Qse(t)},Hse=function(e,t){return e==="h"&&t==="rtl"?-1:1},zse=function(e,t,n,s,a){var i=Hse(e,window.getComputedStyle(t).direction),o=i*s,l=n.target,c=t.contains(l),d=!1,u=o>0,f=0,v=0;do{var g=wU(e,l),w=g[0],y=g[1],b=g[2],x=y-b-i*w;(w||x)&&yU(e,l)&&(f+=x,v+=w),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&Math.abs(f)<1||!u&&Math.abs(v)<1)&&(d=!0),d},zv=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},aT=function(e){return[e.deltaX,e.deltaY]},oT=function(e){return e&&"current"in e?e.current:e},Vse=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Kse=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Wse=0,Wf=[];function $se(e){var t=m.useRef([]),n=m.useRef([0,0]),s=m.useRef(),a=m.useState(Wse++)[0],i=m.useState(xU)[0],o=m.useRef(e);m.useEffect(function(){o.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var y=fse([e.lockRef.current],(e.shards||[]).map(oT),!0).filter(Boolean);return y.forEach(function(b){return b.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),y.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(y,b){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var x=zv(y),N=n.current,S="deltaX"in y?y.deltaX:N[0]-x[0],k="deltaY"in y?y.deltaY:N[1]-x[1],F,$=y.target,U=Math.abs(S)>Math.abs(k)?"h":"v";if("touches"in y&&U==="h"&&$.type==="range")return!1;var D=iT(U,$);if(!D)return!0;if(D?F=U:(F=U==="v"?"h":"v",D=iT(U,$)),!D)return!1;if(!s.current&&"changedTouches"in y&&(S||k)&&(s.current=F),!F)return!0;var H=s.current||F;return zse(H,b,y,H==="h"?S:k)},[]),c=m.useCallback(function(y){var b=y;if(!(!Wf.length||Wf[Wf.length-1]!==i)){var x="deltaY"in b?aT(b):zv(b),N=t.current.filter(function(F){return F.name===b.type&&(F.target===b.target||b.target===F.shadowParent)&&Vse(F.delta,x)})[0];if(N&&N.should){b.cancelable&&b.preventDefault();return}if(!N){var S=(o.current.shards||[]).map(oT).filter(Boolean).filter(function(F){return F.contains(b.target)}),k=S.length>0?l(b,S[0]):!o.current.noIsolation;k&&b.cancelable&&b.preventDefault()}}},[]),d=m.useCallback(function(y,b,x,N){var S={name:y,delta:b,target:x,should:N,shadowParent:Gse(x)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(k){return k!==S})},1)},[]),u=m.useCallback(function(y){n.current=zv(y),s.current=void 0},[]),f=m.useCallback(function(y){d(y.type,aT(y),y.target,l(y,e.lockRef.current))},[]),v=m.useCallback(function(y){d(y.type,zv(y),y.target,l(y,e.lockRef.current))},[]);m.useEffect(function(){return Wf.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:v}),document.addEventListener("wheel",c,Kf),document.addEventListener("touchmove",c,Kf),document.addEventListener("touchstart",u,Kf),function(){Wf=Wf.filter(function(y){return y!==i}),document.removeEventListener("wheel",c,Kf),document.removeEventListener("touchmove",c,Kf),document.removeEventListener("touchstart",u,Kf)}},[]);var g=e.removeScrollBar,w=e.inert;return m.createElement(m.Fragment,null,w?m.createElement(i,{styles:Kse(a)}):null,g?m.createElement(Lse,{gapMode:e.gapMode}):null)}function Gse(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const qse=jse(gU,$se);var Bx=m.forwardRef(function(e,t){return m.createElement(w1,su({},e,{ref:t,sideCar:qse}))});Bx.classNames=w1.classNames;var Jse=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},$f=new WeakMap,Vv=new WeakMap,Kv={},e2=0,bU=function(e){return e&&(e.host||bU(e.parentNode))},Yse=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=bU(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Xse=function(e,t,n,s){var a=Yse(t,Array.isArray(e)?e:[e]);Kv[n]||(Kv[n]=new WeakMap);var i=Kv[n],o=[],l=new Set,c=new Set(a),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};a.forEach(d);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(v){if(l.has(v))u(v);else try{var g=v.getAttribute(s),w=g!==null&&g!=="false",y=($f.get(v)||0)+1,b=(i.get(v)||0)+1;$f.set(v,y),i.set(v,b),o.push(v),y===1&&w&&Vv.set(v,!0),b===1&&v.setAttribute(n,"true"),w||v.setAttribute(s,"true")}catch(x){console.error("aria-hidden: cannot operate on ",v,x)}})};return u(t),l.clear(),e2++,function(){o.forEach(function(f){var v=$f.get(f)-1,g=i.get(f)-1;$f.set(f,v),i.set(f,g),v||(Vv.has(f)||f.removeAttribute(s),Vv.delete(f)),g||f.removeAttribute(n)}),e2--,e2||($f=new WeakMap,$f=new WeakMap,Vv=new WeakMap,Kv={})}},b1=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=Jse(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live]"))),Xse(s,a,n,"aria-hidden")):function(){return null}},j1="Dialog",[jU,NU]=ji(j1),[Zse,Id]=jU(j1),CU=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=m.useRef(null),c=m.useRef(null),[d,u]=To({prop:s,defaultProp:a??!1,onChange:i,caller:j1});return r.jsx(Zse,{scope:t,triggerRef:l,contentRef:c,contentId:Ma(),titleId:Ma(),descriptionId:Ma(),open:d,onOpenChange:u,onOpenToggle:m.useCallback(()=>u(f=>!f),[u]),modal:o,children:n})};CU.displayName=j1;var _U="DialogTrigger",SU=m.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Id(_U,n),i=an(t,a.triggerRef);return r.jsx(jr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":l4(a.open),...s,ref:i,onClick:Kt(e.onClick,a.onOpenToggle)})});SU.displayName=_U;var a4="DialogPortal",[eie,BU]=jU(a4,{forceMount:void 0}),EU=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:a}=e,i=Id(a4,t);return r.jsx(eie,{scope:t,forceMount:n,children:m.Children.map(s,o=>r.jsx(Na,{present:n||i.open,children:r.jsx(Xm,{asChild:!0,container:a,children:o})}))})};EU.displayName=a4;var Cy="DialogOverlay",IU=m.forwardRef((e,t)=>{const n=BU(Cy,e.__scopeDialog),{forceMount:s=n.forceMount,...a}=e,i=Id(Cy,e.__scopeDialog);return i.modal?r.jsx(Na,{present:s||i.open,children:r.jsx(rie,{...a,ref:t})}):null});IU.displayName=Cy;var tie=oh("DialogOverlay.RemoveScroll"),rie=m.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Id(Cy,n);return r.jsx(Bx,{as:tie,allowPinchZoom:!0,shards:[a.contentRef],children:r.jsx(jr.div,{"data-state":l4(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),ff="DialogContent",TU=m.forwardRef((e,t)=>{const n=BU(ff,e.__scopeDialog),{forceMount:s=n.forceMount,...a}=e,i=Id(ff,e.__scopeDialog);return r.jsx(Na,{present:s||i.open,children:i.modal?r.jsx(nie,{...a,ref:t}):r.jsx(sie,{...a,ref:t})})});TU.displayName=ff;var nie=m.forwardRef((e,t)=>{const n=Id(ff,e.__scopeDialog),s=m.useRef(null),a=an(t,n.contentRef,s);return m.useEffect(()=>{const i=s.current;if(i)return b1(i)},[]),r.jsx(kU,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Kt(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Kt(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Kt(e.onFocusOutside,i=>i.preventDefault())})}),sie=m.forwardRef((e,t)=>{const n=Id(ff,e.__scopeDialog),s=m.useRef(!1),a=m.useRef(!1);return r.jsx(kU,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),kU=m.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Id(ff,n),c=m.useRef(null),d=an(t,c);return y1(),r.jsxs(r.Fragment,{children:[r.jsx(Sx,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:r.jsx(Nh,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":l4(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(aie,{titleId:l.titleId}),r.jsx(lie,{contentRef:c,descriptionId:l.descriptionId})]})]})}),o4="DialogTitle",PU=m.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Id(o4,n);return r.jsx(jr.h2,{id:a.titleId,...s,ref:t})});PU.displayName=o4;var DU="DialogDescription",FU=m.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Id(DU,n);return r.jsx(jr.p,{id:a.descriptionId,...s,ref:t})});FU.displayName=DU;var LU="DialogClose",RU=m.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Id(LU,n);return r.jsx(jr.button,{type:"button",...s,ref:t,onClick:Kt(e.onClick,()=>a.onOpenChange(!1))})});RU.displayName=LU;function l4(e){return e?"open":"closed"}var OU="DialogTitleWarning",[iie,MU]=QX(OU,{contentName:ff,titleName:o4,docsSlug:"dialog"}),aie=({titleId:e})=>{const t=MU(OU),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},oie="DialogDescriptionWarning",lie=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${MU(oie).contentName}}.`;return m.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},c4=CU,UU=SU,d4=EU,N1=IU,C1=TU,u4=PU,A4=FU,h4=RU;const gr=c4,to=UU,cie=d4,die=h4,QU=m.forwardRef(({className:e,...t},n)=>r.jsx(N1,{ref:n,className:Tt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));QU.displayName=N1.displayName;const xr=m.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(cie,{children:[r.jsx(QU,{}),r.jsxs(C1,{ref:s,className:Tt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[r.jsx("div",{className:"left-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:r.jsxs("div",{className:"h-8 bg-transparent flex items-center",children:[r.jsx(die,{asChild:!0,children:r.jsx("button",{className:"w-3 h-3 rounded-full bg-red-500 mr-2 cursor-pointer"})}),r.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500 mr-2 pointer-events-none"}),r.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 pointer-events-none"})]})}),t]})]}));xr.displayName=C1.displayName;const vr=({className:e,...t})=>r.jsx("div",{className:Tt("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});vr.displayName="DialogHeader";const un=({className:e,...t})=>r.jsx("div",{className:Tt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});un.displayName="DialogFooter";const yr=m.forwardRef(({className:e,...t},n)=>r.jsx(u4,{ref:n,className:Tt("text-lg font-semibold leading-none tracking-tight",e),...t}));yr.displayName=u4.displayName;const nl=m.forwardRef(({className:e,...t},n)=>r.jsx(A4,{ref:n,className:Tt("text-sm text-muted-foreground",e),...t}));nl.displayName=A4.displayName;var t2={exports:{}},r2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lT;function uie(){if(lT)return r2;lT=1;var e=a1();function t(f,v){return f===v&&(f!==0||1/f===1/v)||f!==f&&v!==v}var n=typeof Object.is=="function"?Object.is:t,s=e.useState,a=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function l(f,v){var g=v(),w=s({inst:{value:g,getSnapshot:v}}),y=w[0].inst,b=w[1];return i(function(){y.value=g,y.getSnapshot=v,c(y)&&b({inst:y})},[f,g,v]),a(function(){return c(y)&&b({inst:y}),f(function(){c(y)&&b({inst:y})})},[f]),o(g),g}function c(f){var v=f.getSnapshot;f=f.value;try{var g=v();return!n(f,g)}catch{return!0}}function d(f,v){return v()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return r2.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u,r2}var cT;function Aie(){return cT||(cT=1,t2.exports=uie()),t2.exports}var hie=Aie();function fie(){return hie.useSyncExternalStore(mie,()=>!0,()=>!1)}function mie(){return()=>{}}var f4="Avatar",[pie,u5e]=ji(f4),[gie,HU]=pie(f4),zU=m.forwardRef((e,t)=>{const{__scopeAvatar:n,...s}=e,[a,i]=m.useState("idle");return r.jsx(gie,{scope:n,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:r.jsx(jr.span,{...s,ref:t})})});zU.displayName=f4;var VU="AvatarImage",KU=m.forwardRef((e,t)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:a=()=>{},...i}=e,o=HU(VU,n),l=xie(s,i),c=Fi(d=>{a(d),o.onImageLoadingStatusChange(d)});return Zi(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?r.jsx(jr.img,{...i,ref:t,src:s}):null});KU.displayName=VU;var WU="AvatarFallback",$U=m.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:s,...a}=e,i=HU(WU,n),[o,l]=m.useState(s===void 0);return m.useEffect(()=>{if(s!==void 0){const c=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(c)}},[s]),o&&i.imageLoadingStatus!=="loaded"?r.jsx(jr.span,{...a,ref:t}):null});$U.displayName=WU;function dT(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function xie(e,{referrerPolicy:t,crossOrigin:n}){const s=fie(),a=m.useRef(null),i=s?(a.current||(a.current=new window.Image),a.current):null,[o,l]=m.useState(()=>dT(i,e));return Zi(()=>{l(dT(i,e))},[i,e]),Zi(()=>{const c=f=>()=>{l(f)};if(!i)return;const d=c("loaded"),u=c("error");return i.addEventListener("load",d),i.addEventListener("error",u),t&&(i.referrerPolicy=t),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",d),i.removeEventListener("error",u)}},[i,n,t]),o}var GU=zU,qU=KU,JU=$U;const hn=m.forwardRef(({className:e,...t},n)=>r.jsx(GU,{ref:n,className:Tt("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));hn.displayName=GU.displayName;const Ch=m.forwardRef(({className:e,...t},n)=>r.jsx(qU,{ref:n,className:Tt("aspect-square h-full w-full",e),...t}));Ch.displayName=qU.displayName;const yn=m.forwardRef(({className:e,...t},n)=>r.jsx(JU,{ref:n,className:Tt("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));yn.displayName=JU.displayName;const vie=(e,t,n)=>n&&Array.isArray(n)&&n.map(s=>({...s,items:s.items.filter(a=>{var o;const i=(o=e==null?void 0:e.Pages)==null?void 0:o[a.id];return i?i.view:!1})})).filter(s=>s.items.length>0);function yie({className:e,onSelect:t,...n}){var le;const{locale:s}=ir(),{user:a,setUserField:i,setUser:o,toggleUserDuty:l}=Yn(),{toast:c}=ys(),d=li(),[u,f]=m.useState((a==null?void 0:a.dutyStatus)||"enr"),[v,g]=m.useState(!1),w=[{title:(s==null?void 0:s.text_navgroup_main)||"Main",items:[{id:"dashboard",title:(s==null?void 0:s.text_dashboard_page_name)||"Dashboard",icon:fi,href:"/dashboard",color:"text-sky-500"},{id:"dashboardems",title:(s==null?void 0:s.text_dashboard_page_name)||"Dashboard",icon:fi,href:"/dashboardems",color:"text-sky-500"}]},{title:(s==null?void 0:s.text_navgroup_records)||"Records",items:[{id:"citizens",title:(s==null?void 0:s.text_citizens)||"Citizens",icon:ba,href:"/citizens",color:"text-violet-500"},{id:"citizensems",title:(s==null?void 0:s.text_citizens)||"Citizens",icon:ba,href:"/citizensems",color:"text-violet-500"},{id:"vehicles",title:(s==null?void 0:s.text_vehicles)||"Vehicles",icon:Di,href:"/vehicles",color:"text-pink-500"},{id:"warrant",title:(s==null?void 0:s.text_warrant)||"Warrant",icon:iO,href:"/search-capture",color:"text-rose-500"},{id:"courts",title:(s==null?void 0:s.text_courts)||"Court",icon:Mc,href:"/courts",color:"text-orange-500"},{id:"criminalcode",title:(s==null?void 0:s.text_criminal_code)||"Criminal Code",icon:Mc,href:"/criminalcodes",color:"text-orange-500"},{id:"weapons",title:(s==null?void 0:s.text_weapons)||"Weapons",icon:i_,href:"/weapons",color:"text-blue-500"}]},{title:(s==null?void 0:s.text_navgroup_documentation)||"Documentation",items:[{id:"incidents",title:(s==null?void 0:s.text_incidents)||"Incidents",icon:cs,href:"/incidents",color:"text-red-400"},{id:"emsincidents",title:(s==null?void 0:s.text_incidents)||"Incidents",icon:cs,href:"/emsincidents",color:"text-red-400"},{id:"reports",title:(s==null?void 0:s.text_reports)||"Reports",icon:fi,href:"/reports",color:"text-orange-400"},{id:"emsreports",title:(s==null?void 0:s.text_reports)||"Reports",icon:fi,href:"/reportsems",color:"text-orange-400"},{id:"ftoreports",title:(s==null?void 0:s.text_fto_reports)||"FTO Reports",icon:fi,href:"/fto-reports",color:"text-pink-400"},{id:"emsftoreports",title:(s==null?void 0:s.text_fto_reports)||"FTO Reports",icon:fi,href:"/fto-ems-reports",color:"text-pink-400"}]},{title:(s==null?void 0:s.text_navgroup_department)||"Department",items:[{id:"roaster",title:(s==null?void 0:s.text_roster)||"Roster",icon:w3,href:"/roster",color:"text-yellow-400"},{id:"sop",title:(s==null?void 0:s.text_sop)||"SOP",icon:w3,href:"/sop",color:"text-green-400"},{id:"medicmanagement",title:(s==null?void 0:s.text_medics_management)||"Medics Management",icon:my,href:"/medics",color:"text-indigo-500"},{id:"officermanagement",title:(s==null?void 0:s.text_officers_management)||"Officers Management",icon:my,href:"/officers",color:"text-indigo-500"}]},{title:(s==null?void 0:s.text_navgroup_surveillance)||"Surveillance",items:[{id:"securitycamera",title:(s==null?void 0:s.text_security_cameras)||"Security Cameras",icon:ja,href:"/cameras",color:"text-purple-500"},{id:"bodycam",title:(s==null?void 0:s.text_bodycam)||"Bodycam",icon:o_,href:"/bodycam",color:"text-blue-500"},{id:"dispatch",title:(s==null?void 0:s.text_dispatch)||"Dispatch",icon:lf,href:"/dispatch",color:"text-blue-500"}]}],[y,b]=m.useState(Object.fromEntries(w.map(Q=>[Q.title,!0]))),[x,N]=m.useState(!1),[S,k]=m.useState(!1),[F,$]=m.useState((a==null?void 0:a.callsign)||""),U=Q=>{b(oe=>({...oe,[Q]:!oe[Q]}))},D=vie(a==null?void 0:a.permissions,a==null?void 0:a.grade,w),H=()=>{N(Q=>!Q),g(!1)},K=async()=>{const Q=(a==null?void 0:a.citizenId)||"",oe=(a==null?void 0:a.status)==="on-duty"?"off-duty":"on-duty";await l(Q,oe)},B=async()=>{try{const Q=await ke("fetchActiveUnits",{});i("activeOfficers",Array.isArray(Q.units)?Q.units:[])}catch(Q){console.error("Error:",Q)}},R=async()=>{if(F)try{const Q=await ke("changeCallsign",{citizenId:a==null?void 0:a.citizenId,newCallsign:F});Q&&Q.success?(i("callsign",F),k(!1),c({title:"Callsign Changed",description:(Q==null?void 0:Q.message)||"Your callsign has been successfully changed."}),await B()):(console.error("No response received."),c({title:"Error",description:(Q==null?void 0:Q.message)||"Failed to change callsign",variant:"destructive"}))}catch(Q){console.error("Error:",Q)}};m.useEffect(()=>{f((a==null?void 0:a.dutyStatus)||"avl")},[a==null?void 0:a.dutyStatus]);const Z=async Q=>{try{const oe=await ke("setUnitStatus",{status:Q});oe&&oe.success&&(f(Q),i("dutyStatus",Q),c({title:"Status Updated"}))}catch(oe){console.error("Error changing status:",oe)}},te=Q=>{Q.stopPropagation(),g(oe=>!oe),N(!1)},ye=Q=>Q==="clr"?"from-cyan-500 to-cyan-600":Q==="enr"?"from-emerald-500 to-emerald-600":Q==="avl"?"from-amber-500 to-amber-600":Q==="busy"?"from-red-500 to-red-600":"from-green-500 to-green-600",de=Q=>Q==="clr"?(s==null?void 0:s.text_cleared)||"Cleared":Q==="enr"?(s==null?void 0:s.text_enroute)||"En Route":Q==="avl"?(s==null?void 0:s.text_available)||"Available":Q==="busy"?(s==null?void 0:s.text_busy)||"Busy":(s==null?void 0:s.text_active)||"Active";return r.jsxs("div",{className:"flex h-full w-64 flex-col bg-card/50 text-white",...n,children:[r.jsx("div",{className:"p-6 border-b border-border flex justify-center items-center",children:r.jsx("div",{className:"flex flex-col items-center",children:r.jsx("div",{className:"relative w-24 h-24 flex items-center justify-center",children:r.jsx("img",{src:Ws(a==null?void 0:a.departmentLogo)||Ws("sasplogo.webp"),alt:`${a==null?void 0:a.department} Logo`,className:"h-full w-full object-cover",onError:Q=>{Q.currentTarget.src=Ws("lspdlogo.webp")}})})})}),r.jsx(nr,{className:"flex-1",children:r.jsx("div",{className:"p-2",children:D&&Array.isArray(D)&&D.map(Q=>r.jsxs("div",{className:"mb-2",children:[r.jsxs("button",{onClick:()=>U(Q.title),className:"w-full flex items-center justify-between px-3 py-2 text-xs font-medium text-muted-foreground hover:text-foreground transition-colors",children:[Q.title,y[Q.title]?r.jsx($A,{className:"h-3 w-3"}):r.jsx(Vg,{className:"h-3 w-3"})]}),y[Q.title]&&r.jsx("div",{className:"mt-1 space-y-1",children:Q&&(Q==null?void 0:Q.items)&&Array.isArray(Q==null?void 0:Q.items)&&Q.items.map(oe=>{const ce=d.pathname===oe.href;return r.jsx(uS,{to:oe.href,onClick:()=>t==null?void 0:t(oe.href,oe.title),children:r.jsxs(Ae,{variant:"ghost",className:Tt("w-full justify-start font-normal text-sm pl-4 transition-all duration-200",ce?"bg-primary/10 text-primary border-l-2 border-primary hover:bg-primary/10":"hover:bg-primary/5 hover:text-primary border-l-2 border-transparent"),children:[r.jsx(oe.icon,{className:Tt("mr-2 h-4 w-4",ce?"text-primary":oe.color)}),oe.title]})},oe.title)})})]},Q.title))})}),r.jsxs("div",{className:"mt-auto border-t border-slate-800 p-3 relative",children:[v&&r.jsxs(Xt.div,{className:"absolute flex flex-col bottom-24 left-0 right-0 bg-black/40 backdrop-blur-xl p-2 rounded-md border border-white/10 shadow-lg",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.2},children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"text-white/80 text-xs font-medium tracking-wide",children:"STATUS"}),r.jsx(ze,{variant:"outline",className:Tt("bg-gradient-to-r backdrop-blur-md text-white text-[9px] py-0 h-4 px-1.5 border-white/10",ye(u)),children:de(u)})]}),r.jsxs("div",{className:"grid grid-cols-4 gap-1 mt-1",children:[r.jsx("button",{onClick:()=>Z("clr"),className:Tt("h-7 flex items-center rounded-md justify-center text-[10px] font-medium transition-all duration-300",u==="clr"?"bg-gradient-to-r from-cyan-500 to-cyan-600 text-white shadow-[0_2px_8px_rgba(6,182,212,0.3)]":"bg-white/5 backdrop-blur-md text-white/60 hover:bg-white/10 border border-white/10"),children:"CLR"}),r.jsx("button",{onClick:()=>Z("enr"),className:Tt("h-7 flex items-center rounded-md justify-center text-[10px] font-medium transition-all duration-300",u==="enr"?"bg-gradient-to-r from-emerald-500 to-emerald-600 text-white shadow-[0_2px_8px_rgba(16,185,129,0.3)]":"bg-white/5 backdrop-blur-md text-white/60 hover:bg-white/10 border border-white/10"),children:"ENR"}),r.jsx("button",{onClick:()=>Z("avl"),className:Tt("h-7 flex items-center rounded-md justify-center text-[10px] font-medium transition-all duration-300",u==="avl"?"bg-gradient-to-r from-amber-500 to-amber-600 text-white shadow-[0_2px_8px_rgba(245,158,11,0.3)]":"bg-white/5 backdrop-blur-md text-white/60 hover:bg-white/10 border border-white/10"),children:"AVL"}),r.jsx("button",{onClick:()=>Z("busy"),className:Tt("h-7 flex items-center rounded-md justify-center text-[10px] font-medium transition-all duration-300",u==="busy"?"bg-gradient-to-r from-red-500 to-red-600 text-white shadow-[0_2px_8px_rgba(239,68,68,0.3)]":"bg-white/5 backdrop-blur-md text-white/60 hover:bg-white/10 border border-white/10"),children:"BSY"})]})]}),x&&r.jsxs(Xt.div,{className:"absolute flex flex-col bottom-24 left-0 right-0 space-y-2 bg-slate-800 p-2 rounded-md",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:[r.jsx(Ae,{variant:"ghost",size:"sm",onClick:K,children:(s==null?void 0:s.text_toggle_duty)||"Toggle Duty"}),r.jsxs(gr,{open:S,onOpenChange:k,children:[r.jsx(to,{asChild:!0,children:r.jsx(Ae,{variant:"ghost",size:"sm",children:(s==null?void 0:s.text_change_callsign)||"Change Callsign"})}),r.jsxs(xr,{className:"w-96 bg-card/50","aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:(s==null?void 0:s.text_change_callsign)||"Change Callsign"})}),r.jsx("div",{className:"p-4",children:r.jsx(ht,{value:F,onChange:Q=>$(Q.target.value),placeholder:(s==null?void 0:s.text_enter_callsign)||"Enter new callsign"})}),r.jsxs(un,{children:[r.jsx(Ae,{variant:"outline",onClick:()=>k(!1),children:(s==null?void 0:s.text_cancel)||"Cancel"}),r.jsx(Ae,{onClick:R,children:(s==null?void 0:s.text_save)||"Save"})]})]})]})]}),r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer",onClick:H,children:[r.jsx(hn,{className:"h-8 w-8",children:r.jsx(yn,{className:"text-xs",children:a&&(((le=a==null?void 0:a.name)==null?void 0:le.split(" "))||[]).map(Q=>Q[0]).join("").toUpperCase()})}),r.jsxs("div",{className:"max-w-[120px]",children:[r.jsx("p",{className:"text-sm font-medium truncate",children:a==null?void 0:a.name}),r.jsx("p",{className:`text-xs font-semibold truncate ${(a==null?void 0:a.status)==="on-duty"?"text-green-500":"text-red-500"}`,children:(a==null?void 0:a.status)==="on-duty"?(s==null?void 0:s.text_on_duty)||"On Duty":(s==null?void 0:s.text_off_duty)||"Off Duty"})]})]}),r.jsx(ze,{variant:"outline",className:"text-[9px]",children:a==null?void 0:a.department})]}),r.jsxs("div",{className:Tt("flex items-center justify-between px-2 py-1 rounded-md cursor-pointer border border-white/10","bg-white/5 backdrop-blur-md hover:bg-white/10 transition-all duration-300"),onClick:te,children:[r.jsx("span",{className:"text-white/80 text-xs",children:"Status"}),r.jsx(ze,{variant:"outline",className:Tt("bg-gradient-to-r backdrop-blur-md text-white text-[9px] py-0 h-4 px-1.5 border-white/10",ye(u)),children:de(u)})]})]})]})]})}function wie(e,t){const n=m.useRef(t);m.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}function bie(e,t,n){t.center!==n.center&&e.setLatLng(t.center),t.radius!=null&&t.radius!==n.radius&&e.setRadius(t.radius)}const jie=1;function Nie(e){return Object.freeze({__version:jie,map:e})}function Cie(e,t){return Object.freeze({...e,...t})}const YU=m.createContext(null),XU=YU.Provider;function m4(){const e=m.useContext(YU);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function _ie(e){function t(n,s){const{instance:a,context:i}=e(n).current;return m.useImperativeHandle(s,()=>a),n.children==null?null:kr.createElement(XU,{value:i},n.children)}return m.forwardRef(t)}function Sie(e){function t(n,s){const[a,i]=m.useState(!1),{instance:o}=e(n,i).current;m.useImperativeHandle(s,()=>o),m.useEffect(function(){a&&o.update()},[o,a,n.children]);const l=o._contentNode;return l?Kl.createPortal(n.children,l):null}return m.forwardRef(t)}function ZU(e,t){const n=m.useRef();m.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function e6(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function Bie(e,t){return function(s,a){const i=m4(),o=e(e6(s,i),i);return wie(i.map,s.attribution),ZU(o.current,s.eventHandlers),t(o.current,i,s,a),o}}var mg={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var Eie=mg.exports,uT;function Iie(){return uT||(uT=1,function(e,t){(function(n,s){s(t)})(Eie,function(n){var s="1.9.4";function a(h){var j,I,z,ae;for(I=1,z=arguments.length;I<z;I++){ae=arguments[I];for(j in ae)h[j]=ae[j]}return h}var i=Object.create||function(){function h(){}return function(j){return h.prototype=j,new h}}();function o(h,j){var I=Array.prototype.slice;if(h.bind)return h.bind.apply(h,I.call(arguments,1));var z=I.call(arguments,2);return function(){return h.apply(j,z.length?z.concat(I.call(arguments)):arguments)}}var l=0;function c(h){return"_leaflet_id"in h||(h._leaflet_id=++l),h._leaflet_id}function d(h,j,I){var z,ae,be,$e;return $e=function(){z=!1,ae&&(be.apply(I,ae),ae=!1)},be=function(){z?ae=arguments:(h.apply(I,arguments),setTimeout($e,j),z=!0)},be}function u(h,j,I){var z=j[1],ae=j[0],be=z-ae;return h===z&&I?h:((h-ae)%be+be)%be+ae}function f(){return!1}function v(h,j){if(j===!1)return h;var I=Math.pow(10,j===void 0?6:j);return Math.round(h*I)/I}function g(h){return h.trim?h.trim():h.replace(/^\s+|\s+$/g,"")}function w(h){return g(h).split(/\s+/)}function y(h,j){Object.prototype.hasOwnProperty.call(h,"options")||(h.options=h.options?i(h.options):{});for(var I in j)h.options[I]=j[I];return h.options}function b(h,j,I){var z=[];for(var ae in h)z.push(encodeURIComponent(I?ae.toUpperCase():ae)+"="+encodeURIComponent(h[ae]));return(!j||j.indexOf("?")===-1?"?":"&")+z.join("&")}var x=/\{ *([\w_ -]+) *\}/g;function N(h,j){return h.replace(x,function(I,z){var ae=j[z];if(ae===void 0)throw new Error("No value provided for variable "+I);return typeof ae=="function"&&(ae=ae(j)),ae})}var S=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"};function k(h,j){for(var I=0;I<h.length;I++)if(h[I]===j)return I;return-1}var F="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function $(h){return window["webkit"+h]||window["moz"+h]||window["ms"+h]}var U=0;function D(h){var j=+new Date,I=Math.max(0,16-(j-U));return U=j+I,window.setTimeout(h,I)}var H=window.requestAnimationFrame||$("RequestAnimationFrame")||D,K=window.cancelAnimationFrame||$("CancelAnimationFrame")||$("CancelRequestAnimationFrame")||function(h){window.clearTimeout(h)};function B(h,j,I){if(I&&H===D)h.call(j);else return H.call(window,o(h,j))}function R(h){h&&K.call(window,h)}var Z={__proto__:null,extend:a,create:i,bind:o,get lastId(){return l},stamp:c,throttle:d,wrapNum:u,falseFn:f,formatNum:v,trim:g,splitWords:w,setOptions:y,getParamString:b,template:N,isArray:S,indexOf:k,emptyImageUrl:F,requestFn:H,cancelFn:K,requestAnimFrame:B,cancelAnimFrame:R};function te(){}te.extend=function(h){var j=function(){y(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},I=j.__super__=this.prototype,z=i(I);z.constructor=j,j.prototype=z;for(var ae in this)Object.prototype.hasOwnProperty.call(this,ae)&&ae!=="prototype"&&ae!=="__super__"&&(j[ae]=this[ae]);return h.statics&&a(j,h.statics),h.includes&&(ye(h.includes),a.apply(null,[z].concat(h.includes))),a(z,h),delete z.statics,delete z.includes,z.options&&(z.options=I.options?i(I.options):{},a(z.options,h.options)),z._initHooks=[],z.callInitHooks=function(){if(!this._initHooksCalled){I.callInitHooks&&I.callInitHooks.call(this),this._initHooksCalled=!0;for(var be=0,$e=z._initHooks.length;be<$e;be++)z._initHooks[be].call(this)}},j},te.include=function(h){var j=this.prototype.options;return a(this.prototype,h),h.options&&(this.prototype.options=j,this.mergeOptions(h.options)),this},te.mergeOptions=function(h){return a(this.prototype.options,h),this},te.addInitHook=function(h){var j=Array.prototype.slice.call(arguments,1),I=typeof h=="function"?h:function(){this[h].apply(this,j)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(I),this};function ye(h){if(!(typeof L>"u"||!L||!L.Mixin)){h=S(h)?h:[h];for(var j=0;j<h.length;j++)h[j]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var de={on:function(h,j,I){if(typeof h=="object")for(var z in h)this._on(z,h[z],j);else{h=w(h);for(var ae=0,be=h.length;ae<be;ae++)this._on(h[ae],j,I)}return this},off:function(h,j,I){if(!arguments.length)delete this._events;else if(typeof h=="object")for(var z in h)this._off(z,h[z],j);else{h=w(h);for(var ae=arguments.length===1,be=0,$e=h.length;be<$e;be++)ae?this._off(h[be]):this._off(h[be],j,I)}return this},_on:function(h,j,I,z){if(typeof j!="function"){console.warn("wrong listener type: "+typeof j);return}if(this._listens(h,j,I)===!1){I===this&&(I=void 0);var ae={fn:j,ctx:I};z&&(ae.once=!0),this._events=this._events||{},this._events[h]=this._events[h]||[],this._events[h].push(ae)}},_off:function(h,j,I){var z,ae,be;if(this._events&&(z=this._events[h],!!z)){if(arguments.length===1){if(this._firingCount)for(ae=0,be=z.length;ae<be;ae++)z[ae].fn=f;delete this._events[h];return}if(typeof j!="function"){console.warn("wrong listener type: "+typeof j);return}var $e=this._listens(h,j,I);if($e!==!1){var yt=z[$e];this._firingCount&&(yt.fn=f,this._events[h]=z=z.slice()),z.splice($e,1)}}},fire:function(h,j,I){if(!this.listens(h,I))return this;var z=a({},j,{type:h,target:this,sourceTarget:j&&j.sourceTarget||this});if(this._events){var ae=this._events[h];if(ae){this._firingCount=this._firingCount+1||1;for(var be=0,$e=ae.length;be<$e;be++){var yt=ae[be],St=yt.fn;yt.once&&this.off(h,St,yt.ctx),St.call(yt.ctx||this,z)}this._firingCount--}}return I&&this._propagateEvent(z),this},listens:function(h,j,I,z){typeof h!="string"&&console.warn('"string" type argument expected');var ae=j;typeof j!="function"&&(z=!!j,ae=void 0,I=void 0);var be=this._events&&this._events[h];if(be&&be.length&&this._listens(h,ae,I)!==!1)return!0;if(z){for(var $e in this._eventParents)if(this._eventParents[$e].listens(h,j,I,z))return!0}return!1},_listens:function(h,j,I){if(!this._events)return!1;var z=this._events[h]||[];if(!j)return!!z.length;I===this&&(I=void 0);for(var ae=0,be=z.length;ae<be;ae++)if(z[ae].fn===j&&z[ae].ctx===I)return ae;return!1},once:function(h,j,I){if(typeof h=="object")for(var z in h)this._on(z,h[z],j,!0);else{h=w(h);for(var ae=0,be=h.length;ae<be;ae++)this._on(h[ae],j,I,!0)}return this},addEventParent:function(h){return this._eventParents=this._eventParents||{},this._eventParents[c(h)]=h,this},removeEventParent:function(h){return this._eventParents&&delete this._eventParents[c(h)],this},_propagateEvent:function(h){for(var j in this._eventParents)this._eventParents[j].fire(h.type,a({layer:h.target,propagatedFrom:h.target},h),!0)}};de.addEventListener=de.on,de.removeEventListener=de.clearAllEventListeners=de.off,de.addOneTimeEventListener=de.once,de.fireEvent=de.fire,de.hasEventListeners=de.listens;var le=te.extend(de);function Q(h,j,I){this.x=I?Math.round(h):h,this.y=I?Math.round(j):j}var oe=Math.trunc||function(h){return h>0?Math.floor(h):Math.ceil(h)};Q.prototype={clone:function(){return new Q(this.x,this.y)},add:function(h){return this.clone()._add(ce(h))},_add:function(h){return this.x+=h.x,this.y+=h.y,this},subtract:function(h){return this.clone()._subtract(ce(h))},_subtract:function(h){return this.x-=h.x,this.y-=h.y,this},divideBy:function(h){return this.clone()._divideBy(h)},_divideBy:function(h){return this.x/=h,this.y/=h,this},multiplyBy:function(h){return this.clone()._multiplyBy(h)},_multiplyBy:function(h){return this.x*=h,this.y*=h,this},scaleBy:function(h){return new Q(this.x*h.x,this.y*h.y)},unscaleBy:function(h){return new Q(this.x/h.x,this.y/h.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=oe(this.x),this.y=oe(this.y),this},distanceTo:function(h){h=ce(h);var j=h.x-this.x,I=h.y-this.y;return Math.sqrt(j*j+I*I)},equals:function(h){return h=ce(h),h.x===this.x&&h.y===this.y},contains:function(h){return h=ce(h),Math.abs(h.x)<=Math.abs(this.x)&&Math.abs(h.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function ce(h,j,I){return h instanceof Q?h:S(h)?new Q(h[0],h[1]):h==null?h:typeof h=="object"&&"x"in h&&"y"in h?new Q(h.x,h.y):new Q(h,j,I)}function ee(h,j){if(h)for(var I=j?[h,j]:h,z=0,ae=I.length;z<ae;z++)this.extend(I[z])}ee.prototype={extend:function(h){var j,I;if(!h)return this;if(h instanceof Q||typeof h[0]=="number"||"x"in h)j=I=ce(h);else if(h=M(h),j=h.min,I=h.max,!j||!I)return this;return!this.min&&!this.max?(this.min=j.clone(),this.max=I.clone()):(this.min.x=Math.min(j.x,this.min.x),this.max.x=Math.max(I.x,this.max.x),this.min.y=Math.min(j.y,this.min.y),this.max.y=Math.max(I.y,this.max.y)),this},getCenter:function(h){return ce((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,h)},getBottomLeft:function(){return ce(this.min.x,this.max.y)},getTopRight:function(){return ce(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(h){var j,I;return typeof h[0]=="number"||h instanceof Q?h=ce(h):h=M(h),h instanceof ee?(j=h.min,I=h.max):j=I=h,j.x>=this.min.x&&I.x<=this.max.x&&j.y>=this.min.y&&I.y<=this.max.y},intersects:function(h){h=M(h);var j=this.min,I=this.max,z=h.min,ae=h.max,be=ae.x>=j.x&&z.x<=I.x,$e=ae.y>=j.y&&z.y<=I.y;return be&&$e},overlaps:function(h){h=M(h);var j=this.min,I=this.max,z=h.min,ae=h.max,be=ae.x>j.x&&z.x<I.x,$e=ae.y>j.y&&z.y<I.y;return be&&$e},isValid:function(){return!!(this.min&&this.max)},pad:function(h){var j=this.min,I=this.max,z=Math.abs(j.x-I.x)*h,ae=Math.abs(j.y-I.y)*h;return M(ce(j.x-z,j.y-ae),ce(I.x+z,I.y+ae))},equals:function(h){return h?(h=M(h),this.min.equals(h.getTopLeft())&&this.max.equals(h.getBottomRight())):!1}};function M(h,j){return!h||h instanceof ee?h:new ee(h,j)}function E(h,j){if(h)for(var I=j?[h,j]:h,z=0,ae=I.length;z<ae;z++)this.extend(I[z])}E.prototype={extend:function(h){var j=this._southWest,I=this._northEast,z,ae;if(h instanceof se)z=h,ae=h;else if(h instanceof E){if(z=h._southWest,ae=h._northEast,!z||!ae)return this}else return h?this.extend(re(h)||q(h)):this;return!j&&!I?(this._southWest=new se(z.lat,z.lng),this._northEast=new se(ae.lat,ae.lng)):(j.lat=Math.min(z.lat,j.lat),j.lng=Math.min(z.lng,j.lng),I.lat=Math.max(ae.lat,I.lat),I.lng=Math.max(ae.lng,I.lng)),this},pad:function(h){var j=this._southWest,I=this._northEast,z=Math.abs(j.lat-I.lat)*h,ae=Math.abs(j.lng-I.lng)*h;return new E(new se(j.lat-z,j.lng-ae),new se(I.lat+z,I.lng+ae))},getCenter:function(){return new se((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new se(this.getNorth(),this.getWest())},getSouthEast:function(){return new se(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(h){typeof h[0]=="number"||h instanceof se||"lat"in h?h=re(h):h=q(h);var j=this._southWest,I=this._northEast,z,ae;return h instanceof E?(z=h.getSouthWest(),ae=h.getNorthEast()):z=ae=h,z.lat>=j.lat&&ae.lat<=I.lat&&z.lng>=j.lng&&ae.lng<=I.lng},intersects:function(h){h=q(h);var j=this._southWest,I=this._northEast,z=h.getSouthWest(),ae=h.getNorthEast(),be=ae.lat>=j.lat&&z.lat<=I.lat,$e=ae.lng>=j.lng&&z.lng<=I.lng;return be&&$e},overlaps:function(h){h=q(h);var j=this._southWest,I=this._northEast,z=h.getSouthWest(),ae=h.getNorthEast(),be=ae.lat>j.lat&&z.lat<I.lat,$e=ae.lng>j.lng&&z.lng<I.lng;return be&&$e},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(h,j){return h?(h=q(h),this._southWest.equals(h.getSouthWest(),j)&&this._northEast.equals(h.getNorthEast(),j)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function q(h,j){return h instanceof E?h:new E(h,j)}function se(h,j,I){if(isNaN(h)||isNaN(j))throw new Error("Invalid LatLng object: ("+h+", "+j+")");this.lat=+h,this.lng=+j,I!==void 0&&(this.alt=+I)}se.prototype={equals:function(h,j){if(!h)return!1;h=re(h);var I=Math.max(Math.abs(this.lat-h.lat),Math.abs(this.lng-h.lng));return I<=(j===void 0?1e-9:j)},toString:function(h){return"LatLng("+v(this.lat,h)+", "+v(this.lng,h)+")"},distanceTo:function(h){return ue.distance(this,re(h))},wrap:function(){return ue.wrapLatLng(this)},toBounds:function(h){var j=180*h/40075017,I=j/Math.cos(Math.PI/180*this.lat);return q([this.lat-j,this.lng-I],[this.lat+j,this.lng+I])},clone:function(){return new se(this.lat,this.lng,this.alt)}};function re(h,j,I){return h instanceof se?h:S(h)&&typeof h[0]!="object"?h.length===3?new se(h[0],h[1],h[2]):h.length===2?new se(h[0],h[1]):null:h==null?h:typeof h=="object"&&"lat"in h?new se(h.lat,"lng"in h?h.lng:h.lon,h.alt):j===void 0?null:new se(h,j,I)}var G={latLngToPoint:function(h,j){var I=this.projection.project(h),z=this.scale(j);return this.transformation._transform(I,z)},pointToLatLng:function(h,j){var I=this.scale(j),z=this.transformation.untransform(h,I);return this.projection.unproject(z)},project:function(h){return this.projection.project(h)},unproject:function(h){return this.projection.unproject(h)},scale:function(h){return 256*Math.pow(2,h)},zoom:function(h){return Math.log(h/256)/Math.LN2},getProjectedBounds:function(h){if(this.infinite)return null;var j=this.projection.bounds,I=this.scale(h),z=this.transformation.transform(j.min,I),ae=this.transformation.transform(j.max,I);return new ee(z,ae)},infinite:!1,wrapLatLng:function(h){var j=this.wrapLng?u(h.lng,this.wrapLng,!0):h.lng,I=this.wrapLat?u(h.lat,this.wrapLat,!0):h.lat,z=h.alt;return new se(I,j,z)},wrapLatLngBounds:function(h){var j=h.getCenter(),I=this.wrapLatLng(j),z=j.lat-I.lat,ae=j.lng-I.lng;if(z===0&&ae===0)return h;var be=h.getSouthWest(),$e=h.getNorthEast(),yt=new se(be.lat-z,be.lng-ae),St=new se($e.lat-z,$e.lng-ae);return new E(yt,St)}},ue=a({},G,{wrapLng:[-180,180],R:6371e3,distance:function(h,j){var I=Math.PI/180,z=h.lat*I,ae=j.lat*I,be=Math.sin((j.lat-h.lat)*I/2),$e=Math.sin((j.lng-h.lng)*I/2),yt=be*be+Math.cos(z)*Math.cos(ae)*$e*$e,St=2*Math.atan2(Math.sqrt(yt),Math.sqrt(1-yt));return this.R*St}}),ie=6378137,Ee={R:ie,MAX_LATITUDE:85.0511287798,project:function(h){var j=Math.PI/180,I=this.MAX_LATITUDE,z=Math.max(Math.min(I,h.lat),-I),ae=Math.sin(z*j);return new Q(this.R*h.lng*j,this.R*Math.log((1+ae)/(1-ae))/2)},unproject:function(h){var j=180/Math.PI;return new se((2*Math.atan(Math.exp(h.y/this.R))-Math.PI/2)*j,h.x*j/this.R)},bounds:function(){var h=ie*Math.PI;return new ee([-h,-h],[h,h])}()};function He(h,j,I,z){if(S(h)){this._a=h[0],this._b=h[1],this._c=h[2],this._d=h[3];return}this._a=h,this._b=j,this._c=I,this._d=z}He.prototype={transform:function(h,j){return this._transform(h.clone(),j)},_transform:function(h,j){return j=j||1,h.x=j*(this._a*h.x+this._b),h.y=j*(this._c*h.y+this._d),h},untransform:function(h,j){return j=j||1,new Q((h.x/j-this._b)/this._a,(h.y/j-this._d)/this._c)}};function rt(h,j,I,z){return new He(h,j,I,z)}var we=a({},ue,{code:"EPSG:3857",projection:Ee,transformation:function(){var h=.5/(Math.PI*Ee.R);return rt(h,.5,-h,.5)}()}),Ve=a({},we,{code:"EPSG:900913"});function Re(h){return document.createElementNS("http://www.w3.org/2000/svg",h)}function je(h,j){var I="",z,ae,be,$e,yt,St;for(z=0,be=h.length;z<be;z++){for(yt=h[z],ae=0,$e=yt.length;ae<$e;ae++)St=yt[ae],I+=(ae?"L":"M")+St.x+" "+St.y;I+=j?Gt.svg?"z":"x":""}return I||"M0 0"}var Mt=document.documentElement.style,Bt="ActiveXObject"in window,ct=Bt&&!document.addEventListener,vt="msLaunchUri"in navigator&&!("documentMode"in document),wt=Er("webkit"),Fe=Er("android"),Oe=Er("android 2")||Er("android 3"),_e=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),nt=Fe&&Er("Google")&&_e<537&&!("AudioNode"in window),ut=!!window.opera,jt=!vt&&Er("chrome"),zt=Er("gecko")&&!wt&&!ut&&!Bt,Be=!jt&&Er("safari"),Ye=Er("phantom"),Ue="OTransition"in Mt,Lt=navigator.platform.indexOf("Win")===0,Et=Bt&&"transition"in Mt,hr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Oe,ur="MozPerspective"in Mt,Cr=!window.L_DISABLE_3D&&(Et||hr||ur)&&!Ue&&!Ye,Tr=typeof orientation<"u"||Er("mobile"),fr=Tr&&wt,dr=Tr&&hr,Ke=!window.PointerEvent&&window.MSPointerEvent,qt=!!(window.PointerEvent||Ke),Ge="ontouchstart"in window||!!window.TouchEvent,st=!window.L_NO_TOUCH&&(Ge||qt),it=Tr&&ut,Pt=Tr&&zt,_r=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ot=function(){var h=!1;try{var j=Object.defineProperty({},"passive",{get:function(){h=!0}});window.addEventListener("testPassiveEventSupport",f,j),window.removeEventListener("testPassiveEventSupport",f,j)}catch{}return h}(),dt=function(){return!!document.createElement("canvas").getContext}(),er=!!(document.createElementNS&&Re("svg").createSVGRect),Rt=!!er&&function(){var h=document.createElement("div");return h.innerHTML="<svg/>",(h.firstChild&&h.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),xn=!er&&function(){try{var h=document.createElement("div");h.innerHTML='<v:shape adj="1"/>';var j=h.firstChild;return j.style.behavior="url(#default#VML)",j&&typeof j.adj=="object"}catch{return!1}}(),qr=navigator.platform.indexOf("Mac")===0,vn=navigator.platform.indexOf("Linux")===0;function Er(h){return navigator.userAgent.toLowerCase().indexOf(h)>=0}var Gt={ie:Bt,ielt9:ct,edge:vt,webkit:wt,android:Fe,android23:Oe,androidStock:nt,opera:ut,chrome:jt,gecko:zt,safari:Be,phantom:Ye,opera12:Ue,win:Lt,ie3d:Et,webkit3d:hr,gecko3d:ur,any3d:Cr,mobile:Tr,mobileWebkit:fr,mobileWebkit3d:dr,msPointer:Ke,pointer:qt,touch:st,touchNative:Ge,mobileOpera:it,mobileGecko:Pt,retina:_r,passiveEvents:ot,canvas:dt,svg:er,vml:xn,inlineSvg:Rt,mac:qr,linux:vn},kn=Gt.msPointer?"MSPointerDown":"pointerdown",ps=Gt.msPointer?"MSPointerMove":"pointermove",is=Gt.msPointer?"MSPointerUp":"pointerup",en=Gt.msPointer?"MSPointerCancel":"pointercancel",ws={touchstart:kn,touchmove:ps,touchend:is,touchcancel:en},Pn={touchstart:Ur,touchmove:Un,touchend:Un,touchcancel:Un},qn={},Zn=!1;function Ln(h,j,I){return j==="touchstart"&&jn(),Pn[j]?(I=Pn[j].bind(this,I),h.addEventListener(ws[j],I,!1),I):(console.warn("wrong event specified:",j),f)}function wr(h,j,I){if(!ws[j]){console.warn("wrong event specified:",j);return}h.removeEventListener(ws[j],I,!1)}function We(h){qn[h.pointerId]=h}function Ht(h){qn[h.pointerId]&&(qn[h.pointerId]=h)}function mr(h){delete qn[h.pointerId]}function jn(){Zn||(document.addEventListener(kn,We,!0),document.addEventListener(ps,Ht,!0),document.addEventListener(is,mr,!0),document.addEventListener(en,mr,!0),Zn=!0)}function Un(h,j){if(j.pointerType!==(j.MSPOINTER_TYPE_MOUSE||"mouse")){j.touches=[];for(var I in qn)j.touches.push(qn[I]);j.changedTouches=[j],h(j)}}function Ur(h,j){j.MSPOINTER_TYPE_TOUCH&&j.pointerType===j.MSPOINTER_TYPE_TOUCH&&Wt(j),Un(h,j)}function Jr(h){var j={},I,z;for(z in h)I=h[z],j[z]=I&&I.bind?I.bind(h):I;return h=j,j.type="dblclick",j.detail=2,j.isTrusted=!1,j._simulated=!0,j}var Xn=200;function ds(h,j){h.addEventListener("dblclick",j);var I=0,z;function ae(be){if(be.detail!==1){z=be.detail;return}if(!(be.pointerType==="mouse"||be.sourceCapabilities&&!be.sourceCapabilities.firesTouchEvents)){var $e=An(be);if(!($e.some(function(St){return St instanceof HTMLLabelElement&&St.attributes.for})&&!$e.some(function(St){return St instanceof HTMLInputElement||St instanceof HTMLSelectElement}))){var yt=Date.now();yt-I<=Xn?(z++,z===2&&j(Jr(be))):z=1,I=yt}}}return h.addEventListener("click",ae),{dblclick:j,simDblclick:ae}}function Nn(h,j){h.removeEventListener("dblclick",j.dblclick),h.removeEventListener("click",j.simDblclick)}var Te=Hr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Nt=Hr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Jt=Nt==="webkitTransition"||Nt==="OTransition"?Nt+"End":"transitionend";function Pr(h){return typeof h=="string"?document.getElementById(h):h}function Cn(h,j){var I=h.style[j]||h.currentStyle&&h.currentStyle[j];if((!I||I==="auto")&&document.defaultView){var z=document.defaultView.getComputedStyle(h,null);I=z?z[j]:null}return I==="auto"?null:I}function Kr(h,j,I){var z=document.createElement(h);return z.className=j||"",I&&I.appendChild(z),z}function Y(h){var j=h.parentNode;j&&j.removeChild(h)}function Ls(h){for(;h.firstChild;)h.removeChild(h.firstChild)}function Qi(h){var j=h.parentNode;j&&j.lastChild!==h&&j.appendChild(h)}function Qs(h){var j=h.parentNode;j&&j.firstChild!==h&&j.insertBefore(h,j.firstChild)}function gi(h,j){if(h.classList!==void 0)return h.classList.contains(j);var I=Pe(h);return I.length>0&&new RegExp("(^|\\s)"+j+"(\\s|$)").test(I)}function Wr(h,j){if(h.classList!==void 0)for(var I=w(j),z=0,ae=I.length;z<ae;z++)h.classList.add(I[z]);else if(!gi(h,j)){var be=Pe(h);Ni(h,(be?be+" ":"")+j)}}function wn(h,j){h.classList!==void 0?h.classList.remove(j):Ni(h,g((" "+Pe(h)+" ").replace(" "+j+" "," ")))}function Ni(h,j){h.className.baseVal===void 0?h.className=j:h.className.baseVal=j}function Pe(h){return h.correspondingElement&&(h=h.correspondingElement),h.className.baseVal===void 0?h.className:h.className.baseVal}function Ct(h,j){"opacity"in h.style?h.style.opacity=j:"filter"in h.style&&tr(h,j)}function tr(h,j){var I=!1,z="DXImageTransform.Microsoft.Alpha";try{I=h.filters.item(z)}catch{if(j===1)return}j=Math.round(j*100),I?(I.Enabled=j!==100,I.Opacity=j):h.style.filter+=" progid:"+z+"(opacity="+j+")"}function Hr(h){for(var j=document.documentElement.style,I=0;I<h.length;I++)if(h[I]in j)return h[I];return!1}function on(h,j,I){var z=j||new Q(0,0);h.style[Te]=(Gt.ie3d?"translate("+z.x+"px,"+z.y+"px)":"translate3d("+z.x+"px,"+z.y+"px,0)")+(I?" scale("+I+")":"")}function nn(h,j){h._leaflet_pos=j,Gt.any3d?on(h,j):(h.style.left=j.x+"px",h.style.top=j.y+"px")}function us(h){return h._leaflet_pos||new Q(0,0)}var fn,Hs,Ci;if("onselectstart"in document)fn=function(){ln(window,"selectstart",Wt)},Hs=function(){Vn(window,"selectstart",Wt)};else{var Qa=Hr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);fn=function(){if(Qa){var h=document.documentElement.style;Ci=h[Qa],h[Qa]="none"}},Hs=function(){Qa&&(document.documentElement.style[Qa]=Ci,Ci=void 0)}}function go(){ln(window,"dragstart",Wt)}function na(){Vn(window,"dragstart",Wt)}var ni,_i;function ro(h){for(;h.tabIndex===-1;)h=h.parentNode;h.style&&(as(),ni=h,_i=h.style.outlineStyle,h.style.outlineStyle="none",ln(window,"keydown",as))}function as(){ni&&(ni.style.outlineStyle=_i,ni=void 0,_i=void 0,Vn(window,"keydown",as))}function Si(h){do h=h.parentNode;while((!h.offsetWidth||!h.offsetHeight)&&h!==document.body);return h}function Bi(h){var j=h.getBoundingClientRect();return{x:j.width/h.offsetWidth||1,y:j.height/h.offsetHeight||1,boundingClientRect:j}}var sn={__proto__:null,TRANSFORM:Te,TRANSITION:Nt,TRANSITION_END:Jt,get:Pr,getStyle:Cn,create:Kr,remove:Y,empty:Ls,toFront:Qi,toBack:Qs,hasClass:gi,addClass:Wr,removeClass:wn,setClass:Ni,getClass:Pe,setOpacity:Ct,testProp:Hr,setTransform:on,setPosition:nn,getPosition:us,get disableTextSelection(){return fn},get enableTextSelection(){return Hs},disableImageDrag:go,enableImageDrag:na,preventOutline:ro,restoreOutline:as,getSizedParentNode:Si,getScale:Bi};function ln(h,j,I,z){if(j&&typeof j=="object")for(var ae in j)za(h,ae,j[ae],I);else{j=w(j);for(var be=0,$e=j.length;be<$e;be++)za(h,j[be],I,z)}return this}var Ys="_leaflet_events";function Vn(h,j,I,z){if(arguments.length===1)Ba(h),delete h[Ys];else if(j&&typeof j=="object")for(var ae in j)Hi(h,ae,j[ae],I);else if(j=w(j),arguments.length===2)Ba(h,function(yt){return k(j,yt)!==-1});else for(var be=0,$e=j.length;be<$e;be++)Hi(h,j[be],I,z);return this}function Ba(h,j){for(var I in h[Ys]){var z=I.split(/\d/)[0];(!j||j(z))&&Hi(h,z,null,null,I)}}var Ha={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function za(h,j,I,z){var ae=j+c(I)+(z?"_"+c(z):"");if(h[Ys]&&h[Ys][ae])return this;var be=function(yt){return I.call(z||h,yt||window.event)},$e=be;!Gt.touchNative&&Gt.pointer&&j.indexOf("touch")===0?be=Ln(h,j,be):Gt.touch&&j==="dblclick"?be=ds(h,be):"addEventListener"in h?j==="touchstart"||j==="touchmove"||j==="wheel"||j==="mousewheel"?h.addEventListener(Ha[j]||j,be,Gt.passiveEvents?{passive:!1}:!1):j==="mouseenter"||j==="mouseleave"?(be=function(yt){yt=yt||window.event,ci(h,yt)&&$e(yt)},h.addEventListener(Ha[j],be,!1)):h.addEventListener(j,$e,!1):h.attachEvent("on"+j,be),h[Ys]=h[Ys]||{},h[Ys][ae]=be}function Hi(h,j,I,z,ae){ae=ae||j+c(I)+(z?"_"+c(z):"");var be=h[Ys]&&h[Ys][ae];if(!be)return this;!Gt.touchNative&&Gt.pointer&&j.indexOf("touch")===0?wr(h,j,be):Gt.touch&&j==="dblclick"?Nn(h,be):"removeEventListener"in h?h.removeEventListener(Ha[j]||j,be,!1):h.detachEvent("on"+j,be),h[Ys][ae]=null}function si(h){return h.stopPropagation?h.stopPropagation():h.originalEvent?h.originalEvent._stopped=!0:h.cancelBubble=!0,this}function he(h){return za(h,"wheel",si),this}function pt(h){return ln(h,"mousedown touchstart dblclick contextmenu",si),h._leaflet_disable_click=!0,this}function Wt(h){return h.preventDefault?h.preventDefault():h.returnValue=!1,this}function Ar(h){return Wt(h),si(h),this}function An(h){if(h.composedPath)return h.composedPath();for(var j=[],I=h.target;I;)j.push(I),I=I.parentNode;return j}function tn(h,j){if(!j)return new Q(h.clientX,h.clientY);var I=Bi(j),z=I.boundingClientRect;return new Q((h.clientX-z.left)/I.x-j.clientLeft,(h.clientY-z.top)/I.y-j.clientTop)}var xi=Gt.linux&&Gt.chrome?window.devicePixelRatio:Gt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Va(h){return Gt.edge?h.wheelDeltaY/2:h.deltaY&&h.deltaMode===0?-h.deltaY/xi:h.deltaY&&h.deltaMode===1?-h.deltaY*20:h.deltaY&&h.deltaMode===2?-h.deltaY*60:h.deltaX||h.deltaZ?0:h.wheelDelta?(h.wheelDeltaY||h.wheelDelta)/2:h.detail&&Math.abs(h.detail)<32765?-h.detail*20:h.detail?h.detail/-32765*60:0}function ci(h,j){var I=j.relatedTarget;if(!I)return!0;try{for(;I&&I!==h;)I=I.parentNode}catch{return!1}return I!==h}var Ka={__proto__:null,on:ln,off:Vn,stopPropagation:si,disableScrollPropagation:he,disableClickPropagation:pt,preventDefault:Wt,stop:Ar,getPropagationPath:An,getMousePosition:tn,getWheelDelta:Va,isExternalTarget:ci,addListener:ln,removeListener:Vn},no=le.extend({run:function(h,j,I,z){this.stop(),this._el=h,this._inProgress=!0,this._duration=I||.25,this._easeOutPower=1/Math.max(z||.5,.2),this._startPos=us(h),this._offset=j.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=B(this._animate,this),this._step()},_step:function(h){var j=+new Date-this._startTime,I=this._duration*1e3;j<I?this._runFrame(this._easeOut(j/I),h):(this._runFrame(1),this._complete())},_runFrame:function(h,j){var I=this._startPos.add(this._offset.multiplyBy(h));j&&I._round(),nn(this._el,I),this.fire("step")},_complete:function(){R(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(h){return 1-Math.pow(1-h,this._easeOutPower)}}),Rn=le.extend({options:{crs:we,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(h,j){j=y(this,j),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(h),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),j.maxBounds&&this.setMaxBounds(j.maxBounds),j.zoom!==void 0&&(this._zoom=this._limitZoom(j.zoom)),j.center&&j.zoom!==void 0&&this.setView(re(j.center),j.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Nt&&Gt.any3d&&!Gt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ln(this._proxy,Jt,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(h,j,I){if(j=j===void 0?this._zoom:this._limitZoom(j),h=this._limitCenter(re(h),j,this.options.maxBounds),I=I||{},this._stop(),this._loaded&&!I.reset&&I!==!0){I.animate!==void 0&&(I.zoom=a({animate:I.animate},I.zoom),I.pan=a({animate:I.animate,duration:I.duration},I.pan));var z=this._zoom!==j?this._tryAnimatedZoom&&this._tryAnimatedZoom(h,j,I.zoom):this._tryAnimatedPan(h,I.pan);if(z)return clearTimeout(this._sizeTimer),this}return this._resetView(h,j,I.pan&&I.pan.noMoveStart),this},setZoom:function(h,j){return this._loaded?this.setView(this.getCenter(),h,{zoom:j}):(this._zoom=h,this)},zoomIn:function(h,j){return h=h||(Gt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+h,j)},zoomOut:function(h,j){return h=h||(Gt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-h,j)},setZoomAround:function(h,j,I){var z=this.getZoomScale(j),ae=this.getSize().divideBy(2),be=h instanceof Q?h:this.latLngToContainerPoint(h),$e=be.subtract(ae).multiplyBy(1-1/z),yt=this.containerPointToLatLng(ae.add($e));return this.setView(yt,j,{zoom:I})},_getBoundsCenterZoom:function(h,j){j=j||{},h=h.getBounds?h.getBounds():q(h);var I=ce(j.paddingTopLeft||j.padding||[0,0]),z=ce(j.paddingBottomRight||j.padding||[0,0]),ae=this.getBoundsZoom(h,!1,I.add(z));if(ae=typeof j.maxZoom=="number"?Math.min(j.maxZoom,ae):ae,ae===1/0)return{center:h.getCenter(),zoom:ae};var be=z.subtract(I).divideBy(2),$e=this.project(h.getSouthWest(),ae),yt=this.project(h.getNorthEast(),ae),St=this.unproject($e.add(yt).divideBy(2).add(be),ae);return{center:St,zoom:ae}},fitBounds:function(h,j){if(h=q(h),!h.isValid())throw new Error("Bounds are not valid.");var I=this._getBoundsCenterZoom(h,j);return this.setView(I.center,I.zoom,j)},fitWorld:function(h){return this.fitBounds([[-90,-180],[90,180]],h)},panTo:function(h,j){return this.setView(h,this._zoom,{pan:j})},panBy:function(h,j){if(h=ce(h).round(),j=j||{},!h.x&&!h.y)return this.fire("moveend");if(j.animate!==!0&&!this.getSize().contains(h))return this._resetView(this.unproject(this.project(this.getCenter()).add(h)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new no,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),j.noMoveStart||this.fire("movestart"),j.animate!==!1){Wr(this._mapPane,"leaflet-pan-anim");var I=this._getMapPanePos().subtract(h).round();this._panAnim.run(this._mapPane,I,j.duration||.25,j.easeLinearity)}else this._rawPanBy(h),this.fire("move").fire("moveend");return this},flyTo:function(h,j,I){if(I=I||{},I.animate===!1||!Gt.any3d)return this.setView(h,j,I);this._stop();var z=this.project(this.getCenter()),ae=this.project(h),be=this.getSize(),$e=this._zoom;h=re(h),j=j===void 0?$e:j;var yt=Math.max(be.x,be.y),St=yt*this.getZoomScale($e,j),$t=ae.distanceTo(z)||1,Ir=1.42,rn=Ir*Ir;function Hn(ts){var da=ts?-1:1,vp=ts?St:yt,yp=St*St-yt*yt+da*rn*rn*$t*$t,jc=2*vp*rn*$t,Nc=yp/jc,Cc=Math.sqrt(Nc*Nc+1)-Nc,Ru=Cc<1e-9?-18:Math.log(Cc);return Ru}function ca(ts){return(Math.exp(ts)-Math.exp(-ts))/2}function Ti(ts){return(Math.exp(ts)+Math.exp(-ts))/2}function No(ts){return ca(ts)/Ti(ts)}var oo=Hn(0);function Jd(ts){return yt*(Ti(oo)/Ti(oo+Ir*ts))}function kh(ts){return yt*(Ti(oo)*No(oo+Ir*ts)-ca(oo))/rn}function Ga(ts){return 1-Math.pow(1-ts,1.5)}var Mo=Date.now(),qa=(Hn(1)-oo)/Ir,Fl=I.duration?1e3*I.duration:1e3*qa*.8;function Zc(){var ts=(Date.now()-Mo)/Fl,da=Ga(ts)*qa;ts<=1?(this._flyToFrame=B(Zc,this),this._move(this.unproject(z.add(ae.subtract(z).multiplyBy(kh(da)/$t)),$e),this.getScaleZoom(yt/Jd(da),$e),{flyTo:!0})):this._move(h,j)._moveEnd(!0)}return this._moveStart(!0,I.noMoveStart),Zc.call(this),this},flyToBounds:function(h,j){var I=this._getBoundsCenterZoom(h,j);return this.flyTo(I.center,I.zoom,j)},setMaxBounds:function(h){return h=q(h),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),h.isValid()?(this.options.maxBounds=h,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(h){var j=this.options.minZoom;return this.options.minZoom=h,this._loaded&&j!==h&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(h):this},setMaxZoom:function(h){var j=this.options.maxZoom;return this.options.maxZoom=h,this._loaded&&j!==h&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(h):this},panInsideBounds:function(h,j){this._enforcingBounds=!0;var I=this.getCenter(),z=this._limitCenter(I,this._zoom,q(h));return I.equals(z)||this.panTo(z,j),this._enforcingBounds=!1,this},panInside:function(h,j){j=j||{};var I=ce(j.paddingTopLeft||j.padding||[0,0]),z=ce(j.paddingBottomRight||j.padding||[0,0]),ae=this.project(this.getCenter()),be=this.project(h),$e=this.getPixelBounds(),yt=M([$e.min.add(I),$e.max.subtract(z)]),St=yt.getSize();if(!yt.contains(be)){this._enforcingBounds=!0;var $t=be.subtract(yt.getCenter()),Ir=yt.extend(be).getSize().subtract(St);ae.x+=$t.x<0?-Ir.x:Ir.x,ae.y+=$t.y<0?-Ir.y:Ir.y,this.panTo(this.unproject(ae),j),this._enforcingBounds=!1}return this},invalidateSize:function(h){if(!this._loaded)return this;h=a({animate:!1,pan:!0},h===!0?{animate:!0}:h);var j=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var I=this.getSize(),z=j.divideBy(2).round(),ae=I.divideBy(2).round(),be=z.subtract(ae);return!be.x&&!be.y?this:(h.animate&&h.pan?this.panBy(be):(h.pan&&this._rawPanBy(be),this.fire("move"),h.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:j,newSize:I}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(h){if(h=this._locateOptions=a({timeout:1e4,watch:!1},h),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var j=o(this._handleGeolocationResponse,this),I=o(this._handleGeolocationError,this);return h.watch?this._locationWatchId=navigator.geolocation.watchPosition(j,I,h):navigator.geolocation.getCurrentPosition(j,I,h),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(h){if(this._container._leaflet_id){var j=h.code,I=h.message||(j===1?"permission denied":j===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:j,message:"Geolocation error: "+I+"."})}},_handleGeolocationResponse:function(h){if(this._container._leaflet_id){var j=h.coords.latitude,I=h.coords.longitude,z=new se(j,I),ae=z.toBounds(h.coords.accuracy*2),be=this._locateOptions;if(be.setView){var $e=this.getBoundsZoom(ae);this.setView(z,be.maxZoom?Math.min($e,be.maxZoom):$e)}var yt={latlng:z,bounds:ae,timestamp:h.timestamp};for(var St in h.coords)typeof h.coords[St]=="number"&&(yt[St]=h.coords[St]);this.fire("locationfound",yt)}},addHandler:function(h,j){if(!j)return this;var I=this[h]=new j(this);return this._handlers.push(I),this.options[h]&&I.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Y(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(R(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var h;for(h in this._layers)this._layers[h].remove();for(h in this._panes)Y(this._panes[h]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(h,j){var I="leaflet-pane"+(h?" leaflet-"+h.replace("Pane","")+"-pane":""),z=Kr("div",I,j||this._mapPane);return h&&(this._panes[h]=z),z},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var h=this.getPixelBounds(),j=this.unproject(h.getBottomLeft()),I=this.unproject(h.getTopRight());return new E(j,I)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(h,j,I){h=q(h),I=ce(I||[0,0]);var z=this.getZoom()||0,ae=this.getMinZoom(),be=this.getMaxZoom(),$e=h.getNorthWest(),yt=h.getSouthEast(),St=this.getSize().subtract(I),$t=M(this.project(yt,z),this.project($e,z)).getSize(),Ir=Gt.any3d?this.options.zoomSnap:1,rn=St.x/$t.x,Hn=St.y/$t.y,ca=j?Math.max(rn,Hn):Math.min(rn,Hn);return z=this.getScaleZoom(ca,z),Ir&&(z=Math.round(z/(Ir/100))*(Ir/100),z=j?Math.ceil(z/Ir)*Ir:Math.floor(z/Ir)*Ir),Math.max(ae,Math.min(be,z))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Q(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(h,j){var I=this._getTopLeftPoint(h,j);return new ee(I,I.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(h){return this.options.crs.getProjectedBounds(h===void 0?this.getZoom():h)},getPane:function(h){return typeof h=="string"?this._panes[h]:h},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(h,j){var I=this.options.crs;return j=j===void 0?this._zoom:j,I.scale(h)/I.scale(j)},getScaleZoom:function(h,j){var I=this.options.crs;j=j===void 0?this._zoom:j;var z=I.zoom(h*I.scale(j));return isNaN(z)?1/0:z},project:function(h,j){return j=j===void 0?this._zoom:j,this.options.crs.latLngToPoint(re(h),j)},unproject:function(h,j){return j=j===void 0?this._zoom:j,this.options.crs.pointToLatLng(ce(h),j)},layerPointToLatLng:function(h){var j=ce(h).add(this.getPixelOrigin());return this.unproject(j)},latLngToLayerPoint:function(h){var j=this.project(re(h))._round();return j._subtract(this.getPixelOrigin())},wrapLatLng:function(h){return this.options.crs.wrapLatLng(re(h))},wrapLatLngBounds:function(h){return this.options.crs.wrapLatLngBounds(q(h))},distance:function(h,j){return this.options.crs.distance(re(h),re(j))},containerPointToLayerPoint:function(h){return ce(h).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(h){return ce(h).add(this._getMapPanePos())},containerPointToLatLng:function(h){var j=this.containerPointToLayerPoint(ce(h));return this.layerPointToLatLng(j)},latLngToContainerPoint:function(h){return this.layerPointToContainerPoint(this.latLngToLayerPoint(re(h)))},mouseEventToContainerPoint:function(h){return tn(h,this._container)},mouseEventToLayerPoint:function(h){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(h))},mouseEventToLatLng:function(h){return this.layerPointToLatLng(this.mouseEventToLayerPoint(h))},_initContainer:function(h){var j=this._container=Pr(h);if(j){if(j._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ln(j,"scroll",this._onScroll,this),this._containerId=c(j)},_initLayout:function(){var h=this._container;this._fadeAnimated=this.options.fadeAnimation&&Gt.any3d,Wr(h,"leaflet-container"+(Gt.touch?" leaflet-touch":"")+(Gt.retina?" leaflet-retina":"")+(Gt.ielt9?" leaflet-oldie":"")+(Gt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var j=Cn(h,"position");j!=="absolute"&&j!=="relative"&&j!=="fixed"&&j!=="sticky"&&(h.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var h=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),nn(this._mapPane,new Q(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Wr(h.markerPane,"leaflet-zoom-hide"),Wr(h.shadowPane,"leaflet-zoom-hide"))},_resetView:function(h,j,I){nn(this._mapPane,new Q(0,0));var z=!this._loaded;this._loaded=!0,j=this._limitZoom(j),this.fire("viewprereset");var ae=this._zoom!==j;this._moveStart(ae,I)._move(h,j)._moveEnd(ae),this.fire("viewreset"),z&&this.fire("load")},_moveStart:function(h,j){return h&&this.fire("zoomstart"),j||this.fire("movestart"),this},_move:function(h,j,I,z){j===void 0&&(j=this._zoom);var ae=this._zoom!==j;return this._zoom=j,this._lastCenter=h,this._pixelOrigin=this._getNewPixelOrigin(h),z?I&&I.pinch&&this.fire("zoom",I):((ae||I&&I.pinch)&&this.fire("zoom",I),this.fire("move",I)),this},_moveEnd:function(h){return h&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return R(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(h){nn(this._mapPane,this._getMapPanePos().subtract(h))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(h){this._targets={},this._targets[c(this._container)]=this;var j=h?Vn:ln;j(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&j(window,"resize",this._onResize,this),Gt.any3d&&this.options.transform3DLimit&&(h?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){R(this._resizeRequest),this._resizeRequest=B(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var h=this._getMapPanePos();Math.max(Math.abs(h.x),Math.abs(h.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(h,j){for(var I=[],z,ae=j==="mouseout"||j==="mouseover",be=h.target||h.srcElement,$e=!1;be;){if(z=this._targets[c(be)],z&&(j==="click"||j==="preclick")&&this._draggableMoved(z)){$e=!0;break}if(z&&z.listens(j,!0)&&(ae&&!ci(be,h)||(I.push(z),ae))||be===this._container)break;be=be.parentNode}return!I.length&&!$e&&!ae&&this.listens(j,!0)&&(I=[this]),I},_isClickDisabled:function(h){for(;h&&h!==this._container;){if(h._leaflet_disable_click)return!0;h=h.parentNode}},_handleDOMEvent:function(h){var j=h.target||h.srcElement;if(!(!this._loaded||j._leaflet_disable_events||h.type==="click"&&this._isClickDisabled(j))){var I=h.type;I==="mousedown"&&ro(j),this._fireDOMEvent(h,I)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(h,j,I){if(h.type==="click"){var z=a({},h);z.type="preclick",this._fireDOMEvent(z,z.type,I)}var ae=this._findEventTargets(h,j);if(I){for(var be=[],$e=0;$e<I.length;$e++)I[$e].listens(j,!0)&&be.push(I[$e]);ae=be.concat(ae)}if(ae.length){j==="contextmenu"&&Wt(h);var yt=ae[0],St={originalEvent:h};if(h.type!=="keypress"&&h.type!=="keydown"&&h.type!=="keyup"){var $t=yt.getLatLng&&(!yt._radius||yt._radius<=10);St.containerPoint=$t?this.latLngToContainerPoint(yt.getLatLng()):this.mouseEventToContainerPoint(h),St.layerPoint=this.containerPointToLayerPoint(St.containerPoint),St.latlng=$t?yt.getLatLng():this.layerPointToLatLng(St.layerPoint)}for($e=0;$e<ae.length;$e++)if(ae[$e].fire(j,St,!0),St.originalEvent._stopped||ae[$e].options.bubblingMouseEvents===!1&&k(this._mouseEvents,j)!==-1)return}},_draggableMoved:function(h){return h=h.dragging&&h.dragging.enabled()?h:this,h.dragging&&h.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var h=0,j=this._handlers.length;h<j;h++)this._handlers[h].disable()},whenReady:function(h,j){return this._loaded?h.call(j||this,{target:this}):this.on("load",h,j),this},_getMapPanePos:function(){return us(this._mapPane)||new Q(0,0)},_moved:function(){var h=this._getMapPanePos();return h&&!h.equals([0,0])},_getTopLeftPoint:function(h,j){var I=h&&j!==void 0?this._getNewPixelOrigin(h,j):this.getPixelOrigin();return I.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(h,j){var I=this.getSize()._divideBy(2);return this.project(h,j)._subtract(I)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(h,j,I){var z=this._getNewPixelOrigin(I,j);return this.project(h,j)._subtract(z)},_latLngBoundsToNewLayerBounds:function(h,j,I){var z=this._getNewPixelOrigin(I,j);return M([this.project(h.getSouthWest(),j)._subtract(z),this.project(h.getNorthWest(),j)._subtract(z),this.project(h.getSouthEast(),j)._subtract(z),this.project(h.getNorthEast(),j)._subtract(z)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(h){return this.latLngToLayerPoint(h).subtract(this._getCenterLayerPoint())},_limitCenter:function(h,j,I){if(!I)return h;var z=this.project(h,j),ae=this.getSize().divideBy(2),be=new ee(z.subtract(ae),z.add(ae)),$e=this._getBoundsOffset(be,I,j);return Math.abs($e.x)<=1&&Math.abs($e.y)<=1?h:this.unproject(z.add($e),j)},_limitOffset:function(h,j){if(!j)return h;var I=this.getPixelBounds(),z=new ee(I.min.add(h),I.max.add(h));return h.add(this._getBoundsOffset(z,j))},_getBoundsOffset:function(h,j,I){var z=M(this.project(j.getNorthEast(),I),this.project(j.getSouthWest(),I)),ae=z.min.subtract(h.min),be=z.max.subtract(h.max),$e=this._rebound(ae.x,-be.x),yt=this._rebound(ae.y,-be.y);return new Q($e,yt)},_rebound:function(h,j){return h+j>0?Math.round(h-j)/2:Math.max(0,Math.ceil(h))-Math.max(0,Math.floor(j))},_limitZoom:function(h){var j=this.getMinZoom(),I=this.getMaxZoom(),z=Gt.any3d?this.options.zoomSnap:1;return z&&(h=Math.round(h/z)*z),Math.max(j,Math.min(I,h))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){wn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(h,j){var I=this._getCenterOffset(h)._trunc();return(j&&j.animate)!==!0&&!this.getSize().contains(I)?!1:(this.panBy(I,j),!0)},_createAnimProxy:function(){var h=this._proxy=Kr("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(h),this.on("zoomanim",function(j){var I=Te,z=this._proxy.style[I];on(this._proxy,this.project(j.center,j.zoom),this.getZoomScale(j.zoom,1)),z===this._proxy.style[I]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Y(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var h=this.getCenter(),j=this.getZoom();on(this._proxy,this.project(h,j),this.getZoomScale(j,1))},_catchTransitionEnd:function(h){this._animatingZoom&&h.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(h,j,I){if(this._animatingZoom)return!0;if(I=I||{},!this._zoomAnimated||I.animate===!1||this._nothingToAnimate()||Math.abs(j-this._zoom)>this.options.zoomAnimationThreshold)return!1;var z=this.getZoomScale(j),ae=this._getCenterOffset(h)._divideBy(1-1/z);return I.animate!==!0&&!this.getSize().contains(ae)?!1:(B(function(){this._moveStart(!0,I.noMoveStart||!1)._animateZoom(h,j,!0)},this),!0)},_animateZoom:function(h,j,I,z){this._mapPane&&(I&&(this._animatingZoom=!0,this._animateToCenter=h,this._animateToZoom=j,Wr(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:h,zoom:j,noUpdate:z}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&wn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function so(h,j){return new Rn(h,j)}var me=te.extend({options:{position:"topright"},initialize:function(h){y(this,h)},getPosition:function(){return this.options.position},setPosition:function(h){var j=this._map;return j&&j.removeControl(this),this.options.position=h,j&&j.addControl(this),this},getContainer:function(){return this._container},addTo:function(h){this.remove(),this._map=h;var j=this._container=this.onAdd(h),I=this.getPosition(),z=h._controlCorners[I];return Wr(j,"leaflet-control"),I.indexOf("bottom")!==-1?z.insertBefore(j,z.firstChild):z.appendChild(j),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Y(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(h){this._map&&h&&h.screenX>0&&h.screenY>0&&this._map.getContainer().focus()}}),At=function(h){return new me(h)};Rn.include({addControl:function(h){return h.addTo(this),this},removeControl:function(h){return h.remove(),this},_initControlPos:function(){var h=this._controlCorners={},j="leaflet-",I=this._controlContainer=Kr("div",j+"control-container",this._container);function z(ae,be){var $e=j+ae+" "+j+be;h[ae+be]=Kr("div",$e,I)}z("top","left"),z("top","right"),z("bottom","left"),z("bottom","right")},_clearControlPos:function(){for(var h in this._controlCorners)Y(this._controlCorners[h]);Y(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var lr=me.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(h,j,I,z){return I<z?-1:z<I?1:0}},initialize:function(h,j,I){y(this,I),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var z in h)this._addLayer(h[z],z);for(z in j)this._addLayer(j[z],z,!0)},onAdd:function(h){this._initLayout(),this._update(),this._map=h,h.on("zoomend",this._checkDisabledLayers,this);for(var j=0;j<this._layers.length;j++)this._layers[j].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(h){return me.prototype.addTo.call(this,h),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(h,j){return this._addLayer(h,j),this._map?this._update():this},addOverlay:function(h,j){return this._addLayer(h,j,!0),this._map?this._update():this},removeLayer:function(h){h.off("add remove",this._onLayerChange,this);var j=this._getLayer(c(h));return j&&this._layers.splice(this._layers.indexOf(j),1),this._map?this._update():this},expand:function(){Wr(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var h=this._map.getSize().y-(this._container.offsetTop+50);return h<this._section.clientHeight?(Wr(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=h+"px"):wn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return wn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var h="leaflet-control-layers",j=this._container=Kr("div",h),I=this.options.collapsed;j.setAttribute("aria-haspopup",!0),pt(j),he(j);var z=this._section=Kr("section",h+"-list");I&&(this._map.on("click",this.collapse,this),ln(j,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var ae=this._layersLink=Kr("a",h+"-toggle",j);ae.href="#",ae.title="Layers",ae.setAttribute("role","button"),ln(ae,{keydown:function(be){be.keyCode===13&&this._expandSafely()},click:function(be){Wt(be),this._expandSafely()}},this),I||this.expand(),this._baseLayersList=Kr("div",h+"-base",z),this._separator=Kr("div",h+"-separator",z),this._overlaysList=Kr("div",h+"-overlays",z),j.appendChild(z)},_getLayer:function(h){for(var j=0;j<this._layers.length;j++)if(this._layers[j]&&c(this._layers[j].layer)===h)return this._layers[j]},_addLayer:function(h,j,I){this._map&&h.on("add remove",this._onLayerChange,this),this._layers.push({layer:h,name:j,overlay:I}),this.options.sortLayers&&this._layers.sort(o(function(z,ae){return this.options.sortFunction(z.layer,ae.layer,z.name,ae.name)},this)),this.options.autoZIndex&&h.setZIndex&&(this._lastZIndex++,h.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ls(this._baseLayersList),Ls(this._overlaysList),this._layerControlInputs=[];var h,j,I,z,ae=0;for(I=0;I<this._layers.length;I++)z=this._layers[I],this._addItem(z),j=j||z.overlay,h=h||!z.overlay,ae+=z.overlay?0:1;return this.options.hideSingleBase&&(h=h&&ae>1,this._baseLayersList.style.display=h?"":"none"),this._separator.style.display=j&&h?"":"none",this},_onLayerChange:function(h){this._handlingClick||this._update();var j=this._getLayer(c(h.target)),I=j.overlay?h.type==="add"?"overlayadd":"overlayremove":h.type==="add"?"baselayerchange":null;I&&this._map.fire(I,j)},_createRadioElement:function(h,j){var I='<input type="radio" class="leaflet-control-layers-selector" name="'+h+'"'+(j?' checked="checked"':"")+"/>",z=document.createElement("div");return z.innerHTML=I,z.firstChild},_addItem:function(h){var j=document.createElement("label"),I=this._map.hasLayer(h.layer),z;h.overlay?(z=document.createElement("input"),z.type="checkbox",z.className="leaflet-control-layers-selector",z.defaultChecked=I):z=this._createRadioElement("leaflet-base-layers_"+c(this),I),this._layerControlInputs.push(z),z.layerId=c(h.layer),ln(z,"click",this._onInputClick,this);var ae=document.createElement("span");ae.innerHTML=" "+h.name;var be=document.createElement("span");j.appendChild(be),be.appendChild(z),be.appendChild(ae);var $e=h.overlay?this._overlaysList:this._baseLayersList;return $e.appendChild(j),this._checkDisabledLayers(),j},_onInputClick:function(){if(!this._preventClick){var h=this._layerControlInputs,j,I,z=[],ae=[];this._handlingClick=!0;for(var be=h.length-1;be>=0;be--)j=h[be],I=this._getLayer(j.layerId).layer,j.checked?z.push(I):j.checked||ae.push(I);for(be=0;be<ae.length;be++)this._map.hasLayer(ae[be])&&this._map.removeLayer(ae[be]);for(be=0;be<z.length;be++)this._map.hasLayer(z[be])||this._map.addLayer(z[be]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var h=this._layerControlInputs,j,I,z=this._map.getZoom(),ae=h.length-1;ae>=0;ae--)j=h[ae],I=this._getLayer(j.layerId).layer,j.disabled=I.options.minZoom!==void 0&&z<I.options.minZoom||I.options.maxZoom!==void 0&&z>I.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var h=this._section;this._preventClick=!0,ln(h,"click",Wt),this.expand();var j=this;setTimeout(function(){Vn(h,"click",Wt),j._preventClick=!1})}}),br=function(h,j,I){return new lr(h,j,I)},Qn=me.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(h){var j="leaflet-control-zoom",I=Kr("div",j+" leaflet-bar"),z=this.options;return this._zoomInButton=this._createButton(z.zoomInText,z.zoomInTitle,j+"-in",I,this._zoomIn),this._zoomOutButton=this._createButton(z.zoomOutText,z.zoomOutTitle,j+"-out",I,this._zoomOut),this._updateDisabled(),h.on("zoomend zoomlevelschange",this._updateDisabled,this),I},onRemove:function(h){h.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(h){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(h.shiftKey?3:1))},_zoomOut:function(h){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(h.shiftKey?3:1))},_createButton:function(h,j,I,z,ae){var be=Kr("a",I,z);return be.innerHTML=h,be.href="#",be.title=j,be.setAttribute("role","button"),be.setAttribute("aria-label",j),pt(be),ln(be,"click",Ar),ln(be,"click",ae,this),ln(be,"click",this._refocusOnMap,this),be},_updateDisabled:function(){var h=this._map,j="leaflet-disabled";wn(this._zoomInButton,j),wn(this._zoomOutButton,j),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||h._zoom===h.getMinZoom())&&(Wr(this._zoomOutButton,j),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||h._zoom===h.getMaxZoom())&&(Wr(this._zoomInButton,j),this._zoomInButton.setAttribute("aria-disabled","true"))}});Rn.mergeOptions({zoomControl:!0}),Rn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Qn,this.addControl(this.zoomControl))});var Vr=function(h){return new Qn(h)},In=me.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(h){var j="leaflet-control-scale",I=Kr("div",j),z=this.options;return this._addScales(z,j+"-line",I),h.on(z.updateWhenIdle?"moveend":"move",this._update,this),h.whenReady(this._update,this),I},onRemove:function(h){h.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(h,j,I){h.metric&&(this._mScale=Kr("div",j,I)),h.imperial&&(this._iScale=Kr("div",j,I))},_update:function(){var h=this._map,j=h.getSize().y/2,I=h.distance(h.containerPointToLatLng([0,j]),h.containerPointToLatLng([this.options.maxWidth,j]));this._updateScales(I)},_updateScales:function(h){this.options.metric&&h&&this._updateMetric(h),this.options.imperial&&h&&this._updateImperial(h)},_updateMetric:function(h){var j=this._getRoundNum(h),I=j<1e3?j+" m":j/1e3+" km";this._updateScale(this._mScale,I,j/h)},_updateImperial:function(h){var j=h*3.2808399,I,z,ae;j>5280?(I=j/5280,z=this._getRoundNum(I),this._updateScale(this._iScale,z+" mi",z/I)):(ae=this._getRoundNum(j),this._updateScale(this._iScale,ae+" ft",ae/j))},_updateScale:function(h,j,I){h.style.width=Math.round(this.options.maxWidth*I)+"px",h.innerHTML=j},_getRoundNum:function(h){var j=Math.pow(10,(Math.floor(h)+"").length-1),I=h/j;return I=I>=10?10:I>=5?5:I>=3?3:I>=2?2:1,j*I}}),zi=function(h){return new In(h)},sa='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Wa=me.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Gt.inlineSvg?sa+" ":"")+"Leaflet</a>"},initialize:function(h){y(this,h),this._attributions={}},onAdd:function(h){h.attributionControl=this,this._container=Kr("div","leaflet-control-attribution"),pt(this._container);for(var j in h._layers)h._layers[j].getAttribution&&this.addAttribution(h._layers[j].getAttribution());return this._update(),h.on("layeradd",this._addAttribution,this),this._container},onRemove:function(h){h.off("layeradd",this._addAttribution,this)},_addAttribution:function(h){h.layer.getAttribution&&(this.addAttribution(h.layer.getAttribution()),h.layer.once("remove",function(){this.removeAttribution(h.layer.getAttribution())},this))},setPrefix:function(h){return this.options.prefix=h,this._update(),this},addAttribution:function(h){return h?(this._attributions[h]||(this._attributions[h]=0),this._attributions[h]++,this._update(),this):this},removeAttribution:function(h){return h?(this._attributions[h]&&(this._attributions[h]--,this._update()),this):this},_update:function(){if(this._map){var h=[];for(var j in this._attributions)this._attributions[j]&&h.push(j);var I=[];this.options.prefix&&I.push(this.options.prefix),h.length&&I.push(h.join(", ")),this._container.innerHTML=I.join(' <span aria-hidden="true">|</span> ')}}});Rn.mergeOptions({attributionControl:!0}),Rn.addInitHook(function(){this.options.attributionControl&&new Wa().addTo(this)});var Xl=function(h){return new Wa(h)};me.Layers=lr,me.Zoom=Qn,me.Scale=In,me.Attribution=Wa,At.layers=br,At.zoom=Vr,At.scale=zi,At.attribution=Xl;var Ea=te.extend({initialize:function(h){this._map=h},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ea.addTo=function(h,j){return h.addHandler(j,this),this};var Md={Events:de},sl=Gt.touch?"touchstart mousedown":"mousedown",$a=le.extend({options:{clickTolerance:3},initialize:function(h,j,I,z){y(this,z),this._element=h,this._dragStartTarget=j||h,this._preventOutline=I},enable:function(){this._enabled||(ln(this._dragStartTarget,sl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&($a._dragging===this&&this.finishDrag(!0),Vn(this._dragStartTarget,sl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(h){if(this._enabled&&(this._moved=!1,!gi(this._element,"leaflet-zoom-anim"))){if(h.touches&&h.touches.length!==1){$a._dragging===this&&this.finishDrag();return}if(!($a._dragging||h.shiftKey||h.which!==1&&h.button!==1&&!h.touches)&&($a._dragging=this,this._preventOutline&&ro(this._element),go(),fn(),!this._moving)){this.fire("down");var j=h.touches?h.touches[0]:h,I=Si(this._element);this._startPoint=new Q(j.clientX,j.clientY),this._startPos=us(this._element),this._parentScale=Bi(I);var z=h.type==="mousedown";ln(document,z?"mousemove":"touchmove",this._onMove,this),ln(document,z?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(h){if(this._enabled){if(h.touches&&h.touches.length>1){this._moved=!0;return}var j=h.touches&&h.touches.length===1?h.touches[0]:h,I=new Q(j.clientX,j.clientY)._subtract(this._startPoint);!I.x&&!I.y||Math.abs(I.x)+Math.abs(I.y)<this.options.clickTolerance||(I.x/=this._parentScale.x,I.y/=this._parentScale.y,Wt(h),this._moved||(this.fire("dragstart"),this._moved=!0,Wr(document.body,"leaflet-dragging"),this._lastTarget=h.target||h.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Wr(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(I),this._moving=!0,this._lastEvent=h,this._updatePosition())}},_updatePosition:function(){var h={originalEvent:this._lastEvent};this.fire("predrag",h),nn(this._element,this._newPos),this.fire("drag",h)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(h){wn(document.body,"leaflet-dragging"),this._lastTarget&&(wn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Vn(document,"mousemove touchmove",this._onMove,this),Vn(document,"mouseup touchend touchcancel",this._onUp,this),na(),Hs();var j=this._moved&&this._moving;this._moving=!1,$a._dragging=!1,j&&this.fire("dragend",{noInertia:h,distance:this._newPos.distanceTo(this._startPos)})}});function $c(h,j,I){var z,ae=[1,4,2,8],be,$e,yt,St,$t,Ir,rn,Hn;for(be=0,Ir=h.length;be<Ir;be++)h[be]._code=Dt(h[be],j);for(yt=0;yt<4;yt++){for(rn=ae[yt],z=[],be=0,Ir=h.length,$e=Ir-1;be<Ir;$e=be++)St=h[be],$t=h[$e],St._code&rn?$t._code&rn||(Hn=ft($t,St,rn,j,I),Hn._code=Dt(Hn,j),z.push(Hn)):($t._code&rn&&(Hn=ft($t,St,rn,j,I),Hn._code=Dt(Hn,j),z.push(Hn)),z.push(St));h=z}return h}function ku(h,j){var I,z,ae,be,$e,yt,St,$t,Ir;if(!h||h.length===0)throw new Error("latlngs not passed");Or(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var rn=re([0,0]),Hn=q(h),ca=Hn.getNorthWest().distanceTo(Hn.getSouthWest())*Hn.getNorthEast().distanceTo(Hn.getNorthWest());ca<1700&&(rn=Pu(h));var Ti=h.length,No=[];for(I=0;I<Ti;I++){var oo=re(h[I]);No.push(j.project(re([oo.lat-rn.lat,oo.lng-rn.lng])))}for(yt=St=$t=0,I=0,z=Ti-1;I<Ti;z=I++)ae=No[I],be=No[z],$e=ae.y*be.x-be.y*ae.x,St+=(ae.x+be.x)*$e,$t+=(ae.y+be.y)*$e,yt+=$e*3;yt===0?Ir=No[0]:Ir=[St/yt,$t/yt];var Jd=j.unproject(ce(Ir));return re([Jd.lat+rn.lat,Jd.lng+rn.lng])}function Pu(h){for(var j=0,I=0,z=0,ae=0;ae<h.length;ae++){var be=re(h[ae]);j+=be.lat,I+=be.lng,z++}return re([j/z,I/z])}var Ud={__proto__:null,clipPolygon:$c,polygonCenter:ku,centroid:Pu};function Sl(h,j){if(!j||!h.length)return h.slice();var I=j*j;return h=pe(h,I),h=Du(h,I),h}function Qd(h,j,I){return Math.sqrt(Sr(h,j,I,!0))}function xc(h,j,I){return Sr(h,j,I)}function Du(h,j){var I=h.length,z=typeof Uint8Array<"u"?Uint8Array:Array,ae=new z(I);ae[0]=ae[I-1]=1,O(h,ae,j,0,I-1);var be,$e=[];for(be=0;be<I;be++)ae[be]&&$e.push(h[be]);return $e}function O(h,j,I,z,ae){var be=0,$e,yt,St;for(yt=z+1;yt<=ae-1;yt++)St=Sr(h[yt],h[z],h[ae],!0),St>be&&($e=yt,be=St);be>I&&(j[$e]=1,O(h,j,I,z,$e),O(h,j,I,$e,ae))}function pe(h,j){for(var I=[h[0]],z=1,ae=0,be=h.length;z<be;z++)Zt(h[z],h[ae])>j&&(I.push(h[z]),ae=z);return ae<be-1&&I.push(h[be-1]),I}var De;function qe(h,j,I,z,ae){var be=z?De:Dt(h,I),$e=Dt(j,I),yt,St,$t;for(De=$e;;){if(!(be|$e))return[h,j];if(be&$e)return!1;yt=be||$e,St=ft(h,j,yt,I,ae),$t=Dt(St,I),yt===be?(h=St,be=$t):(j=St,$e=$t)}}function ft(h,j,I,z,ae){var be=j.x-h.x,$e=j.y-h.y,yt=z.min,St=z.max,$t,Ir;return I&8?($t=h.x+be*(St.y-h.y)/$e,Ir=St.y):I&4?($t=h.x+be*(yt.y-h.y)/$e,Ir=yt.y):I&2?($t=St.x,Ir=h.y+$e*(St.x-h.x)/be):I&1&&($t=yt.x,Ir=h.y+$e*(yt.x-h.x)/be),new Q($t,Ir,ae)}function Dt(h,j){var I=0;return h.x<j.min.x?I|=1:h.x>j.max.x&&(I|=2),h.y<j.min.y?I|=4:h.y>j.max.y&&(I|=8),I}function Zt(h,j){var I=j.x-h.x,z=j.y-h.y;return I*I+z*z}function Sr(h,j,I,z){var ae=j.x,be=j.y,$e=I.x-ae,yt=I.y-be,St=$e*$e+yt*yt,$t;return St>0&&($t=((h.x-ae)*$e+(h.y-be)*yt)/St,$t>1?(ae=I.x,be=I.y):$t>0&&(ae+=$e*$t,be+=yt*$t)),$e=h.x-ae,yt=h.y-be,z?$e*$e+yt*yt:new Q(ae,be)}function Or(h){return!S(h[0])||typeof h[0][0]!="object"&&typeof h[0][0]<"u"}function Bn(h){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Or(h)}function _n(h,j){var I,z,ae,be,$e,yt,St,$t;if(!h||h.length===0)throw new Error("latlngs not passed");Or(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var Ir=re([0,0]),rn=q(h),Hn=rn.getNorthWest().distanceTo(rn.getSouthWest())*rn.getNorthEast().distanceTo(rn.getNorthWest());Hn<1700&&(Ir=Pu(h));var ca=h.length,Ti=[];for(I=0;I<ca;I++){var No=re(h[I]);Ti.push(j.project(re([No.lat-Ir.lat,No.lng-Ir.lng])))}for(I=0,z=0;I<ca-1;I++)z+=Ti[I].distanceTo(Ti[I+1])/2;if(z===0)$t=Ti[0];else for(I=0,be=0;I<ca-1;I++)if($e=Ti[I],yt=Ti[I+1],ae=$e.distanceTo(yt),be+=ae,be>z){St=(be-z)/ae,$t=[yt.x-St*(yt.x-$e.x),yt.y-St*(yt.y-$e.y)];break}var oo=j.unproject(ce($t));return re([oo.lat+Ir.lat,oo.lng+Ir.lng])}var es={__proto__:null,simplify:Sl,pointToSegmentDistance:Qd,closestPointOnSegment:xc,clipSegment:qe,_getEdgeIntersection:ft,_getBitCode:Dt,_sqClosestPointOnSegment:Sr,isFlat:Or,_flat:Bn,polylineCenter:_n},zs={project:function(h){return new Q(h.lng,h.lat)},unproject:function(h){return new se(h.y,h.x)},bounds:new ee([-180,-90],[180,90])},$s={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ee([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(h){var j=Math.PI/180,I=this.R,z=h.lat*j,ae=this.R_MINOR/I,be=Math.sqrt(1-ae*ae),$e=be*Math.sin(z),yt=Math.tan(Math.PI/4-z/2)/Math.pow((1-$e)/(1+$e),be/2);return z=-I*Math.log(Math.max(yt,1e-10)),new Q(h.lng*j*I,z)},unproject:function(h){for(var j=180/Math.PI,I=this.R,z=this.R_MINOR/I,ae=Math.sqrt(1-z*z),be=Math.exp(-h.y/I),$e=Math.PI/2-2*Math.atan(be),yt=0,St=.1,$t;yt<15&&Math.abs(St)>1e-7;yt++)$t=ae*Math.sin($e),$t=Math.pow((1-$t)/(1+$t),ae/2),St=Math.PI/2-2*Math.atan(be*$t)-$e,$e+=St;return new se($e*j,h.x*j/I)}},vi={__proto__:null,LonLat:zs,Mercator:$s,SphericalMercator:Ee},Ia=a({},ue,{code:"EPSG:3395",projection:$s,transformation:function(){var h=.5/(Math.PI*$s.R);return rt(h,.5,-h,.5)}()}),Ei=a({},ue,{code:"EPSG:4326",projection:zs,transformation:rt(1/180,1,-1/180,.5)}),il=a({},G,{projection:zs,transformation:rt(1,0,-1,0),scale:function(h){return Math.pow(2,h)},zoom:function(h){return Math.log(h)/Math.LN2},distance:function(h,j){var I=j.lng-h.lng,z=j.lat-h.lat;return Math.sqrt(I*I+z*z)},infinite:!0});G.Earth=ue,G.EPSG3395=Ia,G.EPSG3857=we,G.EPSG900913=Ve,G.EPSG4326=Ei,G.Simple=il;var Xs=le.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(h){return h.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(h){return h&&h.removeLayer(this),this},getPane:function(h){return this._map.getPane(h?this.options[h]||h:this.options.pane)},addInteractiveTarget:function(h){return this._map._targets[c(h)]=this,this},removeInteractiveTarget:function(h){return delete this._map._targets[c(h)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(h){var j=h.target;if(j.hasLayer(this)){if(this._map=j,this._zoomAnimated=j._zoomAnimated,this.getEvents){var I=this.getEvents();j.on(I,this),this.once("remove",function(){j.off(I,this)},this)}this.onAdd(j),this.fire("add"),j.fire("layeradd",{layer:this})}}});Rn.include({addLayer:function(h){if(!h._layerAdd)throw new Error("The provided object is not a Layer.");var j=c(h);return this._layers[j]?this:(this._layers[j]=h,h._mapToAdd=this,h.beforeAdd&&h.beforeAdd(this),this.whenReady(h._layerAdd,h),this)},removeLayer:function(h){var j=c(h);return this._layers[j]?(this._loaded&&h.onRemove(this),delete this._layers[j],this._loaded&&(this.fire("layerremove",{layer:h}),h.fire("remove")),h._map=h._mapToAdd=null,this):this},hasLayer:function(h){return c(h)in this._layers},eachLayer:function(h,j){for(var I in this._layers)h.call(j,this._layers[I]);return this},_addLayers:function(h){h=h?S(h)?h:[h]:[];for(var j=0,I=h.length;j<I;j++)this.addLayer(h[j])},_addZoomLimit:function(h){(!isNaN(h.options.maxZoom)||!isNaN(h.options.minZoom))&&(this._zoomBoundLayers[c(h)]=h,this._updateZoomLevels())},_removeZoomLimit:function(h){var j=c(h);this._zoomBoundLayers[j]&&(delete this._zoomBoundLayers[j],this._updateZoomLevels())},_updateZoomLevels:function(){var h=1/0,j=-1/0,I=this._getZoomSpan();for(var z in this._zoomBoundLayers){var ae=this._zoomBoundLayers[z].options;h=ae.minZoom===void 0?h:Math.min(h,ae.minZoom),j=ae.maxZoom===void 0?j:Math.max(j,ae.maxZoom)}this._layersMaxZoom=j===-1/0?void 0:j,this._layersMinZoom=h===1/0?void 0:h,I!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ia=Xs.extend({initialize:function(h,j){y(this,j),this._layers={};var I,z;if(h)for(I=0,z=h.length;I<z;I++)this.addLayer(h[I])},addLayer:function(h){var j=this.getLayerId(h);return this._layers[j]=h,this._map&&this._map.addLayer(h),this},removeLayer:function(h){var j=h in this._layers?h:this.getLayerId(h);return this._map&&this._layers[j]&&this._map.removeLayer(this._layers[j]),delete this._layers[j],this},hasLayer:function(h){var j=typeof h=="number"?h:this.getLayerId(h);return j in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(h){var j=Array.prototype.slice.call(arguments,1),I,z;for(I in this._layers)z=this._layers[I],z[h]&&z[h].apply(z,j);return this},onAdd:function(h){this.eachLayer(h.addLayer,h)},onRemove:function(h){this.eachLayer(h.removeLayer,h)},eachLayer:function(h,j){for(var I in this._layers)h.call(j,this._layers[I]);return this},getLayer:function(h){return this._layers[h]},getLayers:function(){var h=[];return this.eachLayer(h.push,h),h},setZIndex:function(h){return this.invoke("setZIndex",h)},getLayerId:function(h){return c(h)}}),vc=function(h,j){return new ia(h,j)},xo=ia.extend({addLayer:function(h){return this.hasLayer(h)?this:(h.addEventParent(this),ia.prototype.addLayer.call(this,h),this.fire("layeradd",{layer:h}))},removeLayer:function(h){return this.hasLayer(h)?(h in this._layers&&(h=this._layers[h]),h.removeEventParent(this),ia.prototype.removeLayer.call(this,h),this.fire("layerremove",{layer:h})):this},setStyle:function(h){return this.invoke("setStyle",h)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var h=new E;for(var j in this._layers){var I=this._layers[j];h.extend(I.getBounds?I.getBounds():I.getLatLng())}return h}}),Hd=function(h,j){return new xo(h,j)},Do=te.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(h){y(this,h)},createIcon:function(h){return this._createIcon("icon",h)},createShadow:function(h){return this._createIcon("shadow",h)},_createIcon:function(h,j){var I=this._getIconUrl(h);if(!I){if(h==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var z=this._createImg(I,j&&j.tagName==="IMG"?j:null);return this._setIconStyles(z,h),(this.options.crossOrigin||this.options.crossOrigin==="")&&(z.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),z},_setIconStyles:function(h,j){var I=this.options,z=I[j+"Size"];typeof z=="number"&&(z=[z,z]);var ae=ce(z),be=ce(j==="shadow"&&I.shadowAnchor||I.iconAnchor||ae&&ae.divideBy(2,!0));h.className="leaflet-marker-"+j+" "+(I.className||""),be&&(h.style.marginLeft=-be.x+"px",h.style.marginTop=-be.y+"px"),ae&&(h.style.width=ae.x+"px",h.style.height=ae.y+"px")},_createImg:function(h,j){return j=j||document.createElement("img"),j.src=h,j},_getIconUrl:function(h){return Gt.retina&&this.options[h+"RetinaUrl"]||this.options[h+"Url"]}});function zd(h){return new Do(h)}var Bl=Do.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(h){return typeof Bl.imagePath!="string"&&(Bl.imagePath=this._detectIconPath()),(this.options.imagePath||Bl.imagePath)+Do.prototype._getIconUrl.call(this,h)},_stripUrl:function(h){var j=function(I,z,ae){var be=z.exec(I);return be&&be[ae]};return h=j(h,/^url\((['"])?(.+)\1\)$/,2),h&&j(h,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var h=Kr("div","leaflet-default-icon-path",document.body),j=Cn(h,"background-image")||Cn(h,"backgroundImage");if(document.body.removeChild(h),j=this._stripUrl(j),j)return j;var I=document.querySelector('link[href$="leaflet.css"]');return I?I.href.substring(0,I.href.length-11-1):""}}),yc=Ea.extend({initialize:function(h){this._marker=h},addHooks:function(){var h=this._marker._icon;this._draggable||(this._draggable=new $a(h,h,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Wr(h,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&wn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(h){var j=this._marker,I=j._map,z=this._marker.options.autoPanSpeed,ae=this._marker.options.autoPanPadding,be=us(j._icon),$e=I.getPixelBounds(),yt=I.getPixelOrigin(),St=M($e.min._subtract(yt).add(ae),$e.max._subtract(yt).subtract(ae));if(!St.contains(be)){var $t=ce((Math.max(St.max.x,be.x)-St.max.x)/($e.max.x-St.max.x)-(Math.min(St.min.x,be.x)-St.min.x)/($e.min.x-St.min.x),(Math.max(St.max.y,be.y)-St.max.y)/($e.max.y-St.max.y)-(Math.min(St.min.y,be.y)-St.min.y)/($e.min.y-St.min.y)).multiplyBy(z);I.panBy($t,{animate:!1}),this._draggable._newPos._add($t),this._draggable._startPos._add($t),nn(j._icon,this._draggable._newPos),this._onDrag(h),this._panRequest=B(this._adjustPan.bind(this,h))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(h){this._marker.options.autoPan&&(R(this._panRequest),this._panRequest=B(this._adjustPan.bind(this,h)))},_onDrag:function(h){var j=this._marker,I=j._shadow,z=us(j._icon),ae=j._map.layerPointToLatLng(z);I&&nn(I,z),j._latlng=ae,h.latlng=ae,h.oldLatLng=this._oldLatLng,j.fire("move",h).fire("drag",h)},_onDragEnd:function(h){R(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",h)}}),Vs=Xs.extend({options:{icon:new Bl,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(h,j){y(this,j),this._latlng=re(h)},onAdd:function(h){this._zoomAnimated=this._zoomAnimated&&h.options.markerZoomAnimation,this._zoomAnimated&&h.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(h){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&h.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(h){var j=this._latlng;return this._latlng=re(h),this.update(),this.fire("move",{oldLatLng:j,latlng:this._latlng})},setZIndexOffset:function(h){return this.options.zIndexOffset=h,this.update()},getIcon:function(){return this.options.icon},setIcon:function(h){return this.options.icon=h,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var h=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(h)}return this},_initIcon:function(){var h=this.options,j="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),I=h.icon.createIcon(this._icon),z=!1;I!==this._icon&&(this._icon&&this._removeIcon(),z=!0,h.title&&(I.title=h.title),I.tagName==="IMG"&&(I.alt=h.alt||"")),Wr(I,j),h.keyboard&&(I.tabIndex="0",I.setAttribute("role","button")),this._icon=I,h.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ln(I,"focus",this._panOnFocus,this);var ae=h.icon.createShadow(this._shadow),be=!1;ae!==this._shadow&&(this._removeShadow(),be=!0),ae&&(Wr(ae,j),ae.alt=""),this._shadow=ae,h.opacity<1&&this._updateOpacity(),z&&this.getPane().appendChild(this._icon),this._initInteraction(),ae&&be&&this.getPane(h.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Vn(this._icon,"focus",this._panOnFocus,this),Y(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Y(this._shadow),this._shadow=null},_setPos:function(h){this._icon&&nn(this._icon,h),this._shadow&&nn(this._shadow,h),this._zIndex=h.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(h){this._icon&&(this._icon.style.zIndex=this._zIndex+h)},_animateZoom:function(h){var j=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center).round();this._setPos(j)},_initInteraction:function(){if(this.options.interactive&&(Wr(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),yc)){var h=this.options.draggable;this.dragging&&(h=this.dragging.enabled(),this.dragging.disable()),this.dragging=new yc(this),h&&this.dragging.enable()}},setOpacity:function(h){return this.options.opacity=h,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var h=this.options.opacity;this._icon&&Ct(this._icon,h),this._shadow&&Ct(this._shadow,h)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var h=this._map;if(h){var j=this.options.icon.options,I=j.iconSize?ce(j.iconSize):ce(0,0),z=j.iconAnchor?ce(j.iconAnchor):ce(0,0);h.panInside(this._latlng,{paddingTopLeft:z,paddingBottomRight:I.subtract(z)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Vd(h,j){return new Vs(h,j)}var vo=Xs.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(h){this._renderer=h.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(h){return y(this,h),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&h&&Object.prototype.hasOwnProperty.call(h,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Zl=vo.extend({options:{fill:!0,radius:10},initialize:function(h,j){y(this,j),this._latlng=re(h),this._radius=this.options.radius},setLatLng:function(h){var j=this._latlng;return this._latlng=re(h),this.redraw(),this.fire("move",{oldLatLng:j,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(h){return this.options.radius=this._radius=h,this.redraw()},getRadius:function(){return this._radius},setStyle:function(h){var j=h&&h.radius||this._radius;return vo.prototype.setStyle.call(this,h),this.setRadius(j),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var h=this._radius,j=this._radiusY||h,I=this._clickTolerance(),z=[h+I,j+I];this._pxBounds=new ee(this._point.subtract(z),this._point.add(z))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(h){return h.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Kd(h,j){return new Zl(h,j)}var aa=Zl.extend({initialize:function(h,j,I){if(typeof j=="number"&&(j=a({},I,{radius:j})),y(this,j),this._latlng=re(h),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(h){return this._mRadius=h,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var h=[this._radius,this._radiusY||this._radius];return new E(this._map.layerPointToLatLng(this._point.subtract(h)),this._map.layerPointToLatLng(this._point.add(h)))},setStyle:vo.prototype.setStyle,_project:function(){var h=this._latlng.lng,j=this._latlng.lat,I=this._map,z=I.options.crs;if(z.distance===ue.distance){var ae=Math.PI/180,be=this._mRadius/ue.R/ae,$e=I.project([j+be,h]),yt=I.project([j-be,h]),St=$e.add(yt).divideBy(2),$t=I.unproject(St).lat,Ir=Math.acos((Math.cos(be*ae)-Math.sin(j*ae)*Math.sin($t*ae))/(Math.cos(j*ae)*Math.cos($t*ae)))/ae;(isNaN(Ir)||Ir===0)&&(Ir=be/Math.cos(Math.PI/180*j)),this._point=St.subtract(I.getPixelOrigin()),this._radius=isNaN(Ir)?0:St.x-I.project([$t,h-Ir]).x,this._radiusY=St.y-$e.y}else{var rn=z.unproject(z.project(this._latlng).subtract([this._mRadius,0]));this._point=I.latLngToLayerPoint(this._latlng),this._radius=this._point.x-I.latLngToLayerPoint(rn).x}this._updateBounds()}});function Gc(h,j,I){return new aa(h,j,I)}var oa=vo.extend({options:{smoothFactor:1,noClip:!1},initialize:function(h,j){y(this,j),this._setLatLngs(h)},getLatLngs:function(){return this._latlngs},setLatLngs:function(h){return this._setLatLngs(h),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(h){for(var j=1/0,I=null,z=Sr,ae,be,$e=0,yt=this._parts.length;$e<yt;$e++)for(var St=this._parts[$e],$t=1,Ir=St.length;$t<Ir;$t++){ae=St[$t-1],be=St[$t];var rn=z(h,ae,be,!0);rn<j&&(j=rn,I=z(h,ae,be))}return I&&(I.distance=Math.sqrt(j)),I},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return _n(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(h,j){return j=j||this._defaultShape(),h=re(h),j.push(h),this._bounds.extend(h),this.redraw()},_setLatLngs:function(h){this._bounds=new E,this._latlngs=this._convertLatLngs(h)},_defaultShape:function(){return Or(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(h){for(var j=[],I=Or(h),z=0,ae=h.length;z<ae;z++)I?(j[z]=re(h[z]),this._bounds.extend(j[z])):j[z]=this._convertLatLngs(h[z]);return j},_project:function(){var h=new ee;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,h),this._bounds.isValid()&&h.isValid()&&(this._rawPxBounds=h,this._updateBounds())},_updateBounds:function(){var h=this._clickTolerance(),j=new Q(h,h);this._rawPxBounds&&(this._pxBounds=new ee([this._rawPxBounds.min.subtract(j),this._rawPxBounds.max.add(j)]))},_projectLatlngs:function(h,j,I){var z=h[0]instanceof se,ae=h.length,be,$e;if(z){for($e=[],be=0;be<ae;be++)$e[be]=this._map.latLngToLayerPoint(h[be]),I.extend($e[be]);j.push($e)}else for(be=0;be<ae;be++)this._projectLatlngs(h[be],j,I)},_clipPoints:function(){var h=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}var j=this._parts,I,z,ae,be,$e,yt,St;for(I=0,ae=0,be=this._rings.length;I<be;I++)for(St=this._rings[I],z=0,$e=St.length;z<$e-1;z++)yt=qe(St[z],St[z+1],h,z,!0),yt&&(j[ae]=j[ae]||[],j[ae].push(yt[0]),(yt[1]!==St[z+1]||z===$e-2)&&(j[ae].push(yt[1]),ae++))}},_simplifyPoints:function(){for(var h=this._parts,j=this.options.smoothFactor,I=0,z=h.length;I<z;I++)h[I]=Sl(h[I],j)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(h,j){var I,z,ae,be,$e,yt,St=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(I=0,be=this._parts.length;I<be;I++)for(yt=this._parts[I],z=0,$e=yt.length,ae=$e-1;z<$e;ae=z++)if(!(!j&&z===0)&&Qd(h,yt[ae],yt[z])<=St)return!0;return!1}});function pA(h,j){return new oa(h,j)}oa._flat=Bn;var yi=oa.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ku(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(h){var j=oa.prototype._convertLatLngs.call(this,h),I=j.length;return I>=2&&j[0]instanceof se&&j[0].equals(j[I-1])&&j.pop(),j},_setLatLngs:function(h){oa.prototype._setLatLngs.call(this,h),Or(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Or(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var h=this._renderer._bounds,j=this.options.weight,I=new Q(j,j);if(h=new ee(h.min.subtract(I),h.max.add(I)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}for(var z=0,ae=this._rings.length,be;z<ae;z++)be=$c(this._rings[z],h,!0),be.length&&this._parts.push(be)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(h){var j=!1,I,z,ae,be,$e,yt,St,$t;if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(be=0,St=this._parts.length;be<St;be++)for(I=this._parts[be],$e=0,$t=I.length,yt=$t-1;$e<$t;yt=$e++)z=I[$e],ae=I[yt],z.y>h.y!=ae.y>h.y&&h.x<(ae.x-z.x)*(h.y-z.y)/(ae.y-z.y)+z.x&&(j=!j);return j||oa.prototype._containsPoint.call(this,h,!0)}});function Wd(h,j){return new yi(h,j)}var yo=xo.extend({initialize:function(h,j){y(this,j),this._layers={},h&&this.addData(h)},addData:function(h){var j=S(h)?h:h.features,I,z,ae;if(j){for(I=0,z=j.length;I<z;I++)ae=j[I],(ae.geometries||ae.geometry||ae.features||ae.coordinates)&&this.addData(ae);return this}var be=this.options;if(be.filter&&!be.filter(h))return this;var $e=ec(h,be);return $e?($e.feature=Fo(h),$e.defaultOptions=$e.options,this.resetStyle($e),be.onEachFeature&&be.onEachFeature(h,$e),this.addLayer($e)):this},resetStyle:function(h){return h===void 0?this.eachLayer(this.resetStyle,this):(h.options=a({},h.defaultOptions),this._setLayerStyle(h,this.options.style),this)},setStyle:function(h){return this.eachLayer(function(j){this._setLayerStyle(j,h)},this)},_setLayerStyle:function(h,j){h.setStyle&&(typeof j=="function"&&(j=j(h.feature)),h.setStyle(j))}});function ec(h,j){var I=h.type==="Feature"?h.geometry:h,z=I?I.coordinates:null,ae=[],be=j&&j.pointToLayer,$e=j&&j.coordsToLatLng||El,yt,St,$t,Ir;if(!z&&!I)return null;switch(I.type){case"Point":return yt=$e(z),al(be,h,yt,j);case"MultiPoint":for($t=0,Ir=z.length;$t<Ir;$t++)yt=$e(z[$t]),ae.push(al(be,h,yt,j));return new xo(ae);case"LineString":case"MultiLineString":return St=Vi(z,I.type==="LineString"?0:1,$e),new oa(St,j);case"Polygon":case"MultiPolygon":return St=Vi(z,I.type==="Polygon"?1:2,$e),new yi(St,j);case"GeometryCollection":for($t=0,Ir=I.geometries.length;$t<Ir;$t++){var rn=ec({geometry:I.geometries[$t],type:"Feature",properties:h.properties},j);rn&&ae.push(rn)}return new xo(ae);case"FeatureCollection":for($t=0,Ir=I.features.length;$t<Ir;$t++){var Hn=ec(I.features[$t],j);Hn&&ae.push(Hn)}return new xo(ae);default:throw new Error("Invalid GeoJSON object.")}}function al(h,j,I,z){return h?h(j,I):new Vs(I,z&&z.markersInheritOptions&&z)}function El(h){return new se(h[1],h[0],h[2])}function Vi(h,j,I){for(var z=[],ae=0,be=h.length,$e;ae<be;ae++)$e=j?Vi(h[ae],j-1,I):(I||El)(h[ae]),z.push($e);return z}function Ki(h,j){return h=re(h),h.alt!==void 0?[v(h.lng,j),v(h.lat,j),v(h.alt,j)]:[v(h.lng,j),v(h.lat,j)]}function ol(h,j,I,z){for(var ae=[],be=0,$e=h.length;be<$e;be++)ae.push(j?ol(h[be],Or(h[be])?0:j-1,I,z):Ki(h[be],z));return!j&&I&&ae.length>0&&ae.push(ae[0].slice()),ae}function io(h,j){return h.feature?a({},h.feature,{geometry:j}):Fo(j)}function Fo(h){return h.type==="Feature"||h.type==="FeatureCollection"?h:{type:"Feature",properties:{},geometry:h}}var wc={toGeoJSON:function(h){return io(this,{type:"Point",coordinates:Ki(this.getLatLng(),h)})}};Vs.include(wc),aa.include(wc),Zl.include(wc),oa.include({toGeoJSON:function(h){var j=!Or(this._latlngs),I=ol(this._latlngs,j?1:0,!1,h);return io(this,{type:(j?"Multi":"")+"LineString",coordinates:I})}}),yi.include({toGeoJSON:function(h){var j=!Or(this._latlngs),I=j&&!Or(this._latlngs[0]),z=ol(this._latlngs,I?2:j?1:0,!0,h);return j||(z=[z]),io(this,{type:(I?"Multi":"")+"Polygon",coordinates:z})}}),ia.include({toMultiPoint:function(h){var j=[];return this.eachLayer(function(I){j.push(I.toGeoJSON(h).geometry.coordinates)}),io(this,{type:"MultiPoint",coordinates:j})},toGeoJSON:function(h){var j=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(j==="MultiPoint")return this.toMultiPoint(h);var I=j==="GeometryCollection",z=[];return this.eachLayer(function(ae){if(ae.toGeoJSON){var be=ae.toGeoJSON(h);if(I)z.push(be.geometry);else{var $e=Fo(be);$e.type==="FeatureCollection"?z.push.apply(z,$e.features):z.push($e)}}}),I?io(this,{geometries:z,type:"GeometryCollection"}):{type:"FeatureCollection",features:z}}});function Il(h,j){return new yo(h,j)}var gs=Il,Lo=Xs.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(h,j,I){this._url=h,this._bounds=q(j),y(this,I)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Wr(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Y(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(h){return this.options.opacity=h,this._image&&this._updateOpacity(),this},setStyle:function(h){return h.opacity&&this.setOpacity(h.opacity),this},bringToFront:function(){return this._map&&Qi(this._image),this},bringToBack:function(){return this._map&&Qs(this._image),this},setUrl:function(h){return this._url=h,this._image&&(this._image.src=h),this},setBounds:function(h){return this._bounds=q(h),this._map&&this._reset(),this},getEvents:function(){var h={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var h=this._url.tagName==="IMG",j=this._image=h?this._url:Kr("img");if(Wr(j,"leaflet-image-layer"),this._zoomAnimated&&Wr(j,"leaflet-zoom-animated"),this.options.className&&Wr(j,this.options.className),j.onselectstart=f,j.onmousemove=f,j.onload=o(this.fire,this,"load"),j.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(j.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),h){this._url=j.src;return}j.src=this._url,j.alt=this.options.alt},_animateZoom:function(h){var j=this._map.getZoomScale(h.zoom),I=this._map._latLngBoundsToNewLayerBounds(this._bounds,h.zoom,h.center).min;on(this._image,I,j)},_reset:function(){var h=this._image,j=new ee(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),I=j.getSize();nn(h,j.min),h.style.width=I.x+"px",h.style.height=I.y+"px"},_updateOpacity:function(){Ct(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var h=this.options.errorOverlayUrl;h&&this._url!==h&&(this._url=h,this._image.src=h)},getCenter:function(){return this._bounds.getCenter()}}),Ta=function(h,j,I){return new Lo(h,j,I)},ao=Lo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var h=this._url.tagName==="VIDEO",j=this._image=h?this._url:Kr("video");if(Wr(j,"leaflet-image-layer"),this._zoomAnimated&&Wr(j,"leaflet-zoom-animated"),this.options.className&&Wr(j,this.options.className),j.onselectstart=f,j.onmousemove=f,j.onloadeddata=o(this.fire,this,"load"),h){for(var I=j.getElementsByTagName("source"),z=[],ae=0;ae<I.length;ae++)z.push(I[ae].src);this._url=I.length>0?z:[j.src];return}S(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(j.style,"objectFit")&&(j.style.objectFit="fill"),j.autoplay=!!this.options.autoplay,j.loop=!!this.options.loop,j.muted=!!this.options.muted,j.playsInline=!!this.options.playsInline;for(var be=0;be<this._url.length;be++){var $e=Kr("source");$e.src=this._url[be],j.appendChild($e)}}});function qc(h,j,I){return new ao(h,j,I)}var $d=Lo.extend({_initImage:function(){var h=this._image=this._url;Wr(h,"leaflet-image-layer"),this._zoomAnimated&&Wr(h,"leaflet-zoom-animated"),this.options.className&&Wr(h,this.options.className),h.onselectstart=f,h.onmousemove=f}});function Jc(h,j,I){return new $d(h,j,I)}var ka=Xs.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(h,j){h&&(h instanceof se||S(h))?(this._latlng=re(h),y(this,j)):(y(this,h),this._source=j),this.options.content&&(this._content=this.options.content)},openOn:function(h){return h=arguments.length?h:this._source._map,h.hasLayer(this)||h.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(h){return this._map?this.close():(arguments.length?this._source=h:h=this._source,this._prepareOpen(),this.openOn(h._map)),this},onAdd:function(h){this._zoomAnimated=h._zoomAnimated,this._container||this._initLayout(),h._fadeAnimated&&Ct(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),h._fadeAnimated&&Ct(this._container,1),this.bringToFront(),this.options.interactive&&(Wr(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(h){h._fadeAnimated?(Ct(this._container,0),this._removeTimeout=setTimeout(o(Y,void 0,this._container),200)):Y(this._container),this.options.interactive&&(wn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(h){return this._latlng=re(h),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(h){return this._content=h,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var h={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Qi(this._container),this},bringToBack:function(){return this._map&&Qs(this._container),this},_prepareOpen:function(h){var j=this._source;if(!j._map)return!1;if(j instanceof xo){j=null;var I=this._source._layers;for(var z in I)if(I[z]._map){j=I[z];break}if(!j)return!1;this._source=j}if(!h)if(j.getCenter)h=j.getCenter();else if(j.getLatLng)h=j.getLatLng();else if(j.getBounds)h=j.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(h),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var h=this._contentNode,j=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof j=="string")h.innerHTML=j;else{for(;h.hasChildNodes();)h.removeChild(h.firstChild);h.appendChild(j)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var h=this._map.latLngToLayerPoint(this._latlng),j=ce(this.options.offset),I=this._getAnchor();this._zoomAnimated?nn(this._container,h.add(I)):j=j.add(h).add(I);var z=this._containerBottom=-j.y,ae=this._containerLeft=-Math.round(this._containerWidth/2)+j.x;this._container.style.bottom=z+"px",this._container.style.left=ae+"px"}},_getAnchor:function(){return[0,0]}});Rn.include({_initOverlay:function(h,j,I,z){var ae=j;return ae instanceof h||(ae=new h(z).setContent(j)),I&&ae.setLatLng(I),ae}}),Xs.include({_initOverlay:function(h,j,I,z){var ae=I;return ae instanceof h?(y(ae,z),ae._source=this):(ae=j&&!z?j:new h(z,this),ae.setContent(I)),ae}});var Tl=ka.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(h){return h=arguments.length?h:this._source._map,!h.hasLayer(this)&&h._popup&&h._popup.options.autoClose&&h.removeLayer(h._popup),h._popup=this,ka.prototype.openOn.call(this,h)},onAdd:function(h){ka.prototype.onAdd.call(this,h),h.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof vo||this._source.on("preclick",si))},onRemove:function(h){ka.prototype.onRemove.call(this,h),h.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof vo||this._source.off("preclick",si))},getEvents:function(){var h=ka.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(h.preclick=this.close),this.options.keepInView&&(h.moveend=this._adjustPan),h},_initLayout:function(){var h="leaflet-popup",j=this._container=Kr("div",h+" "+(this.options.className||"")+" leaflet-zoom-animated"),I=this._wrapper=Kr("div",h+"-content-wrapper",j);if(this._contentNode=Kr("div",h+"-content",I),pt(j),he(this._contentNode),ln(j,"contextmenu",si),this._tipContainer=Kr("div",h+"-tip-container",j),this._tip=Kr("div",h+"-tip",this._tipContainer),this.options.closeButton){var z=this._closeButton=Kr("a",h+"-close-button",j);z.setAttribute("role","button"),z.setAttribute("aria-label","Close popup"),z.href="#close",z.innerHTML='<span aria-hidden="true">&#215;</span>',ln(z,"click",function(ae){Wt(ae),this.close()},this)}},_updateLayout:function(){var h=this._contentNode,j=h.style;j.width="",j.whiteSpace="nowrap";var I=h.offsetWidth;I=Math.min(I,this.options.maxWidth),I=Math.max(I,this.options.minWidth),j.width=I+1+"px",j.whiteSpace="",j.height="";var z=h.offsetHeight,ae=this.options.maxHeight,be="leaflet-popup-scrolled";ae&&z>ae?(j.height=ae+"px",Wr(h,be)):wn(h,be),this._containerWidth=this._container.offsetWidth},_animateZoom:function(h){var j=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center),I=this._getAnchor();nn(this._container,j.add(I))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var h=this._map,j=parseInt(Cn(this._container,"marginBottom"),10)||0,I=this._container.offsetHeight+j,z=this._containerWidth,ae=new Q(this._containerLeft,-I-this._containerBottom);ae._add(us(this._container));var be=h.layerPointToContainerPoint(ae),$e=ce(this.options.autoPanPadding),yt=ce(this.options.autoPanPaddingTopLeft||$e),St=ce(this.options.autoPanPaddingBottomRight||$e),$t=h.getSize(),Ir=0,rn=0;be.x+z+St.x>$t.x&&(Ir=be.x+z-$t.x+St.x),be.x-Ir-yt.x<0&&(Ir=be.x-yt.x),be.y+I+St.y>$t.y&&(rn=be.y+I-$t.y+St.y),be.y-rn-yt.y<0&&(rn=be.y-yt.y),(Ir||rn)&&(this.options.keepInView&&(this._autopanning=!0),h.fire("autopanstart").panBy([Ir,rn]))}},_getAnchor:function(){return ce(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),wo=function(h,j){return new Tl(h,j)};Rn.mergeOptions({closePopupOnClick:!0}),Rn.include({openPopup:function(h,j,I){return this._initOverlay(Tl,h,j,I).openOn(this),this},closePopup:function(h){return h=arguments.length?h:this._popup,h&&h.close(),this}}),Xs.include({bindPopup:function(h,j){return this._popup=this._initOverlay(Tl,this._popup,h,j),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(h){return this._popup&&(this instanceof xo||(this._popup._source=this),this._popup._prepareOpen(h||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(h){return this._popup&&this._popup.setContent(h),this},getPopup:function(){return this._popup},_openPopup:function(h){if(!(!this._popup||!this._map)){Ar(h);var j=h.layer||h.target;if(this._popup._source===j&&!(j instanceof vo)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(h.latlng);return}this._popup._source=j,this.openPopup(h.latlng)}},_movePopup:function(h){this._popup.setLatLng(h.latlng)},_onKeyPress:function(h){h.originalEvent.keyCode===13&&this._openPopup(h)}});var Ro=ka.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(h){ka.prototype.onAdd.call(this,h),this.setOpacity(this.options.opacity),h.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(h){ka.prototype.onRemove.call(this,h),h.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var h=ka.prototype.getEvents.call(this);return this.options.permanent||(h.preclick=this.close),h},_initLayout:function(){var h="leaflet-tooltip",j=h+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Kr("div",j),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(h){var j,I,z=this._map,ae=this._container,be=z.latLngToContainerPoint(z.getCenter()),$e=z.layerPointToContainerPoint(h),yt=this.options.direction,St=ae.offsetWidth,$t=ae.offsetHeight,Ir=ce(this.options.offset),rn=this._getAnchor();yt==="top"?(j=St/2,I=$t):yt==="bottom"?(j=St/2,I=0):yt==="center"?(j=St/2,I=$t/2):yt==="right"?(j=0,I=$t/2):yt==="left"?(j=St,I=$t/2):$e.x<be.x?(yt="right",j=0,I=$t/2):(yt="left",j=St+(Ir.x+rn.x)*2,I=$t/2),h=h.subtract(ce(j,I,!0)).add(Ir).add(rn),wn(ae,"leaflet-tooltip-right"),wn(ae,"leaflet-tooltip-left"),wn(ae,"leaflet-tooltip-top"),wn(ae,"leaflet-tooltip-bottom"),Wr(ae,"leaflet-tooltip-"+yt),nn(ae,h)},_updatePosition:function(){var h=this._map.latLngToLayerPoint(this._latlng);this._setPosition(h)},setOpacity:function(h){this.options.opacity=h,this._container&&Ct(this._container,h)},_animateZoom:function(h){var j=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center);this._setPosition(j)},_getAnchor:function(){return ce(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),kl=function(h,j){return new Ro(h,j)};Rn.include({openTooltip:function(h,j,I){return this._initOverlay(Ro,h,j,I).openOn(this),this},closeTooltip:function(h){return h.close(),this}}),Xs.include({bindTooltip:function(h,j){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ro,this._tooltip,h,j),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(h){if(!(!h&&this._tooltipHandlersAdded)){var j=h?"off":"on",I={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?I.add=this._openTooltip:(I.mouseover=this._openTooltip,I.mouseout=this.closeTooltip,I.click=this._openTooltip,this._map?this._addFocusListeners():I.add=this._addFocusListeners),this._tooltip.options.sticky&&(I.mousemove=this._moveTooltip),this[j](I),this._tooltipHandlersAdded=!h}},openTooltip:function(h){return this._tooltip&&(this instanceof xo||(this._tooltip._source=this),this._tooltip._prepareOpen(h)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(h){return this._tooltip&&this._tooltip.setContent(h),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(h){var j=typeof h.getElement=="function"&&h.getElement();j&&(ln(j,"focus",function(){this._tooltip._source=h,this.openTooltip()},this),ln(j,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(h){var j=typeof h.getElement=="function"&&h.getElement();j&&j.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(h){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var j=this;this._map.once("moveend",function(){j._openOnceFlag=!1,j._openTooltip(h)});return}this._tooltip._source=h.layer||h.target,this.openTooltip(this._tooltip.options.sticky?h.latlng:void 0)}},_moveTooltip:function(h){var j=h.latlng,I,z;this._tooltip.options.sticky&&h.originalEvent&&(I=this._map.mouseEventToContainerPoint(h.originalEvent),z=this._map.containerPointToLayerPoint(I),j=this._map.layerPointToLatLng(z)),this._tooltip.setLatLng(j)}});var Pl=Do.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(h){var j=h&&h.tagName==="DIV"?h:document.createElement("div"),I=this.options;if(I.html instanceof Element?(Ls(j),j.appendChild(I.html)):j.innerHTML=I.html!==!1?I.html:"",I.bgPos){var z=ce(I.bgPos);j.style.backgroundPosition=-z.x+"px "+-z.y+"px"}return this._setIconStyles(j,"icon"),j},createShadow:function(){return null}});function tc(h){return new Pl(h)}Do.Default=Bl;var Oo=Xs.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Gt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(h){y(this,h)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(h){h._addZoomLimit(this)},onRemove:function(h){this._removeAllTiles(),Y(this._container),h._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Qi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Qs(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(h){return this.options.opacity=h,this._updateOpacity(),this},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var h=this._clampZoom(this._map.getZoom());h!==this._tileZoom&&(this._tileZoom=h,this._updateLevels()),this._update()}return this},getEvents:function(){var h={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),h.move=this._onMove),this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},createTile:function(){return document.createElement("div")},getTileSize:function(){var h=this.options.tileSize;return h instanceof Q?h:new Q(h,h)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(h){for(var j=this.getPane().children,I=-h(-1/0,1/0),z=0,ae=j.length,be;z<ae;z++)be=j[z].style.zIndex,j[z]!==this._container&&be&&(I=h(I,+be));isFinite(I)&&(this.options.zIndex=I+h(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Gt.ielt9){Ct(this._container,this.options.opacity);var h=+new Date,j=!1,I=!1;for(var z in this._tiles){var ae=this._tiles[z];if(!(!ae.current||!ae.loaded)){var be=Math.min(1,(h-ae.loaded)/200);Ct(ae.el,be),be<1?j=!0:(ae.active?I=!0:this._onOpaqueTile(ae),ae.active=!0)}}I&&!this._noPrune&&this._pruneTiles(),j&&(R(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this))}},_onOpaqueTile:f,_initContainer:function(){this._container||(this._container=Kr("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var h=this._tileZoom,j=this.options.maxZoom;if(h!==void 0){for(var I in this._levels)I=Number(I),this._levels[I].el.children.length||I===h?(this._levels[I].el.style.zIndex=j-Math.abs(h-I),this._onUpdateLevel(I)):(Y(this._levels[I].el),this._removeTilesAtZoom(I),this._onRemoveLevel(I),delete this._levels[I]);var z=this._levels[h],ae=this._map;return z||(z=this._levels[h]={},z.el=Kr("div","leaflet-tile-container leaflet-zoom-animated",this._container),z.el.style.zIndex=j,z.origin=ae.project(ae.unproject(ae.getPixelOrigin()),h).round(),z.zoom=h,this._setZoomTransform(z,ae.getCenter(),ae.getZoom()),f(z.el.offsetWidth),this._onCreateLevel(z)),this._level=z,z}},_onUpdateLevel:f,_onRemoveLevel:f,_onCreateLevel:f,_pruneTiles:function(){if(this._map){var h,j,I=this._map.getZoom();if(I>this.options.maxZoom||I<this.options.minZoom){this._removeAllTiles();return}for(h in this._tiles)j=this._tiles[h],j.retain=j.current;for(h in this._tiles)if(j=this._tiles[h],j.current&&!j.active){var z=j.coords;this._retainParent(z.x,z.y,z.z,z.z-5)||this._retainChildren(z.x,z.y,z.z,z.z+2)}for(h in this._tiles)this._tiles[h].retain||this._removeTile(h)}},_removeTilesAtZoom:function(h){for(var j in this._tiles)this._tiles[j].coords.z===h&&this._removeTile(j)},_removeAllTiles:function(){for(var h in this._tiles)this._removeTile(h)},_invalidateAll:function(){for(var h in this._levels)Y(this._levels[h].el),this._onRemoveLevel(Number(h)),delete this._levels[h];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(h,j,I,z){var ae=Math.floor(h/2),be=Math.floor(j/2),$e=I-1,yt=new Q(+ae,+be);yt.z=+$e;var St=this._tileCoordsToKey(yt),$t=this._tiles[St];return $t&&$t.active?($t.retain=!0,!0):($t&&$t.loaded&&($t.retain=!0),$e>z?this._retainParent(ae,be,$e,z):!1)},_retainChildren:function(h,j,I,z){for(var ae=2*h;ae<2*h+2;ae++)for(var be=2*j;be<2*j+2;be++){var $e=new Q(ae,be);$e.z=I+1;var yt=this._tileCoordsToKey($e),St=this._tiles[yt];if(St&&St.active){St.retain=!0;continue}else St&&St.loaded&&(St.retain=!0);I+1<z&&this._retainChildren(ae,be,I+1,z)}},_resetView:function(h){var j=h&&(h.pinch||h.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),j,j)},_animateZoom:function(h){this._setView(h.center,h.zoom,!0,h.noUpdate)},_clampZoom:function(h){var j=this.options;return j.minNativeZoom!==void 0&&h<j.minNativeZoom?j.minNativeZoom:j.maxNativeZoom!==void 0&&j.maxNativeZoom<h?j.maxNativeZoom:h},_setView:function(h,j,I,z){var ae=Math.round(j);this.options.maxZoom!==void 0&&ae>this.options.maxZoom||this.options.minZoom!==void 0&&ae<this.options.minZoom?ae=void 0:ae=this._clampZoom(ae);var be=this.options.updateWhenZooming&&ae!==this._tileZoom;(!z||be)&&(this._tileZoom=ae,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),ae!==void 0&&this._update(h),I||this._pruneTiles(),this._noPrune=!!I),this._setZoomTransforms(h,j)},_setZoomTransforms:function(h,j){for(var I in this._levels)this._setZoomTransform(this._levels[I],h,j)},_setZoomTransform:function(h,j,I){var z=this._map.getZoomScale(I,h.zoom),ae=h.origin.multiplyBy(z).subtract(this._map._getNewPixelOrigin(j,I)).round();Gt.any3d?on(h.el,ae,z):nn(h.el,ae)},_resetGrid:function(){var h=this._map,j=h.options.crs,I=this._tileSize=this.getTileSize(),z=this._tileZoom,ae=this._map.getPixelWorldBounds(this._tileZoom);ae&&(this._globalTileRange=this._pxBoundsToTileRange(ae)),this._wrapX=j.wrapLng&&!this.options.noWrap&&[Math.floor(h.project([0,j.wrapLng[0]],z).x/I.x),Math.ceil(h.project([0,j.wrapLng[1]],z).x/I.y)],this._wrapY=j.wrapLat&&!this.options.noWrap&&[Math.floor(h.project([j.wrapLat[0],0],z).y/I.x),Math.ceil(h.project([j.wrapLat[1],0],z).y/I.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(h){var j=this._map,I=j._animatingZoom?Math.max(j._animateToZoom,j.getZoom()):j.getZoom(),z=j.getZoomScale(I,this._tileZoom),ae=j.project(h,this._tileZoom).floor(),be=j.getSize().divideBy(z*2);return new ee(ae.subtract(be),ae.add(be))},_update:function(h){var j=this._map;if(j){var I=this._clampZoom(j.getZoom());if(h===void 0&&(h=j.getCenter()),this._tileZoom!==void 0){var z=this._getTiledPixelBounds(h),ae=this._pxBoundsToTileRange(z),be=ae.getCenter(),$e=[],yt=this.options.keepBuffer,St=new ee(ae.getBottomLeft().subtract([yt,-yt]),ae.getTopRight().add([yt,-yt]));if(!(isFinite(ae.min.x)&&isFinite(ae.min.y)&&isFinite(ae.max.x)&&isFinite(ae.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var $t in this._tiles){var Ir=this._tiles[$t].coords;(Ir.z!==this._tileZoom||!St.contains(new Q(Ir.x,Ir.y)))&&(this._tiles[$t].current=!1)}if(Math.abs(I-this._tileZoom)>1){this._setView(h,I);return}for(var rn=ae.min.y;rn<=ae.max.y;rn++)for(var Hn=ae.min.x;Hn<=ae.max.x;Hn++){var ca=new Q(Hn,rn);if(ca.z=this._tileZoom,!!this._isValidTile(ca)){var Ti=this._tiles[this._tileCoordsToKey(ca)];Ti?Ti.current=!0:$e.push(ca)}}if($e.sort(function(oo,Jd){return oo.distanceTo(be)-Jd.distanceTo(be)}),$e.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var No=document.createDocumentFragment();for(Hn=0;Hn<$e.length;Hn++)this._addTile($e[Hn],No);this._level.el.appendChild(No)}}}},_isValidTile:function(h){var j=this._map.options.crs;if(!j.infinite){var I=this._globalTileRange;if(!j.wrapLng&&(h.x<I.min.x||h.x>I.max.x)||!j.wrapLat&&(h.y<I.min.y||h.y>I.max.y))return!1}if(!this.options.bounds)return!0;var z=this._tileCoordsToBounds(h);return q(this.options.bounds).overlaps(z)},_keyToBounds:function(h){return this._tileCoordsToBounds(this._keyToTileCoords(h))},_tileCoordsToNwSe:function(h){var j=this._map,I=this.getTileSize(),z=h.scaleBy(I),ae=z.add(I),be=j.unproject(z,h.z),$e=j.unproject(ae,h.z);return[be,$e]},_tileCoordsToBounds:function(h){var j=this._tileCoordsToNwSe(h),I=new E(j[0],j[1]);return this.options.noWrap||(I=this._map.wrapLatLngBounds(I)),I},_tileCoordsToKey:function(h){return h.x+":"+h.y+":"+h.z},_keyToTileCoords:function(h){var j=h.split(":"),I=new Q(+j[0],+j[1]);return I.z=+j[2],I},_removeTile:function(h){var j=this._tiles[h];j&&(Y(j.el),delete this._tiles[h],this.fire("tileunload",{tile:j.el,coords:this._keyToTileCoords(h)}))},_initTile:function(h){Wr(h,"leaflet-tile");var j=this.getTileSize();h.style.width=j.x+"px",h.style.height=j.y+"px",h.onselectstart=f,h.onmousemove=f,Gt.ielt9&&this.options.opacity<1&&Ct(h,this.options.opacity)},_addTile:function(h,j){var I=this._getTilePos(h),z=this._tileCoordsToKey(h),ae=this.createTile(this._wrapCoords(h),o(this._tileReady,this,h));this._initTile(ae),this.createTile.length<2&&B(o(this._tileReady,this,h,null,ae)),nn(ae,I),this._tiles[z]={el:ae,coords:h,current:!0},j.appendChild(ae),this.fire("tileloadstart",{tile:ae,coords:h})},_tileReady:function(h,j,I){j&&this.fire("tileerror",{error:j,tile:I,coords:h});var z=this._tileCoordsToKey(h);I=this._tiles[z],I&&(I.loaded=+new Date,this._map._fadeAnimated?(Ct(I.el,0),R(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this)):(I.active=!0,this._pruneTiles()),j||(Wr(I.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:I.el,coords:h})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Gt.ielt9||!this._map._fadeAnimated?B(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(h){return h.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(h){var j=new Q(this._wrapX?u(h.x,this._wrapX):h.x,this._wrapY?u(h.y,this._wrapY):h.y);return j.z=h.z,j},_pxBoundsToTileRange:function(h){var j=this.getTileSize();return new ee(h.min.unscaleBy(j).floor(),h.max.unscaleBy(j).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var h in this._tiles)if(!this._tiles[h].loaded)return!1;return!0}});function la(h){return new Oo(h)}var Ii=Oo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(h,j){this._url=h,j=y(this,j),j.detectRetina&&Gt.retina&&j.maxZoom>0?(j.tileSize=Math.floor(j.tileSize/2),j.zoomReverse?(j.zoomOffset--,j.minZoom=Math.min(j.maxZoom,j.minZoom+1)):(j.zoomOffset++,j.maxZoom=Math.max(j.minZoom,j.maxZoom-1)),j.minZoom=Math.max(0,j.minZoom)):j.zoomReverse?j.minZoom=Math.min(j.maxZoom,j.minZoom):j.maxZoom=Math.max(j.minZoom,j.maxZoom),typeof j.subdomains=="string"&&(j.subdomains=j.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(h,j){return this._url===h&&j===void 0&&(j=!0),this._url=h,j||this.redraw(),this},createTile:function(h,j){var I=document.createElement("img");return ln(I,"load",o(this._tileOnLoad,this,j,I)),ln(I,"error",o(this._tileOnError,this,j,I)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(I.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(I.referrerPolicy=this.options.referrerPolicy),I.alt="",I.src=this.getTileUrl(h),I},getTileUrl:function(h){var j={r:Gt.retina?"@2x":"",s:this._getSubdomain(h),x:h.x,y:h.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var I=this._globalTileRange.max.y-h.y;this.options.tms&&(j.y=I),j["-y"]=I}return N(this._url,a(j,this.options))},_tileOnLoad:function(h,j){Gt.ielt9?setTimeout(o(h,this,null,j),0):h(null,j)},_tileOnError:function(h,j,I){var z=this.options.errorTileUrl;z&&j.getAttribute("src")!==z&&(j.src=z),h(I,j)},_onTileRemove:function(h){h.tile.onload=null},_getZoomForUrl:function(){var h=this._tileZoom,j=this.options.maxZoom,I=this.options.zoomReverse,z=this.options.zoomOffset;return I&&(h=j-h),h+z},_getSubdomain:function(h){var j=Math.abs(h.x+h.y)%this.options.subdomains.length;return this.options.subdomains[j]},_abortLoading:function(){var h,j;for(h in this._tiles)if(this._tiles[h].coords.z!==this._tileZoom&&(j=this._tiles[h].el,j.onload=f,j.onerror=f,!j.complete)){j.src=F;var I=this._tiles[h].coords;Y(j),delete this._tiles[h],this.fire("tileabort",{tile:j,coords:I})}},_removeTile:function(h){var j=this._tiles[h];if(j)return j.el.setAttribute("src",F),Oo.prototype._removeTile.call(this,h)},_tileReady:function(h,j,I){if(!(!this._map||I&&I.getAttribute("src")===F))return Oo.prototype._tileReady.call(this,h,j,I)}});function _s(h,j){return new Ii(h,j)}var bs=Ii.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(h,j){this._url=h;var I=a({},this.defaultWmsParams);for(var z in j)z in this.options||(I[z]=j[z]);j=y(this,j);var ae=j.detectRetina&&Gt.retina?2:1,be=this.getTileSize();I.width=be.x*ae,I.height=be.y*ae,this.wmsParams=I},onAdd:function(h){this._crs=this.options.crs||h.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var j=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[j]=this._crs.code,Ii.prototype.onAdd.call(this,h)},getTileUrl:function(h){var j=this._tileCoordsToNwSe(h),I=this._crs,z=M(I.project(j[0]),I.project(j[1])),ae=z.min,be=z.max,$e=(this._wmsVersion>=1.3&&this._crs===Ei?[ae.y,ae.x,be.y,be.x]:[ae.x,ae.y,be.x,be.y]).join(","),yt=Ii.prototype.getTileUrl.call(this,h);return yt+b(this.wmsParams,yt,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+$e},setParams:function(h,j){return a(this.wmsParams,h),j||this.redraw(),this}});function ii(h,j){return new bs(h,j)}Ii.WMS=bs,_s.wms=ii;var Ss=Xs.extend({options:{padding:.1},initialize:function(h){y(this,h),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Wr(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var h={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(h.zoomanim=this._onAnimZoom),h},_onAnimZoom:function(h){this._updateTransform(h.center,h.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(h,j){var I=this._map.getZoomScale(j,this._zoom),z=this._map.getSize().multiplyBy(.5+this.options.padding),ae=this._map.project(this._center,j),be=z.multiplyBy(-I).add(ae).subtract(this._map._getNewPixelOrigin(h,j));Gt.any3d?on(this._container,be,I):nn(this._container,be)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var h in this._layers)this._layers[h]._reset()},_onZoomEnd:function(){for(var h in this._layers)this._layers[h]._project()},_updatePaths:function(){for(var h in this._layers)this._layers[h]._update()},_update:function(){var h=this.options.padding,j=this._map.getSize(),I=this._map.containerPointToLayerPoint(j.multiplyBy(-h)).round();this._bounds=new ee(I,I.add(j.multiplyBy(1+h*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ll=Ss.extend({options:{tolerance:0},getEvents:function(){var h=Ss.prototype.getEvents.call(this);return h.viewprereset=this._onViewPreReset,h},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ss.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var h=this._container=document.createElement("canvas");ln(h,"mousemove",this._onMouseMove,this),ln(h,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ln(h,"mouseout",this._handleMouseOut,this),h._leaflet_disable_events=!0,this._ctx=h.getContext("2d")},_destroyContainer:function(){R(this._redrawRequest),delete this._ctx,Y(this._container),Vn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var h;this._redrawBounds=null;for(var j in this._layers)h=this._layers[j],h._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ss.prototype._update.call(this);var h=this._bounds,j=this._container,I=h.getSize(),z=Gt.retina?2:1;nn(j,h.min),j.width=z*I.x,j.height=z*I.y,j.style.width=I.x+"px",j.style.height=I.y+"px",Gt.retina&&this._ctx.scale(2,2),this._ctx.translate(-h.min.x,-h.min.y),this.fire("update")}},_reset:function(){Ss.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(h){this._updateDashArray(h),this._layers[c(h)]=h;var j=h._order={layer:h,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=j),this._drawLast=j,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(h){this._requestRedraw(h)},_removePath:function(h){var j=h._order,I=j.next,z=j.prev;I?I.prev=z:this._drawLast=z,z?z.next=I:this._drawFirst=I,delete h._order,delete this._layers[c(h)],this._requestRedraw(h)},_updatePath:function(h){this._extendRedrawBounds(h),h._project(),h._update(),this._requestRedraw(h)},_updateStyle:function(h){this._updateDashArray(h),this._requestRedraw(h)},_updateDashArray:function(h){if(typeof h.options.dashArray=="string"){var j=h.options.dashArray.split(/[, ]+/),I=[],z,ae;for(ae=0;ae<j.length;ae++){if(z=Number(j[ae]),isNaN(z))return;I.push(z)}h.options._dashArray=I}else h.options._dashArray=h.options.dashArray},_requestRedraw:function(h){this._map&&(this._extendRedrawBounds(h),this._redrawRequest=this._redrawRequest||B(this._redraw,this))},_extendRedrawBounds:function(h){if(h._pxBounds){var j=(h.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ee,this._redrawBounds.extend(h._pxBounds.min.subtract([j,j])),this._redrawBounds.extend(h._pxBounds.max.add([j,j]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var h=this._redrawBounds;if(h){var j=h.getSize();this._ctx.clearRect(h.min.x,h.min.y,j.x,j.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var h,j=this._redrawBounds;if(this._ctx.save(),j){var I=j.getSize();this._ctx.beginPath(),this._ctx.rect(j.min.x,j.min.y,I.x,I.y),this._ctx.clip()}this._drawing=!0;for(var z=this._drawFirst;z;z=z.next)h=z.layer,(!j||h._pxBounds&&h._pxBounds.intersects(j))&&h._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(h,j){if(this._drawing){var I,z,ae,be,$e=h._parts,yt=$e.length,St=this._ctx;if(yt){for(St.beginPath(),I=0;I<yt;I++){for(z=0,ae=$e[I].length;z<ae;z++)be=$e[I][z],St[z?"lineTo":"moveTo"](be.x,be.y);j&&St.closePath()}this._fillStroke(St,h)}}},_updateCircle:function(h){if(!(!this._drawing||h._empty())){var j=h._point,I=this._ctx,z=Math.max(Math.round(h._radius),1),ae=(Math.max(Math.round(h._radiusY),1)||z)/z;ae!==1&&(I.save(),I.scale(1,ae)),I.beginPath(),I.arc(j.x,j.y/ae,z,0,Math.PI*2,!1),ae!==1&&I.restore(),this._fillStroke(I,h)}},_fillStroke:function(h,j){var I=j.options;I.fill&&(h.globalAlpha=I.fillOpacity,h.fillStyle=I.fillColor||I.color,h.fill(I.fillRule||"evenodd")),I.stroke&&I.weight!==0&&(h.setLineDash&&h.setLineDash(j.options&&j.options._dashArray||[]),h.globalAlpha=I.opacity,h.lineWidth=I.weight,h.strokeStyle=I.color,h.lineCap=I.lineCap,h.lineJoin=I.lineJoin,h.stroke())},_onClick:function(h){for(var j=this._map.mouseEventToLayerPoint(h),I,z,ae=this._drawFirst;ae;ae=ae.next)I=ae.layer,I.options.interactive&&I._containsPoint(j)&&(!(h.type==="click"||h.type==="preclick")||!this._map._draggableMoved(I))&&(z=I);this._fireEvent(z?[z]:!1,h)},_onMouseMove:function(h){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var j=this._map.mouseEventToLayerPoint(h);this._handleMouseHover(h,j)}},_handleMouseOut:function(h){var j=this._hoveredLayer;j&&(wn(this._container,"leaflet-interactive"),this._fireEvent([j],h,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(h,j){if(!this._mouseHoverThrottled){for(var I,z,ae=this._drawFirst;ae;ae=ae.next)I=ae.layer,I.options.interactive&&I._containsPoint(j)&&(z=I);z!==this._hoveredLayer&&(this._handleMouseOut(h),z&&(Wr(this._container,"leaflet-interactive"),this._fireEvent([z],h,"mouseover"),this._hoveredLayer=z)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,h),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(h,j,I){this._map._fireDOMEvent(j,I||j.type,h)},_bringToFront:function(h){var j=h._order;if(j){var I=j.next,z=j.prev;if(I)I.prev=z;else return;z?z.next=I:I&&(this._drawFirst=I),j.prev=this._drawLast,this._drawLast.next=j,j.next=null,this._drawLast=j,this._requestRedraw(h)}},_bringToBack:function(h){var j=h._order;if(j){var I=j.next,z=j.prev;if(z)z.next=I;else return;I?I.prev=z:z&&(this._drawLast=z),j.prev=null,j.next=this._drawFirst,this._drawFirst.prev=j,this._drawFirst=j,this._requestRedraw(h)}}});function Yc(h){return Gt.canvas?new ll(h):null}var cl=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(h){return document.createElement("<lvml:"+h+' class="lvml">')}}catch{}return function(h){return document.createElement("<"+h+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Fu={_initContainer:function(){this._container=Kr("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ss.prototype._update.call(this),this.fire("update"))},_initPath:function(h){var j=h._container=cl("shape");Wr(j,"leaflet-vml-shape "+(this.options.className||"")),j.coordsize="1 1",h._path=cl("path"),j.appendChild(h._path),this._updateStyle(h),this._layers[c(h)]=h},_addPath:function(h){var j=h._container;this._container.appendChild(j),h.options.interactive&&h.addInteractiveTarget(j)},_removePath:function(h){var j=h._container;Y(j),h.removeInteractiveTarget(j),delete this._layers[c(h)]},_updateStyle:function(h){var j=h._stroke,I=h._fill,z=h.options,ae=h._container;ae.stroked=!!z.stroke,ae.filled=!!z.fill,z.stroke?(j||(j=h._stroke=cl("stroke")),ae.appendChild(j),j.weight=z.weight+"px",j.color=z.color,j.opacity=z.opacity,z.dashArray?j.dashStyle=S(z.dashArray)?z.dashArray.join(" "):z.dashArray.replace(/( *, *)/g," "):j.dashStyle="",j.endcap=z.lineCap.replace("butt","flat"),j.joinstyle=z.lineJoin):j&&(ae.removeChild(j),h._stroke=null),z.fill?(I||(I=h._fill=cl("fill")),ae.appendChild(I),I.color=z.fillColor||z.color,I.opacity=z.fillOpacity):I&&(ae.removeChild(I),h._fill=null)},_updateCircle:function(h){var j=h._point.round(),I=Math.round(h._radius),z=Math.round(h._radiusY||I);this._setPath(h,h._empty()?"M0 0":"AL "+j.x+","+j.y+" "+I+","+z+" 0,"+65535*360)},_setPath:function(h,j){h._path.v=j},_bringToFront:function(h){Qi(h._container)},_bringToBack:function(h){Qs(h._container)}},bo=Gt.vml?cl:Re,Dl=Ss.extend({_initContainer:function(){this._container=bo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=bo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Y(this._container),Vn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ss.prototype._update.call(this);var h=this._bounds,j=h.getSize(),I=this._container;(!this._svgSize||!this._svgSize.equals(j))&&(this._svgSize=j,I.setAttribute("width",j.x),I.setAttribute("height",j.y)),nn(I,h.min),I.setAttribute("viewBox",[h.min.x,h.min.y,j.x,j.y].join(" ")),this.fire("update")}},_initPath:function(h){var j=h._path=bo("path");h.options.className&&Wr(j,h.options.className),h.options.interactive&&Wr(j,"leaflet-interactive"),this._updateStyle(h),this._layers[c(h)]=h},_addPath:function(h){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(h._path),h.addInteractiveTarget(h._path)},_removePath:function(h){Y(h._path),h.removeInteractiveTarget(h._path),delete this._layers[c(h)]},_updatePath:function(h){h._project(),h._update()},_updateStyle:function(h){var j=h._path,I=h.options;j&&(I.stroke?(j.setAttribute("stroke",I.color),j.setAttribute("stroke-opacity",I.opacity),j.setAttribute("stroke-width",I.weight),j.setAttribute("stroke-linecap",I.lineCap),j.setAttribute("stroke-linejoin",I.lineJoin),I.dashArray?j.setAttribute("stroke-dasharray",I.dashArray):j.removeAttribute("stroke-dasharray"),I.dashOffset?j.setAttribute("stroke-dashoffset",I.dashOffset):j.removeAttribute("stroke-dashoffset")):j.setAttribute("stroke","none"),I.fill?(j.setAttribute("fill",I.fillColor||I.color),j.setAttribute("fill-opacity",I.fillOpacity),j.setAttribute("fill-rule",I.fillRule||"evenodd")):j.setAttribute("fill","none"))},_updatePoly:function(h,j){this._setPath(h,je(h._parts,j))},_updateCircle:function(h){var j=h._point,I=Math.max(Math.round(h._radius),1),z=Math.max(Math.round(h._radiusY),1)||I,ae="a"+I+","+z+" 0 1,0 ",be=h._empty()?"M0 0":"M"+(j.x-I)+","+j.y+ae+I*2+",0 "+ae+-I*2+",0 ";this._setPath(h,be)},_setPath:function(h,j){h._path.setAttribute("d",j)},_bringToFront:function(h){Qi(h._path)},_bringToBack:function(h){Qs(h._path)}});Gt.vml&&Dl.include(Fu);function Pa(h){return Gt.svg||Gt.vml?new Dl(h):null}Rn.include({getRenderer:function(h){var j=h.options.renderer||this._getPaneRenderer(h.options.pane)||this.options.renderer||this._renderer;return j||(j=this._renderer=this._createRenderer()),this.hasLayer(j)||this.addLayer(j),j},_getPaneRenderer:function(h){if(h==="overlayPane"||h===void 0)return!1;var j=this._paneRenderers[h];return j===void 0&&(j=this._createRenderer({pane:h}),this._paneRenderers[h]=j),j},_createRenderer:function(h){return this.options.preferCanvas&&Yc(h)||Pa(h)}});var jo=yi.extend({initialize:function(h,j){yi.prototype.initialize.call(this,this._boundsToLatLngs(h),j)},setBounds:function(h){return this.setLatLngs(this._boundsToLatLngs(h))},_boundsToLatLngs:function(h){return h=q(h),[h.getSouthWest(),h.getNorthWest(),h.getNorthEast(),h.getSouthEast()]}});function gA(h,j){return new jo(h,j)}Dl.create=bo,Dl.pointsToPath=je,yo.geometryToLayer=ec,yo.coordsToLatLng=El,yo.coordsToLatLngs=Vi,yo.latLngToCoords=Ki,yo.latLngsToCoords=ol,yo.getFeature=io,yo.asFeature=Fo,Rn.mergeOptions({boxZoom:!0});var rc=Ea.extend({initialize:function(h){this._map=h,this._container=h._container,this._pane=h._panes.overlayPane,this._resetStateTimeout=0,h.on("unload",this._destroy,this)},addHooks:function(){ln(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Vn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Y(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(h){if(!h.shiftKey||h.which!==1&&h.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),fn(),go(),this._startPoint=this._map.mouseEventToContainerPoint(h),ln(document,{contextmenu:Ar,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(h){this._moved||(this._moved=!0,this._box=Kr("div","leaflet-zoom-box",this._container),Wr(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(h);var j=new ee(this._point,this._startPoint),I=j.getSize();nn(this._box,j.min),this._box.style.width=I.x+"px",this._box.style.height=I.y+"px"},_finish:function(){this._moved&&(Y(this._box),wn(this._container,"leaflet-crosshair")),Hs(),na(),Vn(document,{contextmenu:Ar,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(h){if(!(h.which!==1&&h.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var j=new E(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(j).fire("boxzoomend",{boxZoomBounds:j})}},_onKeyDown:function(h){h.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Rn.addInitHook("addHandler","boxZoom",rc),Rn.mergeOptions({doubleClickZoom:!0});var Th=Ea.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(h){var j=this._map,I=j.getZoom(),z=j.options.zoomDelta,ae=h.originalEvent.shiftKey?I-z:I+z;j.options.doubleClickZoom==="center"?j.setZoom(ae):j.setZoomAround(h.containerPoint,ae)}});Rn.addInitHook("addHandler","doubleClickZoom",Th),Rn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Gd=Ea.extend({addHooks:function(){if(!this._draggable){var h=this._map;this._draggable=new $a(h._mapPane,h._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),h.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),h.on("zoomend",this._onZoomEnd,this),h.whenReady(this._onZoomEnd,this))}Wr(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){wn(this._map._container,"leaflet-grab"),wn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var h=this._map;if(h._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var j=q(this._map.options.maxBounds);this._offsetLimit=M(this._map.latLngToContainerPoint(j.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(j.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;h.fire("movestart").fire("dragstart"),h.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(h){if(this._map.options.inertia){var j=this._lastTime=+new Date,I=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(I),this._times.push(j),this._prunePositions(j)}this._map.fire("move",h).fire("drag",h)},_prunePositions:function(h){for(;this._positions.length>1&&h-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var h=this._map.getSize().divideBy(2),j=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=j.subtract(h).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(h,j){return h-(h-j)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var h=this._draggable._newPos.subtract(this._draggable._startPos),j=this._offsetLimit;h.x<j.min.x&&(h.x=this._viscousLimit(h.x,j.min.x)),h.y<j.min.y&&(h.y=this._viscousLimit(h.y,j.min.y)),h.x>j.max.x&&(h.x=this._viscousLimit(h.x,j.max.x)),h.y>j.max.y&&(h.y=this._viscousLimit(h.y,j.max.y)),this._draggable._newPos=this._draggable._startPos.add(h)}},_onPreDragWrap:function(){var h=this._worldWidth,j=Math.round(h/2),I=this._initialWorldOffset,z=this._draggable._newPos.x,ae=(z-j+I)%h+j-I,be=(z+j+I)%h-j-I,$e=Math.abs(ae+I)<Math.abs(be+I)?ae:be;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=$e},_onDragEnd:function(h){var j=this._map,I=j.options,z=!I.inertia||h.noInertia||this._times.length<2;if(j.fire("dragend",h),z)j.fire("moveend");else{this._prunePositions(+new Date);var ae=this._lastPos.subtract(this._positions[0]),be=(this._lastTime-this._times[0])/1e3,$e=I.easeLinearity,yt=ae.multiplyBy($e/be),St=yt.distanceTo([0,0]),$t=Math.min(I.inertiaMaxSpeed,St),Ir=yt.multiplyBy($t/St),rn=$t/(I.inertiaDeceleration*$e),Hn=Ir.multiplyBy(-rn/2).round();!Hn.x&&!Hn.y?j.fire("moveend"):(Hn=j._limitOffset(Hn,j.options.maxBounds),B(function(){j.panBy(Hn,{duration:rn,easeLinearity:$e,noMoveStart:!0,animate:!0})}))}}});Rn.addInitHook("addHandler","dragging",Gd),Rn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var qd=Ea.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(h){this._map=h,this._setPanDelta(h.options.keyboardPanDelta),this._setZoomDelta(h.options.zoomDelta)},addHooks:function(){var h=this._map._container;h.tabIndex<=0&&(h.tabIndex="0"),ln(h,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Vn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var h=document.body,j=document.documentElement,I=h.scrollTop||j.scrollTop,z=h.scrollLeft||j.scrollLeft;this._map._container.focus(),window.scrollTo(z,I)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(h){var j=this._panKeys={},I=this.keyCodes,z,ae;for(z=0,ae=I.left.length;z<ae;z++)j[I.left[z]]=[-1*h,0];for(z=0,ae=I.right.length;z<ae;z++)j[I.right[z]]=[h,0];for(z=0,ae=I.down.length;z<ae;z++)j[I.down[z]]=[0,h];for(z=0,ae=I.up.length;z<ae;z++)j[I.up[z]]=[0,-1*h]},_setZoomDelta:function(h){var j=this._zoomKeys={},I=this.keyCodes,z,ae;for(z=0,ae=I.zoomIn.length;z<ae;z++)j[I.zoomIn[z]]=h;for(z=0,ae=I.zoomOut.length;z<ae;z++)j[I.zoomOut[z]]=-h},_addHooks:function(){ln(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Vn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(h){if(!(h.altKey||h.ctrlKey||h.metaKey)){var j=h.keyCode,I=this._map,z;if(j in this._panKeys){if(!I._panAnim||!I._panAnim._inProgress)if(z=this._panKeys[j],h.shiftKey&&(z=ce(z).multiplyBy(3)),I.options.maxBounds&&(z=I._limitOffset(ce(z),I.options.maxBounds)),I.options.worldCopyJump){var ae=I.wrapLatLng(I.unproject(I.project(I.getCenter()).add(z)));I.panTo(ae)}else I.panBy(z)}else if(j in this._zoomKeys)I.setZoom(I.getZoom()+(h.shiftKey?3:1)*this._zoomKeys[j]);else if(j===27&&I._popup&&I._popup.options.closeOnEscapeKey)I.closePopup();else return;Ar(h)}}});Rn.addInitHook("addHandler","keyboard",qd),Rn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Bs=Ea.extend({addHooks:function(){ln(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Vn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(h){var j=Va(h),I=this._map.options.wheelDebounceTime;this._delta+=j,this._lastMousePos=this._map.mouseEventToContainerPoint(h),this._startTime||(this._startTime=+new Date);var z=Math.max(I-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),z),Ar(h)},_performZoom:function(){var h=this._map,j=h.getZoom(),I=this._map.options.zoomSnap||0;h._stop();var z=this._delta/(this._map.options.wheelPxPerZoomLevel*4),ae=4*Math.log(2/(1+Math.exp(-Math.abs(z))))/Math.LN2,be=I?Math.ceil(ae/I)*I:ae,$e=h._limitZoom(j+(this._delta>0?be:-be))-j;this._delta=0,this._startTime=null,$e&&(h.options.scrollWheelZoom==="center"?h.setZoom(j+$e):h.setZoomAround(this._lastMousePos,j+$e))}});Rn.addInitHook("addHandler","scrollWheelZoom",Bs);var xA=600;Rn.mergeOptions({tapHold:Gt.touchNative&&Gt.safari&&Gt.mobile,tapTolerance:15});var Xc=Ea.extend({addHooks:function(){ln(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Vn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(h){if(clearTimeout(this._holdTimeout),h.touches.length===1){var j=h.touches[0];this._startPos=this._newPos=new Q(j.clientX,j.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(ln(document,"touchend",Wt),ln(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",j))},this),xA),ln(document,"touchend touchcancel contextmenu",this._cancel,this),ln(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function h(){Vn(document,"touchend",Wt),Vn(document,"touchend touchcancel",h)},_cancel:function(){clearTimeout(this._holdTimeout),Vn(document,"touchend touchcancel contextmenu",this._cancel,this),Vn(document,"touchmove",this._onMove,this)},_onMove:function(h){var j=h.touches[0];this._newPos=new Q(j.clientX,j.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(h,j){var I=new MouseEvent(h,{bubbles:!0,cancelable:!0,view:window,screenX:j.screenX,screenY:j.screenY,clientX:j.clientX,clientY:j.clientY});I._simulated=!0,j.target.dispatchEvent(I)}});Rn.addInitHook("addHandler","tapHold",Xc),Rn.mergeOptions({touchZoom:Gt.touch,bounceAtZoomLimits:!0});var bc=Ea.extend({addHooks:function(){Wr(this._map._container,"leaflet-touch-zoom"),ln(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){wn(this._map._container,"leaflet-touch-zoom"),Vn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(h){var j=this._map;if(!(!h.touches||h.touches.length!==2||j._animatingZoom||this._zooming)){var I=j.mouseEventToContainerPoint(h.touches[0]),z=j.mouseEventToContainerPoint(h.touches[1]);this._centerPoint=j.getSize()._divideBy(2),this._startLatLng=j.containerPointToLatLng(this._centerPoint),j.options.touchZoom!=="center"&&(this._pinchStartLatLng=j.containerPointToLatLng(I.add(z)._divideBy(2))),this._startDist=I.distanceTo(z),this._startZoom=j.getZoom(),this._moved=!1,this._zooming=!0,j._stop(),ln(document,"touchmove",this._onTouchMove,this),ln(document,"touchend touchcancel",this._onTouchEnd,this),Wt(h)}},_onTouchMove:function(h){if(!(!h.touches||h.touches.length!==2||!this._zooming)){var j=this._map,I=j.mouseEventToContainerPoint(h.touches[0]),z=j.mouseEventToContainerPoint(h.touches[1]),ae=I.distanceTo(z)/this._startDist;if(this._zoom=j.getScaleZoom(ae,this._startZoom),!j.options.bounceAtZoomLimits&&(this._zoom<j.getMinZoom()&&ae<1||this._zoom>j.getMaxZoom()&&ae>1)&&(this._zoom=j._limitZoom(this._zoom)),j.options.touchZoom==="center"){if(this._center=this._startLatLng,ae===1)return}else{var be=I._add(z)._divideBy(2)._subtract(this._centerPoint);if(ae===1&&be.x===0&&be.y===0)return;this._center=j.unproject(j.project(this._pinchStartLatLng,this._zoom).subtract(be),this._zoom)}this._moved||(j._moveStart(!0,!1),this._moved=!0),R(this._animRequest);var $e=o(j._move,j,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=B($e,this,!0),Wt(h)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,R(this._animRequest),Vn(document,"touchmove",this._onTouchMove,this),Vn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Rn.addInitHook("addHandler","touchZoom",bc),Rn.BoxZoom=rc,Rn.DoubleClickZoom=Th,Rn.Drag=Gd,Rn.Keyboard=qd,Rn.ScrollWheelZoom=Bs,Rn.TapHold=Xc,Rn.TouchZoom=bc,n.Bounds=ee,n.Browser=Gt,n.CRS=G,n.Canvas=ll,n.Circle=aa,n.CircleMarker=Zl,n.Class=te,n.Control=me,n.DivIcon=Pl,n.DivOverlay=ka,n.DomEvent=Ka,n.DomUtil=sn,n.Draggable=$a,n.Evented=le,n.FeatureGroup=xo,n.GeoJSON=yo,n.GridLayer=Oo,n.Handler=Ea,n.Icon=Do,n.ImageOverlay=Lo,n.LatLng=se,n.LatLngBounds=E,n.Layer=Xs,n.LayerGroup=ia,n.LineUtil=es,n.Map=Rn,n.Marker=Vs,n.Mixin=Md,n.Path=vo,n.Point=Q,n.PolyUtil=Ud,n.Polygon=yi,n.Polyline=oa,n.Popup=Tl,n.PosAnimation=no,n.Projection=vi,n.Rectangle=jo,n.Renderer=Ss,n.SVG=Dl,n.SVGOverlay=$d,n.TileLayer=Ii,n.Tooltip=Ro,n.Transformation=He,n.Util=Z,n.VideoOverlay=ao,n.bind=o,n.bounds=M,n.canvas=Yc,n.circle=Gc,n.circleMarker=Kd,n.control=At,n.divIcon=tc,n.extend=a,n.featureGroup=Hd,n.geoJSON=Il,n.geoJson=gs,n.gridLayer=la,n.icon=zd,n.imageOverlay=Ta,n.latLng=re,n.latLngBounds=q,n.layerGroup=vc,n.map=so,n.marker=Vd,n.point=ce,n.polygon=Wd,n.polyline=pA,n.popup=wo,n.rectangle=gA,n.setOptions=y,n.stamp=c,n.svg=Pa,n.svgOverlay=Jc,n.tileLayer=_s,n.tooltip=kl,n.transformation=rt,n.version=s,n.videoOverlay=qc;var Lu=window.L;n.noConflict=function(){return window.L=Lu,this},window.L=n})}(mg,mg.exports)),mg.exports}var _1=Iie();const GA=$m(_1);function t6(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function r6(e,t){return t==null?function(s,a){const i=m.useRef();return i.current||(i.current=e(s,a)),i}:function(s,a){const i=m.useRef();i.current||(i.current=e(s,a));const o=m.useRef(s),{instance:l}=i.current;return m.useEffect(function(){o.current!==s&&(t(l,s,o.current),o.current=s)},[l,s,a]),i}}function Tie(e,t){m.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var i;(i=t.layerContainer)==null||i.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function kie(e,t){const n=m.useRef();m.useEffect(function(){if(t.pathOptions!==n.current){const a=t.pathOptions??{};e.instance.setStyle(a),n.current=a}},[e,t])}function Pie(e){return function(n){const s=m4(),a=e(e6(n,s),s);return ZU(a.current,n.eventHandlers),Tie(a.current,s),kie(a.current,n),a}}function Die(e,t){const n=r6(e),s=Bie(n,t);return Sie(s)}function Fie(e,t){const n=r6(e,t),s=Pie(n);return _ie(s)}function n6(){return m4().map}const Lie=Fie(function({center:t,children:n,...s},a){const i=new _1.Circle(t,s);return t6(i,Cie(a,{overlayContainer:i}))},bie);function S_(){return S_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},S_.apply(this,arguments)}function Rie({bounds:e,boundsOptions:t,center:n,children:s,className:a,id:i,placeholder:o,style:l,whenReady:c,zoom:d,...u},f){const[v]=m.useState({className:a,id:i,style:l}),[g,w]=m.useState(null);m.useImperativeHandle(f,()=>(g==null?void 0:g.map)??null,[g]);const y=m.useCallback(x=>{if(x!==null&&g===null){const N=new _1.Map(x,u);n!=null&&d!=null?N.setView(n,d):e!=null&&N.fitBounds(e,t),c!=null&&N.whenReady(c),w(Nie(N))}},[]);m.useEffect(()=>()=>{g==null||g.map.remove()},[g]);const b=g?kr.createElement(XU,{value:g},s):o??null;return kr.createElement("div",S_({},v,{ref:y}),b)}const Oie=m.forwardRef(Rie),Mie=Die(function(t,n){const s=new _1.Popup(t,n.overlayContainer);return t6(s,n)},function(t,n,{position:s},a){m.useEffect(function(){const{instance:o}=t;function l(d){d.popup===o&&(o.update(),a(!0))}function c(d){d.popup===o&&a(!1)}return n.map.on({popupopen:l,popupclose:c}),n.overlayContainer==null?(s!=null&&o.setLatLng(s),o.openOn(n.map)):n.overlayContainer.bindPopup(o),function(){var u;n.map.off({popupopen:l,popupclose:c}),(u=n.overlayContainer)==null||u.unbindPopup(),n.map.removeLayer(o)}},[t,n,a,s])});function Zm(e){const t=e+"CollectionProvider",[n,s]=ji(t),[a,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:b,children:x}=y,N=kr.useRef(null),S=kr.useRef(new Map).current;return r.jsx(a,{scope:b,itemMap:S,collectionRef:N,children:x})};o.displayName=t;const l=e+"CollectionSlot",c=oh(l),d=kr.forwardRef((y,b)=>{const{scope:x,children:N}=y,S=i(l,x),k=an(b,S.collectionRef);return r.jsx(c,{ref:k,children:N})});d.displayName=l;const u=e+"CollectionItemSlot",f="data-radix-collection-item",v=oh(u),g=kr.forwardRef((y,b)=>{const{scope:x,children:N,...S}=y,k=kr.useRef(null),F=an(b,k),$=i(u,x);return kr.useEffect(()=>($.itemMap.set(k,{ref:k,...S}),()=>void $.itemMap.delete(k))),r.jsx(v,{[f]:"",ref:F,children:N})});g.displayName=u;function w(y){const b=i(e+"CollectionConsumer",y);return kr.useCallback(()=>{const N=b.collectionRef.current;if(!N)return[];const S=Array.from(N.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort(($,U)=>S.indexOf($.ref.current)-S.indexOf(U.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:d,ItemSlot:g},w,s]}const Uie=["top","right","bottom","left"],dh=Math.min,dc=Math.max,_y=Math.round,Wv=Math.floor,lu=e=>({x:e,y:e}),Qie={left:"right",right:"left",bottom:"top",top:"bottom"},Hie={start:"end",end:"start"};function B_(e,t,n){return dc(e,dh(t,n))}function oA(e,t){return typeof e=="function"?e(t):e}function lA(e){return e.split("-")[0]}function ep(e){return e.split("-")[1]}function p4(e){return e==="x"?"y":"x"}function g4(e){return e==="y"?"height":"width"}function uh(e){return["top","bottom"].includes(lA(e))?"y":"x"}function x4(e){return p4(uh(e))}function zie(e,t,n){n===void 0&&(n=!1);const s=ep(e),a=x4(e),i=g4(a);let o=a==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Sy(o)),[o,Sy(o)]}function Vie(e){const t=Sy(e);return[E_(e),t,E_(t)]}function E_(e){return e.replace(/start|end/g,t=>Hie[t])}function Kie(e,t,n){const s=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?a:s:t?s:a;case"left":case"right":return t?i:o;default:return[]}}function Wie(e,t,n,s){const a=ep(e);let i=Kie(lA(e),n==="start",s);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(E_)))),i}function Sy(e){return e.replace(/left|right|bottom|top/g,t=>Qie[t])}function $ie(e){return{top:0,right:0,bottom:0,left:0,...e}}function s6(e){return typeof e!="number"?$ie(e):{top:e,right:e,bottom:e,left:e}}function By(e){const{x:t,y:n,width:s,height:a}=e;return{width:s,height:a,top:n,left:t,right:t+s,bottom:n+a,x:t,y:n}}function AT(e,t,n){let{reference:s,floating:a}=e;const i=uh(t),o=x4(t),l=g4(o),c=lA(t),d=i==="y",u=s.x+s.width/2-a.width/2,f=s.y+s.height/2-a.height/2,v=s[l]/2-a[l]/2;let g;switch(c){case"top":g={x:u,y:s.y-a.height};break;case"bottom":g={x:u,y:s.y+s.height};break;case"right":g={x:s.x+s.width,y:f};break;case"left":g={x:s.x-a.width,y:f};break;default:g={x:s.x,y:s.y}}switch(ep(t)){case"start":g[o]-=v*(n&&d?-1:1);break;case"end":g[o]+=v*(n&&d?-1:1);break}return g}const Gie=async(e,t,n)=>{const{placement:s="bottom",strategy:a="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:f}=AT(d,s,c),v=s,g={},w=0;for(let y=0;y<l.length;y++){const{name:b,fn:x}=l[y],{x:N,y:S,data:k,reset:F}=await x({x:u,y:f,initialPlacement:s,placement:v,strategy:a,middlewareData:g,rects:d,platform:o,elements:{reference:e,floating:t}});u=N??u,f=S??f,g={...g,[b]:{...g[b],...k}},F&&w<=50&&(w++,typeof F=="object"&&(F.placement&&(v=F.placement),F.rects&&(d=F.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):F.rects),{x:u,y:f}=AT(d,v,c)),y=-1)}return{x:u,y:f,placement:v,strategy:a,middlewareData:g}};async function Yg(e,t){var n;t===void 0&&(t={});const{x:s,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:v=!1,padding:g=0}=oA(t,e),w=s6(g),b=l[v?f==="floating"?"reference":"floating":f],x=By(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),N=f==="floating"?{x:s,y:a,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),k=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},F=By(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:N,offsetParent:S,strategy:c}):N);return{top:(x.top-F.top+w.top)/k.y,bottom:(F.bottom-x.bottom+w.bottom)/k.y,left:(x.left-F.left+w.left)/k.x,right:(F.right-x.right+w.right)/k.x}}const qie=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=oA(e,t)||{};if(d==null)return{};const f=s6(u),v={x:n,y:s},g=x4(a),w=g4(g),y=await o.getDimensions(d),b=g==="y",x=b?"top":"left",N=b?"bottom":"right",S=b?"clientHeight":"clientWidth",k=i.reference[w]+i.reference[g]-v[g]-i.floating[w],F=v[g]-i.reference[g],$=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let U=$?$[S]:0;(!U||!await(o.isElement==null?void 0:o.isElement($)))&&(U=l.floating[S]||i.floating[w]);const D=k/2-F/2,H=U/2-y[w]/2-1,K=dh(f[x],H),B=dh(f[N],H),R=K,Z=U-y[w]-B,te=U/2-y[w]/2+D,ye=B_(R,te,Z),de=!c.arrow&&ep(a)!=null&&te!==ye&&i.reference[w]/2-(te<R?K:B)-y[w]/2<0,le=de?te<R?te-R:te-Z:0;return{[g]:v[g]+le,data:{[g]:ye,centerOffset:te-ye-le,...de&&{alignmentOffset:le}},reset:de}}}),Jie=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:v,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:y=!0,...b}=oA(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=lA(a),N=uh(l),S=lA(l)===l,k=await(c.isRTL==null?void 0:c.isRTL(d.floating)),F=v||(S||!y?[Sy(l)]:Vie(l)),$=w!=="none";!v&&$&&F.push(...Wie(l,y,w,k));const U=[l,...F],D=await Yg(t,b),H=[];let K=((s=i.flip)==null?void 0:s.overflows)||[];if(u&&H.push(D[x]),f){const te=zie(a,o,k);H.push(D[te[0]],D[te[1]])}if(K=[...K,{placement:a,overflows:H}],!H.every(te=>te<=0)){var B,R;const te=(((B=i.flip)==null?void 0:B.index)||0)+1,ye=U[te];if(ye)return{data:{index:te,overflows:K},reset:{placement:ye}};let de=(R=K.filter(le=>le.overflows[0]<=0).sort((le,Q)=>le.overflows[1]-Q.overflows[1])[0])==null?void 0:R.placement;if(!de)switch(g){case"bestFit":{var Z;const le=(Z=K.filter(Q=>{if($){const oe=uh(Q.placement);return oe===N||oe==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(oe=>oe>0).reduce((oe,ce)=>oe+ce,0)]).sort((Q,oe)=>Q[1]-oe[1])[0])==null?void 0:Z[0];le&&(de=le);break}case"initialPlacement":de=l;break}if(a!==de)return{reset:{placement:de}}}return{}}}};function hT(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function fT(e){return Uie.some(t=>e[t]>=0)}const Yie=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...a}=oA(e,t);switch(s){case"referenceHidden":{const i=await Yg(t,{...a,elementContext:"reference"}),o=hT(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:fT(o)}}}case"escaped":{const i=await Yg(t,{...a,altBoundary:!0}),o=hT(i,n.floating);return{data:{escapedOffsets:o,escaped:fT(o)}}}default:return{}}}}};async function Xie(e,t){const{placement:n,platform:s,elements:a}=e,i=await(s.isRTL==null?void 0:s.isRTL(a.floating)),o=lA(n),l=ep(n),c=uh(n)==="y",d=["left","top"].includes(o)?-1:1,u=i&&c?-1:1,f=oA(t,e);let{mainAxis:v,crossAxis:g,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof w=="number"&&(g=l==="end"?w*-1:w),c?{x:g*u,y:v*d}:{x:v*d,y:g*u}}const Zie=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await Xie(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},eae=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:b=>{let{x,y:N}=b;return{x,y:N}}},...c}=oA(e,t),d={x:n,y:s},u=await Yg(t,c),f=uh(lA(a)),v=p4(f);let g=d[v],w=d[f];if(i){const b=v==="y"?"top":"left",x=v==="y"?"bottom":"right",N=g+u[b],S=g-u[x];g=B_(N,g,S)}if(o){const b=f==="y"?"top":"left",x=f==="y"?"bottom":"right",N=w+u[b],S=w-u[x];w=B_(N,w,S)}const y=l.fn({...t,[v]:g,[f]:w});return{...y,data:{x:y.x-n,y:y.y-s,enabled:{[v]:i,[f]:o}}}}}},tae=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=oA(e,t),u={x:n,y:s},f=uh(a),v=p4(f);let g=u[v],w=u[f];const y=oA(l,t),b=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const S=v==="y"?"height":"width",k=i.reference[v]-i.floating[S]+b.mainAxis,F=i.reference[v]+i.reference[S]-b.mainAxis;g<k?g=k:g>F&&(g=F)}if(d){var x,N;const S=v==="y"?"width":"height",k=["top","left"].includes(lA(a)),F=i.reference[f]-i.floating[S]+(k&&((x=o.offset)==null?void 0:x[f])||0)+(k?0:b.crossAxis),$=i.reference[f]+i.reference[S]+(k?0:((N=o.offset)==null?void 0:N[f])||0)-(k?b.crossAxis:0);w<F?w=F:w>$&&(w=$)}return{[v]:g,[f]:w}}}},rae=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=oA(e,t),u=await Yg(t,d),f=lA(a),v=ep(a),g=uh(a)==="y",{width:w,height:y}=i.floating;let b,x;f==="top"||f==="bottom"?(b=f,x=v===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,b=v==="end"?"top":"bottom");const N=y-u.top-u.bottom,S=w-u.left-u.right,k=dh(y-u[b],N),F=dh(w-u[x],S),$=!t.middlewareData.shift;let U=k,D=F;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(D=S),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(U=N),$&&!v){const K=dc(u.left,0),B=dc(u.right,0),R=dc(u.top,0),Z=dc(u.bottom,0);g?D=w-2*(K!==0||B!==0?K+B:dc(u.left,u.right)):U=y-2*(R!==0||Z!==0?R+Z:dc(u.top,u.bottom))}await c({...t,availableWidth:D,availableHeight:U});const H=await o.getDimensions(l.floating);return w!==H.width||y!==H.height?{reset:{rects:!0}}:{}}}};function S1(){return typeof window<"u"}function tp(e){return i6(e)?(e.nodeName||"").toLowerCase():"#document"}function hc(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Cu(e){var t;return(t=(i6(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function i6(e){return S1()?e instanceof Node||e instanceof hc(e).Node:!1}function rl(e){return S1()?e instanceof Element||e instanceof hc(e).Element:!1}function gu(e){return S1()?e instanceof HTMLElement||e instanceof hc(e).HTMLElement:!1}function I_(e){return!S1()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof hc(e).ShadowRoot}function Ex(e){const{overflow:t,overflowX:n,overflowY:s,display:a}=Sd(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!["inline","contents"].includes(a)}function nae(e){return["table","td","th"].includes(tp(e))}function B1(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function v4(e){const t=y4(),n=rl(e)?Sd(e):e;return["transform","translate","scale","rotate","perspective"].some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(s=>(n.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(n.contain||"").includes(s))}function sae(e){let t=Ah(e);for(;gu(t)&&!Hm(t);){if(v4(t))return t;if(B1(t))return null;t=Ah(t)}return null}function y4(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Hm(e){return["html","body","#document"].includes(tp(e))}function Sd(e){return hc(e).getComputedStyle(e)}function E1(e){return rl(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ah(e){if(tp(e)==="html")return e;const t=e.assignedSlot||e.parentNode||I_(e)&&e.host||Cu(e);return I_(t)?t.host:t}function a6(e){const t=Ah(e);return Hm(t)?e.ownerDocument?e.ownerDocument.body:e.body:gu(t)&&Ex(t)?t:a6(t)}function Xg(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=a6(e),i=a===((s=e.ownerDocument)==null?void 0:s.body),o=hc(a);if(i){const l=T_(o);return t.concat(o,o.visualViewport||[],Ex(a)?a:[],l&&n?Xg(l):[])}return t.concat(a,Xg(a,[],n))}function T_(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function o6(e){const t=Sd(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=gu(e),i=a?e.offsetWidth:n,o=a?e.offsetHeight:s,l=_y(n)!==i||_y(s)!==o;return l&&(n=i,s=o),{width:n,height:s,$:l}}function w4(e){return rl(e)?e:e.contextElement}function Sm(e){const t=w4(e);if(!gu(t))return lu(1);const n=t.getBoundingClientRect(),{width:s,height:a,$:i}=o6(t);let o=(i?_y(n.width):n.width)/s,l=(i?_y(n.height):n.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const iae=lu(0);function l6(e){const t=hc(e);return!y4()||!t.visualViewport?iae:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function aae(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==hc(e)?!1:t}function mf(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),i=w4(e);let o=lu(1);t&&(s?rl(s)&&(o=Sm(s)):o=Sm(e));const l=aae(i,n,s)?l6(i):lu(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,f=a.height/o.y;if(i){const v=hc(i),g=s&&rl(s)?hc(s):s;let w=v,y=T_(w);for(;y&&s&&g!==w;){const b=Sm(y),x=y.getBoundingClientRect(),N=Sd(y),S=x.left+(y.clientLeft+parseFloat(N.paddingLeft))*b.x,k=x.top+(y.clientTop+parseFloat(N.paddingTop))*b.y;c*=b.x,d*=b.y,u*=b.x,f*=b.y,c+=S,d+=k,w=hc(y),y=T_(w)}}return By({width:u,height:f,x:c,y:d})}function b4(e,t){const n=E1(e).scrollLeft;return t?t.left+n:mf(Cu(e)).left+n}function c6(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=s.left+t.scrollLeft-(n?0:b4(e,s)),i=s.top+t.scrollTop;return{x:a,y:i}}function oae(e){let{elements:t,rect:n,offsetParent:s,strategy:a}=e;const i=a==="fixed",o=Cu(s),l=t?B1(t.floating):!1;if(s===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},d=lu(1);const u=lu(0),f=gu(s);if((f||!f&&!i)&&((tp(s)!=="body"||Ex(o))&&(c=E1(s)),gu(s))){const g=mf(s);d=Sm(s),u.x=g.x+s.clientLeft,u.y=g.y+s.clientTop}const v=o&&!f&&!i?c6(o,c,!0):lu(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+u.x+v.x,y:n.y*d.y-c.scrollTop*d.y+u.y+v.y}}function lae(e){return Array.from(e.getClientRects())}function cae(e){const t=Cu(e),n=E1(e),s=e.ownerDocument.body,a=dc(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),i=dc(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-n.scrollLeft+b4(e);const l=-n.scrollTop;return Sd(s).direction==="rtl"&&(o+=dc(t.clientWidth,s.clientWidth)-a),{width:a,height:i,x:o,y:l}}function dae(e,t){const n=hc(e),s=Cu(e),a=n.visualViewport;let i=s.clientWidth,o=s.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=y4();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}function uae(e,t){const n=mf(e,!0,t==="fixed"),s=n.top+e.clientTop,a=n.left+e.clientLeft,i=gu(e)?Sm(e):lu(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=s*i.y;return{width:o,height:l,x:c,y:d}}function mT(e,t,n){let s;if(t==="viewport")s=dae(e,n);else if(t==="document")s=cae(Cu(e));else if(rl(t))s=uae(t,n);else{const a=l6(e);s={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return By(s)}function d6(e,t){const n=Ah(e);return n===t||!rl(n)||Hm(n)?!1:Sd(n).position==="fixed"||d6(n,t)}function Aae(e,t){const n=t.get(e);if(n)return n;let s=Xg(e,[],!1).filter(l=>rl(l)&&tp(l)!=="body"),a=null;const i=Sd(e).position==="fixed";let o=i?Ah(e):e;for(;rl(o)&&!Hm(o);){const l=Sd(o),c=v4(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Ex(o)&&!c&&d6(e,o))?s=s.filter(u=>u!==o):a=l,o=Ah(o)}return t.set(e,s),s}function hae(e){let{element:t,boundary:n,rootBoundary:s,strategy:a}=e;const o=[...n==="clippingAncestors"?B1(t)?[]:Aae(t,this._c):[].concat(n),s],l=o[0],c=o.reduce((d,u)=>{const f=mT(t,u,a);return d.top=dc(f.top,d.top),d.right=dh(f.right,d.right),d.bottom=dh(f.bottom,d.bottom),d.left=dc(f.left,d.left),d},mT(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function fae(e){const{width:t,height:n}=o6(e);return{width:t,height:n}}function mae(e,t,n){const s=gu(t),a=Cu(t),i=n==="fixed",o=mf(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=lu(0);if(s||!s&&!i)if((tp(t)!=="body"||Ex(a))&&(l=E1(t)),s){const v=mf(t,!0,i,t);c.x=v.x+t.clientLeft,c.y=v.y+t.clientTop}else a&&(c.x=b4(a));const d=a&&!s&&!i?c6(a,l):lu(0),u=o.left+l.scrollLeft-c.x-d.x,f=o.top+l.scrollTop-c.y-d.y;return{x:u,y:f,width:o.width,height:o.height}}function n2(e){return Sd(e).position==="static"}function pT(e,t){if(!gu(e)||Sd(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Cu(e)===n&&(n=n.ownerDocument.body),n}function u6(e,t){const n=hc(e);if(B1(e))return n;if(!gu(e)){let a=Ah(e);for(;a&&!Hm(a);){if(rl(a)&&!n2(a))return a;a=Ah(a)}return n}let s=pT(e,t);for(;s&&nae(s)&&n2(s);)s=pT(s,t);return s&&Hm(s)&&n2(s)&&!v4(s)?n:s||sae(e)||n}const pae=async function(e){const t=this.getOffsetParent||u6,n=this.getDimensions,s=await n(e.floating);return{reference:mae(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function gae(e){return Sd(e).direction==="rtl"}const xae={convertOffsetParentRelativeRectToViewportRelativeRect:oae,getDocumentElement:Cu,getClippingRect:hae,getOffsetParent:u6,getElementRects:pae,getClientRects:lae,getDimensions:fae,getScale:Sm,isElement:rl,isRTL:gae};function A6(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function vae(e,t){let n=null,s;const a=Cu(e);function i(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:u,top:f,width:v,height:g}=d;if(l||t(),!v||!g)return;const w=Wv(f),y=Wv(a.clientWidth-(u+v)),b=Wv(a.clientHeight-(f+g)),x=Wv(u),S={rootMargin:-w+"px "+-y+"px "+-b+"px "+-x+"px",threshold:dc(0,dh(1,c))||1};let k=!0;function F($){const U=$[0].intersectionRatio;if(U!==c){if(!k)return o();U?o(!1,U):s=setTimeout(()=>{o(!1,1e-7)},1e3)}U===1&&!A6(d,e.getBoundingClientRect())&&o(),k=!1}try{n=new IntersectionObserver(F,{...S,root:a.ownerDocument})}catch{n=new IntersectionObserver(F,S)}n.observe(e)}return o(!0),i}function yae(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,d=w4(e),u=a||i?[...d?Xg(d):[],...Xg(t)]:[];u.forEach(x=>{a&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const f=d&&l?vae(d,n):null;let v=-1,g=null;o&&(g=new ResizeObserver(x=>{let[N]=x;N&&N.target===d&&g&&(g.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var S;(S=g)==null||S.observe(t)})),n()}),d&&!c&&g.observe(d),g.observe(t));let w,y=c?mf(e):null;c&&b();function b(){const x=mf(e);y&&!A6(y,x)&&n(),y=x,w=requestAnimationFrame(b)}return n(),()=>{var x;u.forEach(N=>{a&&N.removeEventListener("scroll",n),i&&N.removeEventListener("resize",n)}),f==null||f(),(x=g)==null||x.disconnect(),g=null,c&&cancelAnimationFrame(w)}}const wae=Zie,bae=eae,jae=Jie,Nae=rae,Cae=Yie,gT=qie,_ae=tae,Sae=(e,t,n)=>{const s=new Map,a={platform:xae,...n},i={...a.platform,_c:s};return Gie(e,t,{...a,platform:i})};var Bae=typeof document<"u",Eae=function(){},q0=Bae?m.useLayoutEffect:Eae;function Ey(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!Ey(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=n;s--!==0;){const i=a[s];if(!(i==="_owner"&&e.$$typeof)&&!Ey(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function h6(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function xT(e,t){const n=h6(e);return Math.round(t*n)/n}function s2(e){const t=m.useRef(e);return q0(()=>{t.current=e}),t}function f6(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,f]=m.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[v,g]=m.useState(s);Ey(v,s)||g(s);const[w,y]=m.useState(null),[b,x]=m.useState(null),N=m.useCallback(Q=>{Q!==$.current&&($.current=Q,y(Q))},[]),S=m.useCallback(Q=>{Q!==U.current&&(U.current=Q,x(Q))},[]),k=i||w,F=o||b,$=m.useRef(null),U=m.useRef(null),D=m.useRef(u),H=c!=null,K=s2(c),B=s2(a),R=s2(d),Z=m.useCallback(()=>{if(!$.current||!U.current)return;const Q={placement:t,strategy:n,middleware:v};B.current&&(Q.platform=B.current),Sae($.current,U.current,Q).then(oe=>{const ce={...oe,isPositioned:R.current!==!1};te.current&&!Ey(D.current,ce)&&(D.current=ce,Kl.flushSync(()=>{f(ce)}))})},[v,t,n,B,R]);q0(()=>{d===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,f(Q=>({...Q,isPositioned:!1})))},[d]);const te=m.useRef(!1);q0(()=>(te.current=!0,()=>{te.current=!1}),[]),q0(()=>{if(k&&($.current=k),F&&(U.current=F),k&&F){if(K.current)return K.current(k,F,Z);Z()}},[k,F,Z,K,H]);const ye=m.useMemo(()=>({reference:$,floating:U,setReference:N,setFloating:S}),[N,S]),de=m.useMemo(()=>({reference:k,floating:F}),[k,F]),le=m.useMemo(()=>{const Q={position:n,left:0,top:0};if(!de.floating)return Q;const oe=xT(de.floating,u.x),ce=xT(de.floating,u.y);return l?{...Q,transform:"translate("+oe+"px, "+ce+"px)",...h6(de.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:oe,top:ce}},[n,l,de.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:Z,refs:ye,elements:de,floatingStyles:le}),[u,Z,ye,de,le])}const Iae=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:a}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?gT({element:s.current,padding:a}).fn(n):{}:s?gT({element:s,padding:a}).fn(n):{}}}},m6=(e,t)=>({...wae(e),options:[e,t]}),p6=(e,t)=>({...bae(e),options:[e,t]}),Tae=(e,t)=>({..._ae(e),options:[e,t]}),g6=(e,t)=>({...jae(e),options:[e,t]}),kae=(e,t)=>({...Nae(e),options:[e,t]}),Pae=(e,t)=>({...Cae(e),options:[e,t]}),Dae=(e,t)=>({...Iae(e),options:[e,t]});var Fae="Arrow",x6=m.forwardRef((e,t)=>{const{children:n,width:s=10,height:a=5,...i}=e;return r.jsx(jr.svg,{...i,ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});x6.displayName=Fae;var Lae=x6;function Ix(e){const[t,n]=m.useState(void 0);return Zi(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var j4="Popper",[v6,_u]=ji(j4),[Rae,y6]=v6(j4),w6=e=>{const{__scopePopper:t,children:n}=e,[s,a]=m.useState(null);return r.jsx(Rae,{scope:t,anchor:s,onAnchorChange:a,children:n})};w6.displayName=j4;var b6="PopperAnchor",j6=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...a}=e,i=y6(b6,n),o=m.useRef(null),l=an(t,o);return m.useEffect(()=>{i.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:r.jsx(jr.div,{...a,ref:l})});j6.displayName=b6;var N4="PopperContent",[Oae,Mae]=v6(N4),N6=m.forwardRef((e,t)=>{var G,ue,ie,Ee,He,rt;const{__scopePopper:n,side:s="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:v=!1,updatePositionStrategy:g="optimized",onPlaced:w,...y}=e,b=y6(N4,n),[x,N]=m.useState(null),S=an(t,we=>N(we)),[k,F]=m.useState(null),$=Ix(k),U=($==null?void 0:$.width)??0,D=($==null?void 0:$.height)??0,H=s+(i!=="center"?"-"+i:""),K=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},B=Array.isArray(d)?d:[d],R=B.length>0,Z={padding:K,boundary:B.filter(Qae),altBoundary:R},{refs:te,floatingStyles:ye,placement:de,isPositioned:le,middlewareData:Q}=f6({strategy:"fixed",placement:H,whileElementsMounted:(...we)=>yae(...we,{animationFrame:g==="always"}),elements:{reference:b.anchor},middleware:[m6({mainAxis:a+D,alignmentAxis:o}),c&&p6({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Tae():void 0,...Z}),c&&g6({...Z}),kae({...Z,apply:({elements:we,rects:Ve,availableWidth:Re,availableHeight:je})=>{const{width:Mt,height:Bt}=Ve.reference,ct=we.floating.style;ct.setProperty("--radix-popper-available-width",`${Re}px`),ct.setProperty("--radix-popper-available-height",`${je}px`),ct.setProperty("--radix-popper-anchor-width",`${Mt}px`),ct.setProperty("--radix-popper-anchor-height",`${Bt}px`)}}),k&&Dae({element:k,padding:l}),Hae({arrowWidth:U,arrowHeight:D}),v&&Pae({strategy:"referenceHidden",...Z})]}),[oe,ce]=S6(de),ee=Fi(w);Zi(()=>{le&&(ee==null||ee())},[le,ee]);const M=(G=Q.arrow)==null?void 0:G.x,E=(ue=Q.arrow)==null?void 0:ue.y,q=((ie=Q.arrow)==null?void 0:ie.centerOffset)!==0,[se,re]=m.useState();return Zi(()=>{x&&re(window.getComputedStyle(x).zIndex)},[x]),r.jsx("div",{ref:te.setFloating,"data-radix-popper-content-wrapper":"",style:{...ye,transform:le?ye.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:se,"--radix-popper-transform-origin":[(Ee=Q.transformOrigin)==null?void 0:Ee.x,(He=Q.transformOrigin)==null?void 0:He.y].join(" "),...((rt=Q.hide)==null?void 0:rt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(Oae,{scope:n,placedSide:oe,onArrowChange:F,arrowX:M,arrowY:E,shouldHideArrow:q,children:r.jsx(jr.div,{"data-side":oe,"data-align":ce,...y,ref:S,style:{...y.style,animation:le?void 0:"none"}})})})});N6.displayName=N4;var C6="PopperArrow",Uae={top:"bottom",right:"left",bottom:"top",left:"right"},_6=m.forwardRef(function(t,n){const{__scopePopper:s,...a}=t,i=Mae(C6,s),o=Uae[i.placedSide];return r.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:r.jsx(Lae,{...a,ref:n,style:{...a.style,display:"block"}})})});_6.displayName=C6;function Qae(e){return e!==null}var Hae=e=>({name:"transformOrigin",options:e,fn(t){var b,x,N;const{placement:n,rects:s,middlewareData:a}=t,o=((b=a.arrow)==null?void 0:b.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=S6(n),f={start:"0%",center:"50%",end:"100%"}[u],v=(((x=a.arrow)==null?void 0:x.x)??0)+l/2,g=(((N=a.arrow)==null?void 0:N.y)??0)+c/2;let w="",y="";return d==="bottom"?(w=o?f:`${v}px`,y=`${-c}px`):d==="top"?(w=o?f:`${v}px`,y=`${s.floating.height+c}px`):d==="right"?(w=`${-c}px`,y=o?f:`${g}px`):d==="left"&&(w=`${s.floating.width+c}px`,y=o?f:`${g}px`),{data:{x:w,y}}}});function S6(e){const[t,n="center"]=e.split("-");return[t,n]}var Tx=w6,rp=j6,kx=N6,Px=_6;function Dx(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var B6=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),zae="VisuallyHidden",I1=m.forwardRef((e,t)=>r.jsx(jr.span,{...e,ref:t,style:{...B6,...e.style}}));I1.displayName=zae;var Vae=I1,Kae=[" ","Enter","ArrowUp","ArrowDown"],Wae=[" ","Enter"],pf="Select",[T1,k1,$ae]=Zm(pf),[np,A5e]=ji(pf,[$ae,_u]),P1=_u(),[Gae,_h]=np(pf),[qae,Jae]=np(pf),E6=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:f,disabled:v,required:g,form:w}=e,y=P1(t),[b,x]=m.useState(null),[N,S]=m.useState(null),[k,F]=m.useState(!1),$=bh(d),[U,D]=To({prop:s,defaultProp:a??!1,onChange:i,caller:pf}),[H,K]=To({prop:o,defaultProp:l,onChange:c,caller:pf}),B=m.useRef(null),R=b?w||!!b.closest("form"):!0,[Z,te]=m.useState(new Set),ye=Array.from(Z).map(de=>de.props.value).join(";");return r.jsx(Tx,{...y,children:r.jsxs(Gae,{required:g,scope:t,trigger:b,onTriggerChange:x,valueNode:N,onValueNodeChange:S,valueNodeHasChildren:k,onValueNodeHasChildrenChange:F,contentId:Ma(),value:H,onValueChange:K,open:U,onOpenChange:D,dir:$,triggerPointerDownPosRef:B,disabled:v,children:[r.jsx(T1.Provider,{scope:t,children:r.jsx(qae,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(de=>{te(le=>new Set(le).add(de))},[]),onNativeOptionRemove:m.useCallback(de=>{te(le=>{const Q=new Set(le);return Q.delete(de),Q})},[]),children:n})}),R?r.jsxs(Z6,{"aria-hidden":!0,required:g,tabIndex:-1,name:u,autoComplete:f,value:H,onChange:de=>K(de.target.value),disabled:v,form:w,children:[H===void 0?r.jsx("option",{value:""}):null,Array.from(Z)]},ye):null]})})};E6.displayName=pf;var I6="SelectTrigger",T6=m.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...a}=e,i=P1(n),o=_h(I6,n),l=o.disabled||s,c=an(t,o.onTriggerChange),d=k1(n),u=m.useRef("touch"),[f,v,g]=t8(y=>{const b=d().filter(S=>!S.disabled),x=b.find(S=>S.value===o.value),N=r8(b,y,x);N!==void 0&&o.onValueChange(N.value)}),w=y=>{l||(o.onOpenChange(!0),g()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return r.jsx(rp,{asChild:!0,...i,children:r.jsx(jr.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":e8(o.value)?"":void 0,...a,ref:c,onClick:Kt(a.onClick,y=>{y.currentTarget.focus(),u.current!=="mouse"&&w(y)}),onPointerDown:Kt(a.onPointerDown,y=>{u.current=y.pointerType;const b=y.target;b.hasPointerCapture(y.pointerId)&&b.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(w(y),y.preventDefault())}),onKeyDown:Kt(a.onKeyDown,y=>{const b=f.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&v(y.key),!(b&&y.key===" ")&&Kae.includes(y.key)&&(w(),y.preventDefault())})})})});T6.displayName=I6;var k6="SelectValue",P6=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:a,children:i,placeholder:o="",...l}=e,c=_h(k6,n),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,f=an(t,c.onValueNodeChange);return Zi(()=>{d(u)},[d,u]),r.jsx(jr.span,{...l,ref:f,style:{pointerEvents:"none"},children:e8(c.value)?r.jsx(r.Fragment,{children:o}):i})});P6.displayName=k6;var Yae="SelectIcon",D6=m.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...a}=e;return r.jsx(jr.span,{"aria-hidden":!0,...a,ref:t,children:s||""})});D6.displayName=Yae;var Xae="SelectPortal",F6=e=>r.jsx(Xm,{asChild:!0,...e});F6.displayName=Xae;var gf="SelectContent",L6=m.forwardRef((e,t)=>{const n=_h(gf,e.__scopeSelect),[s,a]=m.useState();if(Zi(()=>{a(new DocumentFragment)},[]),!n.open){const i=s;return i?Kl.createPortal(r.jsx(R6,{scope:e.__scopeSelect,children:r.jsx(T1.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),i):null}return r.jsx(O6,{...e,ref:t})});L6.displayName=gf;var vd=10,[R6,Sh]=np(gf),Zae="SelectContentImpl",eoe=oh("SelectContent.RemoveScroll"),O6=m.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:v,collisionPadding:g,sticky:w,hideWhenDetached:y,avoidCollisions:b,...x}=e,N=_h(gf,n),[S,k]=m.useState(null),[F,$]=m.useState(null),U=an(t,G=>k(G)),[D,H]=m.useState(null),[K,B]=m.useState(null),R=k1(n),[Z,te]=m.useState(!1),ye=m.useRef(!1);m.useEffect(()=>{if(S)return b1(S)},[S]),y1();const de=m.useCallback(G=>{const[ue,...ie]=R().map(rt=>rt.ref.current),[Ee]=ie.slice(-1),He=document.activeElement;for(const rt of G)if(rt===He||(rt==null||rt.scrollIntoView({block:"nearest"}),rt===ue&&F&&(F.scrollTop=0),rt===Ee&&F&&(F.scrollTop=F.scrollHeight),rt==null||rt.focus(),document.activeElement!==He))return},[R,F]),le=m.useCallback(()=>de([D,S]),[de,D,S]);m.useEffect(()=>{Z&&le()},[Z,le]);const{onOpenChange:Q,triggerPointerDownPosRef:oe}=N;m.useEffect(()=>{if(S){let G={x:0,y:0};const ue=Ee=>{var He,rt;G={x:Math.abs(Math.round(Ee.pageX)-(((He=oe.current)==null?void 0:He.x)??0)),y:Math.abs(Math.round(Ee.pageY)-(((rt=oe.current)==null?void 0:rt.y)??0))}},ie=Ee=>{G.x<=10&&G.y<=10?Ee.preventDefault():S.contains(Ee.target)||Q(!1),document.removeEventListener("pointermove",ue),oe.current=null};return oe.current!==null&&(document.addEventListener("pointermove",ue),document.addEventListener("pointerup",ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ue),document.removeEventListener("pointerup",ie,{capture:!0})}}},[S,Q,oe]),m.useEffect(()=>{const G=()=>Q(!1);return window.addEventListener("blur",G),window.addEventListener("resize",G),()=>{window.removeEventListener("blur",G),window.removeEventListener("resize",G)}},[Q]);const[ce,ee]=t8(G=>{const ue=R().filter(He=>!He.disabled),ie=ue.find(He=>He.ref.current===document.activeElement),Ee=r8(ue,G,ie);Ee&&setTimeout(()=>Ee.ref.current.focus())}),M=m.useCallback((G,ue,ie)=>{const Ee=!ye.current&&!ie;(N.value!==void 0&&N.value===ue||Ee)&&(H(G),Ee&&(ye.current=!0))},[N.value]),E=m.useCallback(()=>S==null?void 0:S.focus(),[S]),q=m.useCallback((G,ue,ie)=>{const Ee=!ye.current&&!ie;(N.value!==void 0&&N.value===ue||Ee)&&B(G)},[N.value]),se=s==="popper"?k_:M6,re=se===k_?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:v,collisionPadding:g,sticky:w,hideWhenDetached:y,avoidCollisions:b}:{};return r.jsx(R6,{scope:n,content:S,viewport:F,onViewportChange:$,itemRefCallback:M,selectedItem:D,onItemLeave:E,itemTextRefCallback:q,focusSelectedItem:le,selectedItemText:K,position:s,isPositioned:Z,searchRef:ce,children:r.jsx(Bx,{as:eoe,allowPinchZoom:!0,children:r.jsx(Sx,{asChild:!0,trapped:N.open,onMountAutoFocus:G=>{G.preventDefault()},onUnmountAutoFocus:Kt(a,G=>{var ue;(ue=N.trigger)==null||ue.focus({preventScroll:!0}),G.preventDefault()}),children:r.jsx(Nh,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:G=>G.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:r.jsx(se,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:G=>G.preventDefault(),...x,...re,onPlaced:()=>te(!0),ref:U,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:Kt(x.onKeyDown,G=>{const ue=G.ctrlKey||G.altKey||G.metaKey;if(G.key==="Tab"&&G.preventDefault(),!ue&&G.key.length===1&&ee(G.key),["ArrowUp","ArrowDown","Home","End"].includes(G.key)){let Ee=R().filter(He=>!He.disabled).map(He=>He.ref.current);if(["ArrowUp","End"].includes(G.key)&&(Ee=Ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(G.key)){const He=G.target,rt=Ee.indexOf(He);Ee=Ee.slice(rt+1)}setTimeout(()=>de(Ee)),G.preventDefault()}})})})})})})});O6.displayName=Zae;var toe="SelectItemAlignedPosition",M6=m.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...a}=e,i=_h(gf,n),o=Sh(gf,n),[l,c]=m.useState(null),[d,u]=m.useState(null),f=an(t,U=>u(U)),v=k1(n),g=m.useRef(!1),w=m.useRef(!0),{viewport:y,selectedItem:b,selectedItemText:x,focusSelectedItem:N}=o,S=m.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&y&&b&&x){const U=i.trigger.getBoundingClientRect(),D=d.getBoundingClientRect(),H=i.valueNode.getBoundingClientRect(),K=x.getBoundingClientRect();if(i.dir!=="rtl"){const He=K.left-D.left,rt=H.left-He,we=U.left-rt,Ve=U.width+we,Re=Math.max(Ve,D.width),je=window.innerWidth-vd,Mt=Kg(rt,[vd,Math.max(vd,je-Re)]);l.style.minWidth=Ve+"px",l.style.left=Mt+"px"}else{const He=D.right-K.right,rt=window.innerWidth-H.right-He,we=window.innerWidth-U.right-rt,Ve=U.width+we,Re=Math.max(Ve,D.width),je=window.innerWidth-vd,Mt=Kg(rt,[vd,Math.max(vd,je-Re)]);l.style.minWidth=Ve+"px",l.style.right=Mt+"px"}const B=v(),R=window.innerHeight-vd*2,Z=y.scrollHeight,te=window.getComputedStyle(d),ye=parseInt(te.borderTopWidth,10),de=parseInt(te.paddingTop,10),le=parseInt(te.borderBottomWidth,10),Q=parseInt(te.paddingBottom,10),oe=ye+de+Z+Q+le,ce=Math.min(b.offsetHeight*5,oe),ee=window.getComputedStyle(y),M=parseInt(ee.paddingTop,10),E=parseInt(ee.paddingBottom,10),q=U.top+U.height/2-vd,se=R-q,re=b.offsetHeight/2,G=b.offsetTop+re,ue=ye+de+G,ie=oe-ue;if(ue<=q){const He=B.length>0&&b===B[B.length-1].ref.current;l.style.bottom="0px";const rt=d.clientHeight-y.offsetTop-y.offsetHeight,we=Math.max(se,re+(He?E:0)+rt+le),Ve=ue+we;l.style.height=Ve+"px"}else{const He=B.length>0&&b===B[0].ref.current;l.style.top="0px";const we=Math.max(q,ye+y.offsetTop+(He?M:0)+re)+ie;l.style.height=we+"px",y.scrollTop=ue-q+y.offsetTop}l.style.margin=`${vd}px 0`,l.style.minHeight=ce+"px",l.style.maxHeight=R+"px",s==null||s(),requestAnimationFrame(()=>g.current=!0)}},[v,i.trigger,i.valueNode,l,d,y,b,x,i.dir,s]);Zi(()=>S(),[S]);const[k,F]=m.useState();Zi(()=>{d&&F(window.getComputedStyle(d).zIndex)},[d]);const $=m.useCallback(U=>{U&&w.current===!0&&(S(),N==null||N(),w.current=!1)},[S,N]);return r.jsx(noe,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:$,children:r.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:r.jsx(jr.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});M6.displayName=toe;var roe="SelectPopperPosition",k_=m.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:a=vd,...i}=e,o=P1(n);return r.jsx(kx,{...o,...i,ref:t,align:s,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});k_.displayName=roe;var[noe,C4]=np(gf,{}),P_="SelectViewport",U6=m.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...a}=e,i=Sh(P_,n),o=C4(P_,n),l=an(t,i.onViewportChange),c=m.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),r.jsx(T1.Slot,{scope:n,children:r.jsx(jr.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Kt(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:v}=o;if(v!=null&&v.current&&f){const g=Math.abs(c.current-u.scrollTop);if(g>0){const w=window.innerHeight-vd*2,y=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),x=Math.max(y,b);if(x<w){const N=x+g,S=Math.min(w,N),k=N-S;f.style.height=S+"px",f.style.bottom==="0px"&&(u.scrollTop=k>0?k:0,f.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});U6.displayName=P_;var Q6="SelectGroup",[soe,ioe]=np(Q6),aoe=m.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=Ma();return r.jsx(soe,{scope:n,id:a,children:r.jsx(jr.div,{role:"group","aria-labelledby":a,...s,ref:t})})});aoe.displayName=Q6;var H6="SelectLabel",z6=m.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=ioe(H6,n);return r.jsx(jr.div,{id:a.id,...s,ref:t})});z6.displayName=H6;var Iy="SelectItem",[ooe,V6]=np(Iy),K6=m.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:a=!1,textValue:i,...o}=e,l=_h(Iy,n),c=Sh(Iy,n),d=l.value===s,[u,f]=m.useState(i??""),[v,g]=m.useState(!1),w=an(t,N=>{var S;return(S=c.itemRefCallback)==null?void 0:S.call(c,N,s,a)}),y=Ma(),b=m.useRef("touch"),x=()=>{a||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(ooe,{scope:n,value:s,disabled:a,textId:y,isSelected:d,onItemTextChange:m.useCallback(N=>{f(S=>S||((N==null?void 0:N.textContent)??"").trim())},[]),children:r.jsx(T1.ItemSlot,{scope:n,value:s,disabled:a,textValue:u,children:r.jsx(jr.div,{role:"option","aria-labelledby":y,"data-highlighted":v?"":void 0,"aria-selected":d&&v,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:w,onFocus:Kt(o.onFocus,()=>g(!0)),onBlur:Kt(o.onBlur,()=>g(!1)),onClick:Kt(o.onClick,()=>{b.current!=="mouse"&&x()}),onPointerUp:Kt(o.onPointerUp,()=>{b.current==="mouse"&&x()}),onPointerDown:Kt(o.onPointerDown,N=>{b.current=N.pointerType}),onPointerMove:Kt(o.onPointerMove,N=>{var S;b.current=N.pointerType,a?(S=c.onItemLeave)==null||S.call(c):b.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Kt(o.onPointerLeave,N=>{var S;N.currentTarget===document.activeElement&&((S=c.onItemLeave)==null||S.call(c))}),onKeyDown:Kt(o.onKeyDown,N=>{var k;((k=c.searchRef)==null?void 0:k.current)!==""&&N.key===" "||(Wae.includes(N.key)&&x(),N.key===" "&&N.preventDefault())})})})})});K6.displayName=Iy;var pg="SelectItemText",W6=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:a,...i}=e,o=_h(pg,n),l=Sh(pg,n),c=V6(pg,n),d=Jae(pg,n),[u,f]=m.useState(null),v=an(t,x=>f(x),c.onItemTextChange,x=>{var N;return(N=l.itemTextRefCallback)==null?void 0:N.call(l,x,c.value,c.disabled)}),g=u==null?void 0:u.textContent,w=m.useMemo(()=>r.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:y,onNativeOptionRemove:b}=d;return Zi(()=>(y(w),()=>b(w)),[y,b,w]),r.jsxs(r.Fragment,{children:[r.jsx(jr.span,{id:c.textId,...i,ref:v}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Kl.createPortal(i.children,o.valueNode):null]})});W6.displayName=pg;var $6="SelectItemIndicator",G6=m.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return V6($6,n).isSelected?r.jsx(jr.span,{"aria-hidden":!0,...s,ref:t}):null});G6.displayName=$6;var D_="SelectScrollUpButton",q6=m.forwardRef((e,t)=>{const n=Sh(D_,e.__scopeSelect),s=C4(D_,e.__scopeSelect),[a,i]=m.useState(!1),o=an(t,s.onScrollButtonChange);return Zi(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?r.jsx(Y6,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});q6.displayName=D_;var F_="SelectScrollDownButton",J6=m.forwardRef((e,t)=>{const n=Sh(F_,e.__scopeSelect),s=C4(F_,e.__scopeSelect),[a,i]=m.useState(!1),o=an(t,s.onScrollButtonChange);return Zi(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?r.jsx(Y6,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});J6.displayName=F_;var Y6=m.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...a}=e,i=Sh("SelectScrollButton",n),o=m.useRef(null),l=k1(n),c=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),Zi(()=>{var u;const d=l().find(f=>f.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),r.jsx(jr.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Kt(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:Kt(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:Kt(a.onPointerLeave,()=>{c()})})}),loe="SelectSeparator",X6=m.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return r.jsx(jr.div,{"aria-hidden":!0,...s,ref:t})});X6.displayName=loe;var L_="SelectArrow",coe=m.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=P1(n),i=_h(L_,n),o=Sh(L_,n);return i.open&&o.position==="popper"?r.jsx(Px,{...a,...s,ref:t}):null});coe.displayName=L_;var doe="SelectBubbleInput",Z6=m.forwardRef(({__scopeSelect:e,value:t,...n},s)=>{const a=m.useRef(null),i=an(s,a),o=Dx(t);return m.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&u){const f=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(f)}},[o,t]),r.jsx(jr.select,{...n,style:{...B6,...n.style},ref:i,defaultValue:t})});Z6.displayName=doe;function e8(e){return e===""||e===void 0}function t8(e){const t=Fi(e),n=m.useRef(""),s=m.useRef(0),a=m.useCallback(o=>{const l=n.current+o;t(l),function c(d){n.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=m.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,a,i]}function r8(e,t,n){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=uoe(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function uoe(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var Aoe=E6,n8=T6,hoe=P6,foe=D6,moe=F6,s8=L6,poe=U6,i8=z6,a8=K6,goe=W6,xoe=G6,o8=q6,l8=J6,c8=X6;const On=Aoe,Mn=hoe,Dn=m.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(n8,{ref:s,className:Tt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,r.jsx(foe,{asChild:!0,children:r.jsx($A,{className:"h-4 w-4 opacity-50"})})]}));Dn.displayName=n8.displayName;const d8=m.forwardRef(({className:e,...t},n)=>r.jsx(o8,{ref:n,className:Tt("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(dJ,{className:"h-4 w-4"})}));d8.displayName=o8.displayName;const u8=m.forwardRef(({className:e,...t},n)=>r.jsx(l8,{ref:n,className:Tt("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx($A,{className:"h-4 w-4"})}));u8.displayName=l8.displayName;const Fn=m.forwardRef(({className:e,children:t,position:n="popper",...s},a)=>r.jsx(moe,{children:r.jsxs(s8,{ref:a,className:Tt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,onCloseAutoFocus:()=>{document.body.style.removeProperty("pointer-events")},onEscapeKeyDown:()=>{document.body.style.removeProperty("pointer-events")},onPointerDownOutside:()=>{document.body.style.removeProperty("pointer-events")},...s,children:[r.jsx(d8,{}),r.jsx(poe,{className:Tt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(u8,{})]})}));Fn.displayName=s8.displayName;const voe=m.forwardRef(({className:e,...t},n)=>r.jsx(i8,{ref:n,className:Tt("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));voe.displayName=i8.displayName;const Yt=m.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(a8,{ref:s,className:Tt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(xoe,{children:r.jsx(fc,{className:"h-4 w-4"})})}),r.jsx(goe,{children:t})]}));Yt.displayName=a8.displayName;const yoe=m.forwardRef(({className:e,...t},n)=>r.jsx(c8,{ref:n,className:Tt("-mx-1 my-1 h-px bg-muted",e),...t}));yoe.displayName=c8.displayName;const Ty=[-119.43,58.84],vT=1.421;function woe(e,t){return[Ty[0]+vT/100*t,Ty[1]+vT/100*e]}const A8=({})=>{const{locale:e}=ir(),{user:t,setUserField:n}=Yn(),[s,a]=m.useState("game"),i=`https://s.rsg.sc/sc/images/games/GTAV/map/${s}/{z}/{x}/{y}.jpg`,o=GA.CRS.Simple;return r.jsxs("div",{className:"relative w-full h-full",children:[r.jsx(Le,{className:"absolute top-2 left-2 z-10 rounded-md shadow-md",children:r.jsxs(On,{value:s,onValueChange:l=>{a(l)},children:[r.jsx(Dn,{children:r.jsx(Mn,{placeholder:"Select Map Type"})}),r.jsxs(Fn,{children:[r.jsx(Yt,{value:"game",children:(e==null?void 0:e.map_type_1)||"Dark"}),r.jsx(Yt,{value:"render",children:(e==null?void 0:e.map_type_2)||"Satellite"}),r.jsx(Yt,{value:"print",children:(e==null?void 0:e.map_type_3)||"Light"})]})]})}),r.jsxs(Oie,{center:Ty,maxBoundsViscosity:1,preferCanvas:!0,zoom:4,maxZoom:7,minZoom:2.5,zoomControl:!1,crs:o,style:{width:"100%",height:"100%",borderRadius:"0.5rem",zIndex:1,backgroundColor:"#000"},children:[r.jsx(boe,{tileLayerUrl:i}),r.jsx(joe,{}),t&&(t==null?void 0:t.recentIncidents)&&((t==null?void 0:t.recentIncidents)||[]).map(l=>r.jsx(Lie,{center:woe(l.x,l.y),radius:1,pathOptions:{color:"red"},children:r.jsx(Mie,{closeButton:!1,className:"popup",children:r.jsxs("div",{style:{padding:"10px",fontFamily:"Arial, sans-serif",fontSize:"12px",color:"#333"},children:[r.jsxs("h4",{style:{margin:"0",color:"#f00"},children:["Incident #",l.id]}),r.jsxs("p",{style:{margin:"5px 0"},children:[r.jsx("strong",{children:"Type:"})," ",l.type]}),r.jsxs("p",{style:{margin:"5px 0"},children:[r.jsx("strong",{children:"Location:"})," ",l.location]}),r.jsxs("p",{style:{margin:"5px 0",fontSize:"10px",color:"#555"},children:[r.jsxs("strong",{children:[(e==null?void 0:e.map_text_reported_at)||"Reported at",":"]})," ",l.time]})]})})},l.id))]})]})},boe=({tileLayerUrl:e})=>{const t=n6();return m.useEffect(()=>{const n=GA.tileLayer(e,{maxZoom:7,minZoom:2,bounds:GA.latLngBounds(GA.latLng(0,128),GA.latLng(-192,0))});return t.addLayer(n),()=>{t.removeLayer(n)}},[e,t]),null},joe=()=>{const e=n6();return m.useEffect(()=>{const t=GA.latLngBounds(GA.latLng(0,128),GA.latLng(-192,0));e.setMaxBounds(t),e.setView(Ty,2),e.attributionControl.setPrefix(!1)},[e]),null},yT=e=>e>=8?"bg-gradient-to-l from-blue-900 to-red-800 duration-300":"bg-card/95";function h8({call:e}){var l;const{user:t,setUser:n,setUserField:s}=Yn(),{locale:a}=ir(),[i,o]=m.useState(yT(e.priority));return m.useEffect(()=>{o(yT(e.priority))},[e.priority]),r.jsx(Le,{className:`text-white border-none shadow-xl hover:shadow-2xl ${i}`,children:r.jsxs("div",{className:"p-4 space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(ze,{variant:"secondary",className:"bg-emerald-500/20 text-emerald-300",children:["#",e.id]}),r.jsx(ze,{variant:"secondary",className:"bg-cyan-500/20 text-cyan-300",children:e.code})]}),r.jsx(ze,{variant:"outline",className:"text-emerald-400 border-emerald-400/50",children:e.title})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[r.jsx(Mi,{className:"h-4 w-4 text-gray-400"}),r.jsxs("span",{className:"font-medium",children:[(a==null?void 0:a.text_time)||"Time",":"]})," ",e.time]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[r.jsx(qs,{className:"h-4 w-4 text-gray-400"}),r.jsxs("span",{className:"font-medium",children:[(a==null?void 0:a.text_location)||"Location",":"]})," ",e.location]}),e.description&&r.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[r.jsx(ba,{className:"h-4 w-4 text-gray-400"}),r.jsxs("span",{className:"font-medium",children:[(a==null?void 0:a.text_description)||"Description",":"]})," ",e.description]}),e.person&&r.jsxs("div",{className:"space-y-1 bg-blue-800/50 p-2 rounded-md",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[r.jsx(ri,{className:"h-4 w-4 text-gray-400"}),r.jsxs("span",{className:"font-medium",children:[(a==null?void 0:a.text_name)||"Name",":"]})," ",e.person.name]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[r.jsx(wx,{className:"h-4 w-4 text-gray-400"}),r.jsxs("span",{className:"font-medium",children:[(a==null?void 0:a.text_phone)||"Phone",":"]})," ",e.person.phone]})]}),e.units&&r.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[r.jsx(ba,{className:"h-4 w-4 text-gray-400"}),r.jsxs("span",{className:"font-medium",children:[(a==null?void 0:a.text_units)||"Units",":"]}),r.jsx("span",{className:"text-gray-200",children:t!=null&&t.radioChannels?((l=t.radioChannels.find(c=>c.id===e.units))==null?void 0:l.name)||"Unknown":"Loading..."})]}),e.vehicle&&r.jsxs("div",{className:"space-y-1 bg-slate-800/50 p-2 rounded-md",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[r.jsx(Di,{className:"h-4 w-4 text-gray-400"}),r.jsxs("span",{className:"font-medium",children:[(a==null?void 0:a.text_phones)||"Vehicle",":"]})," ",e.vehicle.model]}),r.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs text-gray-400 pl-6",children:[r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[(a==null?void 0:a.text_plate)||"Plate",":"]})," ",e.vehicle.plate]}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[(a==null?void 0:a.text_color)||"Color",":"]})," ",e.vehicle.color]}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[(a==null?void 0:a.text_class)||"Class",":"]})," ",e.vehicle.class]}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[(a==null?void 0:a.text_doors)||"Doors",":"]})," ",e.vehicle.doors]}),r.jsxs("div",{className:"col-span-2",children:[r.jsxs("span",{className:"font-medium",children:[(a==null?void 0:a.text_heading)||"Heading",":"]})," ",e.vehicle.heading]})]})]}),e.weapon&&r.jsx("div",{className:"space-y-1 bg-red-800/50 p-2 rounded-md",children:r.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[r.jsx(NY,{className:"h-4 w-4 text-gray-400"}),r.jsxs("span",{className:"font-medium",children:[(a==null?void 0:a.text_weapon)||"Weapon",":"]})," ",e.weapon.name]})})]})]})})}var i2="rovingFocusGroup.onEntryFocus",Noe={bubbles:!1,cancelable:!0},Fx="RovingFocusGroup",[R_,f8,Coe]=Zm(Fx),[_oe,sp]=ji(Fx,[Coe]),[Soe,Boe]=_oe(Fx),m8=m.forwardRef((e,t)=>r.jsx(R_.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(R_.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(Eoe,{...e,ref:t})})}));m8.displayName=Fx;var Eoe=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...f}=e,v=m.useRef(null),g=an(t,v),w=bh(i),[y,b]=To({prop:o,defaultProp:l??null,onChange:c,caller:Fx}),[x,N]=m.useState(!1),S=Fi(d),k=f8(n),F=m.useRef(!1),[$,U]=m.useState(0);return m.useEffect(()=>{const D=v.current;if(D)return D.addEventListener(i2,S),()=>D.removeEventListener(i2,S)},[S]),r.jsx(Soe,{scope:n,orientation:s,dir:w,loop:a,currentTabStopId:y,onItemFocus:m.useCallback(D=>b(D),[b]),onItemShiftTab:m.useCallback(()=>N(!0),[]),onFocusableItemAdd:m.useCallback(()=>U(D=>D+1),[]),onFocusableItemRemove:m.useCallback(()=>U(D=>D-1),[]),children:r.jsx(jr.div,{tabIndex:x||$===0?-1:0,"data-orientation":s,...f,ref:g,style:{outline:"none",...e.style},onMouseDown:Kt(e.onMouseDown,()=>{F.current=!0}),onFocus:Kt(e.onFocus,D=>{const H=!F.current;if(D.target===D.currentTarget&&H&&!x){const K=new CustomEvent(i2,Noe);if(D.currentTarget.dispatchEvent(K),!K.defaultPrevented){const B=k().filter(de=>de.focusable),R=B.find(de=>de.active),Z=B.find(de=>de.id===y),ye=[R,Z,...B].filter(Boolean).map(de=>de.ref.current);x8(ye,u)}}F.current=!1}),onBlur:Kt(e.onBlur,()=>N(!1))})})}),p8="RovingFocusGroupItem",g8=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=Ma(),d=i||c,u=Boe(p8,n),f=u.currentTabStopId===d,v=f8(n),{onFocusableItemAdd:g,onFocusableItemRemove:w,currentTabStopId:y}=u;return m.useEffect(()=>{if(s)return g(),()=>w()},[s,g,w]),r.jsx(R_.ItemSlot,{scope:n,id:d,focusable:s,active:a,children:r.jsx(jr.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:Kt(e.onMouseDown,b=>{s?u.onItemFocus(d):b.preventDefault()}),onFocus:Kt(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:Kt(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){u.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const x=koe(b,u.orientation,u.dir);if(x!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let S=v().filter(k=>k.focusable).map(k=>k.ref.current);if(x==="last")S.reverse();else if(x==="prev"||x==="next"){x==="prev"&&S.reverse();const k=S.indexOf(b.currentTarget);S=u.loop?Poe(S,k+1):S.slice(k+1)}setTimeout(()=>x8(S))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:y!=null}):o})})});g8.displayName=p8;var Ioe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Toe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function koe(e,t,n){const s=Toe(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return Ioe[s]}function x8(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function Poe(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var _4=m8,S4=g8,O_=["Enter"," "],Doe=["ArrowDown","PageUp","Home"],v8=["ArrowUp","PageDown","End"],Foe=[...Doe,...v8],Loe={ltr:[...O_,"ArrowRight"],rtl:[...O_,"ArrowLeft"]},Roe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Lx="Menu",[Zg,Ooe,Moe]=Zm(Lx),[wf,D1]=ji(Lx,[Moe,_u,sp]),F1=_u(),y8=sp(),[Uoe,bf]=wf(Lx),[Qoe,Rx]=wf(Lx),w8=e=>{const{__scopeMenu:t,open:n=!1,children:s,dir:a,onOpenChange:i,modal:o=!0}=e,l=F1(t),[c,d]=m.useState(null),u=m.useRef(!1),f=Fi(i),v=bh(a);return m.useEffect(()=>{const g=()=>{u.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>u.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),r.jsx(Tx,{...l,children:r.jsx(Uoe,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:d,children:r.jsx(Qoe,{scope:t,onClose:m.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:u,dir:v,modal:o,children:s})})})};w8.displayName=Lx;var Hoe="MenuAnchor",B4=m.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,a=F1(n);return r.jsx(rp,{...a,...s,ref:t})});B4.displayName=Hoe;var E4="MenuPortal",[zoe,b8]=wf(E4,{forceMount:void 0}),j8=e=>{const{__scopeMenu:t,forceMount:n,children:s,container:a}=e,i=bf(E4,t);return r.jsx(zoe,{scope:t,forceMount:n,children:r.jsx(Na,{present:n||i.open,children:r.jsx(Xm,{asChild:!0,container:a,children:s})})})};j8.displayName=E4;var Hc="MenuContent",[Voe,I4]=wf(Hc),N8=m.forwardRef((e,t)=>{const n=b8(Hc,e.__scopeMenu),{forceMount:s=n.forceMount,...a}=e,i=bf(Hc,e.__scopeMenu),o=Rx(Hc,e.__scopeMenu);return r.jsx(Zg.Provider,{scope:e.__scopeMenu,children:r.jsx(Na,{present:s||i.open,children:r.jsx(Zg.Slot,{scope:e.__scopeMenu,children:o.modal?r.jsx(Koe,{...a,ref:t}):r.jsx(Woe,{...a,ref:t})})})})}),Koe=m.forwardRef((e,t)=>{const n=bf(Hc,e.__scopeMenu),s=m.useRef(null),a=an(t,s);return m.useEffect(()=>{const i=s.current;if(i)return b1(i)},[]),r.jsx(T4,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Kt(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Woe=m.forwardRef((e,t)=>{const n=bf(Hc,e.__scopeMenu);return r.jsx(T4,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),$oe=oh("MenuContent.ScrollLock"),T4=m.forwardRef((e,t)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:v,onDismiss:g,disableOutsideScroll:w,...y}=e,b=bf(Hc,n),x=Rx(Hc,n),N=F1(n),S=y8(n),k=Ooe(n),[F,$]=m.useState(null),U=m.useRef(null),D=an(t,U,b.onContentChange),H=m.useRef(0),K=m.useRef(""),B=m.useRef(0),R=m.useRef(null),Z=m.useRef("right"),te=m.useRef(0),ye=w?Bx:m.Fragment,de=w?{as:$oe,allowPinchZoom:!0}:void 0,le=oe=>{var G,ue;const ce=K.current+oe,ee=k().filter(ie=>!ie.disabled),M=document.activeElement,E=(G=ee.find(ie=>ie.ref.current===M))==null?void 0:G.textValue,q=ee.map(ie=>ie.textValue),se=ile(q,ce,E),re=(ue=ee.find(ie=>ie.textValue===se))==null?void 0:ue.ref.current;(function ie(Ee){K.current=Ee,window.clearTimeout(H.current),Ee!==""&&(H.current=window.setTimeout(()=>ie(""),1e3))})(ce),re&&setTimeout(()=>re.focus())};m.useEffect(()=>()=>window.clearTimeout(H.current),[]),y1();const Q=m.useCallback(oe=>{var ee,M;return Z.current===((ee=R.current)==null?void 0:ee.side)&&ole(oe,(M=R.current)==null?void 0:M.area)},[]);return r.jsx(Voe,{scope:n,searchRef:K,onItemEnter:m.useCallback(oe=>{Q(oe)&&oe.preventDefault()},[Q]),onItemLeave:m.useCallback(oe=>{var ce;Q(oe)||((ce=U.current)==null||ce.focus(),$(null))},[Q]),onTriggerLeave:m.useCallback(oe=>{Q(oe)&&oe.preventDefault()},[Q]),pointerGraceTimerRef:B,onPointerGraceIntentChange:m.useCallback(oe=>{R.current=oe},[]),children:r.jsx(ye,{...de,children:r.jsx(Sx,{asChild:!0,trapped:a,onMountAutoFocus:Kt(i,oe=>{var ce;oe.preventDefault(),(ce=U.current)==null||ce.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:r.jsx(Nh,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:v,onDismiss:g,children:r.jsx(_4,{asChild:!0,...S,dir:x.dir,orientation:"vertical",loop:s,currentTabStopId:F,onCurrentTabStopIdChange:$,onEntryFocus:Kt(c,oe=>{x.isUsingKeyboardRef.current||oe.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(kx,{role:"menu","aria-orientation":"vertical","data-state":U8(b.open),"data-radix-menu-content":"",dir:x.dir,...N,...y,ref:D,style:{outline:"none",...y.style},onKeyDown:Kt(y.onKeyDown,oe=>{const ee=oe.target.closest("[data-radix-menu-content]")===oe.currentTarget,M=oe.ctrlKey||oe.altKey||oe.metaKey,E=oe.key.length===1;ee&&(oe.key==="Tab"&&oe.preventDefault(),!M&&E&&le(oe.key));const q=U.current;if(oe.target!==q||!Foe.includes(oe.key))return;oe.preventDefault();const re=k().filter(G=>!G.disabled).map(G=>G.ref.current);v8.includes(oe.key)&&re.reverse(),nle(re)}),onBlur:Kt(e.onBlur,oe=>{oe.currentTarget.contains(oe.target)||(window.clearTimeout(H.current),K.current="")}),onPointerMove:Kt(e.onPointerMove,ex(oe=>{const ce=oe.target,ee=te.current!==oe.clientX;if(oe.currentTarget.contains(ce)&&ee){const M=oe.clientX>te.current?"right":"left";Z.current=M,te.current=oe.clientX}}))})})})})})})});N8.displayName=Hc;var Goe="MenuGroup",k4=m.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(jr.div,{role:"group",...s,ref:t})});k4.displayName=Goe;var qoe="MenuLabel",C8=m.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(jr.div,{...s,ref:t})});C8.displayName=qoe;var ky="MenuItem",wT="menu.itemSelect",L1=m.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:s,...a}=e,i=m.useRef(null),o=Rx(ky,e.__scopeMenu),l=I4(ky,e.__scopeMenu),c=an(t,i),d=m.useRef(!1),u=()=>{const f=i.current;if(!n&&f){const v=new CustomEvent(wT,{bubbles:!0,cancelable:!0});f.addEventListener(wT,g=>s==null?void 0:s(g),{once:!0}),yS(f,v),v.defaultPrevented?d.current=!1:o.onClose()}};return r.jsx(_8,{...a,ref:c,disabled:n,onClick:Kt(e.onClick,u),onPointerDown:f=>{var v;(v=e.onPointerDown)==null||v.call(e,f),d.current=!0},onPointerUp:Kt(e.onPointerUp,f=>{var v;d.current||(v=f.currentTarget)==null||v.click()}),onKeyDown:Kt(e.onKeyDown,f=>{const v=l.searchRef.current!=="";n||v&&f.key===" "||O_.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});L1.displayName=ky;var _8=m.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:s=!1,textValue:a,...i}=e,o=I4(ky,n),l=y8(n),c=m.useRef(null),d=an(t,c),[u,f]=m.useState(!1),[v,g]=m.useState("");return m.useEffect(()=>{const w=c.current;w&&g((w.textContent??"").trim())},[i.children]),r.jsx(Zg.ItemSlot,{scope:n,disabled:s,textValue:a??v,children:r.jsx(S4,{asChild:!0,...l,focusable:!s,children:r.jsx(jr.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...i,ref:d,onPointerMove:Kt(e.onPointerMove,ex(w=>{s?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Kt(e.onPointerLeave,ex(w=>o.onItemLeave(w))),onFocus:Kt(e.onFocus,()=>f(!0)),onBlur:Kt(e.onBlur,()=>f(!1))})})})}),Joe="MenuCheckboxItem",S8=m.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:s,...a}=e;return r.jsx(k8,{scope:e.__scopeMenu,checked:n,children:r.jsx(L1,{role:"menuitemcheckbox","aria-checked":Py(n)?"mixed":n,...a,ref:t,"data-state":D4(n),onSelect:Kt(a.onSelect,()=>s==null?void 0:s(Py(n)?!0:!n),{checkForDefaultPrevented:!1})})})});S8.displayName=Joe;var B8="MenuRadioGroup",[Yoe,Xoe]=wf(B8,{value:void 0,onValueChange:()=>{}}),E8=m.forwardRef((e,t)=>{const{value:n,onValueChange:s,...a}=e,i=Fi(s);return r.jsx(Yoe,{scope:e.__scopeMenu,value:n,onValueChange:i,children:r.jsx(k4,{...a,ref:t})})});E8.displayName=B8;var I8="MenuRadioItem",T8=m.forwardRef((e,t)=>{const{value:n,...s}=e,a=Xoe(I8,e.__scopeMenu),i=n===a.value;return r.jsx(k8,{scope:e.__scopeMenu,checked:i,children:r.jsx(L1,{role:"menuitemradio","aria-checked":i,...s,ref:t,"data-state":D4(i),onSelect:Kt(s.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,n)},{checkForDefaultPrevented:!1})})})});T8.displayName=I8;var P4="MenuItemIndicator",[k8,Zoe]=wf(P4,{checked:!1}),P8=m.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:s,...a}=e,i=Zoe(P4,n);return r.jsx(Na,{present:s||Py(i.checked)||i.checked===!0,children:r.jsx(jr.span,{...a,ref:t,"data-state":D4(i.checked)})})});P8.displayName=P4;var ele="MenuSeparator",D8=m.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(jr.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});D8.displayName=ele;var tle="MenuArrow",F8=m.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,a=F1(n);return r.jsx(Px,{...a,...s,ref:t})});F8.displayName=tle;var rle="MenuSub",[h5e,L8]=wf(rle),gg="MenuSubTrigger",R8=m.forwardRef((e,t)=>{const n=bf(gg,e.__scopeMenu),s=Rx(gg,e.__scopeMenu),a=L8(gg,e.__scopeMenu),i=I4(gg,e.__scopeMenu),o=m.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},u=m.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return m.useEffect(()=>u,[u]),m.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),r.jsx(B4,{asChild:!0,...d,children:r.jsx(_8,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":U8(n.open),...e,ref:_d(t,a.onTriggerChange),onClick:f=>{var v;(v=e.onClick)==null||v.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Kt(e.onPointerMove,ex(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:Kt(e.onPointerLeave,ex(f=>{var g,w;u();const v=(g=n.content)==null?void 0:g.getBoundingClientRect();if(v){const y=(w=n.content)==null?void 0:w.dataset.side,b=y==="right",x=b?-5:5,N=v[b?"left":"right"],S=v[b?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:N,y:v.top},{x:S,y:v.top},{x:S,y:v.bottom},{x:N,y:v.bottom}],side:y}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Kt(e.onKeyDown,f=>{var g;const v=i.searchRef.current!=="";e.disabled||v&&f.key===" "||Loe[s.dir].includes(f.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),f.preventDefault())})})})});R8.displayName=gg;var O8="MenuSubContent",M8=m.forwardRef((e,t)=>{const n=b8(Hc,e.__scopeMenu),{forceMount:s=n.forceMount,...a}=e,i=bf(Hc,e.__scopeMenu),o=Rx(Hc,e.__scopeMenu),l=L8(O8,e.__scopeMenu),c=m.useRef(null),d=an(t,c);return r.jsx(Zg.Provider,{scope:e.__scopeMenu,children:r.jsx(Na,{present:s||i.open,children:r.jsx(Zg.Slot,{scope:e.__scopeMenu,children:r.jsx(T4,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:Kt(e.onFocusOutside,u=>{u.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Kt(e.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:Kt(e.onKeyDown,u=>{var g;const f=u.currentTarget.contains(u.target),v=Roe[o.dir].includes(u.key);f&&v&&(i.onOpenChange(!1),(g=l.trigger)==null||g.focus(),u.preventDefault())})})})})})});M8.displayName=O8;function U8(e){return e?"open":"closed"}function Py(e){return e==="indeterminate"}function D4(e){return Py(e)?"indeterminate":e?"checked":"unchecked"}function nle(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function sle(e,t){return e.map((n,s)=>e[(t+s)%e.length])}function ile(e,t,n){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=sle(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function ale(e,t){const{x:n,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],d=l.x,u=l.y,f=c.x,v=c.y;u>s!=v>s&&n<(f-d)*(s-u)/(v-u)+d&&(a=!a)}return a}function ole(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return ale(n,t)}function ex(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Q8=w8,H8=B4,z8=j8,V8=N8,K8=k4,W8=C8,$8=L1,G8=S8,q8=E8,J8=T8,Y8=P8,X8=D8,Z8=F8,eQ=R8,tQ=M8,F4="ContextMenu",[lle,f5e]=ji(F4,[D1]),bl=D1(),[cle,rQ]=lle(F4),nQ=e=>{const{__scopeContextMenu:t,children:n,onOpenChange:s,dir:a,modal:i=!0}=e,[o,l]=m.useState(!1),c=bl(t),d=Fi(s),u=m.useCallback(f=>{l(f),d(f)},[d]);return r.jsx(cle,{scope:t,open:o,onOpenChange:u,modal:i,children:r.jsx(Q8,{...c,dir:a,open:o,onOpenChange:u,modal:i,children:n})})};nQ.displayName=F4;var sQ="ContextMenuTrigger",iQ=m.forwardRef((e,t)=>{const{__scopeContextMenu:n,disabled:s=!1,...a}=e,i=rQ(sQ,n),o=bl(n),l=m.useRef({x:0,y:0}),c=m.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...l.current})}),d=m.useRef(0),u=m.useCallback(()=>window.clearTimeout(d.current),[]),f=v=>{l.current={x:v.clientX,y:v.clientY},i.onOpenChange(!0)};return m.useEffect(()=>u,[u]),m.useEffect(()=>void(s&&u()),[s,u]),r.jsxs(r.Fragment,{children:[r.jsx(H8,{...o,virtualRef:c}),r.jsx(jr.span,{"data-state":i.open?"open":"closed","data-disabled":s?"":void 0,...a,ref:t,style:{WebkitTouchCallout:"none",...e.style},onContextMenu:s?e.onContextMenu:Kt(e.onContextMenu,v=>{u(),f(v),v.preventDefault()}),onPointerDown:s?e.onPointerDown:Kt(e.onPointerDown,$v(v=>{u(),d.current=window.setTimeout(()=>f(v),700)})),onPointerMove:s?e.onPointerMove:Kt(e.onPointerMove,$v(u)),onPointerCancel:s?e.onPointerCancel:Kt(e.onPointerCancel,$v(u)),onPointerUp:s?e.onPointerUp:Kt(e.onPointerUp,$v(u))})]})});iQ.displayName=sQ;var dle="ContextMenuPortal",aQ=e=>{const{__scopeContextMenu:t,...n}=e,s=bl(t);return r.jsx(z8,{...s,...n})};aQ.displayName=dle;var oQ="ContextMenuContent",lQ=m.forwardRef((e,t)=>{const{__scopeContextMenu:n,...s}=e,a=rQ(oQ,n),i=bl(n),o=m.useRef(!1);return r.jsx(V8,{...i,...s,ref:t,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:l=>{var c;(c=e.onCloseAutoFocus)==null||c.call(e,l),!l.defaultPrevented&&o.current&&l.preventDefault(),o.current=!1},onInteractOutside:l=>{var c;(c=e.onInteractOutside)==null||c.call(e,l),!l.defaultPrevented&&!a.modal&&(o.current=!0)},style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});lQ.displayName=oQ;var ule="ContextMenuGroup",Ale=m.forwardRef((e,t)=>{const{__scopeContextMenu:n,...s}=e,a=bl(n);return r.jsx(K8,{...a,...s,ref:t})});Ale.displayName=ule;var hle="ContextMenuLabel",cQ=m.forwardRef((e,t)=>{const{__scopeContextMenu:n,...s}=e,a=bl(n);return r.jsx(W8,{...a,...s,ref:t})});cQ.displayName=hle;var fle="ContextMenuItem",dQ=m.forwardRef((e,t)=>{const{__scopeContextMenu:n,...s}=e,a=bl(n);return r.jsx($8,{...a,...s,ref:t})});dQ.displayName=fle;var mle="ContextMenuCheckboxItem",uQ=m.forwardRef((e,t)=>{const{__scopeContextMenu:n,...s}=e,a=bl(n);return r.jsx(G8,{...a,...s,ref:t})});uQ.displayName=mle;var ple="ContextMenuRadioGroup",gle=m.forwardRef((e,t)=>{const{__scopeContextMenu:n,...s}=e,a=bl(n);return r.jsx(q8,{...a,...s,ref:t})});gle.displayName=ple;var xle="ContextMenuRadioItem",AQ=m.forwardRef((e,t)=>{const{__scopeContextMenu:n,...s}=e,a=bl(n);return r.jsx(J8,{...a,...s,ref:t})});AQ.displayName=xle;var vle="ContextMenuItemIndicator",hQ=m.forwardRef((e,t)=>{const{__scopeContextMenu:n,...s}=e,a=bl(n);return r.jsx(Y8,{...a,...s,ref:t})});hQ.displayName=vle;var yle="ContextMenuSeparator",fQ=m.forwardRef((e,t)=>{const{__scopeContextMenu:n,...s}=e,a=bl(n);return r.jsx(X8,{...a,...s,ref:t})});fQ.displayName=yle;var wle="ContextMenuArrow",ble=m.forwardRef((e,t)=>{const{__scopeContextMenu:n,...s}=e,a=bl(n);return r.jsx(Z8,{...a,...s,ref:t})});ble.displayName=wle;var jle="ContextMenuSubTrigger",mQ=m.forwardRef((e,t)=>{const{__scopeContextMenu:n,...s}=e,a=bl(n);return r.jsx(eQ,{...a,...s,ref:t})});mQ.displayName=jle;var Nle="ContextMenuSubContent",pQ=m.forwardRef((e,t)=>{const{__scopeContextMenu:n,...s}=e,a=bl(n);return r.jsx(tQ,{...a,...s,ref:t,style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});pQ.displayName=Nle;function $v(e){return t=>t.pointerType!=="mouse"?e(t):void 0}var Cle=nQ,_le=iQ,Sle=aQ,gQ=lQ,xQ=cQ,vQ=dQ,yQ=uQ,wQ=AQ,bQ=hQ,jQ=fQ,NQ=mQ,CQ=pQ;const Ble=Cle,Ele=_le,Ile=m.forwardRef(({className:e,inset:t,children:n,...s},a)=>r.jsxs(NQ,{ref:a,className:Tt("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",t&&"pl-8",e),...s,children:[n,r.jsx(Vg,{className:"ml-auto h-4 w-4"})]}));Ile.displayName=NQ.displayName;const Tle=m.forwardRef(({className:e,...t},n)=>r.jsx(CQ,{ref:n,className:Tt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Tle.displayName=CQ.displayName;const _Q=m.forwardRef(({className:e,...t},n)=>r.jsx(Sle,{children:r.jsx(gQ,{ref:n,className:Tt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})}));_Q.displayName=gQ.displayName;const J0=m.forwardRef(({className:e,inset:t,...n},s)=>r.jsx(vQ,{ref:s,className:Tt("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));J0.displayName=vQ.displayName;const kle=m.forwardRef(({className:e,children:t,checked:n,...s},a)=>r.jsxs(yQ,{ref:a,className:Tt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(bQ,{children:r.jsx(fc,{className:"h-4 w-4"})})}),t]}));kle.displayName=yQ.displayName;const Ple=m.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(wQ,{ref:s,className:Tt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(bQ,{children:r.jsx(yx,{className:"h-2 w-2 fill-current"})})}),t]}));Ple.displayName=wQ.displayName;const Dle=m.forwardRef(({className:e,inset:t,...n},s)=>r.jsx(xQ,{ref:s,className:Tt("px-2 py-1.5 text-sm font-semibold text-foreground",t&&"pl-8",e),...n}));Dle.displayName=xQ.displayName;const Fle=m.forwardRef(({className:e,...t},n)=>r.jsx(jQ,{ref:n,className:Tt("-mx-1 my-1 h-px bg-border",e),...t}));Fle.displayName=jQ.displayName;const Hp=10,Lle=({onIncidentClick:e})=>{const{toast:t}=ys(),{locale:n}=ir(),[s,a]=m.useState(""),{user:i,setUser:o}=Yn(),[l,c]=m.useState(1),[d,u]=m.useState([]),[f,v]=m.useState(0);m.useEffect(()=>{const S=[...(i==null?void 0:i.recentIncidents)||[]].filter(k=>{var F;return s==""?!0:(F=k==null?void 0:k.description)==null?void 0:F.toLowerCase().includes(s.toLowerCase())}).sort((k,F)=>{const $=new Date(k.time||0).getTime();return new Date(F.time||0).getTime()-$});v(S.length),u(S)},[i,s]);const g=d.slice((l-1)*Hp,l*Hp);async function w(x){if(!(x!=null&&x.id)){console.error("Invalid incident ID");return}try{const N=await ke("deleteDispatchIncident",{incidentId:x.id});N.success?(o(S=>({...S,radioChannels:N==null?void 0:N.radioChannels,recentIncidents:N==null?void 0:N.incidents})),t({title:(n==null?void 0:n.text_incident_marked_as_code_4)||"Incident Marked as Code 4",description:(n==null?void 0:n.text_incident_marked_as_code_4_desc)||"The incident has been marked as Code 4 and removed from the list."})):console.error("No response received.")}catch(N){console.error("Error:",N)}}async function y(x){if(!(x!=null&&x.x)||!(x!=null&&x.y)){console.error("Invalid incident coordinates");return}try{(await ke("setWaypoint",{x:x.x,y:x.y})).success?t({title:(n==null?void 0:n.text_set_waypoint)||"Waypoint Set",description:(n==null?void 0:n.text_set_waypoint_description)||"The waypoint has been set to the incident location."}):console.error("No response received.")}catch(N){console.error("Error:",N)}}const b=Math.ceil(f/Hp);return r.jsx("div",{className:"w-full h-full ",children:r.jsxs(Le,{className:"bg-card/50 backdrop-blur h-full rounded-lg shadow-lg overflow-hidden",children:[r.jsxs(mt,{className:"flex flex-row items-center justify-between p-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(xl,{className:"h-6 w-6 text-yellow-400"}),r.jsx("h3",{className:"text-lg font-semibold text-white",children:(n==null?void 0:n.text_recent_incidents)||"Recent Incidents"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ls,{className:"h-5 w-5 text-muted-foreground"}),r.jsx(ht,{placeholder:(n==null?void 0:n.search_text_active_units_and_channels)||"Search units or channels...",className:"w-64 bg-background/50 border-primary/20 focus:border-primary",value:s,onChange:x=>a(x.target.value)})]})]}),r.jsxs(Je,{className:"p-4",children:[r.jsxs(nr,{className:"h-[calc(75vh-200px)] overflow-y-auto",children:[r.jsx("div",{className:"space-y-4",children:g&&Array.isArray(g)&&(g||[]).map(x=>r.jsx(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:r.jsxs(Ble,{children:[r.jsx(Ele,{children:r.jsx(h8,{call:x})}),r.jsxs(_Q,{children:[r.jsx(J0,{onClick:()=>w(x),children:(n==null?void 0:n.text_mark_as_code_4)||"Mark as Code 4"}),r.jsx(J0,{onClick:()=>e(x),children:(n==null?void 0:n.text_respond)||"Respond"}),r.jsx(J0,{onClick:()=>y(x),children:(n==null?void 0:n.set_waypoint)||"Set Waypoint"})]})]})},x==null?void 0:x.id))}),r.jsx(Gl,{orientation:"vertical"})]}),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsx("div",{children:f>0?r.jsxs(r.Fragment,{children:[(n==null?void 0:n.text_showing)||"Showing"," ",Math.min((l-1)*Hp+1,f)," to"," ",Math.min(l*Hp,f)," of ",f," ",(n==null?void 0:n.text_incidents)||"Incidents"]}):r.jsx(r.Fragment,{children:(n==null?void 0:n.text_no_incidents)||"No incidents found"})}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>c(x=>Math.max(1,x-1)),disabled:l===1||f===0,children:(n==null?void 0:n.text_previous)||"Previous"}),r.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>c(x=>Math.min(b,x+1)),disabled:b===0||l===b,children:(n==null?void 0:n.text_next)||"Next"})]})]})]})]})})};function Rle(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return m.useMemo(()=>s=>{t.forEach(a=>a(s))},t)}const R1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ip(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function L4(e){return"nodeType"in e}function jl(e){var t,n;return e?ip(e)?e:L4(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function R4(e){const{Document:t}=jl(e);return e instanceof t}function Ox(e){return ip(e)?!1:e instanceof jl(e).HTMLElement}function SQ(e){return e instanceof jl(e).SVGElement}function ap(e){return e?ip(e)?e.document:L4(e)?R4(e)?e:Ox(e)||SQ(e)?e.ownerDocument:document:document:document}const xu=R1?m.useLayoutEffect:m.useEffect;function O1(e){const t=m.useRef(e);return xu(()=>{t.current=e}),m.useCallback(function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return t.current==null?void 0:t.current(...s)},[])}function Ole(){const e=m.useRef(null),t=m.useCallback((s,a)=>{e.current=setInterval(s,a)},[]),n=m.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function tx(e,t){t===void 0&&(t=[e]);const n=m.useRef(e);return xu(()=>{n.current!==e&&(n.current=e)},t),n}function Mx(e,t){const n=m.useRef();return m.useMemo(()=>{const s=e(n.current);return n.current=s,s},[...t])}function Dy(e){const t=O1(e),n=m.useRef(null),s=m.useCallback(a=>{a!==n.current&&(t==null||t(a,n.current)),n.current=a},[]);return[n,s]}function Fy(e){const t=m.useRef();return m.useEffect(()=>{t.current=e},[e]),t.current}let a2={};function M1(e,t){return m.useMemo(()=>{if(t)return t;const n=a2[e]==null?0:a2[e]+1;return a2[e]=n,e+"-"+n},[e,t])}function BQ(e){return function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];return s.reduce((i,o)=>{const l=Object.entries(o);for(const[c,d]of l){const u=i[c];u!=null&&(i[c]=u+e*d)}return i},{...t})}}const Bm=BQ(1),rx=BQ(-1);function Mle(e){return"clientX"in e&&"clientY"in e}function U1(e){if(!e)return!1;const{KeyboardEvent:t}=jl(e.target);return t&&e instanceof t}function Ule(e){if(!e)return!1;const{TouchEvent:t}=jl(e.target);return t&&e instanceof t}function Ly(e){if(Ule(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return Mle(e)?{x:e.clientX,y:e.clientY}:null}const cA=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[cA.Translate.toString(e),cA.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:s}=e;return t+" "+n+"ms "+s}}}),bT="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Qle(e){return e.matches(bT)?e:e.querySelector(bT)}const Hle={display:"none"};function zle(e){let{id:t,value:n}=e;return kr.createElement("div",{id:t,style:Hle},n)}function Vle(e){let{id:t,announcement:n,ariaLiveType:s="assertive"}=e;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return kr.createElement("div",{id:t,style:a,role:"status","aria-live":s,"aria-atomic":!0},n)}function Kle(){const[e,t]=m.useState("");return{announce:m.useCallback(s=>{s!=null&&t(s)},[]),announcement:e}}const EQ=m.createContext(null);function Wle(e){const t=m.useContext(EQ);m.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function $le(){const[e]=m.useState(()=>new Set),t=m.useCallback(s=>(e.add(s),()=>e.delete(s)),[e]);return[m.useCallback(s=>{let{type:a,event:i}=s;e.forEach(o=>{var l;return(l=o[a])==null?void 0:l.call(o,i)})},[e]),t]}const Gle={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},qle={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Jle(e){let{announcements:t=qle,container:n,hiddenTextDescribedById:s,screenReaderInstructions:a=Gle}=e;const{announce:i,announcement:o}=Kle(),l=M1("DndLiveRegion"),[c,d]=m.useState(!1);if(m.useEffect(()=>{d(!0)},[]),Wle(m.useMemo(()=>({onDragStart(f){let{active:v}=f;i(t.onDragStart({active:v}))},onDragMove(f){let{active:v,over:g}=f;t.onDragMove&&i(t.onDragMove({active:v,over:g}))},onDragOver(f){let{active:v,over:g}=f;i(t.onDragOver({active:v,over:g}))},onDragEnd(f){let{active:v,over:g}=f;i(t.onDragEnd({active:v,over:g}))},onDragCancel(f){let{active:v,over:g}=f;i(t.onDragCancel({active:v,over:g}))}}),[i,t])),!c)return null;const u=kr.createElement(kr.Fragment,null,kr.createElement(zle,{id:s,value:a.draggable}),kr.createElement(Vle,{id:l,announcement:o}));return n?Kl.createPortal(u,n):u}var Za;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Za||(Za={}));function Ry(){}function jT(e,t){return m.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function Yle(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return m.useMemo(()=>[...t].filter(s=>s!=null),[...t])}const Bd=Object.freeze({x:0,y:0});function Xle(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Zle(e,t){const n=Ly(e);if(!n)return"0 0";const s={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return s.x+"% "+s.y+"%"}function ece(e,t){let{data:{value:n}}=e,{data:{value:s}}=t;return n-s}function tce(e,t){let{data:{value:n}}=e,{data:{value:s}}=t;return s-n}function NT(e){let{left:t,top:n,height:s,width:a}=e;return[{x:t,y:n},{x:t+a,y:n},{x:t,y:n+s},{x:t+a,y:n+s}]}function IQ(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}const rce=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const a=NT(t),i=[];for(const o of s){const{id:l}=o,c=n.get(l);if(c){const d=NT(c),u=a.reduce((v,g,w)=>v+Xle(d[w],g),0),f=Number((u/4).toFixed(4));i.push({id:l,data:{droppableContainer:o,value:f}})}}return i.sort(ece)};function nce(e,t){const n=Math.max(t.top,e.top),s=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),o=a-s,l=i-n;if(s<a&&n<i){const c=t.width*t.height,d=e.width*e.height,u=o*l,f=u/(c+d-u);return Number(f.toFixed(4))}return 0}const TQ=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const a=[];for(const i of s){const{id:o}=i,l=n.get(o);if(l){const c=nce(l,t);c>0&&a.push({id:o,data:{droppableContainer:i,value:c}})}}return a.sort(tce)};function sce(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function kQ(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Bd}function ice(e){return function(n){for(var s=arguments.length,a=new Array(s>1?s-1:0),i=1;i<s;i++)a[i-1]=arguments[i];return a.reduce((o,l)=>({...o,top:o.top+e*l.y,bottom:o.bottom+e*l.y,left:o.left+e*l.x,right:o.right+e*l.x}),{...n})}}const ace=ice(1);function PQ(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function oce(e,t,n){const s=PQ(t);if(!s)return e;const{scaleX:a,scaleY:i,x:o,y:l}=s,c=e.left-o-(1-a)*parseFloat(n),d=e.top-l-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),u=a?e.width/a:e.width,f=i?e.height/i:e.height;return{width:u,height:f,top:d,right:c+u,bottom:d+f,left:c}}const lce={ignoreTransform:!1};function op(e,t){t===void 0&&(t=lce);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:d,transformOrigin:u}=jl(e).getComputedStyle(e);d&&(n=oce(n,d,u))}const{top:s,left:a,width:i,height:o,bottom:l,right:c}=n;return{top:s,left:a,width:i,height:o,bottom:l,right:c}}function CT(e){return op(e,{ignoreTransform:!0})}function cce(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function dce(e,t){return t===void 0&&(t=jl(e).getComputedStyle(e)),t.position==="fixed"}function uce(e,t){t===void 0&&(t=jl(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const i=t[a];return typeof i=="string"?n.test(i):!1})}function Q1(e,t){const n=[];function s(a){if(t!=null&&n.length>=t||!a)return n;if(R4(a)&&a.scrollingElement!=null&&!n.includes(a.scrollingElement))return n.push(a.scrollingElement),n;if(!Ox(a)||SQ(a)||n.includes(a))return n;const i=jl(e).getComputedStyle(a);return a!==e&&uce(a,i)&&n.push(a),dce(a,i)?n:s(a.parentNode)}return e?s(e):n}function DQ(e){const[t]=Q1(e,1);return t??null}function o2(e){return!R1||!e?null:ip(e)?e:L4(e)?R4(e)||e===ap(e).scrollingElement?window:Ox(e)?e:null:null}function FQ(e){return ip(e)?e.scrollX:e.scrollLeft}function LQ(e){return ip(e)?e.scrollY:e.scrollTop}function M_(e){return{x:FQ(e),y:LQ(e)}}var fo;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(fo||(fo={}));function RQ(e){return!R1||!e?!1:e===document.scrollingElement}function OQ(e){const t={x:0,y:0},n=RQ(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},s={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},a=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,o=e.scrollTop>=s.y,l=e.scrollLeft>=s.x;return{isTop:a,isLeft:i,isBottom:o,isRight:l,maxScroll:s,minScroll:t}}const Ace={x:.2,y:.2};function hce(e,t,n,s,a){let{top:i,left:o,right:l,bottom:c}=n;s===void 0&&(s=10),a===void 0&&(a=Ace);const{isTop:d,isBottom:u,isLeft:f,isRight:v}=OQ(e),g={x:0,y:0},w={x:0,y:0},y={height:t.height*a.y,width:t.width*a.x};return!d&&i<=t.top+y.height?(g.y=fo.Backward,w.y=s*Math.abs((t.top+y.height-i)/y.height)):!u&&c>=t.bottom-y.height&&(g.y=fo.Forward,w.y=s*Math.abs((t.bottom-y.height-c)/y.height)),!v&&l>=t.right-y.width?(g.x=fo.Forward,w.x=s*Math.abs((t.right-y.width-l)/y.width)):!f&&o<=t.left+y.width&&(g.x=fo.Backward,w.x=s*Math.abs((t.left+y.width-o)/y.width)),{direction:g,speed:w}}function fce(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:t,left:n,right:s,bottom:a}=e.getBoundingClientRect();return{top:t,left:n,right:s,bottom:a,width:e.clientWidth,height:e.clientHeight}}function MQ(e){return e.reduce((t,n)=>Bm(t,M_(n)),Bd)}function mce(e){return e.reduce((t,n)=>t+FQ(n),0)}function pce(e){return e.reduce((t,n)=>t+LQ(n),0)}function UQ(e,t){if(t===void 0&&(t=op),!e)return;const{top:n,left:s,bottom:a,right:i}=t(e);DQ(e)&&(a<=0||i<=0||n>=window.innerHeight||s>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const gce=[["x",["left","right"],mce],["y",["top","bottom"],pce]];class O4{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=Q1(n),a=MQ(s);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,o,l]of gce)for(const c of o)Object.defineProperty(this,c,{get:()=>{const d=l(s),u=a[i]-d;return this.rect[c]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Pg{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...n)})},this.target=t}add(t,n,s){var a;(a=this.target)==null||a.addEventListener(t,n,s),this.listeners.push([t,n,s])}}function xce(e){const{EventTarget:t}=jl(e);return e instanceof t?e:ap(e)}function l2(e,t){const n=Math.abs(e.x),s=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+s**2)>t:"x"in t&&"y"in t?n>t.x&&s>t.y:"x"in t?n>t.x:"y"in t?s>t.y:!1}var Lc;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Lc||(Lc={}));function _T(e){e.preventDefault()}function vce(e){e.stopPropagation()}var xs;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(xs||(xs={}));const QQ={start:[xs.Space,xs.Enter],cancel:[xs.Esc],end:[xs.Space,xs.Enter,xs.Tab]},yce=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case xs.Right:return{...n,x:n.x+25};case xs.Left:return{...n,x:n.x-25};case xs.Down:return{...n,y:n.y+25};case xs.Up:return{...n,y:n.y-25}}};class M4{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Pg(ap(n)),this.windowListeners=new Pg(jl(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Lc.Resize,this.handleCancel),this.windowListeners.add(Lc.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Lc.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,s=t.node.current;s&&UQ(s),n(Bd)}handleKeyDown(t){if(U1(t)){const{active:n,context:s,options:a}=this.props,{keyboardCodes:i=QQ,coordinateGetter:o=yce,scrollBehavior:l="smooth"}=a,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:d}=s.current,u=d?{x:d.left,y:d.top}:Bd;this.referenceCoordinates||(this.referenceCoordinates=u);const f=o(t,{active:n,context:s.current,currentCoordinates:u});if(f){const v=rx(f,u),g={x:0,y:0},{scrollableAncestors:w}=s.current;for(const y of w){const b=t.code,{isTop:x,isRight:N,isLeft:S,isBottom:k,maxScroll:F,minScroll:$}=OQ(y),U=fce(y),D={x:Math.min(b===xs.Right?U.right-U.width/2:U.right,Math.max(b===xs.Right?U.left:U.left+U.width/2,f.x)),y:Math.min(b===xs.Down?U.bottom-U.height/2:U.bottom,Math.max(b===xs.Down?U.top:U.top+U.height/2,f.y))},H=b===xs.Right&&!N||b===xs.Left&&!S,K=b===xs.Down&&!k||b===xs.Up&&!x;if(H&&D.x!==f.x){const B=y.scrollLeft+v.x,R=b===xs.Right&&B<=F.x||b===xs.Left&&B>=$.x;if(R&&!v.y){y.scrollTo({left:B,behavior:l});return}R?g.x=y.scrollLeft-B:g.x=b===xs.Right?y.scrollLeft-F.x:y.scrollLeft-$.x,g.x&&y.scrollBy({left:-g.x,behavior:l});break}else if(K&&D.y!==f.y){const B=y.scrollTop+v.y,R=b===xs.Down&&B<=F.y||b===xs.Up&&B>=$.y;if(R&&!v.x){y.scrollTo({top:B,behavior:l});return}R?g.y=y.scrollTop-B:g.y=b===xs.Down?y.scrollTop-F.y:y.scrollTop-$.y,g.y&&y.scrollBy({top:-g.y,behavior:l});break}}this.handleMove(t,Bm(rx(f,this.referenceCoordinates),g))}}}handleMove(t,n){const{onMove:s}=this.props;t.preventDefault(),s(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}M4.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:s=QQ,onActivation:a}=t,{active:i}=n;const{code:o}=e.nativeEvent;if(s.start.includes(o)){const l=i.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),a==null||a({event:e.nativeEvent}),!0)}return!1}}];function ST(e){return!!(e&&"distance"in e)}function BT(e){return!!(e&&"delay"in e)}class U4{constructor(t,n,s){var a;s===void 0&&(s=xce(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:o}=i;this.props=t,this.events=n,this.document=ap(o),this.documentListeners=new Pg(this.document),this.listeners=new Pg(s),this.windowListeners=new Pg(jl(o)),this.initialCoordinates=(a=Ly(i))!=null?a:Bd,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:s}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Lc.Resize,this.handleCancel),this.windowListeners.add(Lc.DragStart,_T),this.windowListeners.add(Lc.VisibilityChange,this.handleCancel),this.windowListeners.add(Lc.ContextMenu,_T),this.documentListeners.add(Lc.Keydown,this.handleKeydown),n){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(BT(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(ST(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:s,onPending:a}=this.props;a(s,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Lc.Click,vce,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Lc.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:s,initialCoordinates:a,props:i}=this,{onMove:o,options:{activationConstraint:l}}=i;if(!a)return;const c=(n=Ly(t))!=null?n:Bd,d=rx(a,c);if(!s&&l){if(ST(l)){if(l.tolerance!=null&&l2(d,l.tolerance))return this.handleCancel();if(l2(d,l.distance))return this.handleStart()}if(BT(l)&&l2(d,l.tolerance))return this.handleCancel();this.handlePending(l,d);return}t.cancelable&&t.preventDefault(),o(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===xs.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const wce={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Q4 extends U4{constructor(t){const{event:n}=t,s=ap(n.target);super(t,wce,s)}}Q4.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;return!n.isPrimary||n.button!==0?!1:(s==null||s({event:n}),!0)}}];const bce={move:{name:"mousemove"},end:{name:"mouseup"}};var U_;(function(e){e[e.RightClick=2]="RightClick"})(U_||(U_={}));class jce extends U4{constructor(t){super(t,bce,ap(t.event.target))}}jce.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;return n.button===U_.RightClick?!1:(s==null||s({event:n}),!0)}}];const c2={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Nce extends U4{constructor(t){super(t,c2)}static setup(){return window.addEventListener(c2.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(c2.move.name,t)};function t(){}}}Nce.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;const{touches:a}=n;return a.length>1?!1:(s==null||s({event:n}),!0)}}];var Dg;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Dg||(Dg={}));var Oy;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Oy||(Oy={}));function Cce(e){let{acceleration:t,activator:n=Dg.Pointer,canScroll:s,draggingRect:a,enabled:i,interval:o=5,order:l=Oy.TreeOrder,pointerCoordinates:c,scrollableAncestors:d,scrollableAncestorRects:u,delta:f,threshold:v}=e;const g=Sce({delta:f,disabled:!i}),[w,y]=Ole(),b=m.useRef({x:0,y:0}),x=m.useRef({x:0,y:0}),N=m.useMemo(()=>{switch(n){case Dg.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Dg.DraggableRect:return a}},[n,a,c]),S=m.useRef(null),k=m.useCallback(()=>{const $=S.current;if(!$)return;const U=b.current.x*x.current.x,D=b.current.y*x.current.y;$.scrollBy(U,D)},[]),F=m.useMemo(()=>l===Oy.TreeOrder?[...d].reverse():d,[l,d]);m.useEffect(()=>{if(!i||!d.length||!N){y();return}for(const $ of F){if((s==null?void 0:s($))===!1)continue;const U=d.indexOf($),D=u[U];if(!D)continue;const{direction:H,speed:K}=hce($,D,N,t,v);for(const B of["x","y"])g[B][H[B]]||(K[B]=0,H[B]=0);if(K.x>0||K.y>0){y(),S.current=$,w(k,o),b.current=K,x.current=H;return}}b.current={x:0,y:0},x.current={x:0,y:0},y()},[t,k,s,y,i,o,JSON.stringify(N),JSON.stringify(g),w,d,F,u,JSON.stringify(v)])}const _ce={x:{[fo.Backward]:!1,[fo.Forward]:!1},y:{[fo.Backward]:!1,[fo.Forward]:!1}};function Sce(e){let{delta:t,disabled:n}=e;const s=Fy(t);return Mx(a=>{if(n||!s||!a)return _ce;const i={x:Math.sign(t.x-s.x),y:Math.sign(t.y-s.y)};return{x:{[fo.Backward]:a.x[fo.Backward]||i.x===-1,[fo.Forward]:a.x[fo.Forward]||i.x===1},y:{[fo.Backward]:a.y[fo.Backward]||i.y===-1,[fo.Forward]:a.y[fo.Forward]||i.y===1}}},[n,t,s])}function Bce(e,t){const n=t!=null?e.get(t):void 0,s=n?n.node.current:null;return Mx(a=>{var i;return t==null?null:(i=s??a)!=null?i:null},[s,t])}function Ece(e,t){return m.useMemo(()=>e.reduce((n,s)=>{const{sensor:a}=s,i=a.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,s)}));return[...n,...i]},[]),[e,t])}var nx;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(nx||(nx={}));var Q_;(function(e){e.Optimized="optimized"})(Q_||(Q_={}));const ET=new Map;function Ice(e,t){let{dragging:n,dependencies:s,config:a}=t;const[i,o]=m.useState(null),{frequency:l,measure:c,strategy:d}=a,u=m.useRef(e),f=b(),v=tx(f),g=m.useCallback(function(x){x===void 0&&(x=[]),!v.current&&o(N=>N===null?x:N.concat(x.filter(S=>!N.includes(S))))},[v]),w=m.useRef(null),y=Mx(x=>{if(f&&!n)return ET;if(!x||x===ET||u.current!==e||i!=null){const N=new Map;for(let S of e){if(!S)continue;if(i&&i.length>0&&!i.includes(S.id)&&S.rect.current){N.set(S.id,S.rect.current);continue}const k=S.node.current,F=k?new O4(c(k),k):null;S.rect.current=F,F&&N.set(S.id,F)}return N}return x},[e,i,n,f,c]);return m.useEffect(()=>{u.current=e},[e]),m.useEffect(()=>{f||g()},[n,f]),m.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),m.useEffect(()=>{f||typeof l!="number"||w.current!==null||(w.current=setTimeout(()=>{g(),w.current=null},l))},[l,f,g,...s]),{droppableRects:y,measureDroppableContainers:g,measuringScheduled:i!=null};function b(){switch(d){case nx.Always:return!1;case nx.BeforeDragging:return n;default:return!n}}}function H4(e,t){return Mx(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function Tce(e,t){return H4(e,t)}function kce(e){let{callback:t,disabled:n}=e;const s=O1(t),a=m.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(s)},[s,n]);return m.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function H1(e){let{callback:t,disabled:n}=e;const s=O1(t),a=m.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(s)},[n]);return m.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function Pce(e){return new O4(op(e),e)}function IT(e,t,n){t===void 0&&(t=Pce);const[s,a]=m.useState(null);function i(){a(c=>{if(!e)return null;if(e.isConnected===!1){var d;return(d=c??n)!=null?d:null}const u=t(e);return JSON.stringify(c)===JSON.stringify(u)?c:u})}const o=kce({callback(c){if(e)for(const d of c){const{type:u,target:f}=d;if(u==="childList"&&f instanceof HTMLElement&&f.contains(e)){i();break}}}}),l=H1({callback:i});return xu(()=>{i(),e?(l==null||l.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),o==null||o.disconnect())},[e]),s}function Dce(e){const t=H4(e);return kQ(e,t)}const TT=[];function Fce(e){const t=m.useRef(e),n=Mx(s=>e?s&&s!==TT&&e&&t.current&&e.parentNode===t.current.parentNode?s:Q1(e):TT,[e]);return m.useEffect(()=>{t.current=e},[e]),n}function Lce(e){const[t,n]=m.useState(null),s=m.useRef(e),a=m.useCallback(i=>{const o=o2(i.target);o&&n(l=>l?(l.set(o,M_(o)),new Map(l)):null)},[]);return m.useEffect(()=>{const i=s.current;if(e!==i){o(i);const l=e.map(c=>{const d=o2(c);return d?(d.addEventListener("scroll",a,{passive:!0}),[d,M_(d)]):null}).filter(c=>c!=null);n(l.length?new Map(l):null),s.current=e}return()=>{o(e),o(i)};function o(l){l.forEach(c=>{const d=o2(c);d==null||d.removeEventListener("scroll",a)})}},[a,e]),m.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,o)=>Bm(i,o),Bd):MQ(e):Bd,[e,t])}function kT(e,t){t===void 0&&(t=[]);const n=m.useRef(null);return m.useEffect(()=>{n.current=null},t),m.useEffect(()=>{const s=e!==Bd;s&&!n.current&&(n.current=e),!s&&n.current&&(n.current=null)},[e]),n.current?rx(e,n.current):Bd}function Rce(e){m.useEffect(()=>{if(!R1)return;const t=e.map(n=>{let{sensor:s}=n;return s.setup==null?void 0:s.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function Oce(e,t){return m.useMemo(()=>e.reduce((n,s)=>{let{eventName:a,handler:i}=s;return n[a]=o=>{i(o,t)},n},{}),[e,t])}function HQ(e){return m.useMemo(()=>e?cce(e):null,[e])}const PT=[];function Mce(e,t){t===void 0&&(t=op);const[n]=e,s=HQ(n?jl(n):null),[a,i]=m.useState(PT);function o(){i(()=>e.length?e.map(c=>RQ(c)?s:new O4(t(c),c)):PT)}const l=H1({callback:o});return xu(()=>{l==null||l.disconnect(),o(),e.forEach(c=>l==null?void 0:l.observe(c))},[e]),a}function zQ(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Ox(t)?t:e}function Uce(e){let{measure:t}=e;const[n,s]=m.useState(null),a=m.useCallback(d=>{for(const{target:u}of d)if(Ox(u)){s(f=>{const v=t(u);return f?{...f,width:v.width,height:v.height}:v});break}},[t]),i=H1({callback:a}),o=m.useCallback(d=>{const u=zQ(d);i==null||i.disconnect(),u&&(i==null||i.observe(u)),s(u?t(u):null)},[t,i]),[l,c]=Dy(o);return m.useMemo(()=>({nodeRef:l,rect:n,setRef:c}),[n,l,c])}const Qce=[{sensor:Q4,options:{}},{sensor:M4,options:{}}],Hce={current:{}},Y0={draggable:{measure:CT},droppable:{measure:CT,strategy:nx.WhileDragging,frequency:Q_.Optimized},dragOverlay:{measure:op}};class Fg extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,s;return(n=(s=this.get(t))==null?void 0:s.node.current)!=null?n:void 0}}const zce={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Fg,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Ry},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Y0,measureDroppableContainers:Ry,windowRect:null,measuringScheduled:!1},VQ={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Ry,draggableNodes:new Map,over:null,measureDroppableContainers:Ry},Ux=m.createContext(VQ),KQ=m.createContext(zce);function Vce(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Fg}}}function Kce(e,t){switch(t.type){case Za.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Za.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Za.DragEnd:case Za.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Za.RegisterDroppable:{const{element:n}=t,{id:s}=n,a=new Fg(e.droppable.containers);return a.set(s,n),{...e,droppable:{...e.droppable,containers:a}}}case Za.SetDroppableDisabled:{const{id:n,key:s,disabled:a}=t,i=e.droppable.containers.get(n);if(!i||s!==i.key)return e;const o=new Fg(e.droppable.containers);return o.set(n,{...i,disabled:a}),{...e,droppable:{...e.droppable,containers:o}}}case Za.UnregisterDroppable:{const{id:n,key:s}=t,a=e.droppable.containers.get(n);if(!a||s!==a.key)return e;const i=new Fg(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function Wce(e){let{disabled:t}=e;const{active:n,activatorEvent:s,draggableNodes:a}=m.useContext(Ux),i=Fy(s),o=Fy(n==null?void 0:n.id);return m.useEffect(()=>{if(!t&&!s&&i&&o!=null){if(!U1(i)||document.activeElement===i.target)return;const l=a.get(o);if(!l)return;const{activatorNode:c,node:d}=l;if(!c.current&&!d.current)return;requestAnimationFrame(()=>{for(const u of[c.current,d.current]){if(!u)continue;const f=Qle(u);if(f){f.focus();break}}})}},[s,t,a,o,i]),null}function WQ(e,t){let{transform:n,...s}=t;return e!=null&&e.length?e.reduce((a,i)=>i({transform:a,...s}),n):n}function $ce(e){return m.useMemo(()=>({draggable:{...Y0.draggable,...e==null?void 0:e.draggable},droppable:{...Y0.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Y0.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function Gce(e){let{activeNode:t,measure:n,initialRect:s,config:a=!0}=e;const i=m.useRef(!1),{x:o,y:l}=typeof a=="boolean"?{x:a,y:a}:a;xu(()=>{if(!o&&!l||!t){i.current=!1;return}if(i.current||!s)return;const d=t==null?void 0:t.node.current;if(!d||d.isConnected===!1)return;const u=n(d),f=kQ(u,s);if(o||(f.x=0),l||(f.y=0),i.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const v=DQ(d);v&&v.scrollBy({top:f.y,left:f.x})}},[t,o,l,s,n])}const z1=m.createContext({...Bd,scaleX:1,scaleY:1});var zA;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(zA||(zA={}));const qce=m.memo(function(t){var n,s,a,i;let{id:o,accessibility:l,autoScroll:c=!0,children:d,sensors:u=Qce,collisionDetection:f=TQ,measuring:v,modifiers:g,...w}=t;const y=m.useReducer(Kce,void 0,Vce),[b,x]=y,[N,S]=$le(),[k,F]=m.useState(zA.Uninitialized),$=k===zA.Initialized,{draggable:{active:U,nodes:D,translate:H},droppable:{containers:K}}=b,B=U!=null?D.get(U):null,R=m.useRef({initial:null,translated:null}),Z=m.useMemo(()=>{var Ge;return U!=null?{id:U,data:(Ge=B==null?void 0:B.data)!=null?Ge:Hce,rect:R}:null},[U,B]),te=m.useRef(null),[ye,de]=m.useState(null),[le,Q]=m.useState(null),oe=tx(w,Object.values(w)),ce=M1("DndDescribedBy",o),ee=m.useMemo(()=>K.getEnabled(),[K]),M=$ce(v),{droppableRects:E,measureDroppableContainers:q,measuringScheduled:se}=Ice(ee,{dragging:$,dependencies:[H.x,H.y],config:M.droppable}),re=Bce(D,U),G=m.useMemo(()=>le?Ly(le):null,[le]),ue=qt(),ie=Tce(re,M.draggable.measure);Gce({activeNode:U!=null?D.get(U):null,config:ue.layoutShiftCompensation,initialRect:ie,measure:M.draggable.measure});const Ee=IT(re,M.draggable.measure,ie),He=IT(re?re.parentElement:null),rt=m.useRef({activatorEvent:null,active:null,activeNode:re,collisionRect:null,collisions:null,droppableRects:E,draggableNodes:D,draggingNode:null,draggingNodeRect:null,droppableContainers:K,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),we=K.getNodeFor((n=rt.current.over)==null?void 0:n.id),Ve=Uce({measure:M.dragOverlay.measure}),Re=(s=Ve.nodeRef.current)!=null?s:re,je=$?(a=Ve.rect)!=null?a:Ee:null,Mt=!!(Ve.nodeRef.current&&Ve.rect),Bt=Dce(Mt?null:Ee),ct=HQ(Re?jl(Re):null),vt=Fce($?we??re:null),wt=Mce(vt),Fe=WQ(g,{transform:{x:H.x-Bt.x,y:H.y-Bt.y,scaleX:1,scaleY:1},activatorEvent:le,active:Z,activeNodeRect:Ee,containerNodeRect:He,draggingNodeRect:je,over:rt.current.over,overlayNodeRect:Ve.rect,scrollableAncestors:vt,scrollableAncestorRects:wt,windowRect:ct}),Oe=G?Bm(G,H):null,_e=Lce(vt),nt=kT(_e),ut=kT(_e,[Ee]),jt=Bm(Fe,nt),zt=je?ace(je,Fe):null,Be=Z&&zt?f({active:Z,collisionRect:zt,droppableRects:E,droppableContainers:ee,pointerCoordinates:Oe}):null,Ye=IQ(Be,"id"),[Ue,Lt]=m.useState(null),Et=Mt?Fe:Bm(Fe,ut),hr=sce(Et,(i=Ue==null?void 0:Ue.rect)!=null?i:null,Ee),ur=m.useRef(null),Cr=m.useCallback((Ge,st)=>{let{sensor:it,options:Pt}=st;if(te.current==null)return;const _r=D.get(te.current);if(!_r)return;const ot=Ge.nativeEvent,dt=new it({active:te.current,activeNode:_r,event:ot,options:Pt,context:rt,onAbort(Rt){if(!D.get(Rt))return;const{onDragAbort:qr}=oe.current,vn={id:Rt};qr==null||qr(vn),N({type:"onDragAbort",event:vn})},onPending(Rt,xn,qr,vn){if(!D.get(Rt))return;const{onDragPending:Gt}=oe.current,kn={id:Rt,constraint:xn,initialCoordinates:qr,offset:vn};Gt==null||Gt(kn),N({type:"onDragPending",event:kn})},onStart(Rt){const xn=te.current;if(xn==null)return;const qr=D.get(xn);if(!qr)return;const{onDragStart:vn}=oe.current,Er={activatorEvent:ot,active:{id:xn,data:qr.data,rect:R}};Kl.unstable_batchedUpdates(()=>{vn==null||vn(Er),F(zA.Initializing),x({type:Za.DragStart,initialCoordinates:Rt,active:xn}),N({type:"onDragStart",event:Er}),de(ur.current),Q(ot)})},onMove(Rt){x({type:Za.DragMove,coordinates:Rt})},onEnd:er(Za.DragEnd),onCancel:er(Za.DragCancel)});ur.current=dt;function er(Rt){return async function(){const{active:qr,collisions:vn,over:Er,scrollAdjustedTranslate:Gt}=rt.current;let kn=null;if(qr&&Gt){const{cancelDrop:ps}=oe.current;kn={activatorEvent:ot,active:qr,collisions:vn,delta:Gt,over:Er},Rt===Za.DragEnd&&typeof ps=="function"&&await Promise.resolve(ps(kn))&&(Rt=Za.DragCancel)}te.current=null,Kl.unstable_batchedUpdates(()=>{x({type:Rt}),F(zA.Uninitialized),Lt(null),de(null),Q(null),ur.current=null;const ps=Rt===Za.DragEnd?"onDragEnd":"onDragCancel";if(kn){const is=oe.current[ps];is==null||is(kn),N({type:ps,event:kn})}})}}},[D]),Tr=m.useCallback((Ge,st)=>(it,Pt)=>{const _r=it.nativeEvent,ot=D.get(Pt);if(te.current!==null||!ot||_r.dndKit||_r.defaultPrevented)return;const dt={active:ot};Ge(it,st.options,dt)===!0&&(_r.dndKit={capturedBy:st.sensor},te.current=Pt,Cr(it,st))},[D,Cr]),fr=Ece(u,Tr);Rce(u),xu(()=>{Ee&&k===zA.Initializing&&F(zA.Initialized)},[Ee,k]),m.useEffect(()=>{const{onDragMove:Ge}=oe.current,{active:st,activatorEvent:it,collisions:Pt,over:_r}=rt.current;if(!st||!it)return;const ot={active:st,activatorEvent:it,collisions:Pt,delta:{x:jt.x,y:jt.y},over:_r};Kl.unstable_batchedUpdates(()=>{Ge==null||Ge(ot),N({type:"onDragMove",event:ot})})},[jt.x,jt.y]),m.useEffect(()=>{const{active:Ge,activatorEvent:st,collisions:it,droppableContainers:Pt,scrollAdjustedTranslate:_r}=rt.current;if(!Ge||te.current==null||!st||!_r)return;const{onDragOver:ot}=oe.current,dt=Pt.get(Ye),er=dt&&dt.rect.current?{id:dt.id,rect:dt.rect.current,data:dt.data,disabled:dt.disabled}:null,Rt={active:Ge,activatorEvent:st,collisions:it,delta:{x:_r.x,y:_r.y},over:er};Kl.unstable_batchedUpdates(()=>{Lt(er),ot==null||ot(Rt),N({type:"onDragOver",event:Rt})})},[Ye]),xu(()=>{rt.current={activatorEvent:le,active:Z,activeNode:re,collisionRect:zt,collisions:Be,droppableRects:E,draggableNodes:D,draggingNode:Re,draggingNodeRect:je,droppableContainers:K,over:Ue,scrollableAncestors:vt,scrollAdjustedTranslate:jt},R.current={initial:je,translated:zt}},[Z,re,Be,zt,D,Re,je,E,K,Ue,vt,jt]),Cce({...ue,delta:H,draggingRect:zt,pointerCoordinates:Oe,scrollableAncestors:vt,scrollableAncestorRects:wt});const dr=m.useMemo(()=>({active:Z,activeNode:re,activeNodeRect:Ee,activatorEvent:le,collisions:Be,containerNodeRect:He,dragOverlay:Ve,draggableNodes:D,droppableContainers:K,droppableRects:E,over:Ue,measureDroppableContainers:q,scrollableAncestors:vt,scrollableAncestorRects:wt,measuringConfiguration:M,measuringScheduled:se,windowRect:ct}),[Z,re,Ee,le,Be,He,Ve,D,K,E,Ue,q,vt,wt,M,se,ct]),Ke=m.useMemo(()=>({activatorEvent:le,activators:fr,active:Z,activeNodeRect:Ee,ariaDescribedById:{draggable:ce},dispatch:x,draggableNodes:D,over:Ue,measureDroppableContainers:q}),[le,fr,Z,Ee,x,ce,D,Ue,q]);return kr.createElement(EQ.Provider,{value:S},kr.createElement(Ux.Provider,{value:Ke},kr.createElement(KQ.Provider,{value:dr},kr.createElement(z1.Provider,{value:hr},d)),kr.createElement(Wce,{disabled:(l==null?void 0:l.restoreFocus)===!1})),kr.createElement(Jle,{...l,hiddenTextDescribedById:ce}));function qt(){const Ge=(ye==null?void 0:ye.autoScrollEnabled)===!1,st=typeof c=="object"?c.enabled===!1:c===!1,it=$&&!Ge&&!st;return typeof c=="object"?{...c,enabled:it}:{enabled:it}}}),Jce=m.createContext(null),DT="button",Yce="Draggable";function Xce(e){let{id:t,data:n,disabled:s=!1,attributes:a}=e;const i=M1(Yce),{activators:o,activatorEvent:l,active:c,activeNodeRect:d,ariaDescribedById:u,draggableNodes:f,over:v}=m.useContext(Ux),{role:g=DT,roleDescription:w="draggable",tabIndex:y=0}=a??{},b=(c==null?void 0:c.id)===t,x=m.useContext(b?z1:Jce),[N,S]=Dy(),[k,F]=Dy(),$=Oce(o,t),U=tx(n);xu(()=>(f.set(t,{id:t,key:i,node:N,activatorNode:k,data:U}),()=>{const H=f.get(t);H&&H.key===i&&f.delete(t)}),[f,t]);const D=m.useMemo(()=>({role:g,tabIndex:y,"aria-disabled":s,"aria-pressed":b&&g===DT?!0:void 0,"aria-roledescription":w,"aria-describedby":u.draggable}),[s,g,y,b,w,u.draggable]);return{active:c,activatorEvent:l,activeNodeRect:d,attributes:D,isDragging:b,listeners:s?void 0:$,node:N,over:v,setNodeRef:S,setActivatorNodeRef:F,transform:x}}function Zce(){return m.useContext(KQ)}const ede="Droppable",tde={timeout:25};function V1(e){let{data:t,disabled:n=!1,id:s,resizeObserverConfig:a}=e;const i=M1(ede),{active:o,dispatch:l,over:c,measureDroppableContainers:d}=m.useContext(Ux),u=m.useRef({disabled:n}),f=m.useRef(!1),v=m.useRef(null),g=m.useRef(null),{disabled:w,updateMeasurementsFor:y,timeout:b}={...tde,...a},x=tx(y??s),N=m.useCallback(()=>{if(!f.current){f.current=!0;return}g.current!=null&&clearTimeout(g.current),g.current=setTimeout(()=>{d(Array.isArray(x.current)?x.current:[x.current]),g.current=null},b)},[b]),S=H1({callback:N,disabled:w||!o}),k=m.useCallback((D,H)=>{S&&(H&&(S.unobserve(H),f.current=!1),D&&S.observe(D))},[S]),[F,$]=Dy(k),U=tx(t);return m.useEffect(()=>{!S||!F.current||(S.disconnect(),f.current=!1,S.observe(F.current))},[F,S]),m.useEffect(()=>(l({type:Za.RegisterDroppable,element:{id:s,key:i,disabled:n,node:F,rect:v,data:U}}),()=>l({type:Za.UnregisterDroppable,key:i,id:s})),[s]),m.useEffect(()=>{n!==u.current.disabled&&(l({type:Za.SetDroppableDisabled,id:s,key:i,disabled:n}),u.current.disabled=n)},[s,i,n,l]),{active:o,rect:v,isOver:(c==null?void 0:c.id)===s,node:F,over:c,setNodeRef:$}}function rde(e){let{animation:t,children:n}=e;const[s,a]=m.useState(null),[i,o]=m.useState(null),l=Fy(n);return!n&&!s&&l&&a(l),xu(()=>{if(!i)return;const c=s==null?void 0:s.key,d=s==null?void 0:s.props.id;if(c==null||d==null){a(null);return}Promise.resolve(t(d,i)).then(()=>{a(null)})},[t,s,i]),kr.createElement(kr.Fragment,null,n,s?m.cloneElement(s,{ref:o}):null)}const nde={x:0,y:0,scaleX:1,scaleY:1};function sde(e){let{children:t}=e;return kr.createElement(Ux.Provider,{value:VQ},kr.createElement(z1.Provider,{value:nde},t))}const ide={position:"fixed",touchAction:"none"},ade=e=>U1(e)?"transform 250ms ease":void 0,ode=m.forwardRef((e,t)=>{let{as:n,activatorEvent:s,adjustScale:a,children:i,className:o,rect:l,style:c,transform:d,transition:u=ade}=e;if(!l)return null;const f=a?d:{...d,scaleX:1,scaleY:1},v={...ide,width:l.width,height:l.height,top:l.top,left:l.left,transform:cA.Transform.toString(f),transformOrigin:a&&s?Zle(s,l):void 0,transition:typeof u=="function"?u(s):u,...c};return kr.createElement(n,{className:o,style:v,ref:t},i)}),lde=e=>t=>{let{active:n,dragOverlay:s}=t;const a={},{styles:i,className:o}=e;if(i!=null&&i.active)for(const[l,c]of Object.entries(i.active))c!==void 0&&(a[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,c));if(i!=null&&i.dragOverlay)for(const[l,c]of Object.entries(i.dragOverlay))c!==void 0&&s.node.style.setProperty(l,c);return o!=null&&o.active&&n.node.classList.add(o.active),o!=null&&o.dragOverlay&&s.node.classList.add(o.dragOverlay),function(){for(const[c,d]of Object.entries(a))n.node.style.setProperty(c,d);o!=null&&o.active&&n.node.classList.remove(o.active)}},cde=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:cA.Transform.toString(t)},{transform:cA.Transform.toString(n)}]},dde={duration:250,easing:"ease",keyframes:cde,sideEffects:lde({styles:{active:{opacity:"0"}}})};function ude(e){let{config:t,draggableNodes:n,droppableContainers:s,measuringConfiguration:a}=e;return O1((i,o)=>{if(t===null)return;const l=n.get(i);if(!l)return;const c=l.node.current;if(!c)return;const d=zQ(o);if(!d)return;const{transform:u}=jl(o).getComputedStyle(o),f=PQ(u);if(!f)return;const v=typeof t=="function"?t:Ade(t);return UQ(c,a.draggable.measure),v({active:{id:i,data:l.data,node:c,rect:a.draggable.measure(c)},draggableNodes:n,dragOverlay:{node:o,rect:a.dragOverlay.measure(d)},droppableContainers:s,measuringConfiguration:a,transform:f})})}function Ade(e){const{duration:t,easing:n,sideEffects:s,keyframes:a}={...dde,...e};return i=>{let{active:o,dragOverlay:l,transform:c,...d}=i;if(!t)return;const u={x:l.rect.left-o.rect.left,y:l.rect.top-o.rect.top},f={scaleX:c.scaleX!==1?o.rect.width*c.scaleX/l.rect.width:1,scaleY:c.scaleY!==1?o.rect.height*c.scaleY/l.rect.height:1},v={x:c.x-u.x,y:c.y-u.y,...f},g=a({...d,active:o,dragOverlay:l,transform:{initial:c,final:v}}),[w]=g,y=g[g.length-1];if(JSON.stringify(w)===JSON.stringify(y))return;const b=s==null?void 0:s({active:o,dragOverlay:l,...d}),x=l.node.animate(g,{duration:t,easing:n,fill:"forwards"});return new Promise(N=>{x.onfinish=()=>{b==null||b(),N()}})}}let FT=0;function hde(e){return m.useMemo(()=>{if(e!=null)return FT++,FT},[e])}const fde=kr.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:s,style:a,transition:i,modifiers:o,wrapperElement:l="div",className:c,zIndex:d=999}=e;const{activatorEvent:u,active:f,activeNodeRect:v,containerNodeRect:g,draggableNodes:w,droppableContainers:y,dragOverlay:b,over:x,measuringConfiguration:N,scrollableAncestors:S,scrollableAncestorRects:k,windowRect:F}=Zce(),$=m.useContext(z1),U=hde(f==null?void 0:f.id),D=WQ(o,{activatorEvent:u,active:f,activeNodeRect:v,containerNodeRect:g,draggingNodeRect:b.rect,over:x,overlayNodeRect:b.rect,scrollableAncestors:S,scrollableAncestorRects:k,transform:$,windowRect:F}),H=H4(v),K=ude({config:s,draggableNodes:w,droppableContainers:y,measuringConfiguration:N}),B=H?b.setRef:void 0;return kr.createElement(sde,null,kr.createElement(rde,{animation:K},f&&U?kr.createElement(ode,{key:U,id:f.id,ref:B,as:l,activatorEvent:u,adjustScale:t,className:c,transition:i,rect:H,style:{zIndex:d,...a},transform:D},n):null))});function $Q(e,t,n){const s=e.slice();return s.splice(n<0?s.length+n:n,0,s.splice(t,1)[0]),s}function Gv(e){return e!==null&&e>=0}const mde=e=>{let{rects:t,activeIndex:n,overIndex:s,index:a}=e;const i=$Q(t,s,n),o=t[a],l=i[a];return!l||!o?null:{x:l.left-o.left,y:l.top-o.top,scaleX:l.width/o.width,scaleY:l.height/o.height}},pde="Sortable",gde=kr.createContext({activeIndex:-1,containerId:pde,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:mde,disabled:{draggable:!1,droppable:!1}}),xde=e=>{let{id:t,items:n,activeIndex:s,overIndex:a}=e;return $Q(n,s,a).indexOf(t)},vde=e=>{let{containerId:t,isSorting:n,wasDragging:s,index:a,items:i,newIndex:o,previousItems:l,previousContainerId:c,transition:d}=e;return!d||!s||l!==i&&a===o?!1:n?!0:o!==a&&t===c},yde={duration:200,easing:"ease"},GQ="transform",wde=cA.Transition.toString({property:GQ,duration:0,easing:"linear"}),bde={roleDescription:"sortable"};function jde(e){let{disabled:t,index:n,node:s,rect:a}=e;const[i,o]=m.useState(null),l=m.useRef(n);return xu(()=>{if(!t&&n!==l.current&&s.current){const c=a.current;if(c){const d=op(s.current,{ignoreTransform:!0}),u={x:c.left-d.left,y:c.top-d.top,scaleX:c.width/d.width,scaleY:c.height/d.height};(u.x||u.y)&&o(u)}}n!==l.current&&(l.current=n)},[t,n,s,a]),m.useEffect(()=>{i&&o(null)},[i]),i}function qQ(e){let{animateLayoutChanges:t=vde,attributes:n,disabled:s,data:a,getNewIndex:i=xde,id:o,strategy:l,resizeObserverConfig:c,transition:d=yde}=e;const{items:u,containerId:f,activeIndex:v,disabled:g,disableTransforms:w,sortedRects:y,overIndex:b,useDragOverlay:x,strategy:N}=m.useContext(gde),S=Nde(s,g),k=u.indexOf(o),F=m.useMemo(()=>({sortable:{containerId:f,index:k,items:u},...a}),[f,a,k,u]),$=m.useMemo(()=>u.slice(u.indexOf(o)),[u,o]),{rect:U,node:D,isOver:H,setNodeRef:K}=V1({id:o,data:F,disabled:S.droppable,resizeObserverConfig:{updateMeasurementsFor:$,...c}}),{active:B,activatorEvent:R,activeNodeRect:Z,attributes:te,setNodeRef:ye,listeners:de,isDragging:le,over:Q,setActivatorNodeRef:oe,transform:ce}=Xce({id:o,data:F,attributes:{...bde,...n},disabled:S.draggable}),ee=Rle(K,ye),M=!!B,E=M&&!w&&Gv(v)&&Gv(b),q=!x&&le,se=q&&E?ce:null,G=E?se??(l??N)({rects:y,activeNodeRect:Z,activeIndex:v,overIndex:b,index:k}):null,ue=Gv(v)&&Gv(b)?i({id:o,items:u,activeIndex:v,overIndex:b}):k,ie=B==null?void 0:B.id,Ee=m.useRef({activeId:ie,items:u,newIndex:ue,containerId:f}),He=u!==Ee.current.items,rt=t({active:B,containerId:f,isDragging:le,isSorting:M,id:o,index:k,items:u,newIndex:Ee.current.newIndex,previousItems:Ee.current.items,previousContainerId:Ee.current.containerId,transition:d,wasDragging:Ee.current.activeId!=null}),we=jde({disabled:!rt,index:k,node:D,rect:U});return m.useEffect(()=>{M&&Ee.current.newIndex!==ue&&(Ee.current.newIndex=ue),f!==Ee.current.containerId&&(Ee.current.containerId=f),u!==Ee.current.items&&(Ee.current.items=u)},[M,ue,f,u]),m.useEffect(()=>{if(ie===Ee.current.activeId)return;if(ie!=null&&Ee.current.activeId==null){Ee.current.activeId=ie;return}const Re=setTimeout(()=>{Ee.current.activeId=ie},50);return()=>clearTimeout(Re)},[ie]),{active:B,activeIndex:v,attributes:te,data:F,rect:U,index:k,newIndex:ue,items:u,isOver:H,isSorting:M,isDragging:le,listeners:de,node:D,overIndex:b,over:Q,setNodeRef:ee,setActivatorNodeRef:oe,setDroppableNodeRef:K,setDraggableNodeRef:ye,transform:we??G,transition:Ve()};function Ve(){if(we||He&&Ee.current.newIndex===k)return wde;if(!(q&&!U1(R)||!d)&&(M||rt))return cA.Transition.toString({...d,property:GQ})}}function Nde(e,t){var n,s;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(s=e==null?void 0:e.droppable)!=null?s:t.droppable}}function My(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const Cde=[xs.Down,xs.Right,xs.Up,xs.Left],_de=(e,t)=>{let{context:{active:n,collisionRect:s,droppableRects:a,droppableContainers:i,over:o,scrollableAncestors:l}}=t;if(Cde.includes(e.code)){if(e.preventDefault(),!n||!s)return;const c=[];i.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const v=a.get(f.id);if(v)switch(e.code){case xs.Down:s.top<v.top&&c.push(f);break;case xs.Up:s.top>v.top&&c.push(f);break;case xs.Left:s.left>v.left&&c.push(f);break;case xs.Right:s.left<v.left&&c.push(f);break}});const d=rce({collisionRect:s,droppableRects:a,droppableContainers:c});let u=IQ(d,"id");if(u===(o==null?void 0:o.id)&&d.length>1&&(u=d[1].id),u!=null){const f=i.get(n.id),v=i.get(u),g=v?a.get(v.id):null,w=v==null?void 0:v.node.current;if(w&&g&&f&&v){const b=Q1(w).some(($,U)=>l[U]!==$),x=JQ(f,v),N=Sde(f,v),S=b||!x?{x:0,y:0}:{x:N?s.width-g.width:0,y:N?s.height-g.height:0},k={x:g.left,y:g.top};return S.x&&S.y?k:rx(k,S)}}}};function JQ(e,t){return!My(e)||!My(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function Sde(e,t){return!My(e)||!My(t)||!JQ(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}function Bde(e,t,n){const s={...e};return t.top+e.y<=n.top?s.y=n.top-t.top:t.bottom+e.y>=n.top+n.height&&(s.y=n.top+n.height-t.bottom),t.left+e.x<=n.left?s.x=n.left-t.left:t.right+e.x>=n.left+n.width&&(s.x=n.left+n.width-t.right),s}const Ede=e=>{let{transform:t,draggingNodeRect:n,windowRect:s}=e;return!n||!s?t:Bde(t,n,s)};var Ide="Label",YQ=m.forwardRef((e,t)=>r.jsx(jr.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));YQ.displayName=Ide;var XQ=YQ;const Tde=u1("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Me=m.forwardRef(({className:e,...t},n)=>r.jsx(XQ,{ref:n,className:Tt(Tde(),e),...t}));Me.displayName=XQ.displayName;var H_=new Map,qv=new WeakMap,LT=0,kde=void 0;function Pde(e){return e?(qv.has(e)||(LT+=1,qv.set(e,LT.toString())),qv.get(e)):"0"}function Dde(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?Pde(e.root):e[t]}`).toString()}function Fde(e){const t=Dde(e);let n=H_.get(t);if(!n){const s=new Map;let a;const i=new IntersectionObserver(o=>{o.forEach(l=>{var c;const d=l.isIntersecting&&a.some(u=>l.intersectionRatio>=u);e.trackVisibility&&typeof l.isVisible>"u"&&(l.isVisible=d),(c=s.get(l.target))==null||c.forEach(u=>{u(d,l)})})},e);a=i.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:i,elements:s},H_.set(t,n)}return n}function Lde(e,t,n={},s=kde){if(typeof window.IntersectionObserver>"u"&&s!==void 0){const c=e.getBoundingClientRect();return t(s,{isIntersecting:s,target:e,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:c,intersectionRect:c,rootBounds:c}),()=>{}}const{id:a,observer:i,elements:o}=Fde(n),l=o.get(e)||[];return o.has(e)||o.set(e,l),l.push(t),i.observe(e),function(){l.splice(l.indexOf(t),1),l.length===0&&(o.delete(e),i.unobserve(e)),o.size===0&&(i.disconnect(),H_.delete(a))}}function Td({threshold:e,delay:t,trackVisibility:n,rootMargin:s,root:a,triggerOnce:i,skip:o,initialInView:l,fallbackInView:c,onChange:d}={}){var u;const[f,v]=m.useState(null),g=m.useRef(d),[w,y]=m.useState({inView:!!l,entry:void 0});g.current=d,m.useEffect(()=>{if(o||!f)return;let S;return S=Lde(f,(k,F)=>{y({inView:k,entry:F}),g.current&&g.current(k,F),F.isIntersecting&&i&&S&&(S(),S=void 0)},{root:a,rootMargin:s,threshold:e,trackVisibility:n,delay:t},c),()=>{S&&S()}},[Array.isArray(e)?e.toString():e,f,a,s,i,o,n,c,t]);const b=(u=w.entry)==null?void 0:u.target,x=m.useRef(void 0);!f&&b&&!i&&!o&&x.current!==b&&(x.current=b,y({inView:!!l,entry:void 0}));const N=[v,w.inView,w.entry];return N.ref=N[0],N.inView=N[1],N.entry=N[2],N}var[K1,m5e]=ji("Tooltip",[_u]),W1=_u(),ZQ="TooltipProvider",Rde=700,z_="tooltip.open",[Ode,z4]=K1(ZQ),e7=e=>{const{__scopeTooltip:t,delayDuration:n=Rde,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:i}=e,o=m.useRef(!0),l=m.useRef(!1),c=m.useRef(0);return m.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),r.jsx(Ode,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:m.useCallback(d=>{l.current=d},[]),disableHoverableContent:a,children:i})};e7.displayName=ZQ;var sx="Tooltip",[Mde,$1]=K1(sx),t7=e=>{const{__scopeTooltip:t,children:n,open:s,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=z4(sx,e.__scopeTooltip),d=W1(t),[u,f]=m.useState(null),v=Ma(),g=m.useRef(0),w=o??c.disableHoverableContent,y=l??c.delayDuration,b=m.useRef(!1),[x,N]=To({prop:s,defaultProp:a??!1,onChange:U=>{U?(c.onOpen(),document.dispatchEvent(new CustomEvent(z_))):c.onClose(),i==null||i(U)},caller:sx}),S=m.useMemo(()=>x?b.current?"delayed-open":"instant-open":"closed",[x]),k=m.useCallback(()=>{window.clearTimeout(g.current),g.current=0,b.current=!1,N(!0)},[N]),F=m.useCallback(()=>{window.clearTimeout(g.current),g.current=0,N(!1)},[N]),$=m.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{b.current=!0,N(!0),g.current=0},y)},[y,N]);return m.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),r.jsx(Tx,{...d,children:r.jsx(Mde,{scope:t,contentId:v,open:x,stateAttribute:S,trigger:u,onTriggerChange:f,onTriggerEnter:m.useCallback(()=>{c.isOpenDelayedRef.current?$():k()},[c.isOpenDelayedRef,$,k]),onTriggerLeave:m.useCallback(()=>{w?F():(window.clearTimeout(g.current),g.current=0)},[F,w]),onOpen:k,onClose:F,disableHoverableContent:w,children:n})})};t7.displayName=sx;var V_="TooltipTrigger",r7=m.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,a=$1(V_,n),i=z4(V_,n),o=W1(n),l=m.useRef(null),c=an(t,l,a.onTriggerChange),d=m.useRef(!1),u=m.useRef(!1),f=m.useCallback(()=>d.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),r.jsx(rp,{asChild:!0,...o,children:r.jsx(jr.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:c,onPointerMove:Kt(e.onPointerMove,v=>{v.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:Kt(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:Kt(e.onPointerDown,()=>{a.open&&a.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Kt(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:Kt(e.onBlur,a.onClose),onClick:Kt(e.onClick,a.onClose)})})});r7.displayName=V_;var Ude="TooltipPortal",[p5e,Qde]=K1(Ude,{forceMount:void 0}),zm="TooltipContent",n7=m.forwardRef((e,t)=>{const n=Qde(zm,e.__scopeTooltip),{forceMount:s=n.forceMount,side:a="top",...i}=e,o=$1(zm,e.__scopeTooltip);return r.jsx(Na,{present:s||o.open,children:o.disableHoverableContent?r.jsx(s7,{side:a,...i,ref:t}):r.jsx(Hde,{side:a,...i,ref:t})})}),Hde=m.forwardRef((e,t)=>{const n=$1(zm,e.__scopeTooltip),s=z4(zm,e.__scopeTooltip),a=m.useRef(null),i=an(t,a),[o,l]=m.useState(null),{trigger:c,onClose:d}=n,u=a.current,{onPointerInTransitChange:f}=s,v=m.useCallback(()=>{l(null),f(!1)},[f]),g=m.useCallback((w,y)=>{const b=w.currentTarget,x={x:w.clientX,y:w.clientY},N=$de(x,b.getBoundingClientRect()),S=Gde(x,N),k=qde(y.getBoundingClientRect()),F=Yde([...S,...k]);l(F),f(!0)},[f]);return m.useEffect(()=>()=>v(),[v]),m.useEffect(()=>{if(c&&u){const w=b=>g(b,u),y=b=>g(b,c);return c.addEventListener("pointerleave",w),u.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",w),u.removeEventListener("pointerleave",y)}}},[c,u,g,v]),m.useEffect(()=>{if(o){const w=y=>{const b=y.target,x={x:y.clientX,y:y.clientY},N=(c==null?void 0:c.contains(b))||(u==null?void 0:u.contains(b)),S=!Jde(x,o);N?v():S&&(v(),d())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[c,u,o,d,v]),r.jsx(s7,{...e,ref:i})}),[zde,Vde]=K1(sx,{isInside:!1}),Kde=vO("TooltipContent"),s7=m.forwardRef((e,t)=>{const{__scopeTooltip:n,children:s,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=$1(zm,n),d=W1(n),{onClose:u}=c;return m.useEffect(()=>(document.addEventListener(z_,u),()=>document.removeEventListener(z_,u)),[u]),m.useEffect(()=>{if(c.trigger){const f=v=>{const g=v.target;g!=null&&g.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),r.jsx(Nh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:r.jsxs(kx,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(Kde,{children:s}),r.jsx(zde,{scope:n,isInside:!0,children:r.jsx(Vae,{id:c.contentId,role:"tooltip",children:a||s})})]})})});n7.displayName=zm;var i7="TooltipArrow",Wde=m.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,a=W1(n);return Vde(i7,n).isInside?null:r.jsx(Px,{...a,...s,ref:t})});Wde.displayName=i7;function $de(e,t){const n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,s,a,i)){case i:return"left";case a:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function Gde(e,t,n=5){const s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function qde(e){const{top:t,right:n,bottom:s,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:s},{x:a,y:s}]}function Jde(e,t){const{x:n,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],d=l.x,u=l.y,f=c.x,v=c.y;u>s!=v>s&&n<(f-d)*(s-u)/(v-u)+d&&(a=!a)}return a}function Yde(e){const t=e.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),Xde(t)}function Xde(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const a=e[s];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let s=e.length-1;s>=0;s--){const a=e[s];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Zde=e7,eue=t7,tue=r7,a7=n7;const ix=Zde,ax=eue,ox=tue,Vm=m.forwardRef(({className:e,sideOffset:t=4,...n},s)=>r.jsx(a7,{ref:s,sideOffset:t,className:Tt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));Vm.displayName=a7.displayName;function RT({id:e,agent:t,attachedUnits:n=[],parentUnit:s,onAttachUnit:a,onDetachUnit:i,isAttached:o=!1}){const{locale:l}=ir(),c=m.useRef(null),d=m.useRef(null),{attributes:u,listeners:f,setNodeRef:v,transform:g,transition:w,isDragging:y}=qQ({id:e,data:{type:"unit",agent:t}}),{setNodeRef:b,isOver:x}=V1({id:`unit-drop-${e}`,data:{type:"unit-drop-target",targetUnit:t,targetUnitId:e}});m.useEffect(()=>{c.current&&v(c.current)},[v]),m.useEffect(()=>{d.current&&b(d.current)},[b]);const N=s!==void 0,S=H=>H==="clr"?(l==null?void 0:l.text_cleared)||"Cleared":H==="enr"?(l==null?void 0:l.text_enroute)||"En Route":H==="avl"?(l==null?void 0:l.text_available)||"Available":H==="busy"?(l==null?void 0:l.text_busy)||"Busy":(l==null?void 0:l.text_active)||"Active",k=H=>H==="clr"?"bg-cyan-500":H==="enr"?"bg-emerald-500":H==="avl"?"bg-amber-500":H==="busy"?"bg-red-500":"bg-green-500",F={transform:cA.Transform.toString(g),transition:w,opacity:y?.5:1,zIndex:y?999:"auto"},$=H=>H?H.split(" ").map(K=>K[0]).join("").toUpperCase().substring(0,2):"U",U=H=>{H.preventDefault(),H.stopPropagation(),a&&a(e,"")},D=H=>{H.preventDefault(),H.stopPropagation(),i&&i(e)};return r.jsx("div",{className:"mb-3",children:r.jsxs("div",{ref:d,className:`w-full rounded-xl transition-all duration-300 relative min-h-[60px] ${y?"opacity-50":x?"bg-blue-100 border-2 border-blue-500 shadow-lg scale-102":o?"bg-blue-50/80 border border-blue-200/50 group":"bg-card/90 hover:bg-muted/50 border border-muted/80 hover:border-primary/20 group"}`,style:y?F:void 0,children:[x&&!s&&!y&&r.jsx("div",{className:"absolute inset-0 bg-blue-500/30 border-2 border-dashed border-blue-500 rounded-xl flex items-center justify-center z-30 backdrop-blur-sm",children:r.jsxs("div",{className:"bg-blue-500 text-white px-6 py-3 rounded-lg shadow-lg flex items-center gap-2 font-semibold",children:[r.jsx(_3,{className:"h-5 w-5"}),r.jsx("span",{children:"Drop here to attach unit"})]})}),r.jsxs("div",{className:"p-3 flex items-center justify-between relative z-10",children:[r.jsxs("div",{className:"flex items-center gap-3 w-full",children:[r.jsx("span",{ref:c,...u,...f,className:"cursor-grab p-2 rounded-md hover:bg-primary/15 transition-colors touch-none select-none flex-shrink-0",style:y?F:void 0,children:r.jsx(fS,{className:"h-4 w-4 text-primary/80 group-hover:text-primary transition-colors"})}),r.jsx(hn,{className:"h-8 w-8 bg-gradient-to-br from-primary/10 to-primary/20 border border-primary/20 flex-shrink-0",children:r.jsx(yn,{className:"text-sm text-primary font-medium",children:$(t.name)})}),r.jsxs("div",{className:"flex flex-col gap-1 flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsx(ze,{variant:"outline",className:`${k(t.dutyStatus)} text-white text-xs px-2 py-0.5 flex-shrink-0`,children:S(t.dutyStatus)}),r.jsxs("div",{className:"flex items-center gap-1 min-w-0",children:[(t==null?void 0:t.callsign)&&r.jsx("span",{className:"font-semibold text-sm flex-shrink-0",children:t.callsign}),r.jsxs("span",{className:"text-xs text-muted-foreground truncate",children:["| ",t.name]})]})]}),s&&r.jsxs("div",{className:"flex items-center text-xs text-blue-600",children:[r.jsx(Q0,{className:"h-3 w-3 mr-1 flex-shrink-0"}),r.jsxs("span",{className:"truncate",children:["Attached to ",s.callsign]})]}),!N&&n&&n.length>0&&r.jsxs(ze,{variant:"outline",className:"bg-blue-500/10 text-blue-600 border-blue-200 text-xs w-fit",children:["+",n.length," attached units"]})]})]}),r.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0",children:[!s&&a&&r.jsx(ix,{children:r.jsxs(ax,{children:[r.jsx(ox,{asChild:!0,children:r.jsx(Ae,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full hover:bg-blue-100",onClick:U,children:r.jsx(_3,{className:"h-4 w-4 text-blue-600"})})}),r.jsx(Vm,{side:"left",children:r.jsx("p",{className:"text-xs",children:"Attach to another unit"})})]})}),s&&i&&r.jsx(ix,{children:r.jsxs(ax,{children:[r.jsx(ox,{asChild:!0,children:r.jsx(Ae,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full hover:bg-red-100",onClick:D,children:r.jsx(Q0,{className:"h-4 w-4 text-red-600"})})}),r.jsx(Vm,{side:"left",children:r.jsx("p",{className:"text-xs",children:"Detach from unit"})})]})})]})]}),!N&&n&&n.length>0&&r.jsxs("div",{className:"mx-3 mb-3 rounded-lg overflow-hidden border",children:[r.jsx("div",{className:"flex items-center justify-between px-3 py-2 bg-gradient-to-r from-blue-700/20 to-indigo-700/20 border-b border-blue-200/30",children:r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-blue-400 animate-pulse"}),r.jsxs("span",{className:"text-xs font-medium bg-gradient-to-r from-blue-300 to-indigo-300 bg-clip-text text-transparent",children:["Attached Units (",n.length,")"]})]})}),r.jsx("div",{className:"max-h-[200px] overflow-y-auto",children:r.jsx("div",{className:"flex flex-wrap",children:n.map(H=>r.jsxs("div",{className:"group flex items-center justify-between p-1 mx-2 my-2 rounded-lg bg-[#212121] hover:bg-gray-700 border border-gray-700/50 transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(hn,{className:"h-8 w-8 bg-gradient-to-br from-primary/10 to-primary/20 border border-primary/20",children:r.jsx(yn,{className:"text-xs font-medium bg-gradient-to-r from-blue-500 to-indigo-500 bg-clip-text text-transparent",children:$(H.name)})}),r.jsxs("div",{className:"flex flex-row w-full gap-2 items-center h-full",children:[r.jsx(ze,{variant:"outline",className:`${k(H.dutyStatus)} text-gray-100 text-xs px-1.5 py-0`,children:S(H.dutyStatus)}),r.jsxs("div",{children:[(H==null?void 0:H.callsign)&&r.jsxs("span",{className:"text-xs font-semibold text-gray-200",children:[H.callsign," "," | "]}),r.jsx("span",{className:"text-xs font-bold text-gray-300 truncate max-w-[120px]",children:H.name})]})]})]}),i&&r.jsxs(Ae,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200 bg-red-50 hover:bg-red-200 border border-red-300",onClick:K=>{K.preventDefault(),K.stopPropagation(),i(H.citizenId||H.id||H.callsign)},children:[r.jsx(Q0,{className:"h-3 w-3 text-red-500"}),r.jsx("span",{className:"sr-only",children:"Detach unit"})]})]},H.callsign||H.citizenId||H.id))})})]})]})})}const rue=m.memo(function({unit:t,channelId:n,onRemove:s,attachedUnits:a=[]}){const{attributes:i,listeners:o,setNodeRef:l,transform:c,transition:d,isDragging:u}=qQ({id:t.citizenid||t.citizenId||t.id,data:{type:"unit",agent:t}}),f={transform:cA.Transform.toString(c),transition:d,opacity:u?.5:1,zIndex:u?999:"auto",touchAction:"none"},v=m.useCallback(w=>w?w.split(" ").map(y=>y[0]).join("").toUpperCase().substring(0,2):"U",[]),g=m.useCallback(w=>{w&&(w.preventDefault(),w.stopPropagation()),s(n,t.citizenid)},[n,t.citizenid,s]);return r.jsxs(Xt.div,{ref:l,style:f,...i,className:Tt("flex items-center justify-between py-2 px-3 mb-1.5 rounded-lg group transition-all duration-300 cursor-grab",u?"bg-primary/15 shadow-lg border border-primary/30 scale-105":"hover:bg-primary/10 bg-card/80 border border-muted/80 hover:border-primary/20"),initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},transition:{duration:.2},whileHover:{y:-2},onDragOver:w=>{w.preventDefault(),w.stopPropagation()},onClick:w=>w.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Xt.span,{...o,className:"cursor-grab p-1.5 rounded-md hover:bg-primary/15 transition-colors",whileHover:{scale:1.1},whileTap:{scale:.95},children:r.jsx(fS,{className:"h-3.5 w-3.5 text-primary/70"})}),r.jsx(hn,{className:"h-6 w-6 bg-primary/10 border border-primary/20",children:r.jsx(yn,{className:"text-xs text-primary font-medium",children:v(t.name)})}),r.jsxs("div",{className:"flex flex-row w-full gap-1",children:[t.callsign&&r.jsxs("span",{className:"text-xs font-semibold tracking-wide",children:[t.callsign," "," | "]}),t.name&&r.jsx("span",{className:"text-xs text-muted-foreground",children:t.name})]})]}),r.jsx(ix,{children:r.jsxs(ax,{children:[r.jsx(ox,{asChild:!0,children:r.jsxs(Ae,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity duration-200 hover:bg-destructive/10 rounded-full",onClick:w=>{w.preventDefault(),w.stopPropagation(),g(w)},children:[r.jsx(mc,{className:"h-3.5 w-3.5 text-destructive"}),r.jsx("span",{className:"sr-only",children:"Remove unit"})]})}),r.jsx(Vm,{side:"left",children:r.jsx("p",{className:"text-xs",children:"Remove from channel"})})]})})]})},(e,t)=>{const n=e.unit,s=t.unit;return e.channelId===t.channelId&&n.callsign===s.callsign&&n.citizenid===s.citizenid&&n.name===s.name&&JSON.stringify(e.attachedUnits)===JSON.stringify(t.attachedUnits)}),OT=m.memo(function({channel:t,onDelete:n,onDetach:s,onRemoveUnitFromChannel:a,onJoin:i,onEdit:o,unitAttachments:l,isDragging:c,onDetachUnit:d}){var $;const{locale:u}=ir(),{user:f}=Yn(),v=m.useMemo(()=>(f==null?void 0:f.activeOfficers)||[],[f==null?void 0:f.activeOfficers]),{setNodeRef:g,isOver:w}=V1({id:t.id,data:{type:"channel",channel:t,accepts:["unit"]}});m.useCallback(U=>U?U.split(" ").map(D=>D[0]).join("").toUpperCase().substring(0,2):"U",[]);const y=m.useCallback(U=>U==="clr"?(u==null?void 0:u.text_cleared)||"Cleared":U==="enr"?(u==null?void 0:u.text_enroute)||"En Route":U==="avl"?(u==null?void 0:u.text_available)||"Available":U==="busy"?(u==null?void 0:u.text_busy)||"Busy":(u==null?void 0:u.text_active)||"Active",[]),b=m.useCallback(U=>U==="clr"?"bg-cyan-500":U==="enr"?"bg-emerald-500":U==="avl"?"bg-amber-500":U==="busy"?"bg-red-500":"bg-green-500",[]),x=m.useCallback(()=>{t.incidentId&&s(t.id,t.incidentId)},[t.id,t.incidentId,s]),N=m.useCallback(()=>{i&&t.id&&i(t.id)},[t.id,i]),S=m.useCallback(()=>{o&&o(t)},[t,o]),k=t.status==="In-situation",F=m.useMemo(()=>!t.units||!Array.isArray(t.units)?[]:t.units.map((U,D)=>{const H=U.citizenid||U.id,B=(l[H]||[]).map(R=>v==null?void 0:v.find(Z=>Z.citizenId==R||Z.id==R)).filter(Boolean);return{unit:U,index:D,attachedOfficers:B}}),[t.units,l,v]);return r.jsx(Xt.div,{animate:{scale:w?1.02:1,boxShadow:w?"0 8px 30px rgba(0, 0, 0, 0.12)":"0 1px 3px rgba(0, 0, 0, 0.1)"},transition:{duration:.2},whileHover:{y:-2},children:r.jsxs(Le,{ref:g,className:Tt("border transition-all duration-300 relative overflow-hidden",w&&"border-primary border-2 bg-primary/5 shadow-lg",k&&!w&&"border-amber-500/50 bg-amber-500/5 hover:border-amber-500/70",!k&&!w&&"border-primary/20 hover:border-primary/40 bg-card/90",c&&"ring-2 ring-primary/20 ring-offset-2"),children:[w&&r.jsx(Xt.div,{className:"absolute inset-0 bg-primary/10 border-2 border-dashed border-primary/50 rounded-lg flex items-center justify-center z-10 pointer-events-none",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:r.jsxs("div",{className:"flex flex-col items-center text-primary",children:[r.jsx(EY,{className:"h-6 w-6 mb-2 animate-pulse"}),r.jsx("span",{className:"text-sm font-medium",children:(u==null?void 0:u.text_drop_to_add)||"Drop to add unit"})]})}),r.jsx(mt,{className:Tt("p-3 pb-1 rounded-t-lg",k?"bg-amber-500/10":"bg-primary/5"),children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:Tt("p-1.5 rounded-full",k?"bg-amber-500/20":"bg-primary-500/20"),children:r.jsx(lf,{className:Tt("h-4 w-4",k?"text-amber-500":"text-primary-500")})}),r.jsxs(kt,{className:"text-sm font-medium",children:[t.radioNumber?`${t.radioNumber} - `:"",t.name]})]}),r.jsx(ze,{variant:k?"outline":"secondary",className:Tt("font-medium",k&&"border-amber-500/50 bg-amber-500/10 text-amber-600"),children:t.status})]})}),r.jsxs(Je,{className:"p-3 pt-1 pb-1",children:[r.jsxs("div",{className:"flex items-center mb-1.5 mt-1",children:[r.jsx(ba,{className:"mr-1.5 h-3.5 w-3.5 text-muted-foreground"}),r.jsxs("span",{className:"text-xs text-muted-foreground font-medium",children:[(u==null?void 0:u.text_units)||"Units",": ",(($=t.units)==null?void 0:$.length)||0]})]}),r.jsx("div",{className:Tt("rounded-lg p-1.5 transition-all duration-300 max-h-[500px] overflow-auto","bg-background/50 border border-muted/70"),onClick:U=>U.stopPropagation(),children:r.jsx(Gn,{children:F.length>0?r.jsx("div",{className:"space-y-2",children:F.map(({unit:U,index:D,attachedOfficers:H})=>r.jsxs("div",{className:"space-y-1",children:[r.jsx(rue,{unit:U,channelId:t.id,onRemove:a,attachedUnits:H}),H.length>0&&r.jsxs("div",{className:"flex items-center mt-1 pointer-events-none",children:[r.jsx("span",{className:"text-xs text-primary/80 mr-2",children:"Attached:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:H.map((K,B)=>r.jsxs("div",{className:"group flex items-center gap-2 p-2 rounded-lg bg-[#212121] border-2 border-gray-700 hover:bg-gray-700 transition-all duration-200 relative",children:[r.jsx(hn,{className:"h-6 w-6 bg-primary/10 border border-primary/20",children:r.jsx(yn,{className:"text-xs font-medium bg-gradient-to-r from-blue-500 to-indigo-500 bg-clip-text text-transparent",children:K.name[0]||"U"})}),r.jsxs("div",{className:"flex flex-row gap-1 items-center h-full",children:[r.jsx("div",{children:r.jsx(ze,{variant:"outline",className:`${b(K.dutyStatus)} text-xs px-2 py-0.5`,children:y(K.dutyStatus)})}),(K==null?void 0:K.callsign)&&r.jsxs("span",{className:"text-sm font-semibold text-gray-200 truncate max-w-[120px]",children:[K.callsign," "," | "]}),r.jsx("span",{className:"text-xs text-gray-400 truncate max-w-[120px]",children:K.name})]}),r.jsx("div",{children:d&&r.jsxs(Ae,{variant:"ghost",size:"sm",className:"absolute top-1 right-1 h-6 w-6 p-0 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200 bg-red-50 hover:bg-red-200 border border-red-300 pointer-events-auto",onClick:R=>{R.preventDefault(),R.stopPropagation(),d(K.citizenId||K.id||K.callsign)},children:[r.jsx(Q0,{className:"h-3 w-3 text-red-500"}),r.jsx("span",{className:"sr-only",children:"Detach unit"})]})})]},K.citizenId||K.id||B))})]})]},U.citizenid||U.id||D))}):r.jsxs(Xt.div,{className:"flex flex-col items-center justify-center py-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[r.jsx(ba,{className:"h-5 w-5 mb-2 text-muted-foreground/50"}),r.jsx("span",{className:"text-xs text-muted-foreground font-medium",children:(u==null?void 0:u.text_no_units)||"No units assigned"})]})})})]}),r.jsxs(ju,{className:"flex justify-between p-2 pt-1 gap-2 flex-wrap",children:[k&&r.jsxs(Ae,{variant:"outline",size:"sm",onClick:x,className:Tt("h-8 text-xs gap-1.5","bg-amber-500/10 border-amber-500/30 text-amber-700 hover:bg-amber-500/20"),children:[r.jsx(UY,{className:"h-3.5 w-3.5"}),(u==null?void 0:u.text_detach_unit)||"Detach Unit"]}),i&&r.jsxs(Ae,{variant:"outline",size:"sm",onClick:N,className:"h-8 text-xs bg-primary/10 border-primary/30 text-primary hover:bg-primary/20 gap-1.5",children:[r.jsx(lf,{className:"h-3.5 w-3.5"}),(u==null?void 0:u.text_join_channel)||"Join Channel"]}),o&&r.jsxs(Ae,{variant:"outline",size:"sm",onClick:S,className:"h-8 text-xs bg-blue-500/10 border-blue-500/30 text-blue-600 hover:bg-blue-500/20 gap-1.5",children:[r.jsx(ks,{className:"h-3.5 w-3.5"}),(u==null?void 0:u.text_edit)||"Edit"]}),r.jsxs(Ae,{variant:"ghost",size:"sm",className:"text-destructive h-8 px-2.5 ml-auto hover:bg-destructive/10 gap-1.5",onClick:n,children:[r.jsx(ms,{className:"h-3.5 w-3.5"}),r.jsx("span",{className:"font-medium",children:"Delete"})]})]})]})})},(e,t)=>e.channel.id===t.channel.id&&e.channel.name===t.channel.name&&e.channel.status===t.channel.status&&e.channel.radioNumber===t.channel.radioNumber&&e.channel.incidentId===t.channel.incidentId&&e.isDragging===t.isDragging&&JSON.stringify(e.channel.units)===JSON.stringify(t.channel.units)&&JSON.stringify(e.unitAttachments)===JSON.stringify(t.unitAttachments));function nue({agent:e,isDragging:t=!1}){const{locale:n}=ir(),s=a=>a?a.split(" ").map(i=>i[0]).join("").toUpperCase().substring(0,2):"U";return r.jsxs(Xt.div,{className:`flex items-center gap-3 p-3 rounded-xl ${t?"bg-primary/15 border border-primary/30 shadow-xl":"bg-background/90 border border-muted shadow-sm"}`,style:{width:"220px",touchAction:"none"},initial:{opacity:.8,scale:.95},animate:{opacity:1,scale:1,rotate:t?3:0,boxShadow:t?"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)":"0 1px 3px rgba(0, 0, 0, 0.1)"},transition:{duration:.2},children:[r.jsx(hn,{className:"h-10 w-10 bg-primary/10 border border-primary/20",children:r.jsx(yn,{className:"text-sm text-primary font-medium",children:s(e.name)})}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"font-semibold tracking-wide",children:e.callsign}),r.jsx("span",{className:"text-xs text-muted-foreground",children:e.name})]}),r.jsx(ze,{variant:"outline",className:"ml-auto bg-green-500/10 text-green-600 border-green-500/20 font-medium",children:(n==null?void 0:n.text_active)||"Active"})]})}const o7=kr.memo(()=>{var qt;const{toast:e}=ys(),{locale:t}=ir(),{user:n,setUserField:s,setUser:a}=Yn(),[i,o]=m.useState(!0),[l,c]=m.useState(""),[d,u]=m.useState(""),[f,v]=m.useState(0),[g,w]=m.useState(!1),[y,b]=m.useState(!1),[x,N]=m.useState(null),[S,k]=m.useState("split"),[F,$]=m.useState(null),[U,D]=m.useState(!1),[H,K]=m.useState(1),[B,R]=m.useState(!0),Z=kr.useRef(null),[te,ye]=m.useState(!1),[de,le]=m.useState(null),[Q,oe]=m.useState(""),[ce,ee]=m.useState(""),[M,E]=m.useState(!1),[q,se]=m.useState({}),re=m.useMemo(()=>{const Ge=new Set;return Object.values(q).forEach(st=>{Array.isArray(st)&&st.forEach(it=>{Ge.add(it)})}),Ge},[q]);m.useEffect(()=>{D(!1),N(null);const Ge=setTimeout(()=>{D(!1),N(null)},100);return()=>clearTimeout(Ge)},[]);const G=Yle(jT(Q4,{activationConstraint:{distance:5,tolerance:10,delay:0}}),jT(M4,{coordinateGetter:_de})),{setNodeRef:ue,isOver:ie}=V1({id:"available-units-area",data:{type:"available-units"}});m.useEffect(()=>()=>{D(!1),N(null)},[]),m.useEffect(()=>{var Ge,st;(Ge=n==null?void 0:n.permissions)!=null&&Ge.Pages&&$((st=n==null?void 0:n.permissions)==null?void 0:st.Pages.dispatch)},[(qt=n==null?void 0:n.permissions)==null?void 0:qt.Pages]);const Ee=(F==null?void 0:F.view)===!0;m.useEffect(()=>{o(!0),(async()=>{try{const st=await ke("getActiveIncidents",{}),it={};st!=null&&st.incidents&&Array.isArray(st.incidents)?it.recentIncidents=st.incidents:console.warn("No incidents found in response.");const Pt=await ke("getRadioChannels",{});it.radioChannels=(Pt==null?void 0:Pt.radioChannels)||[],a(_r=>({..._r,...it}))}catch(st){console.error("Error fetching data:",st)}finally{o(!1)}})()},[]),m.useEffect(()=>{(async()=>{try{const st=await ke("getUnitAttachments",{},{success:!0,attachments:{}});st.success&&se(st.attachments||{})}catch(st){console.error("Error fetching unit attachments:",st)}})()},[]),Gs("setUnitAttachments",async Ge=>{try{Ge?se(Ge):console.error("No response received.")}catch(st){console.error("Error:",st)}}),m.useEffect(()=>{const Ge=setInterval(()=>{if(n&&(n!=null&&n.recentIncidents)){const st=n.recentIncidents.filter(it=>{if(!it.time)return console.warn("Incident time is missing:",it),!1;const Pt=new Date(it.time).getTime();if(isNaN(Pt))return console.error("Invalid incident time format:",it.time),!1;const _r=20*60*1e3;return Date.now()-Pt<_r||it.units&&it.units.trim()!==""});s("recentIncidents",st)}},6e4);return()=>clearInterval(Ge)},[n,a]),m.useEffect(()=>{(async()=>{try{const st=await ke("fetchDispatchSilentMode",{});typeof st=="boolean"&&E(st)}catch(st){console.error("Error fetching silent mode:",st)}})()},[]);const He=async(Ge=1)=>{try{b(!0);const st=await ke("fetchActiveUnits",{page:Ge});st.success&&(a(it=>{if(it){const Pt=it.activeOfficers||[],_r=Ge===1?st.units:[...Pt,...st.units];return{...it,activeOfficers:_r}}return null}),R(st.hasMore))}catch(st){console.error("Error fetching active units:",st)}finally{b(!1)}},rt=()=>{if(B&&!y){const Ge=H+1;He(Ge),K(Ge)}},{ref:we,inView:Ve}=Td({threshold:.1,triggerOnce:!1});m.useEffect(()=>{Ve&&rt()},[Ve]),m.useEffect(()=>{He(1)},[]);const Re=()=>{d&&(je(d,f),w(!1),u(""),v(0),e({title:(t==null?void 0:t.text_radio_channel_created)||"Radio Channel Created",description:(t==null?void 0:t.text_radio_channel_created_desc)||"The radio channel has been created successfully."}))},je=async(Ge,st)=>{if(Ge){const it={id:`CH${Date.now()}`,name:Ge,radioNumber:st,units:[],status:"active"};try{if((await ke("createRadioChannels",{newChannel:it})).success)return s("radioChannels",[...(n==null?void 0:n.radioChannels)||[],it]),{channelId:it.id};throw new Error("Failed to create radio channel")}catch(Pt){throw console.error("Error:",Pt),Pt}}},Mt=Ge=>{var st;le(Ge),oe(Ge.name||""),ee(((st=Ge.radioNumber)==null?void 0:st.toString())||""),ye(!0)},Bt=async()=>{if(!(!de||!Q.trim()))try{const Ge=await ke("renameChannelName",{channelId:de.id,renameChannelName:Q});Ge.success&&(s("radioChannels",Ge.radioChannels),e({title:(t==null?void 0:t.text_channel_renamed)||"Radio Channel Renamed",description:(t==null?void 0:t.text_channel_renamed_desc)||"The radio channel has been renamed successfully."}))}catch(Ge){console.error("Error:",Ge),e({variant:"destructive",title:(t==null?void 0:t.text_error)||"Error",description:(t==null?void 0:t.text_error_renaming_channel)||"Error renaming radio channel."})}finally{oe(""),ye(!1),le(null)}},ct=async()=>{if(de)try{const Ge=await ke("assignRadioNumber",{channelId:de.id,radioNumber:ce});Ge.success&&(s("radioChannels",Ge.radioChannels),e({title:(t==null?void 0:t.text_radio_assigned)||"Radio Channel Assigned",description:(t==null?void 0:t.text_radio_assigned_desc)||"The radio channel has been assigned successfully."}))}catch(Ge){console.error("Error:",Ge),e({variant:"destructive",title:(t==null?void 0:t.text_error)||"Error",description:(t==null?void 0:t.text_error_assigning_radio)||"Error assigning radio number."})}finally{ee(""),ye(!1),le(null)}},vt=async(Ge,st)=>{if(!(!Ge||!st||Ge===st))try{const it=q[Ge]||[],Pt={...q};Pt[st]||(Pt[st]=[]),Pt[st].push(Ge),it.length>0&&(Pt[st]=[...Pt[st],...it],delete Pt[Ge]);const _r=await ke("attachUnitToUnit",{unitId:Ge,targetUnitId:st,attachedUnitsToMove:it},{success:!0,attachments:Pt});_r.success&&(se(_r.attachments),e({title:"Unit Attached",description:"The unit has been attached successfully."}))}catch(it){console.error("Error attaching unit:",it),e({variant:"destructive",title:"Error",description:"Error attaching unit."})}},wt=async Ge=>{try{let st=null;if(Object.entries(q).forEach(([ot,dt])=>{dt.includes(Ge)&&(st=ot)}),!st)return;const it=q[Ge]||[],Pt={...q};Pt[st]=(Pt[st]||[]).filter(ot=>ot!==Ge),it.length>0&&(Pt[Ge]=it);const _r=await ke("detachUnitFromUnit",{unitId:Ge,parentUnitId:st,attachedUnits:it},{success:!0,attachments:Pt});_r.success&&(se(_r.attachments),e({title:"Unit Detached",description:"The unit has been detached successfully."}))}catch(st){console.error("Error detaching unit:",st),e({variant:"destructive",title:"Error",description:"Error detaching unit."})}},Fe=async Ge=>{if(Ge)try{const st={callsign:n==null?void 0:n.callsign,citizenid:n==null?void 0:n.citizenId,name:n==null?void 0:n.name},it=await ke("attachUnitToIncident",{incident:Ge,unitData:st,type:"dispatch"});it.success?(a(Pt=>({...Pt,radioChannels:it.radioChannels,recentIncidents:Array.isArray(it==null?void 0:it.incidents)?it==null?void 0:it.incidents:JSON.parse((it==null?void 0:it.incidents)||"[]")})),e({title:(t==null?void 0:t.text_unit_attached)||"Unit Attached",description:(t==null?void 0:t.text_unit_attached_desc)||"You have successfully attached to the incident."})):console.error("Error attaching unit:",it.message)}catch(st){console.error("Error:",st)}},Oe=async(Ge,st)=>{if(Ge&&st)try{const it=await ke("detachUnit",{channelId:Ge,incidentId:st});it.success&&(a(Pt=>({...Pt,radioChannels:it==null?void 0:it.radioChannels,recentIncidents:it==null?void 0:it.recentIncidents})),e({title:(t==null?void 0:t.text_unit_detached)||"Unit Detached",description:(t==null?void 0:t.text_unit_detached_desc)||"You have successfully detached from the incident."}))}catch(it){console.error("Error:",it)}},_e=async Ge=>{try{const st=await ke("deleteRadioChannel",{channelId:Ge});st.success?(a(it=>({...it,radioChannels:st==null?void 0:st.radioChannels,recentIncidents:st==null?void 0:st.recentIncidents})),e({title:(t==null?void 0:t.text_radio_channel_deleted)||"Radio Channel",description:(t==null?void 0:t.text_radio_channel_deleted_desc)||"The radio channel has been deleted successfully."})):console.error("Failed to delete the channel.")}catch(st){console.error("Error deleting the channel:",st)}},nt=Ge=>{var Pt,_r,ot,dt,er,Rt;const{active:st}=Ge,it=st.id;if(console.log(" Drag started:",{activeId:st.id,activeData:(Pt=st.data)==null?void 0:Pt.current}),D(!0),((ot=(_r=st.data)==null?void 0:_r.current)==null?void 0:ot.type)==="unit"){const xn=((er=(dt=st.data)==null?void 0:dt.current)==null?void 0:er.agent)||((Rt=n==null?void 0:n.activeOfficers)==null?void 0:Rt.find(qr=>qr.id===it));N(xn),console.log(" Dragging unit:",xn==null?void 0:xn.name)}},ut=async Ge=>{var Pt,_r,ot,dt,er,Rt,xn,qr,vn,Er,Gt,kn,ps,is,en,ws,Pn,qn,Zn,Ln,wr,We,Ht,mr,jn,Un,Ur,Jr,Xn,ds,Nn,Te,Nt,Jt,Pr,Cn,Kr,Y,Ls,Qi,Qs,gi,Wr,wn,Ni,Pe,Ct,tr,Hr;const{active:st,over:it}=Ge;if(console.log(" Drag ended:",{activeId:st==null?void 0:st.id,activeData:(Pt=st==null?void 0:st.data)==null?void 0:Pt.current,overId:it==null?void 0:it.id,overData:(_r=it==null?void 0:it.data)==null?void 0:_r.current}),D(!1),N(null),!it){console.log(" No drop target found");return}if(((dt=(ot=st.data)==null?void 0:ot.current)==null?void 0:dt.type)==="unit"&&((Rt=(er=it.data)==null?void 0:er.current)==null?void 0:Rt.type)==="unit-drop-target"){console.log(" Unit to unit attachment detected");const on=((vn=(qr=(xn=st.data)==null?void 0:xn.current)==null?void 0:qr.agent)==null?void 0:vn.citizenId)||((kn=(Gt=(Er=st.data)==null?void 0:Er.current)==null?void 0:Gt.agent)==null?void 0:kn.citizenId)||((en=(is=(ps=st.data)==null?void 0:ps.current)==null?void 0:is.agent)==null?void 0:en.id)||st.id,nn=((Pn=(ws=it.data)==null?void 0:ws.current)==null?void 0:Pn.targetUnitId)||it.id.replace("unit-drop-","");if(console.log(" Attachment details:",{draggedUnitId:on,targetUnitId:nn}),on===nn){console.log(" Prevented self-attachment");return}if((qn=q[on])==null?void 0:qn.includes(nn)){console.log(" Prevented circular attachment"),e({variant:"destructive",title:"Cannot Attach",description:"Cannot create circular unit attachments."});return}if((Zn=q[nn])==null?void 0:Zn.includes(on)){console.log(" Already attached"),e({variant:"destructive",title:"Already Attached",description:"This unit is already attached to the target unit."});return}console.log(" Proceeding with attachment"),await vt(on,nn);return}if(((wr=(Ln=st.data)==null?void 0:Ln.current)==null?void 0:wr.type)==="unit"&&((Ht=(We=it.data)==null?void 0:We.current)==null?void 0:Ht.type)==="channel")try{const on=(Un=(jn=(mr=st.data)==null?void 0:mr.current)==null?void 0:jn.agent)==null?void 0:Un.callsign,nn=((Xn=(Jr=(Ur=st.data)==null?void 0:Ur.current)==null?void 0:Jr.agent)==null?void 0:Xn.citizenid)||((Te=(Nn=(ds=st.data)==null?void 0:ds.current)==null?void 0:Nn.agent)==null?void 0:Te.citizenId)||((Pr=(Jt=(Nt=st.data)==null?void 0:Nt.current)==null?void 0:Jt.agent)==null?void 0:Pr.id)||on,us=await ke("joinLeaveRadio",{channelId:it.id,unitId:on,isJoining:!0,citizenid:nn},{success:!0,radioChannels:[{id:"1",name:"LSPD",radioNumber:1,incidentId:null,units:[{callsign:"388",citizenid:"1",name:"John Doe",rank:"Officer",department:"LSPD",status:"on-duty"}],status:"Active"}]});us.success&&(s("radioChannels",us.radioChannels),e({title:(t==null?void 0:t.text_unit_moved)||"Unit Moved",description:(t==null?void 0:t.text_unit_moved_desc)||"The unit has been moved to the channel successfully."}))}catch(on){console.error("Error moving unit:",on)}if(((Kr=(Cn=st.data)==null?void 0:Cn.current)==null?void 0:Kr.type)==="unit"&&it.id==="available-units-area"){const on=((Qi=(Ls=(Y=st.data)==null?void 0:Y.current)==null?void 0:Ls.agent)==null?void 0:Qi.citizenid)||((Wr=(gi=(Qs=st.data)==null?void 0:Qs.current)==null?void 0:gi.agent)==null?void 0:Wr.citizenId)||((Pe=(Ni=(wn=st.data)==null?void 0:wn.current)==null?void 0:Ni.agent)==null?void 0:Pe.id)||st.id,nn=zt.find(us=>{var fn;return(fn=us.units)==null?void 0:fn.some(Hs=>Hs.citizenid===on||Hs.citizenId===on||Hs.id===on||Hs.callsign===on)});if(nn)try{const us=await ke("joinLeaveRadio",{channelId:nn.id,unitId:(Hr=(tr=(Ct=st.data)==null?void 0:Ct.current)==null?void 0:tr.agent)==null?void 0:Hr.callsign,isJoining:!1,citizenid:on});us.success&&(s("radioChannels",us.radioChannels),e({title:(t==null?void 0:t.text_unit_removed)||"Unit Removed",description:(t==null?void 0:t.text_unit_removed_desc)||"The unit has been removed from the channel."}))}catch(us){console.error("Error removing unit:",us)}}},jt=()=>{console.log(" Drag cancelled"),D(!1),N(null)};m.useMemo(()=>n!=null&&n.recentIncidents&&Array.isArray(n==null?void 0:n.recentIncidents)?[...n.recentIncidents].sort((Ge,st)=>st.time.localeCompare(Ge.time)):[],[n==null?void 0:n.recentIncidents]);const zt=m.useMemo(()=>{var Ge;return((Ge=n==null?void 0:n.radioChannels)==null?void 0:Ge.filter(st=>{var it;return(it=st==null?void 0:st.name)==null?void 0:it.toLowerCase().includes(l.toLowerCase())}))||[]},[n==null?void 0:n.radioChannels,l]),Be=m.useMemo(()=>(n==null?void 0:n.activeOfficers)||[],[n==null?void 0:n.activeOfficers]),Ye=m.useMemo(()=>{const Ge=new Set;return zt.forEach(st=>{st.units&&Array.isArray(st.units)&&st.units.forEach(it=>{it.citizenid&&Ge.add(it.citizenid),it.citizenId&&Ge.add(it.citizenId),it.id&&Ge.add(it.id),it.callsign&&Ge.add(it.callsign)})}),n!=null&&n.recentIncidents&&Array.isArray(n.recentIncidents)&&n.recentIncidents.forEach(st=>{st.units&&st.units.trim()!==""&&st.units.split(",").map(Pt=>Pt.trim()).forEach(Pt=>{if(Pt){Ge.add(Pt);const _r=Be.find(ot=>ot.callsign===Pt);_r&&(_r.citizenid&&Ge.add(_r.citizenid),_r.citizenId&&Ge.add(_r.citizenId),_r.id&&Ge.add(_r.id))}})}),Ge},[zt,n==null?void 0:n.recentIncidents,Be]),Ue=m.useMemo(()=>Be.filter(Ge=>{var er,Rt;Ge.citizenId||Ge.id;const st=Ge.callsign,it=Ye.has(Ge.citizenid)||Ye.has(Ge.citizenId)||Ye.has(Ge.id),Pt=st&&Ye.has(st),_r=re.has(Ge.citizenid)||re.has(Ge.citizenId)||re.has(Ge.id)||re.has(Ge.callsign),ot=l===""||((er=Ge.name)==null?void 0:er.toLowerCase().includes(l.toLowerCase()))||((Rt=Ge.callsign)==null?void 0:Rt.toLowerCase().includes(l.toLowerCase()));return!it&&!Pt&&!_r&&ot}),[Be,Ye,re,l]),Lt=m.useMemo(()=>[...Ue].map(it=>{const Pt=it.citizenId||it.id,_r=q[Pt]||[],ot=_r.map(dt=>Be.find(er=>er.citizenId===dt||er.id===dt)).filter(Boolean);return{...it,attachedUnits:ot,stableKey:`${it.citizenId||it.id}-${_r.length}`}}),[Ue,q,Be]),Et=async()=>{try{await ke("setDispatchSilentMode",{isSilent:!M})&&(E(!M),e({title:M?"Silent Mode Disabled":"Silent Mode Enabled",description:M?"Silent mode has been disabled.":"Silent mode has been enabled."}))}catch(Ge){console.error("Error toggling silent mode:",Ge),e({variant:"destructive",title:"Error",description:"Error toggling silent mode."})}};if(!Ee)return null;const hr=async(Ge,st)=>{try{const it=await ke("joinLeaveRadio",{channelId:Ge,unitId:st,isJoining:!1,citizenid:st});it.success&&(s("radioChannels",it.radioChannels),e({title:(t==null?void 0:t.text_unit_removed)||"Unit Removed",description:(t==null?void 0:t.text_unit_removed_desc)||"The unit has been removed from the channel."}))}catch(it){console.error("Error removing unit:",it)}},ur=async Ge=>{try{const st=(n==null?void 0:n.callsign)||(n==null?void 0:n.id)||"current-user",it=await ke("joinLeaveRadio",{channelId:Ge,unitId:st,isJoining:!0,citizenid:n==null?void 0:n.citizenId});it.success?(s("radioChannels",it.radioChannels),e({title:(t==null?void 0:t.text_joined_radio)||"Joined Radio",description:(t==null?void 0:t.text_joined_radio_desc)||"You have successfully joined the radio channel."})):e({variant:"destructive",title:(t==null?void 0:t.text_join_failed)||"Join Failed",description:(t==null?void 0:t.text_join_failed_desc)||"Failed to join the radio channel."})}catch(st){console.error("Error joining radio channel:",st),e({variant:"destructive",title:(t==null?void 0:t.text_error)||"Error",description:(t==null?void 0:t.text_error_joining)||"Error joining radio channel."})}},Cr=()=>r.jsxs(Le,{className:"h-[calc(90vh-200px)] overflow-hidden border-primary/20 shadow-lg",children:[r.jsx(mt,{className:"p-3 pb-2 bg-gradient-to-r from-primary/5 to-transparent",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs(kt,{className:"text-base flex items-center",children:[r.jsx(ba,{className:"h-4 w-4 mr-1 text-primary"}),(t==null?void 0:t.text_units_and_channels)||"Units & Channels"]}),r.jsxs(Ae,{variant:"outline",size:"sm",onClick:()=>w(!0),className:"h-7 p-4 bg-primary/10 hover:bg-primary/20 border-primary/20",children:[r.jsx(Xr,{className:"h-3 w-3 mr-1"}),(t==null?void 0:t.text_new_channel)||"New Channel"]})]})}),r.jsx(Je,{className:"p-3 pt-0 pb-3 flex-1 overflow-hidden",children:r.jsxs(nr,{className:"h-[calc(85vh-220px)]",children:[r.jsxs(Xt.div,{className:`mb-4 p-2 rounded-md transition-all duration-200 ${ie?"bg-primary/10 border-2 border-primary shadow-md":"border border-muted"}`,ref:ue,animate:{scale:ie?1.01:1,boxShadow:ie?"0 4px 12px rgba(0, 0, 0, 0.1)":"none"},transition:{duration:.2},children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("h3",{className:"text-sm font-medium flex items-center",children:[r.jsx(ba,{className:"h-3 w-3 mr-1 text-primary"}),(t==null?void 0:t.text_available_units)||"Available Units"," (",Lt.length,")"]}),r.jsx("div",{className:"text-xs text-muted-foreground bg-muted/50 px-2 py-1 rounded",children:"Drag units onto each other to attach"})]}),Lt.length>0?r.jsx("div",{className:"touch-none overflow-hidden",children:r.jsxs("div",{className:"max-h-[400px] overflow-y-auto pr-1",children:[r.jsx(Gn,{mode:"popLayout",children:Lt.map(Ge=>{var it;const st=`${Ge.citizenId||Ge.id}-${((it=Ge.attachedUnits)==null?void 0:it.length)||0}`;return r.jsx(RT,{id:Ge.citizenId||Ge.id,agent:Ge,attachedUnits:Ge.attachedUnits,onAttachUnit:vt,onDetachUnit:wt},st)})}),r.jsx("div",{ref:we,className:"py-2 flex justify-center",children:y&&r.jsxs("div",{className:"flex items-center justify-center p-2",children:[r.jsx(Ac,{className:"h-4 w-4 animate-spin mr-2"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"Loading more units..."})]})})]})}):r.jsx("div",{className:"text-sm text-muted-foreground text-center py-4 border rounded-md bg-muted/10",children:(t==null?void 0:t.text_no_available_units)||"No available units"})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center",children:[r.jsx(lf,{className:"h-3 w-3 mr-1 text-primary"}),(t==null?void 0:t.text_radio_channels)||"Radio Channels"," (",zt.length,")"]}),r.jsx("div",{className:"grid grid-cols-1 gap-3",children:zt&&zt.length>0?zt.map(Ge=>r.jsx(OT,{channel:Ge,onDelete:()=>_e(Ge.id),onDetach:Oe,onRemoveUnitFromChannel:hr,onJoin:ur,onEdit:Mt,unitAttachments:q,isDragging:U,onDetachUnit:wt},Ge.id)):r.jsx("div",{className:"text-sm text-muted-foreground text-center py-4 border rounded-md bg-muted/10",children:(t==null?void 0:t.text_no_radio_channels)||"No radio channels"})})]})]})})]}),Tr=()=>r.jsxs(Le,{className:"h-[calc(90vh-200px)] overflow-hidden border-primary/20 shadow-lg",children:[r.jsx(mt,{className:"p-3 pb-2 bg-gradient-to-r from-primary/5 to-transparent",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs(kt,{className:"text-base flex items-center",children:[r.jsx(ba,{className:"h-4 w-4 mr-1 text-primary"}),(t==null?void 0:t.text_available_units)||"Available Units"," (",Lt.length,")"]}),r.jsx("div",{className:"text-xs text-muted-foreground bg-muted/50 px-2 py-1 rounded",children:"Drag to attach or assign"})]})}),r.jsx(Je,{className:"p-3 pt-0 pb-3 flex-1 overflow-hidden",children:r.jsx(nr,{className:"h-[calc(85vh-220px)]",children:r.jsx(Xt.div,{className:`p-2 rounded-md transition-all duration-200 ${ie?"bg-primary/10 border-2 border-primary shadow-md":"border border-muted"}`,ref:ue,animate:{scale:ie?1.01:1,boxShadow:ie?"0 4px 12px rgba(0, 0, 0, 0.1)":"none"},transition:{duration:.2},children:Lt.length>0?r.jsx("div",{className:"touch-none overflow-hidden",children:r.jsxs("div",{className:"max-h-[600px] overflow-y-auto pr-1",children:[r.jsx(Gn,{mode:"popLayout",children:Lt.map(Ge=>{var it;const st=`${Ge.citizenId||Ge.id}-${((it=Ge.attachedUnits)==null?void 0:it.length)||0}`;return r.jsx(RT,{id:Ge.citizenId||Ge.id,agent:Ge,attachedUnits:Ge.attachedUnits,onAttachUnit:vt,onDetachUnit:wt},st)})}),r.jsx("div",{ref:we,className:"py-2 flex justify-center",children:y&&r.jsxs("div",{className:"flex items-center justify-center p-2",children:[r.jsx(Ac,{className:"h-4 w-4 animate-spin mr-2"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"Loading more units..."})]})})]})}):r.jsx("div",{className:"text-sm text-muted-foreground text-center py-4 border rounded-md bg-muted/10",children:(t==null?void 0:t.text_no_available_units)||"No available units"})})})})]}),fr=()=>r.jsxs(Le,{className:"h-[calc(90vh-200px)] overflow-hidden border-primary/20 shadow-lg",children:[r.jsx(mt,{className:"p-3 pb-2 bg-gradient-to-r from-primary/5 to-transparent",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs(kt,{className:"text-base flex items-center",children:[r.jsx(lf,{className:"h-4 w-4 mr-1 text-primary"}),(t==null?void 0:t.text_radio_channels)||"Radio Channels"," (",zt.length,")"]}),r.jsxs(Ae,{variant:"outline",size:"sm",onClick:()=>w(!0),className:"h-7 p-4 bg-primary/10 hover:bg-primary/20 border-primary/20",children:[r.jsx(Xr,{className:"h-3 w-3 mr-1"}),(t==null?void 0:t.text_new_channel)||"New Channel"]})]})}),r.jsx(Je,{className:"p-3 pt-0 pb-3 flex-1 overflow-hidden",children:r.jsx(nr,{className:"h-[calc(85vh-220px)]",children:r.jsx("div",{className:"grid grid-cols-1 gap-3",children:zt&&zt.length>0?zt.map(Ge=>r.jsx(OT,{channel:Ge,onDelete:()=>_e(Ge.id),onDetach:Oe,onRemoveUnitFromChannel:hr,onJoin:ur,onEdit:Mt,unitAttachments:q,isDragging:U,onDetachUnit:wt},Ge.id)):r.jsx("div",{className:"text-sm text-muted-foreground text-center py-4 border rounded-md bg-muted/10",children:(t==null?void 0:t.text_no_radio_channels)||"No radio channels"})})})})]}),dr=()=>r.jsx("div",{className:"h-[calc(90vh-200px)] overflow-hidden",children:r.jsx(Lle,{onIncidentClick:Fe})}),Ke=()=>r.jsxs(Le,{className:"h-[calc(90vh-200px)] overflow-hidden border-primary/20 shadow-lg",children:[r.jsx(mt,{className:"p-3 pb-2 flex flex-row items-center justify-between bg-gradient-to-r from-primary/5 to-transparent",children:r.jsxs(kt,{className:"text-base flex items-center",children:[r.jsx(qs,{className:"h-4 w-4 mr-1 text-primary"}),(t==null?void 0:t.text_los_santos_map)||"Los Santos Map"]})}),r.jsx(Je,{className:"p-0 flex-1 overflow-hidden",children:r.jsx("div",{className:"h-[calc(90vh-240px)] w-full",children:r.jsx(A8,{})})})]});return i?r.jsx("div",{className:"flex items-center justify-center h-screen",children:r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(Ac,{className:"h-8 w-8 text-primary animate-spin mb-2"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading dispatch center..."})]})}):r.jsxs("div",{className:"flex flex-col h-screen max-h-screen overflow-hidden bg-background/95 p-2",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2 px-2",children:[r.jsxs("div",{className:"flex items-center space-x-4 p-3",children:[r.jsx("hr",{className:"w-1 h-10 bg-primary border-none rounded-full shadow-glow"}),r.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:(t==null?void 0:t.dispatch_center)||"Dispatch Center"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("div",{className:"relative",children:[r.jsx(ls,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(ht,{placeholder:(t==null?void 0:t.text_search)||"Search...",className:"pl-8 w-64 h-8 bg-background border-primary/20 focus:border-primary",value:l,onChange:Ge=>c(Ge.target.value)})]}),r.jsx(Ae,{variant:M?"default":"outline",size:"sm",onClick:Et,className:`h-8 px-3 transition-all duration-200 ${M?"bg-red-500 text-white shadow-md":"border-red-500/20 hover:bg-red-500/10 hover:border-red-500/40"}`,title:M?"Disable Silent Mode":"Enable Silent Mode",children:M?r.jsx(Yq,{className:"h-4 w-4"}):r.jsx(eO,{className:"h-4 w-4"})}),r.jsxs("div",{className:"flex border rounded-md border-primary/20 bg-background shadow-sm",children:[r.jsx(Ae,{variant:S==="split"?"default":"ghost",size:"sm",onClick:()=>k("split"),className:"h-8 px-2",children:r.jsx(aO,{className:"h-4 w-4"})}),r.jsxs(Ae,{variant:S==="detailed"?"default":"ghost",size:"sm",onClick:()=>k("detailed"),className:"h-8 px-2",title:"Detailed View",children:[r.jsx(ba,{className:"h-4 w-4 mr-1"}),r.jsx(lf,{className:"h-4 w-4 mr-1"}),r.jsx(qs,{className:"h-4 w-4"})]}),r.jsx(Ae,{variant:S==="map"?"default":"ghost",size:"sm",onClick:()=>k("map"),className:"h-8 px-2",children:r.jsx(qs,{className:"h-4 w-4"})}),r.jsx(Ae,{variant:S==="list"?"default":"ghost",size:"sm",onClick:()=>k("list"),className:"h-8 px-2",children:r.jsx(ba,{className:"h-4 w-4"})})]})]})]}),r.jsx("div",{className:"flex-1 flex overflow-hidden",children:r.jsxs(qce,{ref:Z,sensors:G,collisionDetection:TQ,onDragStart:nt,onDragEnd:ut,onDragCancel:jt,modifiers:[Ede],autoScroll:!0,autoScrollOptions:{threshold:{x:0,y:.2},speed:{x:10,y:10},interval:10},measuring:{droppable:{strategy:"always"}},cancelDrop:{escapeKey:!0,outsideTarget:!0},children:[S==="split"&&r.jsxs("div",{className:"grid grid-cols-12 gap-2 w-full h-full",children:[r.jsx("div",{className:"col-span-4 flex flex-col h-full",children:Cr()}),r.jsx("div",{className:"col-span-4 flex flex-col h-full",children:Ke()}),r.jsx("div",{className:"col-span-4 flex flex-col h-full",children:dr()})]}),S==="map"&&r.jsx("div",{className:"w-full h-full",children:Ke()}),S==="list"&&r.jsxs("div",{className:"grid grid-cols-2 gap-2 w-full h-full",children:[r.jsx("div",{className:"flex flex-col h-full",children:Cr()}),r.jsx("div",{className:"flex flex-col h-full",children:dr()})]}),S==="detailed"&&r.jsxs("div",{className:"grid grid-cols-12 gap-2 w-full h-full",children:[r.jsx("div",{className:"col-span-4 flex flex-col h-full",children:Tr()}),r.jsx("div",{className:"col-span-4 flex flex-col h-full",children:fr()}),r.jsx("div",{className:"col-span-4 flex flex-col h-full",children:dr()})]}),r.jsx(fde,{dropAnimation:null,children:x?r.jsx("div",{className:"transform rotate-3 shadow-xl",children:r.jsx(nue,{agent:x,isDragging:!0})}):null})]})}),r.jsx(gr,{open:g,onOpenChange:w,children:r.jsxs(xr,{className:"bg-background border-primary/20 shadow-lg",children:[r.jsx(vr,{children:r.jsx(yr,{className:"text-primary",children:(t==null?void 0:t.text_create_radio_channel)||"Create New Radio Channel"})}),r.jsxs("div",{className:"grid gap-4 py-4",children:[r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Me,{htmlFor:"name",className:"text-right",children:(t==null?void 0:t.text_channel_name)||"Channel Name"}),r.jsx(ht,{id:"name",value:d,onChange:Ge=>u(Ge.target.value),className:"col-span-3 border-primary/20 focus:border-primary"})]}),r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Me,{htmlFor:"name",className:"text-right",children:(t==null?void 0:t.text_radio_number)||"Radio Number"}),r.jsx(ht,{id:"radio",type:"number",value:f,onChange:Ge=>v(Number(Ge.target.value)),className:"col-span-3 border-primary/20 focus:border-primary"})]})]}),r.jsx(un,{children:r.jsx(Ae,{onClick:Re,className:"bg-primary hover:bg-primary/90",children:(t==null?void 0:t.text_channel_create)||"Create Channel"})})]})}),r.jsx(gr,{open:te,onOpenChange:ye,children:r.jsxs(xr,{className:"bg-background border-primary/20 shadow-lg",children:[r.jsx(vr,{children:r.jsx(yr,{className:"text-primary",children:(t==null?void 0:t.text_edit_radio_channel)||"Edit Radio Channel"})}),r.jsxs("div",{className:"grid gap-4 py-4",children:[r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Me,{htmlFor:"edit-name",className:"text-right",children:(t==null?void 0:t.text_channel_name)||"Channel Name"}),r.jsx(ht,{id:"edit-name",value:Q,onChange:Ge=>oe(Ge.target.value),className:"col-span-3 border-primary/20 focus:border-primary"})]}),r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Me,{htmlFor:"edit-radio-number",className:"text-right",children:(t==null?void 0:t.text_radio_number)||"Radio Number"}),r.jsx(ht,{id:"edit-radio-number",type:"number",value:ce,onChange:Ge=>ee(Ge.target.value),placeholder:"Optional",className:"col-span-3 border-primary/20 focus:border-primary"})]})]}),r.jsxs(un,{className:"flex flex-col sm:flex-row gap-2",children:[r.jsx(Ae,{variant:"outline",onClick:()=>ye(!1),className:"sm:mr-auto",children:(t==null?void 0:t.text_cancel)||"Cancel"}),Q.trim()&&r.jsx(Ae,{onClick:Bt,className:"bg-blue-600 hover:bg-blue-700 text-white",children:(t==null?void 0:t.text_rename_channel)||"Rename Channel"}),ce&&r.jsx(Ae,{onClick:ct,className:"bg-primary hover:bg-primary/90",children:(t==null?void 0:t.text_assign_radio)||"Assign Radio Number"})]})]})})]})}),sue=({officer:e,tags:t,onClick:n})=>{var i;const{locale:s}=ir(),a=o=>{const l=t.find(c=>c.shortname===o);return l?`bg-${l.color}-100 text-${l.color}-800 border-${l.color}-200`:"bg-slate-100 text-slate-800 border-slate-200"};return r.jsx(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"h-full",children:r.jsxs(Le,{className:"h-full bg-card/50 border-primary/20 hover:border-primary/50 transition-all duration-300 overflow-hidden group flex flex-col",onClick:n,children:[r.jsx(mt,{className:"p-4 pb-2",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"space-y-1.5",children:[r.jsx(kt,{className:"text-lg",children:e.name}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(ze,{variant:"outline",className:"font-normal bg-blue-100 text-blue-800",children:[(s==null?void 0:s.text_department)||"Department",": ",e.department]}),r.jsx("span",{className:"text-sm text-muted-foreground",children:e.rank})]})]}),r.jsx("div",{className:"relative w-10 h-10 rounded-full overflow-hidden bg-primary/20 flex items-center justify-center",children:r.jsx(vl,{className:"w-6 h-6 text-primary"})})]})}),r.jsx(Je,{className:"p-4 pt-0",children:r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"flex justify-between text-sm",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Mi,{className:"h-3.5 w-3.5 mr-1 text-muted-foreground"}),r.jsxs("span",{children:[e&&!isNaN(Number(e==null?void 0:e.totalDutyHours))?Number(e.totalDutyHours).toFixed(1):"0.0","h"]})]})}),e&&(e==null?void 0:e.tags)&&Array.isArray(e==null?void 0:e.tags)&&((i=e==null?void 0:e.tags)==null?void 0:i.length)>0&&r.jsx("div",{className:"flex flex-wrap gap-1",children:e==null?void 0:e.tags.map(o=>r.jsx(ze,{variant:"outline",className:a(o),children:o},o))}),r.jsxs("div",{className:"pt-2 flex justify-between",children:[r.jsxs(ze,{variant:e.status==="on-duty"?"default":"destructive",className:"px-2 py-1",children:[e.status==="on-duty"?r.jsx(jd,{className:"h-3.5 w-3.5 mr-1"}):r.jsx(wh,{className:"h-3.5 w-3.5 mr-1"}),e.status==="on-duty"?(s==null?void 0:s.text_on_duty)||"On Duty":(s==null?void 0:s.text_off_duty)||"Off Duty"]}),r.jsxs(Ae,{variant:"ghost",size:"sm",className:"h-7",children:[r.jsx(ks,{className:"h-3.5 w-3.5 mr-1"}),(s==null?void 0:s.text_details)||"Details"]})]})]})})]})})},l7=6048e5,iue=864e5,c7=6e4,d7=36e5,MT=Symbol.for("constructDateFrom");function dA(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&MT in e?e[MT](t):e instanceof Date?new e.constructor(t):new Date(t)}function gc(e,t){return dA(t||e,e)}let aue={};function G1(){return aue}function lx(e,t){var l,c,d,u;const n=G1(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=gc(e,t==null?void 0:t.in),i=a.getDay(),o=(i<s?7:0)+i-s;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Uy(e,t){return lx(e,{...t,weekStartsOn:1})}function u7(e,t){const n=gc(e,t==null?void 0:t.in),s=n.getFullYear(),a=dA(n,0);a.setFullYear(s+1,0,4),a.setHours(0,0,0,0);const i=Uy(a),o=dA(n,0);o.setFullYear(s,0,4),o.setHours(0,0,0,0);const l=Uy(o);return n.getTime()>=i.getTime()?s+1:n.getTime()>=l.getTime()?s:s-1}function UT(e){const t=gc(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function oue(e,...t){const n=dA.bind(null,t.find(s=>typeof s=="object"));return t.map(n)}function QT(e,t){const n=gc(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function lue(e,t,n){const[s,a]=oue(n==null?void 0:n.in,e,t),i=QT(s),o=QT(a),l=+i-UT(i),c=+o-UT(o);return Math.round((l-c)/iue)}function cue(e,t){const n=u7(e,t),s=dA(e,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),Uy(s)}function due(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function A7(e){return!(!due(e)&&typeof e!="number"||isNaN(+gc(e)))}function uue(e,t){const n=gc(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Aue={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},hue=(e,t,n)=>{let s;const a=Aue[e];return typeof a=="string"?s=a:t===1?s=a.one:s=a.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function d2(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const fue={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},mue={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},pue={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},gue={date:d2({formats:fue,defaultWidth:"full"}),time:d2({formats:mue,defaultWidth:"full"}),dateTime:d2({formats:pue,defaultWidth:"full"})},xue={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},vue=(e,t,n,s)=>xue[e];function zp(e){return(t,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let a;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const yue={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},wue={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},bue={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},jue={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Nue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Cue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},_ue=(e,t)=>{const n=Number(e),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Sue={ordinalNumber:_ue,era:zp({values:yue,defaultWidth:"wide"}),quarter:zp({values:wue,defaultWidth:"wide",argumentCallback:e=>e-1}),month:zp({values:bue,defaultWidth:"wide"}),day:zp({values:jue,defaultWidth:"wide"}),dayPeriod:zp({values:Nue,defaultWidth:"wide",formattingValues:Cue,defaultFormattingWidth:"wide"})};function Vp(e){return(t,n={})=>{const s=n.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Eue(l,f=>f.test(o)):Bue(l,f=>f.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function Bue(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Eue(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Iue(e){return(t,n={})=>{const s=t.match(e.matchPattern);if(!s)return null;const a=s[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const Tue=/^(\d+)(th|st|nd|rd)?/i,kue=/\d+/i,Pue={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Due={any:[/^b/i,/^(a|c)/i]},Fue={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Lue={any:[/1/i,/2/i,/3/i,/4/i]},Rue={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Oue={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Mue={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Uue={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Que={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Hue={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zue={ordinalNumber:Iue({matchPattern:Tue,parsePattern:kue,valueCallback:e=>parseInt(e,10)}),era:Vp({matchPatterns:Pue,defaultMatchWidth:"wide",parsePatterns:Due,defaultParseWidth:"any"}),quarter:Vp({matchPatterns:Fue,defaultMatchWidth:"wide",parsePatterns:Lue,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Vp({matchPatterns:Rue,defaultMatchWidth:"wide",parsePatterns:Oue,defaultParseWidth:"any"}),day:Vp({matchPatterns:Mue,defaultMatchWidth:"wide",parsePatterns:Uue,defaultParseWidth:"any"}),dayPeriod:Vp({matchPatterns:Que,defaultMatchWidth:"any",parsePatterns:Hue,defaultParseWidth:"any"})},Vue={code:"en-US",formatDistance:hue,formatLong:gue,formatRelative:vue,localize:Sue,match:zue,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Kue(e,t){const n=gc(e,t==null?void 0:t.in);return lue(n,uue(n))+1}function Wue(e,t){const n=gc(e,t==null?void 0:t.in),s=+Uy(n)-+cue(n);return Math.round(s/l7)+1}function h7(e,t){var u,f,v,g;const n=gc(e,t==null?void 0:t.in),s=n.getFullYear(),a=G1(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((g=(v=a.locale)==null?void 0:v.options)==null?void 0:g.firstWeekContainsDate)??1,o=dA((t==null?void 0:t.in)||e,0);o.setFullYear(s+1,0,i),o.setHours(0,0,0,0);const l=lx(o,t),c=dA((t==null?void 0:t.in)||e,0);c.setFullYear(s,0,i),c.setHours(0,0,0,0);const d=lx(c,t);return+n>=+l?s+1:+n>=+d?s:s-1}function $ue(e,t){var l,c,d,u;const n=G1(),s=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=h7(e,t),i=dA((t==null?void 0:t.in)||e,0);return i.setFullYear(a,0,s),i.setHours(0,0,0,0),lx(i,t)}function Gue(e,t){const n=gc(e,t==null?void 0:t.in),s=+lx(n,t)-+$ue(n,t);return Math.round(s/l7)+1}function Ks(e,t){const n=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return n+s}const FA={y(e,t){const n=e.getFullYear(),s=n>0?n:1-n;return Ks(t==="yy"?s%100:s,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Ks(n+1,2)},d(e,t){return Ks(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Ks(e.getHours()%12||12,t.length)},H(e,t){return Ks(e.getHours(),t.length)},m(e,t){return Ks(e.getMinutes(),t.length)},s(e,t){return Ks(e.getSeconds(),t.length)},S(e,t){const n=t.length,s=e.getMilliseconds(),a=Math.trunc(s*Math.pow(10,n-3));return Ks(a,t.length)}},Gf={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},HT={G:function(e,t,n){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const s=e.getFullYear(),a=s>0?s:1-s;return n.ordinalNumber(a,{unit:"year"})}return FA.y(e,t)},Y:function(e,t,n,s){const a=h7(e,s),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Ks(o,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):Ks(i,t.length)},R:function(e,t){const n=u7(e);return Ks(n,t.length)},u:function(e,t){const n=e.getFullYear();return Ks(n,t.length)},Q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return Ks(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return Ks(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,n){const s=e.getMonth();switch(t){case"M":case"MM":return FA.M(e,t);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,n){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return Ks(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,n,s){const a=Gue(e,s);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):Ks(a,t.length)},I:function(e,t,n){const s=Wue(e);return t==="Io"?n.ordinalNumber(s,{unit:"week"}):Ks(s,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):FA.d(e,t)},D:function(e,t,n){const s=Kue(e);return t==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):Ks(s,t.length)},E:function(e,t,n){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,n,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Ks(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Ks(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const s=e.getDay(),a=s===0?7:s;switch(t){case"i":return String(a);case"ii":return Ks(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const s=e.getHours();let a;switch(s===12?a=Gf.noon:s===0?a=Gf.midnight:a=s/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const s=e.getHours();let a;switch(s>=17?a=Gf.evening:s>=12?a=Gf.afternoon:s>=4?a=Gf.morning:a=Gf.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return FA.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):FA.H(e,t)},K:function(e,t,n){const s=e.getHours()%12;return t==="Ko"?n.ordinalNumber(s,{unit:"hour"}):Ks(s,t.length)},k:function(e,t,n){let s=e.getHours();return s===0&&(s=24),t==="ko"?n.ordinalNumber(s,{unit:"hour"}):Ks(s,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):FA.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):FA.s(e,t)},S:function(e,t){return FA.S(e,t)},X:function(e,t,n){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return VT(s);case"XXXX":case"XX":return Jh(s);case"XXXXX":case"XXX":default:return Jh(s,":")}},x:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"x":return VT(s);case"xxxx":case"xx":return Jh(s);case"xxxxx":case"xxx":default:return Jh(s,":")}},O:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+zT(s,":");case"OOOO":default:return"GMT"+Jh(s,":")}},z:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+zT(s,":");case"zzzz":default:return"GMT"+Jh(s,":")}},t:function(e,t,n){const s=Math.trunc(+e/1e3);return Ks(s,t.length)},T:function(e,t,n){return Ks(+e,t.length)}};function zT(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),a=Math.trunc(s/60),i=s%60;return i===0?n+String(a):n+String(a)+t+Ks(i,2)}function VT(e,t){return e%60===0?(e>0?"-":"+")+Ks(Math.abs(e)/60,2):Jh(e,t)}function Jh(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),a=Ks(Math.trunc(s/60),2),i=Ks(s%60,2);return n+a+t+i}const KT=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},f7=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},que=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],s=n[1],a=n[2];if(!a)return KT(e,t);let i;switch(s){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",KT(s,t)).replace("{{time}}",f7(a,t))},Jue={p:f7,P:que},Yue=/^D+$/,Xue=/^Y+$/,Zue=["D","DD","YY","YYYY"];function eAe(e){return Yue.test(e)}function tAe(e){return Xue.test(e)}function rAe(e,t,n){const s=nAe(e,t,n);if(console.warn(s),Zue.includes(e))throw new RangeError(s)}function nAe(e,t,n){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const sAe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,iAe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,aAe=/^'([^]*?)'?$/,oAe=/''/g,lAe=/[a-zA-Z]/;function m7(e,t,n){var u,f,v,g;const s=G1(),a=s.locale??Vue,i=s.firstWeekContainsDate??((f=(u=s.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,o=s.weekStartsOn??((g=(v=s.locale)==null?void 0:v.options)==null?void 0:g.weekStartsOn)??0,l=gc(e,n==null?void 0:n.in);if(!A7(l))throw new RangeError("Invalid time value");let c=t.match(iAe).map(w=>{const y=w[0];if(y==="p"||y==="P"){const b=Jue[y];return b(w,a.formatLong)}return w}).join("").match(sAe).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const y=w[0];if(y==="'")return{isToken:!1,value:cAe(w)};if(HT[y])return{isToken:!0,value:w};if(y.match(lAe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:w}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(w=>{if(!w.isToken)return w.value;const y=w.value;(tAe(y)||eAe(y))&&rAe(y,t,String(e));const b=HT[y[0]];return b(l,y,a.localize,d)}).join("")}function cAe(e){const t=e.match(aAe);return t?t[1].replace(oAe,"'"):e}function dAe(e,t){const n=()=>dA(t==null?void 0:t.in,NaN),a=fAe(e);let i;if(a.date){const d=mAe(a.date,2);i=pAe(d.restDateString,d.year)}if(!i||isNaN(+i))return n();const o=+i;let l=0,c;if(a.time&&(l=gAe(a.time),isNaN(l)))return n();if(a.timezone){if(c=xAe(a.timezone),isNaN(c))return n()}else{const d=new Date(o+l),u=gc(0,t==null?void 0:t.in);return u.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),u.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),u}return gc(o+l+c,t==null?void 0:t.in)}const Jv={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},uAe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,AAe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,hAe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function fAe(e){const t={},n=e.split(Jv.dateTimeDelimiter);let s;if(n.length>2)return t;if(/:/.test(n[0])?s=n[0]:(t.date=n[0],s=n[1],Jv.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Jv.timeZoneDelimiter)[0],s=e.substr(t.date.length,e.length))),s){const a=Jv.timezone.exec(s);a?(t.time=s.replace(a[1],""),t.timezone=a[1]):t.time=s}return t}function mAe(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),s=e.match(n);if(!s)return{year:NaN,restDateString:""};const a=s[1]?parseInt(s[1]):null,i=s[2]?parseInt(s[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((s[1]||s[2]).length)}}function pAe(e,t){if(t===null)return new Date(NaN);const n=e.match(uAe);if(!n)return new Date(NaN);const s=!!n[4],a=Kp(n[1]),i=Kp(n[2])-1,o=Kp(n[3]),l=Kp(n[4]),c=Kp(n[5])-1;if(s)return jAe(t,l,c)?vAe(t,l,c):new Date(NaN);{const d=new Date(0);return!wAe(t,i,o)||!bAe(t,a)?new Date(NaN):(d.setUTCFullYear(t,i,Math.max(a,o)),d)}}function Kp(e){return e?parseInt(e):1}function gAe(e){const t=e.match(AAe);if(!t)return NaN;const n=u2(t[1]),s=u2(t[2]),a=u2(t[3]);return NAe(n,s,a)?n*d7+s*c7+a*1e3:NaN}function u2(e){return e&&parseFloat(e.replace(",","."))||0}function xAe(e){if(e==="Z")return 0;const t=e.match(hAe);if(!t)return 0;const n=t[1]==="+"?-1:1,s=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return CAe(s,a)?n*(s*d7+a*c7):NaN}function vAe(e,t,n){const s=new Date(0);s.setUTCFullYear(e,0,4);const a=s.getUTCDay()||7,i=(t-1)*7+n+1-a;return s.setUTCDate(s.getUTCDate()+i),s}const yAe=[31,null,31,30,31,30,31,31,30,31,30,31];function p7(e){return e%400===0||e%4===0&&e%100!==0}function wAe(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(yAe[t]||(p7(e)?29:28))}function bAe(e,t){return t>=1&&t<=(p7(e)?366:365)}function jAe(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function NAe(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function CAe(e,t){return t>=0&&t<=59}function $n(e){try{let t;return typeof e=="string"?t=dAe(e):t=new Date(e),A7(t)?t.toLocaleString():"Invalid Date"}catch{return"Invalid Date"}}var WT=1,_Ae=.9,SAe=.8,BAe=.17,A2=.1,h2=.999,EAe=.9999,IAe=.99,TAe=/[\\\/_+.#"@\[\(\{&]/,kAe=/[\\\/_+.#"@\[\(\{&]/g,PAe=/[\s-]/,g7=/[\s-]/g;function K_(e,t,n,s,a,i,o){if(i===t.length)return a===e.length?WT:IAe;var l=`${a},${i}`;if(o[l]!==void 0)return o[l];for(var c=s.charAt(i),d=n.indexOf(c,a),u=0,f,v,g,w;d>=0;)f=K_(e,t,n,s,d+1,i+1,o),f>u&&(d===a?f*=WT:TAe.test(e.charAt(d-1))?(f*=SAe,g=e.slice(a,d-1).match(kAe),g&&a>0&&(f*=Math.pow(h2,g.length))):PAe.test(e.charAt(d-1))?(f*=_Ae,w=e.slice(a,d-1).match(g7),w&&a>0&&(f*=Math.pow(h2,w.length))):(f*=BAe,a>0&&(f*=Math.pow(h2,d-a))),e.charAt(d)!==t.charAt(i)&&(f*=EAe)),(f<A2&&n.charAt(d-1)===s.charAt(i+1)||s.charAt(i+1)===s.charAt(i)&&n.charAt(d-1)!==s.charAt(i))&&(v=K_(e,t,n,s,d+1,i+2,o),v*A2>f&&(f=v*A2)),f>u&&(u=f),d=n.indexOf(c,d+1);return o[l]=u,u}function $T(e){return e.toLowerCase().replace(g7," ")}function DAe(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,K_(e,t,$T(e),$T(t),0,0,{})}var Wp='[cmdk-group=""]',f2='[cmdk-group-items=""]',FAe='[cmdk-group-heading=""]',x7='[cmdk-item=""]',GT=`${x7}:not([aria-disabled="true"])`,W_="cmdk-item-select",um="data-value",LAe=(e,t,n)=>DAe(e,t,n),v7=m.createContext(void 0),Qx=()=>m.useContext(v7),y7=m.createContext(void 0),V4=()=>m.useContext(y7),w7=m.createContext(void 0),b7=m.forwardRef((e,t)=>{let n=Am(()=>{var M,E;return{search:"",value:(E=(M=e.value)!=null?M:e.defaultValue)!=null?E:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),s=Am(()=>new Set),a=Am(()=>new Map),i=Am(()=>new Map),o=Am(()=>new Set),l=j7(e),{label:c,children:d,value:u,onValueChange:f,filter:v,shouldFilter:g,loop:w,disablePointerSelection:y=!1,vimBindings:b=!0,...x}=e,N=Ma(),S=Ma(),k=Ma(),F=m.useRef(null),$=$Ae();xf(()=>{if(u!==void 0){let M=u.trim();n.current.value=M,U.emit()}},[u]),xf(()=>{$(6,Z)},[]);let U=m.useMemo(()=>({subscribe:M=>(o.current.add(M),()=>o.current.delete(M)),snapshot:()=>n.current,setState:(M,E,q)=>{var se,re,G,ue;if(!Object.is(n.current[M],E)){if(n.current[M]=E,M==="search")R(),K(),$(1,B);else if(M==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ie=document.getElementById(k);ie?ie.focus():(se=document.getElementById(N))==null||se.focus()}if($(7,()=>{var ie;n.current.selectedItemId=(ie=te())==null?void 0:ie.id,U.emit()}),q||$(5,Z),((re=l.current)==null?void 0:re.value)!==void 0){let ie=E??"";(ue=(G=l.current).onValueChange)==null||ue.call(G,ie);return}}U.emit()}},emit:()=>{o.current.forEach(M=>M())}}),[]),D=m.useMemo(()=>({value:(M,E,q)=>{var se;E!==((se=i.current.get(M))==null?void 0:se.value)&&(i.current.set(M,{value:E,keywords:q}),n.current.filtered.items.set(M,H(E,q)),$(2,()=>{K(),U.emit()}))},item:(M,E)=>(s.current.add(M),E&&(a.current.has(E)?a.current.get(E).add(M):a.current.set(E,new Set([M]))),$(3,()=>{R(),K(),n.current.value||B(),U.emit()}),()=>{i.current.delete(M),s.current.delete(M),n.current.filtered.items.delete(M);let q=te();$(4,()=>{R(),(q==null?void 0:q.getAttribute("id"))===M&&B(),U.emit()})}),group:M=>(a.current.has(M)||a.current.set(M,new Set),()=>{i.current.delete(M),a.current.delete(M)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:N,inputId:k,labelId:S,listInnerRef:F}),[]);function H(M,E){var q,se;let re=(se=(q=l.current)==null?void 0:q.filter)!=null?se:LAe;return M?re(M,n.current.search,E):0}function K(){if(!n.current.search||l.current.shouldFilter===!1)return;let M=n.current.filtered.items,E=[];n.current.filtered.groups.forEach(se=>{let re=a.current.get(se),G=0;re.forEach(ue=>{let ie=M.get(ue);G=Math.max(ie,G)}),E.push([se,G])});let q=F.current;ye().sort((se,re)=>{var G,ue;let ie=se.getAttribute("id"),Ee=re.getAttribute("id");return((G=M.get(Ee))!=null?G:0)-((ue=M.get(ie))!=null?ue:0)}).forEach(se=>{let re=se.closest(f2);re?re.appendChild(se.parentElement===re?se:se.closest(`${f2} > *`)):q.appendChild(se.parentElement===q?se:se.closest(`${f2} > *`))}),E.sort((se,re)=>re[1]-se[1]).forEach(se=>{var re;let G=(re=F.current)==null?void 0:re.querySelector(`${Wp}[${um}="${encodeURIComponent(se[0])}"]`);G==null||G.parentElement.appendChild(G)})}function B(){let M=ye().find(q=>q.getAttribute("aria-disabled")!=="true"),E=M==null?void 0:M.getAttribute(um);U.setState("value",E||void 0)}function R(){var M,E,q,se;if(!n.current.search||l.current.shouldFilter===!1){n.current.filtered.count=s.current.size;return}n.current.filtered.groups=new Set;let re=0;for(let G of s.current){let ue=(E=(M=i.current.get(G))==null?void 0:M.value)!=null?E:"",ie=(se=(q=i.current.get(G))==null?void 0:q.keywords)!=null?se:[],Ee=H(ue,ie);n.current.filtered.items.set(G,Ee),Ee>0&&re++}for(let[G,ue]of a.current)for(let ie of ue)if(n.current.filtered.items.get(ie)>0){n.current.filtered.groups.add(G);break}n.current.filtered.count=re}function Z(){var M,E,q;let se=te();se&&(((M=se.parentElement)==null?void 0:M.firstChild)===se&&((q=(E=se.closest(Wp))==null?void 0:E.querySelector(FAe))==null||q.scrollIntoView({block:"nearest"})),se.scrollIntoView({block:"nearest"}))}function te(){var M;return(M=F.current)==null?void 0:M.querySelector(`${x7}[aria-selected="true"]`)}function ye(){var M;return Array.from(((M=F.current)==null?void 0:M.querySelectorAll(GT))||[])}function de(M){let E=ye()[M];E&&U.setState("value",E.getAttribute(um))}function le(M){var E;let q=te(),se=ye(),re=se.findIndex(ue=>ue===q),G=se[re+M];(E=l.current)!=null&&E.loop&&(G=re+M<0?se[se.length-1]:re+M===se.length?se[0]:se[re+M]),G&&U.setState("value",G.getAttribute(um))}function Q(M){let E=te(),q=E==null?void 0:E.closest(Wp),se;for(;q&&!se;)q=M>0?KAe(q,Wp):WAe(q,Wp),se=q==null?void 0:q.querySelector(GT);se?U.setState("value",se.getAttribute(um)):le(M)}let oe=()=>de(ye().length-1),ce=M=>{M.preventDefault(),M.metaKey?oe():M.altKey?Q(1):le(1)},ee=M=>{M.preventDefault(),M.metaKey?de(0):M.altKey?Q(-1):le(-1)};return m.createElement(jr.div,{ref:t,tabIndex:-1,...x,"cmdk-root":"",onKeyDown:M=>{var E;(E=x.onKeyDown)==null||E.call(x,M);let q=M.nativeEvent.isComposing||M.keyCode===229;if(!(M.defaultPrevented||q))switch(M.key){case"n":case"j":{b&&M.ctrlKey&&ce(M);break}case"ArrowDown":{ce(M);break}case"p":case"k":{b&&M.ctrlKey&&ee(M);break}case"ArrowUp":{ee(M);break}case"Home":{M.preventDefault(),de(0);break}case"End":{M.preventDefault(),oe();break}case"Enter":{M.preventDefault();let se=te();if(se){let re=new Event(W_);se.dispatchEvent(re)}}}}},m.createElement("label",{"cmdk-label":"",htmlFor:D.inputId,id:D.labelId,style:qAe},c),q1(e,M=>m.createElement(y7.Provider,{value:U},m.createElement(v7.Provider,{value:D},M))))}),RAe=m.forwardRef((e,t)=>{var n,s;let a=Ma(),i=m.useRef(null),o=m.useContext(w7),l=Qx(),c=j7(e),d=(s=(n=c.current)==null?void 0:n.forceMount)!=null?s:o==null?void 0:o.forceMount;xf(()=>{if(!d)return l.item(a,o==null?void 0:o.id)},[d]);let u=N7(a,i,[e.value,e.children,i],e.keywords),f=V4(),v=hh($=>$.value&&$.value===u.current),g=hh($=>d||l.filter()===!1?!0:$.search?$.filtered.items.get(a)>0:!0);m.useEffect(()=>{let $=i.current;if(!(!$||e.disabled))return $.addEventListener(W_,w),()=>$.removeEventListener(W_,w)},[g,e.onSelect,e.disabled]);function w(){var $,U;y(),(U=($=c.current).onSelect)==null||U.call($,u.current)}function y(){f.setState("value",u.current,!0)}if(!g)return null;let{disabled:b,value:x,onSelect:N,forceMount:S,keywords:k,...F}=e;return m.createElement(jr.div,{ref:_d(i,t),...F,id:a,"cmdk-item":"",role:"option","aria-disabled":!!b,"aria-selected":!!v,"data-disabled":!!b,"data-selected":!!v,onPointerMove:b||l.getDisablePointerSelection()?void 0:y,onClick:b?void 0:w},e.children)}),OAe=m.forwardRef((e,t)=>{let{heading:n,children:s,forceMount:a,...i}=e,o=Ma(),l=m.useRef(null),c=m.useRef(null),d=Ma(),u=Qx(),f=hh(g=>a||u.filter()===!1?!0:g.search?g.filtered.groups.has(o):!0);xf(()=>u.group(o),[]),N7(o,l,[e.value,e.heading,c]);let v=m.useMemo(()=>({id:o,forceMount:a}),[a]);return m.createElement(jr.div,{ref:_d(l,t),...i,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},n&&m.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:d},n),q1(e,g=>m.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?d:void 0},m.createElement(w7.Provider,{value:v},g))))}),MAe=m.forwardRef((e,t)=>{let{alwaysRender:n,...s}=e,a=m.useRef(null),i=hh(o=>!o.search);return!n&&!i?null:m.createElement(jr.div,{ref:_d(a,t),...s,"cmdk-separator":"",role:"separator"})}),UAe=m.forwardRef((e,t)=>{let{onValueChange:n,...s}=e,a=e.value!=null,i=V4(),o=hh(d=>d.search),l=hh(d=>d.selectedItemId),c=Qx();return m.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),m.createElement(jr.input,{ref:t,...s,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:a?e.value:o,onChange:d=>{a||i.setState("search",d.target.value),n==null||n(d.target.value)}})}),QAe=m.forwardRef((e,t)=>{let{children:n,label:s="Suggestions",...a}=e,i=m.useRef(null),o=m.useRef(null),l=hh(d=>d.selectedItemId),c=Qx();return m.useEffect(()=>{if(o.current&&i.current){let d=o.current,u=i.current,f,v=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let g=d.offsetHeight;u.style.setProperty("--cmdk-list-height",g.toFixed(1)+"px")})});return v.observe(d),()=>{cancelAnimationFrame(f),v.unobserve(d)}}},[]),m.createElement(jr.div,{ref:_d(i,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":s,id:c.listId},q1(e,d=>m.createElement("div",{ref:_d(o,c.listInnerRef),"cmdk-list-sizer":""},d)))}),HAe=m.forwardRef((e,t)=>{let{open:n,onOpenChange:s,overlayClassName:a,contentClassName:i,container:o,...l}=e;return m.createElement(c4,{open:n,onOpenChange:s},m.createElement(d4,{container:o},m.createElement(N1,{"cmdk-overlay":"",className:a}),m.createElement(C1,{"aria-label":e.label,"cmdk-dialog":"",className:i},m.createElement(b7,{ref:t,...l}))))}),zAe=m.forwardRef((e,t)=>hh(n=>n.filtered.count===0)?m.createElement(jr.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),VAe=m.forwardRef((e,t)=>{let{progress:n,children:s,label:a="Loading...",...i}=e;return m.createElement(jr.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},q1(e,o=>m.createElement("div",{"aria-hidden":!0},o)))}),ql=Object.assign(b7,{List:QAe,Item:RAe,Input:UAe,Group:OAe,Separator:MAe,Dialog:HAe,Empty:zAe,Loading:VAe});function KAe(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function WAe(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function j7(e){let t=m.useRef(e);return xf(()=>{t.current=e}),t}var xf=typeof window>"u"?m.useEffect:m.useLayoutEffect;function Am(e){let t=m.useRef();return t.current===void 0&&(t.current=e()),t}function hh(e){let t=V4(),n=()=>e(t.snapshot());return m.useSyncExternalStore(t.subscribe,n,n)}function N7(e,t,n,s=[]){let a=m.useRef(),i=Qx();return xf(()=>{var o;let l=(()=>{var d;for(let u of n){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(d=u.current.textContent)==null?void 0:d.trim():a.current}})(),c=s.map(d=>d.trim());i.value(e,l,c),(o=t.current)==null||o.setAttribute(um,l),a.current=l}),a}var $Ae=()=>{let[e,t]=m.useState(),n=Am(()=>new Map);return xf(()=>{n.current.forEach(s=>s()),n.current=new Map},[e]),(s,a)=>{n.current.set(s,a),t({})}};function GAe(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function q1({asChild:e,children:t},n){return e&&m.isValidElement(t)?m.cloneElement(GAe(t),{ref:t.ref},n(t.props.children)):n(t)}var qAe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const C7=m.forwardRef(({className:e,...t},n)=>r.jsx(ql,{ref:n,className:Tt("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));C7.displayName=ql.displayName;const _7=m.forwardRef(({className:e,...t},n)=>r.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[r.jsx(ls,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),r.jsx(ql.Input,{ref:n,className:Tt("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));_7.displayName=ql.Input.displayName;const S7=m.forwardRef(({className:e,...t},n)=>r.jsx(ql.List,{ref:n,className:Tt("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));S7.displayName=ql.List.displayName;const B7=m.forwardRef((e,t)=>r.jsx(ql.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));B7.displayName=ql.Empty.displayName;const E7=m.forwardRef(({className:e,...t},n)=>r.jsx(ql.Group,{ref:n,className:Tt("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));E7.displayName=ql.Group.displayName;const JAe=m.forwardRef(({className:e,...t},n)=>r.jsx(ql.Separator,{ref:n,className:Tt("-mx-1 h-px bg-border",e),...t}));JAe.displayName=ql.Separator.displayName;const I7=m.forwardRef(({className:e,...t},n)=>r.jsx(ql.Item,{ref:n,className:Tt("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...t}));I7.displayName=ql.Item.displayName;function T7({options:e,selected:t,onChange:n,placeholder:s="Select options..."}){const a=m.useRef(null),[i,o]=m.useState(!1),[l,c]=m.useState(""),d=t.map(v=>{var g;return((g=e.find(w=>w.value===v))==null?void 0:g.label)||v}),u=v=>{n(t.filter(g=>g!==v))},f=e.filter(v=>!t.includes(v.value));return r.jsxs(C7,{className:"overflow-visible bg-transparent",children:[r.jsx("div",{className:"group border border-input px-3 py-2 text-sm ring-offset-background rounded-md focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2",children:r.jsxs("div",{className:"flex gap-1 flex-wrap items-center min-h-[32px]",children:[t.map((v,g)=>{const w=d[g];return r.jsxs(ze,{variant:"secondary",children:[w,r.jsx("button",{className:"ml-1 ring-offset-background rounded-full outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",onClick:()=>u(v),children:r.jsx(mc,{className:"h-3 w-3 text-muted-foreground hover:text-foreground"})})]},v)}),r.jsx(_7,{ref:a,value:l,onValueChange:c,onBlur:()=>o(!1),onFocus:()=>o(!0),placeholder:s,className:"ml-2 bg-transparent outline-none placeholder:text-muted-foreground flex-1"})]})}),r.jsx("div",{className:"relative mt-2",children:i&&f.length>0?r.jsx("div",{className:"absolute w-full z-10 top-0 rounded-md border bg-popover text-popover-foreground shadow-md outline-none animate-in",children:r.jsxs(S7,{children:[r.jsx(B7,{children:"No results found."}),r.jsx(E7,{className:"h-full overflow-auto",children:f.map(({label:v,value:g})=>r.jsx(I7,{onMouseDown:w=>{w.preventDefault(),w.stopPropagation()},onSelect:()=>{c(""),n([...t,g])},className:"cursor-pointer",children:v},g))})]})}):null})]})}var k7="AlertDialog",[YAe,g5e]=ji(k7,[NU]),fA=NU(),P7=e=>{const{__scopeAlertDialog:t,...n}=e,s=fA(t);return r.jsx(c4,{...s,...n,modal:!0})};P7.displayName=k7;var XAe="AlertDialogTrigger",D7=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,a=fA(n);return r.jsx(UU,{...a,...s,ref:t})});D7.displayName=XAe;var ZAe="AlertDialogPortal",F7=e=>{const{__scopeAlertDialog:t,...n}=e,s=fA(t);return r.jsx(d4,{...s,...n})};F7.displayName=ZAe;var ehe="AlertDialogOverlay",L7=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,a=fA(n);return r.jsx(N1,{...a,...s,ref:t})});L7.displayName=ehe;var Em="AlertDialogContent",[the,rhe]=YAe(Em),nhe=vO("AlertDialogContent"),R7=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:s,...a}=e,i=fA(n),o=m.useRef(null),l=an(t,o),c=m.useRef(null);return r.jsx(iie,{contentName:Em,titleName:O7,docsSlug:"alert-dialog",children:r.jsx(the,{scope:n,cancelRef:c,children:r.jsxs(C1,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:Kt(a.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[r.jsx(nhe,{children:s}),r.jsx(ihe,{contentRef:o})]})})})});R7.displayName=Em;var O7="AlertDialogTitle",M7=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,a=fA(n);return r.jsx(u4,{...a,...s,ref:t})});M7.displayName=O7;var U7="AlertDialogDescription",Q7=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,a=fA(n);return r.jsx(A4,{...a,...s,ref:t})});Q7.displayName=U7;var she="AlertDialogAction",H7=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,a=fA(n);return r.jsx(h4,{...a,...s,ref:t})});H7.displayName=she;var z7="AlertDialogCancel",V7=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,{cancelRef:a}=rhe(z7,n),i=fA(n),o=an(t,a);return r.jsx(h4,{...i,...s,ref:o})});V7.displayName=z7;var ihe=({contentRef:e})=>{const t=`\`${Em}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Em}\` by passing a \`${U7}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Em}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var s;document.getElementById((s=e.current)==null?void 0:s.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},ahe=P7,ohe=D7,lhe=F7,K7=L7,W7=R7,$7=H7,G7=V7,q7=M7,J7=Q7;const tA=ahe,Hx=ohe,che=lhe,Y7=m.forwardRef(({className:e,...t},n)=>r.jsx(K7,{className:Tt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));Y7.displayName=K7.displayName;const cu=m.forwardRef(({className:e,...t},n)=>r.jsxs(che,{children:[r.jsx(Y7,{}),r.jsx(W7,{ref:n,className:Tt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));cu.displayName=W7.displayName;const du=({className:e,...t})=>r.jsx("div",{className:Tt("flex flex-col space-y-2 text-center sm:text-left",e),...t});du.displayName="AlertDialogHeader";const uu=({className:e,...t})=>r.jsx("div",{className:Tt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});uu.displayName="AlertDialogFooter";const Au=m.forwardRef(({className:e,...t},n)=>r.jsx(q7,{ref:n,className:Tt("text-lg font-semibold",e),...t}));Au.displayName=q7.displayName;const hu=m.forwardRef(({className:e,...t},n)=>r.jsx(J7,{ref:n,className:Tt("text-sm text-muted-foreground",e),...t}));hu.displayName=J7.displayName;const cx=m.forwardRef(({className:e,...t},n)=>r.jsx($7,{ref:n,className:Tt(vS(),e),...t}));cx.displayName=$7.displayName;const dx=m.forwardRef(({className:e,...t},n)=>r.jsx(G7,{ref:n,className:Tt(vS({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));dx.displayName=G7.displayName;const dhe={exportData:{bcso:{label:"BCSO",warrantTemplateUrl:"https://kappa.lol/8ut4U"},sasp:{label:"SASP",warrantTemplateUrl:"https://kappa.lol/zQ-_6"},lspd:{label:"LSPD",warrantTemplateUrl:"https://kappa.lol/blm-9"},ambulance:{label:"EMS",warrantTemplateUrl:"https://kappa.lol/blm-9"}}},uhe=({officer:e,userPermissions:t,user:n,tags:s,onClose:a})=>{var q,se,re;const i=Vc(),{toast:o}=ys(),[l,c]=m.useState(!1),[d,u]=m.useState(e),[f,v]=m.useState(!1),[g,w]=m.useState(!1),[y,b]=m.useState(null),[x,N]=m.useState([]),[S,k]=m.useState(!1),[F,$]=m.useState(!1),[U,D]=m.useState([]),[H,K]=m.useState(d==null?void 0:d.tags),{locale:B}=ir(),R=()=>{k(!0)},Z=G=>{const ue=U[G];i(`/export-officer/${G}`,{state:{departmentData:ue,officer:d,webhookDump:y}})},te=()=>ke("getDepartments",{}).then(G=>{G?N(G):console.error("No response received.")}).catch(G=>{console.error("Error:",G)});function ye(){return ke("getExportDepartments",{},dhe).then(G=>{if(G){const ue=G.exportData;D(ue),b(G.webhook)}}).catch(G=>{console.error("Error:",G)})}m.useEffect(()=>{te(),ye()},[]),m.useEffect(()=>{u(e)},[e]);const de=G=>{le(G.id),w(!1)},le=G=>{const ue=d==null?void 0:d.citizenId,ie={...d,serviceHistory:[...(d==null?void 0:d.serviceHistory)||[],{date:new Date().toISOString().split("T")[0],event:"Fired from the force"}]};return ke("fireOfficer",{citizenId:ue,serviceHistory:ie.serviceHistory}).then(Ee=>{Ee?(u(ie),o({title:(B==null?void 0:B.text_officer_fired)||"Officer Fired",description:(B==null?void 0:B.text_officer_fired_description)||"The officer has been fired from the department."})):console.error("No response received.")}).catch(Ee=>{console.error("Error:",Ee)})},Q=G=>{const ue=s.find(ie=>ie.shortname==G);return ue?`bg-${ue.color}-100 text-${ue.color}-800 border-${ue.color}-200`:"bg-slate-100 text-slate-800 border-slate-200"},oe=(G,ue)=>{const ie={...d,currentAssignments:[...(d==null?void 0:d.currentAssignments)||[],ue]};return ke("addOfficerAssignment",{officerId:G,currentAssignments:ie.currentAssignments}).then(Ee=>{Ee?(u(ie),o({title:(B==null?void 0:B.text_assignment_added)||"Assignment Added",description:(B==null?void 0:B.text_assignment_added_description)||"The assignment has been successfully added."}),v(!1)):console.error("No response received.")}).catch(Ee=>{console.error("Error:",Ee)})},ce=(G,ue)=>{const ie={...d,currentAssignments:(d==null?void 0:d.currentAssignments)&&(d==null?void 0:d.currentAssignments.filter(Ee=>Ee.id!==ue))};return ke("addOfficerAssignment",{officerId:G,currentAssignments:ie.currentAssignments}).then(Ee=>{Ee?(u(ie),v(!1),o({title:(B==null?void 0:B.text_assignment_removed)||"Assignment Removed",description:(B==null?void 0:B.text_assignment_removed_description)||"The assignment has been successfully removed."})):console.error("No response received.")}).catch(Ee=>{console.error("Error:",Ee)})},ee=async G=>{try{let ue=[];const ie=d,Ee=x.find(Fe=>Fe.label===ie.department),He=x.find(Fe=>Fe.id===G.department),rt=(Fe,Oe)=>{var _e;return((_e=Fe[Oe])==null?void 0:_e.name)??"Unknown"},we=(Fe,Oe)=>Object.keys(Fe).find(_e=>Fe[_e].name===Oe)??"0",Ve=ie.rank,Re=He?rt(He.roles,G.rank):"Unknown",je=Ee?we(Ee.roles,ie.rank):"Unknown",Mt=G.rank;let Bt=null;je!==Mt&&(Bt=je<Mt?`Promoted to ${Re}`:`Demoted to ${Re}`);const ct=(Ee==null?void 0:Ee.id)!==G.department;ue=[...(G==null?void 0:G.serviceHistory)??[],...ct?[{date:new Date().toISOString().split("T")[0],event:`Transferred to department: ${(He==null?void 0:He.label)||"Unknown"}`}]:[],...Bt?[{date:new Date().toISOString().split("T")[0],event:Bt}]:[]];const vt={...d,department:He==null?void 0:He.label,rank:Re,serviceHistory:ue};u(vt),await ke("updateOfficerRank",{citizenId:G.citizenId,officerId:G.id,serviceHistory:ue,department:G.department,rank:G.rank})?(c(!1),o({title:(B==null?void 0:B.text_officer_updated)||"Officer Updated",description:(B==null?void 0:B.text_officer_updated_description)||"The officer has been successfully updated."})):console.error("No response received.")}catch(ue){console.error("Error:",ue)}},M=()=>ke("updateOfficertags",{citizenId:d.citizenId,tags:H}).then(G=>{if(G.success){const ue={...d,tags:H};u(ue),o({title:(B==null?void 0:B.text_tags_updated)||"Tags Updated",description:(B==null?void 0:B.text_tags_updated_description)||"Tags have been updated successfully."}),$(!1)}}).catch(G=>{console.error("Error:",G)}),E=G=>ke("downloadDutyRecords",{citizenId:G.citizenId}).then(ue=>{ue.success&&o({title:(B==null?void 0:B.text_download_processed)||"Download Processed",description:(B==null?void 0:B.text_download_processed_description)||"The download has been processed successfully."})}).catch(ue=>{console.error("Error:",ue)});return r.jsxs(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"flex w-full ",children:[r.jsxs("div",{className:"w-full",children:[r.jsx(mt,{className:"flex flex-row items-center justify-between w-full",children:r.jsxs("div",{className:"flex items-center gap-4 w-full justify-between",children:[r.jsx(Ae,{variant:"outline",size:"icon",onClick:a,className:"h-10 w-10",children:r.jsx(Oi,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[d==null?void 0:d.name,r.jsx(ze,{variant:"outline",className:"bg-green-500/10 text-green-500",children:d==null?void 0:d.department}),d&&(d==null?void 0:d.tags)&&Array.isArray(d==null?void 0:d.tags)&&((q=d==null?void 0:d.tags)==null?void 0:q.slice(0,3).map((G,ue)=>r.jsx(ze,{className:Q(G),children:G}))),(d==null?void 0:d.tags)&&((se=d==null?void 0:d.tags)==null?void 0:se.length)>3&&r.jsxs(ze,{className:"text-xs bg-blue-500/20 text-blue-500",children:["+",((re=d==null?void 0:d.tags)==null?void 0:re.length)-3]})]}),r.jsx("p",{className:"text-muted-foreground",children:d&&(d==null?void 0:d.rank)})]}),r.jsx("div",{className:"ml-auto",children:r.jsx("div",{className:"flex gap-2",children:(t==null?void 0:t.edit)&&r.jsxs(r.Fragment,{children:[!l&&r.jsxs(r.Fragment,{children:[(n==null?void 0:n.hasManagePermission)&&(d==null?void 0:d.isFired)!==1&&r.jsxs(r.Fragment,{children:[(n==null?void 0:n.citizenId)!=(d==null?void 0:d.citizenId)&&r.jsxs(Ae,{variant:"outline",onClick:()=>c(!0),children:[r.jsx(ks,{className:"h-4 w-4"}),(B==null?void 0:B.text_edit)||"Edit"]}),(n==null?void 0:n.citizenId)!=(d==null?void 0:d.citizenId)&&r.jsxs(tA,{open:g,onOpenChange:w,children:[r.jsx(Hx,{asChild:!0,children:r.jsx(Ae,{variant:"destructive",children:(B==null?void 0:B.text_fire_officer)||"Fire Officer"})}),r.jsxs(cu,{children:[r.jsxs(du,{children:[r.jsx(Au,{children:(B==null?void 0:B.text_confirm_fire)||"Confirm Fire"}),r.jsx(hu,{children:(B==null?void 0:B.text_confirm_fire_description)||"Are you sure you want to fire this officer?"})]}),r.jsxs(uu,{children:[r.jsx(Ae,{variant:"outline",onClick:()=>w(!1),children:(B==null?void 0:B.text_cancel)||"Cancel"}),r.jsx(Ae,{variant:"destructive",onClick:()=>{de(d)},children:(B==null?void 0:B.text_fire)||"Fire"})]})]})]}),r.jsxs(Ae,{variant:"outline",onClick:()=>$(!0),children:[r.jsx(ks,{className:"h-4 w-4"}),(B==null?void 0:B.text_manage_tags)||"Manage Tags"]})]}),d&&t.view&&r.jsxs(r.Fragment,{children:[r.jsxs(Ae,{variant:"outline",onClick:()=>R(),children:[r.jsx(Nd,{className:"mr-2 h-4 w-4"}),(B==null?void 0:B.text_export_profile)||"Export Profile"]}),r.jsxs(Ae,{variant:"outline",onClick:()=>{E(d)},children:[r.jsx(Nd,{className:"mr-2 h-4 w-4"}),(B==null?void 0:B.text_export_duty_records)||"Export Duty Records"]})]})]}),l&&r.jsxs(r.Fragment,{children:[r.jsxs(Ae,{variant:"destructive",onClick:()=>c(!1),children:[r.jsx(ks,{className:" h-4 w-4"}),(B==null?void 0:B.text_cancel)||"Cancel"]}),r.jsxs(Ae,{variant:"outline",children:[r.jsx(ks,{className:" h-4 w-4"}),(B==null?void 0:B.text_save_changes)||"Save Changes"]})]})]})})})]})}),r.jsx(Je,{children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"col-span-1",children:[r.jsxs(Le,{className:"lg:col-span-1 bg-transparent border-primary/20",children:[r.jsx(mt,{children:r.jsxs(kt,{className:"flex items-center justify-between",children:[r.jsx("span",{children:(B==null?void 0:B.text_officer_profile)||"Officer Profile"}),r.jsxs("div",{children:[r.jsx(ze,{variant:(d==null?void 0:d.status)==="on-duty"?"success":"destructive",children:(d==null?void 0:d.status)==="on-duty"?(B==null?void 0:B.text_on_duty)||"On Duty":(B==null?void 0:B.text_off_duty)||"Off Duty"}),r.jsx(ze,{variant:"success",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Mi,{className:"h-3.5 w-3.5 mr-1 text-muted-foreground"}),r.jsxs("span",{children:[d&&!isNaN(Number(d==null?void 0:d.totalDutyHours))?Number(d.totalDutyHours).toFixed(1):"0.0","h"]})]})})]})]})}),r.jsx(Je,{className:"space-y-6",children:r.jsxs("div",{className:"flex flex-col items-center justify-center",children:[r.jsx("div",{className:"relative w-32 h-32 rounded-full overflow-hidden bg-primary/20 holographic flex items-center justify-center mb-4",children:r.jsx(vl,{className:"w-20 h-20 text-primary"})}),r.jsx("h3",{className:"text-xl font-bold",children:d==null?void 0:d.name}),r.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[r.jsx(ze,{variant:"outline",className:"font-normal bg-blue-100 text-blue-800",children:d==null?void 0:d.department}),r.jsx("span",{className:"text-sm",children:d==null?void 0:d.rank})]}),d&&(d==null?void 0:d.tags)&&(d==null?void 0:d.tags.length)>0&&Array.isArray(d==null?void 0:d.tags)&&r.jsx("div",{className:"flex flex-wrap justify-center gap-1 mt-3",children:d==null?void 0:d.tags.map(G=>r.jsx(ze,{variant:"outline",className:Q(G),children:G},G))})]})})]}),r.jsxs(Le,{className:"bg-transparent mt-4",children:[r.jsx(mt,{children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-medium",children:(B==null?void 0:B.text_current_assignments)||"Current Assignments"}),r.jsxs(Ae,{size:"sm",variant:"outline",onClick:()=>v(!0),children:[r.jsx(Xr,{className:"h-4 w-4 mr-2"}),(B==null?void 0:B.text_add_assignment)||"Add Assignment"]})]})}),r.jsx(Je,{className:"space-y-6",children:d&&d.currentAssignments&&d.currentAssignments.length>0&&Array.isArray(d==null?void 0:d.currentAssignments)?r.jsx(nr,{className:"h-[calc(40vh-200px)]",children:r.jsx("div",{className:"space-y-2",children:d.currentAssignments.map(G=>r.jsx(Le,{className:"bg-background/50",children:r.jsxs(Je,{className:"p-3 flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Fm,{className:"h-4 w-4 mr-2 text-primary"}),r.jsx("span",{children:G.description})]}),r.jsx(Ae,{variant:"ghost",size:"sm",onClick:()=>{ce(d==null?void 0:d.id,G==null?void 0:G.id)},children:r.jsx(ms,{className:"h-4 w-4"})})]})},G.id))})}):r.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[r.jsx(Fm,{className:"h-12 w-12 text-muted-foreground mb-3"}),r.jsx("p",{className:"text-muted-foreground",children:(B==null?void 0:B.text_no_current_assignments)||"No Current Assignments"})]})})]})]}),r.jsxs("div",{className:"col-span-1",children:[r.jsxs(Le,{className:"space-y-2 bg-transparent",children:[r.jsx(mt,{children:r.jsx("h3",{className:"text-lg font-medium",children:(B==null?void 0:B.text_duty_records)||"Duty Records"})}),r.jsx(Je,{children:r.jsx(nr,{className:"h-[calc(39vh-200px)]",children:d&&Array.isArray(d==null?void 0:d.dutyRecords)&&((d==null?void 0:d.dutyRecords)||[]).map((G,ue)=>r.jsxs("div",{className:"p-2 bg-background/50 rounded-lg mb-2",children:[r.jsxs("p",{className:"text-sm flex items-center",children:[r.jsx(Mi,{className:"mr-2 h-4 w-4 text-primary"}),(B==null?void 0:B.text_start)||"Start",": ",$n(G.startTime)]}),G.endTime&&r.jsxs("p",{className:"text-sm flex items-center mt-1",children:[r.jsx(Mi,{className:"mr-2 h-4 w-4 text-primary"}),(B==null?void 0:B.text_end)||"End",": ",$n(G.endTime)]}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[(B==null?void 0:B.text_hours)||"Hours",": ",G.hours]})]},ue))})})]}),r.jsxs(Le,{className:"space-y-2 bg-transparent mt-5",children:[r.jsx(mt,{children:r.jsx("h3",{className:"text-lg font-medium",children:(B==null?void 0:B.text_service_history)||"Service History"})}),r.jsx(Je,{children:r.jsx(nr,{className:"h-[calc(40vh-200px)]",children:d&&d.serviceHistory&&(d==null?void 0:d.serviceHistory.length)>0?((d==null?void 0:d.serviceHistory)||[]).map((G,ue)=>r.jsx(Le,{className:"bg-background/50 ",children:r.jsxs(Je,{className:"p-3",children:[r.jsx("p",{className:"text-sm font-medium",children:G.event}),r.jsx("p",{className:"text-xs text-muted-foreground",children:G.date})]})})):r.jsx("p",{className:"text-sm text-muted-foreground",children:(B==null?void 0:B.text_no_service_history)||"No Service History"})})})]})]})]})})]}),r.jsx(gr,{open:f,onOpenChange:v,children:r.jsxs(xr,{"aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:(B==null?void 0:B.text_add_assignment_dialog)||"Add Assignment Dialog"})}),r.jsx(Ahe,{onSave:G=>oe(d.id,G),onCancel:()=>v(!1)})]})}),r.jsx(gr,{open:S,onOpenChange:k,children:r.jsxs(xr,{className:"sm:max-w-[425px]","aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:(B==null?void 0:B.text_export_officer_report)||"Export Officer Report"})}),r.jsx("div",{className:"grid gap-4 py-4",children:r.jsx("div",{className:"grid grid-cols-4 items-center gap-4",children:r.jsxs(On,{onValueChange:Z,children:[r.jsx(Dn,{className:"w-[180px]",children:r.jsx(Mn,{placeholder:(B==null?void 0:B.text_select_department)||"Select Department"})}),r.jsx(Fn,{children:U&&Object.entries(U).map(([G,ue],ie)=>r.jsx(Yt,{value:G,children:G.toUpperCase()},ie))})]})})})]})}),r.jsx(gr,{open:F,onOpenChange:$,children:r.jsxs(xr,{className:"sm:max-w-[425px]","aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:(B==null?void 0:B.text_manage_tags_dialog)||"Manage Tags"})}),r.jsx("div",{className:"grid gap-4 py-4",children:r.jsxs("div",{className:"space-y-2 col-span-2",children:[r.jsx(Me,{htmlFor:"tags",children:(B==null?void 0:B.text_officer_tags)||"Officer Tags"}),r.jsx("div",{className:"border border-input rounded-md p-1 bg-background/50",children:r.jsx(T7,{options:s.map(G=>({label:G.label,value:G.shortname})),selected:H??[],onChange:G=>{K(G)},placeholder:(B==null?void 0:B.text_select_officer_tags)||"Select Officer Tags"})}),r.jsx("p",{className:"text-xs text-muted-foreground",children:(B==null?void 0:B.text_tags_help)||"Select tags to assign to this officer"})]})}),r.jsx(un,{children:r.jsx(Ae,{onClick:()=>{M()},className:"mt-4",children:(B==null?void 0:B.text_save)||"Save"})})]})}),r.jsx(gr,{open:l,onOpenChange:c,children:r.jsxs(xr,{"aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:(B==null?void 0:B.text_edit_officer)||"Edit Officer"})}),r.jsx(hhe,{officer:d,onSave:ee,onCancel:()=>c(!1)})]})})]})};function Ahe({onSave:e,onCancel:t}){const[n,s]=m.useState(""),a=i=>{i.preventDefault(),e({id:Date.now().toString(),description:n})};return r.jsxs("form",{onSubmit:a,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"description",children:"Assignment Description"}),r.jsx(ht,{id:"description",value:n,onChange:i=>s(i.target.value),required:!0})]}),r.jsxs(un,{children:[r.jsx(Ae,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),r.jsx(Ae,{type:"submit",children:"Save"})]})]})}function hhe({officer:e,onSave:t,onCancel:n}){var u,f,v,g,w;const[s,a]=m.useState(e||{name:"",rank:"",department:"",status:"off-duty",location:"",totalDutyHours:0,dutyRecords:(e==null?void 0:e.dutyRecords)??[],serviceHistory:(e==null?void 0:e.serviceHistory)??[],currentAssignments:(e==null?void 0:e.currentAssignments)??[]}),[i,o]=m.useState([]),l=()=>ke("getDepartments",{}).then(y=>{y?o(y):console.error("No response received.")}).catch(y=>{console.error("Error:",y)});m.useEffect(()=>{l()},[]);const c=y=>{const{name:b,value:x}=y.target;a(N=>({...N,[b]:x}))},d=y=>{y.preventDefault(),t(s)};return r.jsxs("form",{onSubmit:d,className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2 col-span-2",children:[r.jsx(Me,{htmlFor:"name",children:"Name"}),r.jsx(ht,{id:"name",name:"name",value:s.name,onChange:c,disabled:!0})]}),r.jsxs("div",{className:"space-y-2 col-span-2",children:[r.jsx(Me,{htmlFor:"department",children:"Department"}),r.jsxs(On,{name:"department",value:s.department,onValueChange:y=>{if(!y)return;const b=i.find(x=>x.id===y);b&&a(x=>({...x,department:b.id}))},children:[r.jsx(Dn,{children:r.jsx(Mn,{placeholder:"Select department"})}),r.jsx(Fn,{children:i&&i.map(y=>r.jsx(Yt,{value:y.id,children:y.label},y.id))})]})]}),r.jsxs("div",{className:"space-y-2 col-span-2",children:[r.jsx(Me,{htmlFor:"rank",children:"Rank"}),r.jsxs(On,{name:"rank",value:s.rank,onValueChange:y=>a(b=>({...b,rank:y})),children:[r.jsx(Dn,{children:r.jsx(Mn,{children:s.rank!==void 0&&s.rank!==null&&((v=(f=(u=(i||[]).find(y=>y.id==s.department))==null?void 0:u.roles)==null?void 0:f[s.rank])==null?void 0:v.name)||"Select rank"})}),r.jsx(Fn,{children:((g=(i||[]).find(y=>y.id==s.department))==null?void 0:g.roles)&&Object.entries(((w=(i||[]).find(y=>(y==null?void 0:y.id)==s.department))==null?void 0:w.roles)||{}).map(([y,b],x)=>r.jsx(Yt,{value:x.toString(),children:b.name},y))})]})]}),r.jsxs(un,{className:"col-span-2 gap-4",children:[r.jsx(Ae,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),r.jsx(Ae,{type:"submit",children:"Save"})]})]})}function fhe(){return r.jsxs("div",{className:"flex-1 space-y-4 w-full h-full",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(Se,{className:"w-1 h-10 rounded-full"}),r.jsx(Se,{className:"h-8 w-48"})]}),r.jsx("div",{className:"grid grid-cols-6 gap-4 grid-rows-1 h-full",children:r.jsxs(Le,{className:"col-span-6 row-span-1 bg-card/50  border-primary/20 max-h-[calc(95vh-200px)] overflow-hidden",children:[r.jsxs(mt,{className:"flex flex-row items-center justify-between",children:[r.jsxs(kt,{className:"flex items-center",children:[r.jsx(Se,{className:"h-5 w-5 mr-2"}),r.jsx(Se,{className:"h-6 w-32"})]}),r.jsx(Se,{className:"h-9 w-28"})]}),r.jsxs(Je,{children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-5",children:[r.jsx(Se,{className:"h-5 w-5"}),r.jsx(Se,{className:"h-9 w-64"})]}),r.jsx(nr,{className:"h-[calc(85vh-300px)]",children:r.jsx("div",{className:"items-stretch grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[...Array(8)].map((e,t)=>r.jsxs(Le,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(Se,{className:"h-12 w-12 rounded-full"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Se,{className:"h-4 w-32"}),r.jsx(Se,{className:"h-3 w-24"})]})]}),r.jsxs("div",{className:"mt-4 space-y-2",children:[r.jsx(Se,{className:"h-3 w-full"}),r.jsx(Se,{className:"h-3 w-3/4"})]}),r.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:[...Array(3)].map((n,s)=>r.jsx(Se,{className:"h-6 w-16 rounded-full"},s))})]},t))})}),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsx(Se,{className:"h-4 w-48"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Se,{className:"h-9 w-24"}),r.jsx(Se,{className:"h-9 w-24"})]})]})]})]})})]})}const Xi=({isOpen:e,onClose:t,citizens:n,selectedCitizenId:s,selectedPeople:a,onUpdatePerson:i,onSearchQueryChange:o})=>{var y;const{user:l,setUser:c,setUserField:d}=Yn(),[u,f]=m.useState(""),{locale:v}=ir(),g=b=>{f(b.target.value),o(b.target.value)},w=(b,x)=>{i({citizenId:b,name:x}),t()};return r.jsx(gr,{open:e,onOpenChange:()=>t(),children:r.jsxs(xr,{className:"max-w-7xl",style:{backgroundImage:`url(${Ws((y=l==null?void 0:l.permissions)==null?void 0:y.backgroundImage)})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},"aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("hr",{className:"w-1 h-10 bg-primary border-none rounded-full"}),r.jsx("h2",{className:"text-2xl font-bold",children:(v==null?void 0:v.text_select_person)||"Select Person"})]})})}),r.jsx("div",{className:"mb-4",children:r.jsx(ht,{placeholder:(v==null?void 0:v.text_search_person)||"Search person...",value:u,onChange:g,className:"w-full p-2 border border-gray-300 rounded-md text-white"})}),r.jsx(nr,{className:"h-[60vh] mt-4",children:r.jsx("div",{className:"grid grid-cols-4 gap-4 p-4",children:n&&Array.isArray(n)&&(n||[]).filter(b=>!a||!a.some(x=>x.citizenId===b.citizenid)).map(b=>r.jsx("div",{className:`p-4 rounded-lg bg-card/95 hover:bg-slate-700 cursor-pointer transition-colors border-l-4 border-blue-500 ${s===b.citizenid?"bg-primary/20":""}`,onClick:()=>w(b.citizenid,`${b.firstname} ${b.surname}`),children:r.jsxs("div",{className:"flex items-center space-x-4",children:[" ",r.jsxs(hn,{children:[r.jsx(Ch,{src:b==null?void 0:b.photo,alt:"User Avatar"}),r.jsx(yn,{children:r.jsx(ri,{className:"w-8 h-8 text-gray-500"})})]}),r.jsxs("div",{className:"flex flex-col",children:[" ",r.jsx("span",{className:"font-bold",children:b.citizenid}),r.jsxs("span",{className:"font-medium",children:[(v==null?void 0:v.text_name)||"Name",": ",b.firstname," ",b.surname]}),r.jsxs("span",{className:"font-medium",children:[(v==null?void 0:v.text_job)||"Job",": ",b.job]})]})]})},b.citizenid))})})]})})},mhe={officers:[{id:"1",name:"John Doe 1",department:"Police",citizenId:"1",rank:"Officer",location:"Precinct 1",tags:["FTO","FTP","SWAT","BS","T5"],status:"on-duty",totalDutyHours:120,currentAssignments:[{id:"1",name:"Patrol Duty",startDate:"2022-01-01",endDate:"2022-01-31"}],serviceHistory:[{id:"1",event:"Police",date:"2020-01-01",endDate:"2022-01-01"}],dutyRecords:[{id:"1",date:"2022-01-15",hours:8}]},{citizenId:"2",id:"2",name:"Jane Smith",department:"Police"},{id:"3",name:"John Doe",department:"Police"},{id:"4",name:"Jane Smith",department:"Police"},{id:"5",name:"John Doe",department:"Police",status:"Active"}],totalCount:5},phe={currentAssignments:[{id:"1",name:"John Doe",department:"Police"}],serviceHistory:[{id:"1",event:"Police",date:"2020-01-01",endDate:"2022-01-01"}],dutyRecords:[{id:"1",name:"John Doe",department:"Police"}],totalDutyHours:100},ghe=[{label:"Field Training Officer",shortname:"FTO",color:"green"},{label:"K9 Unit",shortname:"K9",color:"blue"},{label:"SWAT Team",shortname:"SWAT",color:"red"},{label:"Traffic Enforcement",shortname:"TE",color:"yellow"},{label:"Crisis Negotiation",shortname:"CNT",color:"purple"},{label:"Bomb Squad",shortname:"BS",color:"orange"},{label:"Homicide Detective",shortname:"HD",color:"black"},{label:"Forensic Specialist",shortname:"FS",color:"gray"}],m2=10;function xhe(){var le;const[e,t]=m.useState(!1),{tabs:n,setTabData:s}=ko(),a=li(),{data:i}=a.state||{},{toast:o}=ys(),{user:l,setUserField:c}=Yn(),d=(le=l==null?void 0:l.permissions)==null?void 0:le.Pages.officermanagement;if(!d||!d.view)return null;const{locale:u}=ir(),[f,v]=m.useState([]),[g,w]=m.useState(""),[y,b]=m.useState(null),[x,N]=m.useState([]),[S,k]=m.useState(1),[F,$]=m.useState(!1),[U,D]=m.useState(g),[H,K]=m.useState(0);m.useEffect(()=>{const Q=setTimeout(()=>{D(g)},500);return()=>{clearTimeout(Q)}},[g]);const B=Q=>{Q.key==="Enter"&&D(g)},R=()=>ke("fetchTags",{},ghe).then(Q=>{Q?v(Q):console.error("No response received.")}).catch(Q=>{console.error("Error:",Q)});m.useEffect(()=>{R()},[]);const Z=async(Q,oe)=>{try{const ce=await ke("fetchOfficers",{page:Q,query:oe},mhe);if(!ce||!ce.officers)throw new Error("Invalid response structure");N(ce.officers.map(ee=>({...ee,tags:Array.isArray(ee==null?void 0:ee.tags)?ee==null?void 0:ee.tags:JSON.parse((ee==null?void 0:ee.tags)||"[]"),status:ee.status}))),K(ce.totalCount||0)}catch(ce){console.error("Error fetching officers:",ce),N([])}};m.useEffect(()=>{S!==1&&k(1)},[U]),m.useEffect(()=>{Z(S,U)},[S,U]);const te=Math.ceil(H/m2),ye=(Q,oe,ce)=>ke("fetchOfficerDataByOfficerId",{OfficerId:oe},phe).then(ee=>{if(ee){const M={...Q,currentAssignments:Array.isArray(ee==null?void 0:ee.currentAssignments)?ee==null?void 0:ee.currentAssignments:JSON.parse((ee==null?void 0:ee.currentAssignments)||"[]"),serviceHistory:Array.isArray(ee==null?void 0:ee.serviceHistory)?ee==null?void 0:ee.serviceHistory:JSON.parse((ee==null?void 0:ee.serviceHistory)||"[]"),dutyRecords:Array.isArray(ee==null?void 0:ee.dutyRecords)?ee==null?void 0:ee.dutyRecords:JSON.parse((ee==null?void 0:ee.dutyRecords)||"[]"),totalDutyHours:ee==null?void 0:ee.totalHours};b(M),s(M,oe)}else console.error("No response received."),b({})}).catch(ee=>{console.error("Error:",ee),b({})});m.useEffect(()=>{if(i){t(!0),b(Array.isArray(i)||typeof i=="object"?i:JSON.parse(i||"[]"));const Q=setTimeout(()=>{t(!1)},1e3);return()=>clearTimeout(Q)}},[i]);const de=Q=>{const ce=new Date().toISOString().split("T")[0],ee={...Q,id:`O${Date.now()}`,serviceHistory:[...Q.serviceHistory||[],{date:ce,event:`Joined department: ${Q.department||"Unknown"}`}]};return ke("addNewOfficers",{officer:ee}).then(M=>{M.success?(Z(1,U),$(!1),o({title:"Officer Hired",description:M.message})):(o({title:"Error",description:M.message}),console.error("No response received."))}).catch(M=>{console.error("Error:",M)})};return r.jsxs("div",{className:"flex-1 space-y-4 w-full h-full",children:[e?r.jsx(fhe,{}):r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("hr",{className:"w-1 h-10 bg-primary border-none rounded-full"}),r.jsx("h2",{className:"text-3xl font-bold",children:(u==null?void 0:u.text_officers_management)||"Officers Management"})]}),!e&&r.jsx("div",{className:"grid grid-cols-6 gap-4 grid-rows-1 h-full",children:r.jsx(Le,{className:"col-span-6 row-span-1 bg-card/50  border-primary/20 max-h-[calc(95vh-200px)] overflow-hidden",children:r.jsx(Gn,{mode:"wait",children:y?r.jsx(Xt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"flex w-full ",children:r.jsx(uhe,{officer:y,user:l,userPermissions:d,tags:f,onClose:()=>{b(null),Z(S,U)}})},"list-view"):r.jsxs(Xt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:[r.jsxs(mt,{className:"flex flex-row items-center justify-between",children:[r.jsxs(kt,{className:"flex items-center",children:[r.jsx(my,{className:"mr-2 h-5 w-5 text-primary"}),(u==null?void 0:u.text_officer_database)||"Officer Database"]}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsxs(gr,{open:F,onOpenChange:$,children:[d.edit&&(l==null?void 0:l.hasManagePermission)&&r.jsx(to,{asChild:!0,children:r.jsxs(Ae,{size:"sm",children:[r.jsx(Xr,{className:"mr-2 h-4 w-4"}),(u==null?void 0:u.text_new_officer)||"New Officer"]})}),r.jsxs(xr,{"aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:(u==null?void 0:u.text_add_new_officer)||"Add New Officer"})}),r.jsx(vhe,{onSave:de,onCancel:()=>$(!1)})]})]})})]}),r.jsxs(Je,{children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-5",children:[r.jsx(ls,{className:"h-5 w-5 text-muted-foreground"}),r.jsx(ht,{placeholder:(u==null?void 0:u.text_search_officer)||"Search officers...",className:"w-64 bg-background/50 border-primary/20 focus:border-primary",value:g,onChange:Q=>w(Q.target.value),onKeyDown:B})]}),r.jsx(nr,{className:"h-[calc(85vh-300px)]",children:r.jsx("div",{className:"items-stretch grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:r.jsx(Gn,{children:x&&Array.isArray(x)&&(x||[]).map(Q=>r.jsx(Xt.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"cursor-pointer hover:bg-primary/10",children:r.jsx(sue,{officer:Q,tags:f,onClick:()=>{ye(Q,Q==null?void 0:Q.id),Z(S,U)}})},Q==null?void 0:Q.id))})})}),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsxs("div",{children:[(u==null?void 0:u.text_showing)||"Showing"," ",(S-1)*m2+1," to ",Math.min(S*m2,H)," ",(u==null?void 0:u.text_of)||"of"," ",H," ",(u==null?void 0:u.text_officers)||"officers"]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>k(Q=>Math.max(1,Q-1)),disabled:S===1,children:(u==null?void 0:u.text_previous)||"Previous"}),r.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>k(Q=>Math.min(te,Q+1)),disabled:S==te||te==0,children:(u==null?void 0:u.text_next)||"Next"})]})]})]})]},"list-view")})})})]})}function vhe({officer:e,onSave:t,onCancel:n}){var F,$,U,D,H,K;const[s,a]=m.useState(e||{name:"",rank:"",citizenId:"",department:"",status:"off-duty",location:"",totalDutyHours:0,dutyRecords:[],serviceHistory:[],currentAssignments:[]}),[i,o]=m.useState([]),{locale:l}=ir(),[c,d]=m.useState([]),[u,f]=m.useState(""),[v,g]=m.useState(u),w=(B,R)=>ke("fetchCitizens",{page:B,query:R}).then(Z=>{d(Z.citizens)}).catch(Z=>{console.error("Error:",Z),d([])}),y=()=>ke("getDepartments",{}).then(B=>{B?o(B):console.error("No response received.")}).catch(B=>{console.error("Error:",B)});m.useEffect(()=>{y()},[]),m.useEffect(()=>{w(1,v)},[v]),m.useEffect(()=>{const B=setTimeout(()=>{g(u)},500);return()=>{clearTimeout(B)}},[u]);const b=B=>{const{name:R,value:Z}=B.target;a(te=>({...te,[R]:Z}))},x=B=>{B.preventDefault(),t(s)},[N,S]=m.useState(!1),k=B=>{B.stopPropagation(),S(!0)};return r.jsxs("form",{onSubmit:x,className:"space-y-4",children:[r.jsxs("div",{className:"flex flex-col space-y-2 gap-4",children:[r.jsx(Me,{children:(l==null?void 0:l.text_search_person_dialog)||"Search Person"}),r.jsx(Ae,{variant:"outline",type:"button",onClick:B=>{k(B)},children:(l==null?void 0:l.text_select_person)||"Select Person"}),r.jsx(Xi,{isOpen:N,onClose:()=>S(!1),citizens:c,selectedCitizenId:(s==null?void 0:s.citizenId)||"",onUpdatePerson:({citizenId:B,name:R})=>{a(Z=>({...Z,citizenId:B,name:R}))},onSearchQueryChange:B=>{f(B)}})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"name",children:(l==null?void 0:l.text_name)||"Name"}),r.jsx(ht,{id:"name",name:"name",disabled:!0,value:s.name,onChange:b,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"department",children:(l==null?void 0:l.text_department)||"Department"}),r.jsxs(On,{name:"department",value:s.department,onValueChange:B=>{if(!B)return;const R=i.find(Z=>Z.id===B);R&&a(Z=>({...Z,department:R.id}))},children:[r.jsx(Dn,{children:r.jsx(Mn,{placeholder:(l==null?void 0:l.text_select_department)||"Select department"})}),r.jsx(Fn,{children:i&&Array.isArray(i)&&((F=i||[])==null?void 0:F.map(B=>r.jsx(Yt,{value:B.id,children:B.label},B.id)))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"rank",children:(l==null?void 0:l.text_rank)||"Rank"}),r.jsxs(On,{name:"rank",value:s.rank,onValueChange:B=>a(R=>({...R,rank:B})),children:[r.jsx(Dn,{children:r.jsx(Mn,{children:s.rank!==void 0&&s.rank!==null&&((D=(U=($=(i||[]).find(B=>B.id==s.department))==null?void 0:$.roles)==null?void 0:U[s.rank])==null?void 0:D.name)||"Select rank"})}),r.jsx(Fn,{children:((H=(i||[]).find(B=>B.id==s.department))==null?void 0:H.roles)&&Object.entries(((K=(i||[]).find(B=>(B==null?void 0:B.id)==s.department))==null?void 0:K.roles)||{}).map(([B,R],Z)=>r.jsx(Yt,{value:Z.toString(),children:R.name},B))})]})]}),r.jsxs(un,{children:[r.jsx(Ae,{type:"button",variant:"outline",onClick:n,children:(l==null?void 0:l.text_cancel)||"Cancel"}),r.jsx(Ae,{type:"submit",children:(l==null?void 0:l.text_save)||"Save"})]})]})}var J1="Tabs",[yhe,x5e]=ji(J1,[sp]),X7=sp(),[whe,K4]=yhe(J1),Z7=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=bh(l),[f,v]=To({prop:s,onChange:a,defaultProp:i??"",caller:J1});return r.jsx(whe,{scope:n,baseId:Ma(),value:f,onValueChange:v,orientation:o,dir:u,activationMode:c,children:r.jsx(jr.div,{dir:u,"data-orientation":o,...d,ref:t})})});Z7.displayName=J1;var eH="TabsList",tH=m.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...a}=e,i=K4(eH,n),o=X7(n);return r.jsx(_4,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:r.jsx(jr.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});tH.displayName=eH;var rH="TabsTrigger",nH=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:a=!1,...i}=e,o=K4(rH,n),l=X7(n),c=aH(o.baseId,s),d=oH(o.baseId,s),u=s===o.value;return r.jsx(S4,{asChild:!0,...l,focusable:!a,active:u,children:r.jsx(jr.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:Kt(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(s):f.preventDefault()}),onKeyDown:Kt(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(s)}),onFocus:Kt(e.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!a&&f&&o.onValueChange(s)})})})});nH.displayName=rH;var sH="TabsContent",iH=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:a,children:i,...o}=e,l=K4(sH,n),c=aH(l.baseId,s),d=oH(l.baseId,s),u=s===l.value,f=m.useRef(u);return m.useEffect(()=>{const v=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(v)},[]),r.jsx(Na,{present:a||u,children:({present:v})=>r.jsx(jr.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!v,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:v&&i})})});iH.displayName=sH;function aH(e,t){return`${e}-trigger-${t}`}function oH(e,t){return`${e}-content-${t}`}var bhe=Z7,lH=tH,cH=nH,dH=iH;const ea=bhe,ta=m.forwardRef(({className:e,...t},n)=>r.jsx(lH,{ref:n,className:Tt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));ta.displayName=lH.displayName;const Fr=m.forwardRef(({className:e,...t},n)=>r.jsx(cH,{ref:n,className:Tt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Fr.displayName=cH.displayName;const Rr=m.forwardRef(({className:e,...t},n)=>r.jsx(dH,{ref:n,className:Tt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Rr.displayName=dH.displayName;function jhe(){return r.jsx("div",{className:"flex w-full",children:r.jsxs("div",{className:"w-full",children:[r.jsx(mt,{className:"flex flex-row items-center justify-between w-full",children:r.jsxs("div",{className:"flex items-center gap-4 w-full justify-between",children:[r.jsx(Se,{className:"h-10 w-10 rounded-md"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Se,{className:"h-8 w-32"}),r.jsx(Se,{className:"h-6 w-16"}),r.jsx(Se,{className:"h-6 w-24"})]}),r.jsx(Se,{className:"h-4 w-24"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Se,{className:"h-10 w-24"}),r.jsx(Se,{className:"h-10 w-24"})]})]})}),r.jsxs(ea,{defaultValue:"overview",className:"flex flex-col w-full bg-transparent items-center",children:[r.jsx(ta,{className:"grid grid-cols-6 bg-transparent border-2 border-[#4d4b5966] w-[90%]",children:["Overview","Notes","Reports","Assets","Warrants","Insurance"].map(e=>r.jsx(Fr,{value:e.toLowerCase(),disabled:!0,children:r.jsx(Se,{className:"h-4 w-16"})},e))}),r.jsx(Rr,{value:"overview",className:"w-full",children:r.jsx("div",{className:"flex w-full justify-start items-start p-4",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4 w-full",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx(Se,{className:"h-64 w-64 rounded-md"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Se,{className:"h-4 w-32"}),r.jsx(Se,{className:"h-4 w-48"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(Se,{className:"h-8 w-full"}),r.jsx(Se,{className:"h-8 w-full"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Se,{className:"h-4 w-full"}),r.jsx(Se,{className:"h-4 w-3/4"}),r.jsx(Se,{className:"h-4 w-1/2"})]})]})]})})})]})]})})}const ss=m.forwardRef(({className:e,...t},n)=>r.jsx("textarea",{className:Tt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));ss.displayName="Textarea";const Nhe=({citizen:e,userPermissions:t,handleOpenImageDialog:n,updateDangerStatus:s})=>{var ee,M,E,q,se,re;const{toast:a}=ys(),{locale:i}=ir(),{user:o,setUser:l}=Yn(),[c,d]=m.useState(e),[u,f]=m.useState(!1),[v,g]=m.useState(null),[w,y]=m.useState([]),b=c&&(c==null?void 0:c.licenses)&&Array.isArray(c==null?void 0:c.licenses)&&((ee=c==null?void 0:c.licenses)==null?void 0:ee.map(G=>G.type))||[],[x,N]=m.useState(!1),[S,k]=m.useState(null),[F,$]=m.useState(""),[U,D]=m.useState(!1),[H,K]=m.useState({firstname:"",surname:""}),B=G=>{if(!G)return null;try{if(typeof G=="number")return new Date(G);if(typeof G=="string"){const ue=Date.parse(G);return isNaN(ue)?null:new Date(ue)}return null}catch(ue){return console.error("Error parsing date:",ue),null}},R=G=>{const ue=B(G);return ue?ue.toISOString().split("T")[0]:"N/A"},Z=G=>{const ue=B(G);return ue?ue.toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"};m.useEffect(()=>{d(e)},[e]);const te=()=>ke("fetchLicenseTypes",{},[{label:"Driver's License",type:"driver"},{label:"Firearms License",type:"firearms"},{label:"ID Card",type:"idcard"},{label:"Weapon License",type:"weapon"},{label:"Hunting License",type:"hunting"},{label:"Fishing License",type:"fishing"},{label:"Pilot License",type:"pilot"}]).then(G=>{if(Array.isArray(G)){const ue=G.filter(ie=>!b.includes(ie.type));y(ue)}}).catch(G=>{console.error("Error fetching license types:",G),y([{label:"Driver's License",type:"driver"},{label:"Firearms License",type:"firearms"},{label:"ID Card",type:"idcard"},{label:"Weapon License",type:"weapon"},{label:"Hunting License",type:"hunting"},{label:"Fishing License",type:"fishing"},{label:"Pilot License",type:"pilot"}])}),ye=({license:G,onClick:ue})=>{const ie=Ee=>{switch(Ee){case"approved":return"bg-green-500";case"pending":return"bg-yellow-500";case"rejected":return"bg-red-500";case"expired":return"bg-gray-500";default:return"bg-blue-500"}};return r.jsxs(Le,{className:"p-4 bg-card/50  border border-primary/20 cursor-pointer hover:bg-card/70 transition-colors",onClick:ue,children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-lg",children:G.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[(i==null?void 0:i.text_expires)||"Expires",": ",R(G.expirationDate)]})]}),r.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-semibold ${ie(G.status)}`,children:G.status.toUpperCase()})]}),G.note&&r.jsxs("p",{className:"mt-2 text-sm italic",children:['"',G.note,'"']}),G.approvedBy&&r.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:["Approved by ",G.approvedBy," on ",Z(G.approvalDate)]})]})},de=G=>{g(G),te(),f(!0)},le=G=>{var ue;if(c){const ie=((ue=c==null?void 0:c.licenses)==null?void 0:ue.findIndex(He=>He.type===G.type))??-1;let Ee;return ie>=0?(Ee=[...(c==null?void 0:c.licenses)||[]],Ee[ie]=G):Ee=[...(c==null?void 0:c.licenses)||[],G],ke("updateCitizenLicense",{citizenId:c==null?void 0:c.citizenid,license:{...G,approvalDate:Z(G.approvalDate),expirationDate:R(G.expirationDate)}}).then(He=>{if(He&&He.success){if(He.licenses){const rt=Array.isArray(He.licenses)?He.licenses:JSON.parse(He.licenses||"[]");d({...c,licenses:rt})}else d({...c,licenses:Ee});a({title:ie>=0?"License Updated":"License Added",description:`The ${G.name} has been ${ie>=0?"updated":"added"} successfully.`})}else a({title:"Error",description:"Failed to update license in the database. Please try again.",variant:"destructive"})}).catch(He=>{console.error("Error updating license:",He),a({title:"Error",description:"An error occurred while updating the license.",variant:"destructive"})})}},Q=async()=>{if(!(!S||!F)){try{(await ke("updateCitizenBiometric",{citizenId:c.citizenid,type:S,value:F})).success&&(d({...c,[S]:F}),a({title:"Success",description:`${S.toUpperCase()} updated successfully`}))}catch{a({title:"Error",description:`Failed to update ${S.toUpperCase()}`,variant:"destructive"})}N(!1),$("")}},oe=async()=>{if(!H.firstname.trim()||!H.surname.trim()){a({title:"Error",description:"Both first name and surname are required",variant:"destructive"});return}try{(await ke("updateCitizenName",{citizenId:c.citizenid,firstname:H.firstname.trim(),surname:H.surname.trim()})).success?(d({...c,firstname:H.firstname.trim(),surname:H.surname.trim()}),a({title:"Success",description:"Name updated successfully"})):a({title:"Error",description:"Failed to update name",variant:"destructive"})}catch{a({title:"Error",description:"An error occurred while updating the name",variant:"destructive"})}D(!1)},ce=()=>{K({firstname:(c==null?void 0:c.firstname)||"",surname:(c==null?void 0:c.surname)||""}),D(!0)};return r.jsxs(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"flex w-full p-4 ",children:[r.jsxs("div",{className:"grid grid-cols-2 w-full gap-10",children:[r.jsxs("div",{className:"flex col-span-1 w-full justify-start flex-col gap-8",children:[r.jsxs("div",{className:"flex flex-row items-center space-y-4 w-[35vw] gap-5 justify-start",children:[r.jsxs("div",{className:"relative group cursor-pointer",onClick:n,children:[r.jsxs(hn,{className:"w-36 h-36",children:[r.jsx(Ch,{src:(c==null?void 0:c.photo)||"/placeholder.svg"}),r.jsx(yn,{children:r.jsx(ri,{className:"w-36 h-36 p-6 text-primary"})})]}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200 bg-black bg-opacity-50 rounded-full",children:r.jsx(ja,{className:"h-8 w-8 text-white"})})]}),r.jsxs("div",{className:"text-start",children:[r.jsxs("h3",{className:"text-xl font-bold cursor-pointer hover:text-primary transition-colors",onClick:()=>{t.edit&&(o!=null&&o.hasManagePermission)&&ce()},title:t.edit?"Click to edit name":"",children:[c==null?void 0:c.firstname," ",c==null?void 0:c.surname]}),r.jsxs("p",{className:"text-muted-foreground",children:[(i==null?void 0:i.text_id)||"ID:"," ",c==null?void 0:c.citizenid]}),r.jsxs("p",{className:"text-muted-foreground",children:[(i==null?void 0:i.text_phone_number)||"Phone Number:"," ",c==null?void 0:c.phoneNumber]}),r.jsxs("p",{className:"text-muted-foreground",children:[(i==null?void 0:i.text_nationality)||"Nationality:"," ",c==null?void 0:c.nationality]}),r.jsxs("p",{className:"text-muted-foreground",children:[(i==null?void 0:i.text_gender)||"Gender:"," ",c==null?void 0:c.gender]}),r.jsxs("p",{className:"text-muted-foreground",children:[(i==null?void 0:i.text_job)||"Job:"," ",c==null?void 0:c.job]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs(Le,{className:`p-4 ${c!=null&&c.warrant?"bg-destructive/20 neon-border":"bg-card/50"}`,children:[r.jsxs(kt,{className:"flex items-center mb-2",children:[c!=null&&c.warrant?r.jsx(cs,{className:"mr-2 h-5 w-5 text-destructive"}):r.jsx(fc,{className:"mr-2 h-5 w-5 text-primary"}),(i==null?void 0:i.text_warrant)||"Warrant"]}),r.jsx("p",{children:c!=null&&c.warrant?(i==null?void 0:i.text_active)||"ACTIVE":(i==null?void 0:i.text_inactive)||"INACTIVE"})]}),r.jsxs(Le,{className:`p-4 cursor-pointer ${c!=null&&c.isDangerous?"bg-destructive/20 neon-border":"bg-card/50"}`,onClick:()=>{if(t.edit){const G=!(c!=null&&c.isDangerous);s(G?"High":"Low")}},children:[r.jsxs(kt,{className:"flex items-center mb-2",children:[c!=null&&c.isDangerous?r.jsx(cs,{className:"mr-2 h-5 w-5 text-destructive"}):r.jsx(fc,{className:"mr-2 h-5 w-5 text-primary"}),(i==null?void 0:i.text_danger_level)||"Danger Level"]}),r.jsx("p",{children:c!=null&&c.isDangerous?(i==null?void 0:i.text_high)||"HIGH":(i==null?void 0:i.text_low)||"LOW"})]}),r.jsxs(Le,{className:"p-4 bg-card/50 cursor-pointer",onClick:()=>{t.edit&&(k("fingerprint"),$((c==null?void 0:c.fingerprint)||""),N(!0))},children:[r.jsxs(kt,{className:"flex items-center mb-2",children:[r.jsx(hS,{className:"mr-2 h-5 w-5 text-destructive"}),(i==null?void 0:i.text_fingerprint)||"Fingerprint"]}),r.jsx("p",{children:(c==null?void 0:c.fingerprint)||(i==null?void 0:i.text_not_registered)||"Not Registered"})]}),r.jsxs(Le,{className:"p-4 bg-card/50 cursor-pointer",onClick:()=>{t.edit&&(k("dna"),$((c==null?void 0:c.dna)||""),N(!0))},children:[r.jsxs(kt,{className:"flex items-center mb-2",children:[r.jsx(rO,{className:"mr-2 h-5 w-5 text-destructive"}),"DNA"]}),r.jsx("p",{children:(c==null?void 0:c.dna)||(i==null?void 0:i.text_not_registered)||"Not Registered"})]}),r.jsxs(Le,{className:"col-span-2 bg-transparent ",children:[r.jsx(mt,{className:"pb-2",children:r.jsx(kt,{children:(i==null?void 0:i.text_quick_summary)||"Quick Summary"})}),r.jsx(Je,{children:r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[r.jsxs("div",{className:"bg-primary/5 rounded-lg p-3",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:(i==null?void 0:i.text_reports)||"Reports"}),r.jsx("p",{className:"text-2xl font-bold",children:c&&((M=c==null?void 0:c.reports)==null?void 0:M.length)||0})]}),r.jsxs("div",{className:"bg-primary/5 rounded-lg p-3",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:(i==null?void 0:i.text_warrants)||"Warrants"}),r.jsx("p",{className:"text-2xl font-bold",children:c&&((E=c==null?void 0:c.warrants)==null?void 0:E.length)||0})]}),r.jsxs("div",{className:"bg-primary/5 rounded-lg p-3",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:(i==null?void 0:i.text_assets)||"Assets"}),r.jsx("p",{className:"text-2xl font-bold",children:c?(((q=c.vehicles)==null?void 0:q.length)||0)+(((se=c.properties)==null?void 0:se.length)||0):0})]}),r.jsxs("div",{className:"bg-primary/5 rounded-lg p-3",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:(i==null?void 0:i.text_weapons)||"Weapons"}),r.jsx("p",{className:"text-2xl font-bold",children:c&&((re=c==null?void 0:c.weapons)==null?void 0:re.length)||0})]})]})})]})]})]}),r.jsxs("div",{className:"flex flex-col gap-5 col-span-1 h-full",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h4",{className:"font-semibold text-lg",children:(i==null?void 0:i.text_licenses)||"Licences"}),r.jsx(Ae,{variant:"outline",onClick:()=>{t.edit&&de(null)},children:(i==null?void 0:i.text_add_license)||"Add License"})]}),r.jsx(iA,{className:" h-[calc(90vh-400px)] overflow-y-auto",children:r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-1 lg:grid-cols-2 gap-4 pr-4",children:c&&Array.isArray(c==null?void 0:c.licenses)&&((c==null?void 0:c.licenses)||[]).map((G,ue)=>r.jsx("div",{className:"relative group",children:r.jsx(ye,{license:G,onClick:()=>{t.edit&&de(G)}})},ue))})})]})]}),r.jsx(gr,{open:u,onOpenChange:f,children:r.jsxs(xr,{"aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:v?`${(i==null?void 0:i.text_edit_license)||"Edit License"} - ${v.name}`:(i==null?void 0:i.text_add_new_license)||"Add New License"})}),r.jsxs("form",{onSubmit:G=>{if(G.preventDefault(),!v){a({title:"Error",description:"Please select a license type",variant:"destructive"});return}const{type:ue,status:ie,expirationDate:Ee}=v;if(!ue){a({title:"Missing Type",description:"License type is required.",variant:"destructive"});return}if(!ie){a({title:"Missing Status",description:"License status is required.",variant:"destructive"});return}if(!Ee){a({title:"Missing Expiration Date",description:"Please enter a valid expiration date.",variant:"destructive"});return}const He={...v,approvalDate:new Date(typeof v.approvalDate=="number"?v.approvalDate:Date.parse(v.approvalDate??"")).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})||new Date().toISOString()};le(He),f(!1)},children:[r.jsxs("div",{className:"grid gap-4 py-4",children:[!v&&r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Me,{htmlFor:"licenseType",className:"text-right",children:(i==null?void 0:i.text_license_type)||"Type"}),r.jsxs(On,{value:(v==null?void 0:v.type)||"",onValueChange:G=>{var ue;g({...v,type:G,name:((ue=w.find(ie=>ie.type===G))==null?void 0:ue.label)||G})},children:[r.jsx(Dn,{className:"col-span-3",children:r.jsx(Mn,{placeholder:"Select license type"})}),r.jsx(Fn,{children:w&&Array.isArray(w)&&w.map(G=>r.jsx(Yt,{value:G.type,children:G.label},G.type))})]})]}),r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Me,{htmlFor:"licenseStatus",className:"text-right",children:(i==null?void 0:i.text_license_status)||"Status"}),r.jsxs(On,{value:(v==null?void 0:v.status)||"",onValueChange:G=>g({...v,status:G}),children:[r.jsx(Dn,{className:"col-span-3",children:r.jsx(Mn,{placeholder:(i==null?void 0:i.text_select_status)||"Select status"})}),r.jsxs(Fn,{children:[r.jsx(Yt,{value:"approved",children:(i==null?void 0:i.text_approved)||"Approved"}),r.jsx(Yt,{value:"rejected",children:(i==null?void 0:i.text_rejected)||"Rejected"}),r.jsx(Yt,{value:"expired",children:(i==null?void 0:i.text_expired)||"Expired"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Me,{htmlFor:"licenseExpiration",className:"text-right",children:(i==null?void 0:i.text_license_expiration)||"Expiration"}),r.jsx(ht,{id:"licenseExpiration",type:"date",value:v!=null&&v.expirationDate&&v.expirationDate!=="N/A"?(()=>{const G=new Date(v.expirationDate);return isNaN(G.getTime())?"":G.toISOString().split("T")[0]})():"",onChange:G=>{const ue=G.target.value;if(ue){const ie=new Date(ue);isNaN(ie.getTime())||g({...v,expirationDate:ie.toISOString().split("T")[0]})}else g({...v,expirationDate:void 0})},className:"col-span-3"})]}),r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Me,{htmlFor:"licenseNote",className:"text-right",children:(i==null?void 0:i.text_license_note)||"Note"}),r.jsx(ss,{id:"licenseNote",value:(v==null?void 0:v.note)||"",onChange:G=>g({...v,note:G.target.value}),className:"col-span-3"})]})]}),r.jsx(un,{children:r.jsx(Ae,{type:"submit",children:(i==null?void 0:i.text_save)||"Save"})})]})]})}),r.jsx(gr,{open:x,onOpenChange:N,children:r.jsxs(xr,{"aria-describedby":"",children:[r.jsx(vr,{children:r.jsxs(yr,{children:[(i==null?void 0:i.text_update)||"Update"," ",S==null?void 0:S.toUpperCase()]})}),r.jsx("div",{className:"grid gap-4 py-4",children:r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Me,{htmlFor:"biometricValue",className:"text-right",children:(i==null?void 0:i.text_value)||"Value"}),r.jsx(ht,{id:"biometricValue",value:F,onChange:G=>$(G.target.value),className:"col-span-3",placeholder:`Enter ${S} value`})]})}),r.jsx(un,{children:r.jsx(Ae,{onClick:Q,children:(i==null?void 0:i.text_save)||"Save"})})]})}),r.jsx(gr,{open:U,onOpenChange:D,children:r.jsxs(xr,{"aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:"Edit Name"})}),r.jsxs("div",{className:"grid gap-4 py-4",children:[r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Me,{htmlFor:"firstname",className:"text-right",children:"First Name"}),r.jsx(ht,{id:"firstname",value:H.firstname,onChange:G=>K({...H,firstname:G.target.value}),className:"col-span-3",placeholder:"Enter first name"})]}),r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Me,{htmlFor:"surname",className:"text-right",children:"Surname"}),r.jsx(ht,{id:"surname",value:H.surname,onChange:G=>K({...H,surname:G.target.value}),className:"col-span-3",placeholder:"Enter surname"})]})]}),r.jsxs(un,{children:[r.jsx(Ae,{variant:"outline",onClick:()=>D(!1),children:"Cancel"}),r.jsx(Ae,{onClick:oe,children:(i==null?void 0:i.text_save)||"Save"})]})]})})]})},Che=({position:e,type:t,onApplyColor:n,onClose:s})=>{const[a,i]=m.useState(t==="text"?"#ffffff":"#ffff00"),[o,l]=m.useState(t==="highlight"?50:100),[c,d]=m.useState({r:255,g:255,b:255});m.useEffect(()=>{d((g=>{const w=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(g);return w?{r:Number.parseInt(w[1],16),g:Number.parseInt(w[2],16),b:Number.parseInt(w[3],16)}:{r:255,g:255,b:255}})(a))},[a]);const u=(v,g)=>{const w={...c,[v]:g};d(w),i(((b,x,N)=>"#"+((1<<24)+(b<<16)+(x<<8)+N).toString(16).slice(1))(w.r,w.g,w.b))},f=()=>{const{r:v,g,b:w}=c;return t==="text"?`rgb(${v}, ${g}, ${w})`:`rgba(${v}, ${g}, ${w}, ${o/100})`};return r.jsx("div",{className:"fixed z-50 color-picker-container",style:{top:`${e.top}px`,left:`${e.left}px`},children:r.jsxs("div",{className:"p-4 bg-gray-800 border border-gray-700 rounded-lg shadow-xl w-80",children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsx("h3",{className:"text-sm font-medium",children:t==="text"?"Text Color":"Highlight Color"}),r.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white",type:"button",children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),r.jsx("div",{className:"w-full h-12 rounded-md mb-3 border border-gray-600",style:{backgroundColor:f(),backgroundImage:"linear-gradient(45deg, #808080 25%, transparent 25%), linear-gradient(-45deg, #808080 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #808080 75%), linear-gradient(-45deg, transparent 75%, #808080 75%)",backgroundSize:"10px 10px",backgroundPosition:"0 0, 0 5px, 5px -5px, -5px 0px"}}),r.jsx("div",{className:"mb-4",children:r.jsx("input",{type:"color",value:a,onChange:v=>i(v.target.value),className:"w-full h-10 p-0 border-0 rounded-md cursor-pointer"})}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"w-8 text-xs font-medium",children:"R"}),r.jsx("input",{type:"range",min:"0",max:"255",value:c.r,onChange:v=>u("r",Number.parseInt(v.target.value)),className:"flex-1 h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer"}),r.jsx("span",{className:"w-8 text-right text-xs",children:c.r})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"w-8 text-xs font-medium",children:"G"}),r.jsx("input",{type:"range",min:"0",max:"255",value:c.g,onChange:v=>u("g",Number.parseInt(v.target.value)),className:"flex-1 h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer"}),r.jsx("span",{className:"w-8 text-right text-xs",children:c.g})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"w-8 text-xs font-medium",children:"B"}),r.jsx("input",{type:"range",min:"0",max:"255",value:c.b,onChange:v=>u("b",Number.parseInt(v.target.value)),className:"flex-1 h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer"}),r.jsx("span",{className:"w-8 text-right text-xs",children:c.b})]}),t==="highlight"&&r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"w-8 text-xs font-medium",children:"A"}),r.jsx("input",{type:"range",min:"0",max:"100",value:o,onChange:v=>l(Number.parseInt(v.target.value)),className:"flex-1 h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer"}),r.jsxs("span",{className:"w-8 text-right text-xs",children:[o,"%"]})]})]}),r.jsx("button",{onClick:()=>n(f()),className:"w-full mt-4 py-2 bg-purple-500 hover:bg-purple-600 rounded-lg text-white font-semibold",type:"button",children:"Apply Color"})]})})},_he=kr.memo(Che),She=({isEditable:e,editorState:t,onFormat:n,onOpenColorPicker:s,onToggleImageInput:a,onToggleHtmlOutput:i,showHtmlOutput:o,showImageInput:l,htmlContent:c,onApplyTemplate:d,onSpeechResult:u,onListeningChange:f,socket:v})=>{const[g,w]=m.useState(!1),[y,b]=m.useState(!1),[x,N]=m.useState([]),[S,k]=m.useState(!1),F=[{name:"Basic Note",content:"<h2>Title</h2><p>Write your note here...</p>"},{name:"Meeting Notes",content:"<h2>Meeting Notes</h2><p><strong>Date:</strong> [Date]</p><p><strong>Attendees:</strong></p><ul><li>Person 1</li><li>Person 2</li></ul><p><strong>Agenda:</strong></p><ol><li>Item 1</li><li>Item 2</li></ol><p><strong>Action Items:</strong></p><ul><li>Task 1</li><li>Task 2</li></ul>"},{name:"Project Plan",content:"<h2>Project Plan</h2><p><strong>Project Name:</strong> [Project Name]</p><p><strong>Timeline:</strong></p><ul><li>Phase 1: [Start Date] - [End Date]</li><li>Phase 2: [Start Date] - [End Date]</li></ul><p><strong>Resources:</strong></p><ul><li>Resource 1</li><li>Resource 2</li></ul><p><strong>Milestones:</strong></p><ol><li>Milestone 1</li><li>Milestone 2</li></ol>"},{name:"Code Documentation",content:"<h2>Code Documentation</h2><p><strong>Function Name:</strong> [Function Name]</p><p><strong>Description:</strong></p><p>[Function description goes here]</p><p><strong>Parameters:</strong></p><ul><li>param1: [description]</li><li>param2: [description]</li></ul><p><strong>Returns:</strong></p><p>[Return value description]</p><p><strong>Example:</strong></p><pre><code>// Example code here</code></pre>"}];m.useEffect(()=>{(async()=>{if(y&&x.length===0){k(!0);try{const H=await ke("getTemplates");H&&Array.isArray(H)?N(H):N(F)}catch(H){console.error("Failed to fetch templates:",H),N(F)}finally{k(!1)}}})()},[y]);const $=()=>{w(D=>!D)},U=()=>{b(D=>!D)};return r.jsx("div",{className:"flex flex-wrap items-center justify-between gap-1 p-2 border-b border-gray-700 bg-gray-800 relative z-10",children:r.jsxs("div",{className:"flex flex-wrap items-center gap-1",children:[r.jsxs("div",{className:"relative",children:[r.jsx("button",{onClick:U,className:Tt("p-2 rounded-full hover:bg-gray-700 hover:text-purple-400 transition-all duration-200",!e&&"opacity-50 cursor-not-allowed"),disabled:!e,title:"Templates",type:"button",children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),r.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),r.jsx("line",{x1:"9",y1:"21",x2:"9",y2:"9"})]})}),y&&r.jsx("div",{className:"absolute left-0 mt-2 w-48 rounded-md shadow-lg bg-gray-800 border border-gray-700 z-30",children:S?r.jsx("div",{className:"px-4 py-2 text-sm text-gray-400",children:"Loading templates..."}):Array.isArray(x)&&x.length>0?x.map(D=>r.jsx("button",{onClick:()=>{d(D.content),b(!1)},className:"block w-full text-left px-4 py-2 text-sm hover:bg-gray-700 text-white",disabled:!e,children:D.name},D.name)):r.jsx("div",{className:"px-4 py-2 text-sm text-gray-400",children:"No templates available"})})]}),r.jsx("button",{onClick:()=>n("bold"),className:Tt("p-2 rounded-full hover:bg-gray-700 hover:text-purple-400 transition-all duration-200",t.isBold&&"bg-gray-700 text-purple-400",!e&&"opacity-50 cursor-not-allowed"),disabled:!e,title:"Bold",type:"button","aria-pressed":t.isBold,children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"}),r.jsx("path",{d:"M6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"})]})}),r.jsx("button",{onClick:()=>n("italic"),className:Tt("p-2 rounded-full hover:bg-gray-700 hover:text-purple-400 transition-all duration-200",t.isItalic&&"bg-gray-700 text-purple-400",!e&&"opacity-50 cursor-not-allowed"),disabled:!e,title:"Italic",type:"button","aria-pressed":t.isItalic,children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("line",{x1:"19",y1:"4",x2:"10",y2:"4"}),r.jsx("line",{x1:"14",y1:"20",x2:"5",y2:"20"}),r.jsx("line",{x1:"15",y1:"4",x2:"9",y2:"20"})]})}),r.jsx("button",{onClick:()=>n("insertUnorderedList"),className:Tt("p-2 rounded-full hover:bg-gray-700 hover:text-purple-400 transition-all duration-200",t.isList&&"bg-gray-700 text-purple-400",!e&&"opacity-50 cursor-not-allowed"),disabled:!e,title:"Bullet List",type:"button","aria-pressed":t.isList,children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),r.jsx("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),r.jsx("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),r.jsx("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),r.jsx("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),r.jsx("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})]})}),r.jsxs("div",{className:"relative",children:[r.jsx("button",{onClick:$,className:Tt("p-2 rounded-full transition-all duration-200",!e&&"opacity-50 cursor-not-allowed",t.isHeading?"bg-gray-700 text-purple-400":"hover:bg-gray-700 hover:text-purple-400"),disabled:!e,title:"Paragraph / Headings",type:"button",children:"H"}),g&&r.jsx("div",{className:"absolute left-0 mt-2 w-36 rounded-md shadow-lg bg-gray-800 border border-gray-700 z-30",children:[{label:"Paragraph",value:"p"},{label:"Heading 1",value:"h1"},{label:"Heading 2",value:"h2"},{label:"Heading 3",value:"h3"},{label:"Heading 4",value:"h4"},{label:"Heading 5",value:"h5"},{label:"Heading 6",value:"h6"}].map(D=>r.jsx("button",{onClick:()=>n("formatBlock",D.value),className:"block w-full text-left px-4 py-2 text-sm hover:bg-gray-700 text-white",disabled:!e,children:D.label},D.value))})]}),r.jsx("div",{className:"relative",children:r.jsx("button",{onClick:a,className:Tt("p-2 rounded-full hover:bg-gray-700 hover:text-purple-400 transition-all duration-200",!e&&"opacity-50 cursor-not-allowed"),disabled:!e,title:"Insert Image from URL",type:"button",children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),r.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),r.jsx("polyline",{points:"21 15 16 10 5 21"})]})})}),r.jsx("div",{className:"relative color-button",children:r.jsx("button",{onClick:D=>s("text",D),className:Tt("p-2 rounded-full hover:bg-gray-700 hover:text-purple-400 transition-all duration-200",!e&&"opacity-50 cursor-not-allowed"),disabled:!e,title:"Text Color",type:"button",children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("circle",{cx:"19.5",cy:"12.5",r:"2.5"}),r.jsx("path",{d:"M12 20v-8a2 2 0 0 1 2-2h3.5"}),r.jsx("path",{d:"m8 12 2-2-2-2"}),r.jsx("path",{d:"M2 12h8"})]})})}),r.jsx("div",{className:"relative highlight-button",children:r.jsx("button",{onClick:D=>s("highlight",D),className:Tt("p-2 rounded-full hover:bg-gray-700 hover:text-purple-400 transition-all duration-200",!e&&"opacity-50 cursor-not-allowed"),disabled:!e,title:"Highlight",type:"button",children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"m9 11-6 6v3h9l3-3"}),r.jsx("path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4"})]})})})]})})},Bhe=kr.memo(She),Ehe=({initialContent:e="<p>Start typing here...</p>",editable:t=!0,onChange:n,className:s,placeholder:a="Start typing...",minHeight:i="300px",showToolbar:o=!0,showStatusBar:l=!0,socket:c})=>{const d=m.useRef(null),u=m.useRef(null),f=m.useRef(!1),v=m.useRef(null),g=m.useRef(""),w=m.useRef(null),y=m.useRef({x:0,y:0}),b=m.useRef({width:0,height:0}),{locale:x}=ir(),[N,S]=m.useState(t),[k,F]=m.useState(""),[$,U]=m.useState(!1),[D,H]=m.useState(!1),[K,B]=m.useState(""),[R,Z]=m.useState(!1),[te,ye]=m.useState("text"),[de,le]=m.useState({top:0,left:0}),[Q,oe]=m.useState({isBold:!1,isItalic:!1,isList:!1,isHeading:!1,textColor:"",highlightColor:""}),[ce,ee]=m.useState(!1),[M,E]=m.useState(null);m.useEffect(()=>{if(!f.current&&d.current&&(d.current.innerHTML=e,F(e),g.current=e,f.current=!0,N)){d.current.focus();const Fe=window.getSelection();if(Fe){const Oe=document.createRange();Oe.selectNodeContents(d.current),Oe.collapse(!1),Fe.removeAllRanges(),Fe.addRange(Oe)}}return()=>{v.current&&clearTimeout(v.current)}},[e,N]);const q=m.useCallback(Fe=>{var ut;if(!N||Fe.closest(".resizable-image-wrapper"))return;const _e=document.createElement("div");_e.className="resizable-image-wrapper",_e.style.cssText=`
    position: relative;
    display: inline-block;
    margin: 8px 0;
    max-width: 100%;
  `,(ut=Fe.parentNode)==null||ut.insertBefore(_e,Fe),_e.appendChild(Fe),Fe.style.cssText=`
    max-width: 100%;
    height: auto;
    display: block;
    border-radius: 6px;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    cursor: pointer;
  `,["nw","ne","sw","se"].forEach(jt=>{const zt=document.createElement("div");zt.className=`resize-handle resize-handle-${jt}`,zt.style.cssText=`
      position: absolute;
      width: 12px;
      height: 12px;
      background: #3b82f6;
      border: 2px solid white;
      border-radius: 50%;
      cursor: ${jt.includes("n")&&jt.includes("w")?"nw":jt.includes("n")&&jt.includes("e")?"ne":jt.includes("s")&&jt.includes("w")?"sw":"se"}-resize;
      opacity: 0;
      transition: opacity 0.2s;
      z-index: 10;
      ${jt.includes("n")?"top: -6px;":"bottom: -6px;"}
      ${jt.includes("w")?"left: -6px;":"right: -6px;"}
    `,_e.appendChild(zt)}),_e.addEventListener("mouseenter",()=>{N&&_e.querySelectorAll(".resize-handle").forEach(jt=>{jt.style.opacity="1"})}),_e.addEventListener("mouseleave",()=>{w.current||_e.querySelectorAll(".resize-handle").forEach(jt=>{jt.style.opacity="0"})}),Fe.addEventListener("click",jt=>{jt.preventDefault(),jt.stopPropagation(),E(Fe),_e.querySelectorAll(".resize-handle").forEach(zt=>{zt.style.opacity="1"})})},[N]),se=m.useCallback(Fe=>{const Oe=Fe.target;if(!Oe.classList.contains("resize-handle"))return;Fe.preventDefault(),Fe.stopPropagation();const _e=Oe.closest(".resizable-image-wrapper"),nt=_e==null?void 0:_e.querySelector("img");if(!_e||!nt)return;w.current=nt,y.current={x:Fe.clientX,y:Fe.clientY};const ut=nt.getBoundingClientRect();b.current={width:ut.width,height:ut.height};const jt=Be=>{var Cr;if(!w.current)return;const Ye=Be.clientX-y.current.x;Be.clientY-y.current.y;const Ue=b.current.width/b.current.height;let Lt=b.current.width+Ye,Et=Lt/Ue;const ur=(((Cr=d.current)==null?void 0:Cr.clientWidth)||800)-32;Lt>ur&&(Lt=ur,Et=Lt/Ue),w.current.style.width=`${Lt}px`,w.current.style.height=`${Et}px`},zt=()=>{w.current=null,document.removeEventListener("mousemove",jt),document.removeEventListener("mouseup",zt),d.current&&n&&(F(d.current.innerHTML),g.current=d.current.innerHTML,n(d.current.innerHTML)),setTimeout(()=>{_e&&!_e.matches(":hover")&&_e.querySelectorAll(".resize-handle").forEach(Be=>{Be.style.opacity="0"})},100)};document.addEventListener("mousemove",jt),document.addEventListener("mouseup",zt)},[n]);m.useEffect(()=>{if(d.current&&N)return d.current.addEventListener("mousedown",se),()=>{var Fe;(Fe=d.current)==null||Fe.removeEventListener("mousedown",se)}},[se,N]),m.useEffect(()=>{d.current&&N&&f.current&&d.current.querySelectorAll("img:not(.resizable-image-wrapper img)").forEach(Oe=>{q(Oe)})},[k,q,N]),m.useEffect(()=>{const Fe=Oe=>{const _e=Oe.target;!_e.closest(".resizable-image-wrapper")&&!_e.closest("img")&&(E(null),d.current&&d.current.querySelectorAll(".resizable-image-wrapper").forEach(nt=>{nt.querySelectorAll(".resize-handle").forEach(ut=>{ut.style.opacity="0"})}))};return document.addEventListener("click",Fe),()=>document.removeEventListener("click",Fe)},[]);const re=Fe=>{const Oe=Fe.tagName.toLowerCase(),_e=Fe.className;let nt=Fe.textContent||"";return nt.length>50&&(nt=nt.substring(0,50)),`${Oe}-${_e}-${nt}`};m.useEffect(()=>{if(f.current&&d.current&&e&&d.current.innerHTML!==e&&N){const Fe=window.getSelection();if(!Fe||!Fe.rangeCount){d.current.innerHTML=e,F(e),g.current=e;return}const Oe=Fe.getRangeAt(0),_e=Oe.startContainer,nt=Oe.startOffset;let ut=_e;for(;ut&&ut.nodeType===Node.TEXT_NODE;)ut=ut.parentNode;if(!ut||!(ut instanceof Element)){d.current.innerHTML=e,F(e),g.current=e;return}const jt=Array.from(d.current.querySelectorAll("p, div, h1, h2, h3, h4, h5, h6, ul, ol, li, blockquote"));let zt=0;if(_e!==ut){const fr=document.createRange();fr.selectNodeContents(ut),fr.setEnd(_e,nt),zt=fr.toString().length}else zt=nt;const Be=re(ut),Ye=jt.indexOf(ut),Ue=Ye>0?jt[Ye-1]:null,Lt=Ye<jt.length-1?jt[Ye+1]:null,Et=Ue?re(Ue):"",hr=Lt?re(Lt):"",ur=jt.length,Cr=ur>0?Ye/ur:0;d.current.innerHTML=e,F(e),g.current=e;const Tr=Array.from(d.current.querySelectorAll("p, div, h1, h2, h3, h4, h5, h6, ul, ol, li, blockquote"));setTimeout(()=>{try{let fr=-1,dr=null;for(let Ke=0;Ke<Tr.length;Ke++){const qt=Tr[Ke];if(re(qt)===Be){fr=Ke,dr=qt;break}}if(fr===-1&&(Et||hr))for(let Ke=0;Ke<Tr.length;Ke++){const qt=Tr[Ke];if(Et&&Ke>0){const Ge=Tr[Ke-1];if(re(Ge)===Et){fr=Ke,dr=qt;break}}if(hr&&Ke<Tr.length-1){const Ge=Tr[Ke+1];if(re(Ge)===hr){fr=Ke,dr=qt;break}}}if(fr===-1&&(fr=Math.min(Math.floor(Cr*Tr.length),Tr.length-1),dr=Tr[fr]),dr){const Ke=G(dr,zt);if(Ke){const qt=document.createRange();qt.setStart(Ke.node,Ke.offset),qt.collapse(!0),Fe.removeAllRanges(),Fe.addRange(qt),d.current.focus()}else{const qt=document.createRange();qt.selectNodeContents(dr),qt.collapse(!1),Fe.removeAllRanges(),Fe.addRange(qt),d.current.focus()}}else if(Tr.length>0){const Ke=Tr[Tr.length-1],qt=document.createRange();qt.selectNodeContents(Ke),qt.collapse(!1),Fe.removeAllRanges(),Fe.addRange(qt),d.current.focus()}}catch(fr){console.error("Failed to restore cursor position:",fr)}},0)}},[e,N]);const G=(Fe,Oe)=>{var zt,Be;const _e=[],nt=document.createTreeWalker(Fe,NodeFilter.SHOW_TEXT,null);let ut;for(;ut=nt.nextNode();)_e.push(ut);let jt=0;for(const Ye of _e){const Ue=((zt=Ye.textContent)==null?void 0:zt.length)||0;if(jt+Ue>=Oe)return{node:Ye,offset:Oe-jt};jt+=Ue}if(_e.length>0){const Ye=_e[_e.length-1];return{node:Ye,offset:((Be=Ye.textContent)==null?void 0:Be.length)||0}}return null};m.useEffect(()=>{if(t!==N&&(S(t),t&&d.current&&e)){const Fe=window.getSelection(),_e=Fe&&Fe.rangeCount>0?Fe==null?void 0:Fe.getRangeAt(0).cloneRange():null;if(d.current.innerHTML=e,F(e),g.current=e,_e&&Fe)try{Fe.removeAllRanges(),Fe.addRange(_e)}catch(nt){console.error("Failed to restore selection:",nt)}}},[t,e,N]),m.useEffect(()=>{if(d.current&&f.current){const Fe=new MutationObserver(()=>{d.current&&F(d.current.innerHTML)});return Fe.observe(d.current,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),()=>Fe.disconnect()}},[]);const ue=m.useCallback(()=>{if(!N)return null;const Fe=window.getSelection();if(Fe&&Fe.rangeCount>0){const Oe=Fe.getRangeAt(0).cloneRange();return u.current=Oe,Oe}return null},[N]),ie=m.useCallback(()=>{if(!(!N||!u.current||!d.current))try{const Fe=window.getSelection();Fe&&(Fe.removeAllRanges(),Fe.addRange(u.current),d.current.focus())}catch(Fe){console.error("Failed to restore selection:",Fe)}},[N]),Ee=m.useCallback((Fe,Oe="")=>{N&&(ie(),document.execCommand(Fe,!1,Oe),d.current&&(F(d.current.innerHTML),g.current=d.current.innerHTML),d.current&&d.current.focus())},[N,ie]),He=m.useCallback((Fe,Oe="")=>{ue(),Ee(Fe,Oe),n&&d.current&&setTimeout(()=>{n(d.current.innerHTML)},0)},[ue,Ee,n]);m.useCallback(()=>{S(Fe=>!Fe)},[]);const rt=m.useCallback((Fe,Oe)=>{Oe.preventDefault(),Oe.stopPropagation(),ue(),ye(Fe);const nt=Oe.currentTarget.getBoundingClientRect(),ut=window.scrollY||document.documentElement.scrollTop;le({top:nt.bottom+ut,left:nt.left}),Z(!0),H(!1)},[ue]),we=m.useCallback(Fe=>{Ee(te==="text"?"foreColor":"hiliteColor",Fe),Z(!1),n&&d.current&&n(d.current.innerHTML)},[te,Ee,n]),Ve=m.useCallback(Fe=>{Fe.preventDefault(),Fe.stopPropagation(),ue(),H(Oe=>!Oe),Z(!1)},[ue]),Re=m.useCallback(Fe=>{if(Fe.preventDefault(),Fe.stopPropagation(),K){ie();const Oe=document.createElement("img");Oe.src=K,Oe.alt="Inserted image",Oe.style.cssText=`
        max-width: 300px;
        height: auto;
        display: block;
        margin: 8px 0;
      `;const _e=window.getSelection();if(_e&&_e.rangeCount>0){const nt=_e.getRangeAt(0);nt.deleteContents(),nt.insertNode(Oe),nt.setStartAfter(Oe),nt.setEndAfter(Oe),_e.removeAllRanges(),_e.addRange(nt),setTimeout(()=>{q(Oe)},100)}B(""),H(!1),d.current&&n&&(F(d.current.innerHTML),g.current=d.current.innerHTML,n(d.current.innerHTML)),q(Oe),d.current&&d.current.focus()}},[K,ie,n,q]),je=m.useCallback(Fe=>{if(!N)return;ue(),ie();const Oe=window.getSelection();if(Oe&&Oe.rangeCount>0){console.log("Speech",Fe);const _e=Oe.getRangeAt(0),nt=document.createTextNode(Fe+" ");_e.insertNode(nt),_e.setStartAfter(nt),_e.setEndAfter(nt),Oe.removeAllRanges(),Oe.addRange(_e),ue()}d.current&&n&&(F(d.current.innerHTML),g.current=d.current.innerHTML,n(d.current.innerHTML)),d.current&&d.current.focus()},[N,ie,n,ue]),Mt=m.useCallback(Fe=>{ee(Fe)},[]);m.useEffect(()=>{const Fe=Oe=>{if(R||D){const _e=Oe.target;!_e.closest(".color-picker-container")&&!_e.closest(".color-button")&&!_e.closest(".image-input")&&!_e.closest(".image-button")&&(R&&(Z(!1),setTimeout(ie,0)),D&&(H(!1),setTimeout(ie,0)))}};return document.addEventListener("mousedown",Fe),()=>{document.removeEventListener("mousedown",Fe)}},[R,D,ie]);const Bt=m.useCallback(()=>{if(!N||!d.current)return;const Fe={isBold:document.queryCommandState("bold"),isItalic:document.queryCommandState("italic"),isList:document.queryCommandState("insertUnorderedList"),isHeading:!1,textColor:document.queryCommandValue("foreColor"),highlightColor:document.queryCommandValue("hiliteColor")};oe(Fe)},[N]);m.useEffect(()=>{const Fe=()=>{Bt()};return document.addEventListener("selectionchange",Fe),()=>{document.removeEventListener("selectionchange",Fe)}},[Bt]);const ct=m.useCallback(Fe=>{if((Fe.key==="Delete"||Fe.key==="Backspace")&&ue(),Fe.key==="Enter"&&!Fe.shiftKey){Fe.preventDefault();const Oe=window.getSelection();if(!Oe||!Oe.rangeCount)return;const _e=Oe.getRangeAt(0),nt=document.createElement("p");return nt.innerHTML="<br>",_e.deleteContents(),_e.insertNode(nt),_e.setStart(nt,0),_e.setEnd(nt,0),Oe.removeAllRanges(),Oe.addRange(_e),d.current&&(F(d.current.innerHTML),g.current=d.current.innerHTML),!1}},[ue]),vt=m.useCallback(()=>{ue(),d.current&&(F(d.current.innerHTML),g.current=d.current.innerHTML),n&&d.current&&(v.current&&clearTimeout(v.current),v.current=setTimeout(()=>{n(d.current.innerHTML)},300))},[n,ue]);m.useEffect(()=>{if(d.current){d.current.dir="ltr";const Fe=document.createElement("style");return Fe.innerHTML=`
      [contenteditable] {
        direction: ltr;
        unicode-bidi: embed;
        text-align: left;
      }
      
      .resizable-image-wrapper {
        position: relative;
        display: inline-block;
        margin: 8px 0;
        max-width: 100%;
      }
      
      .resizable-image-wrapper img {
        max-width: 100%;
        height: auto;
        display: block;
        border-radius: 6px;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        cursor: pointer;
      }
      
      .resize-handle {
        position: absolute;
        width: 12px;
        height: 12px;
        background: #3b82f6;
        border: 2px solid white;
        border-radius: 50%;
        opacity: 0;
        transition: opacity 0.2s;
        z-index: 10;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
      }
      
      .resize-handle-nw {
        top: -6px;
        left: -6px;
        cursor: nw-resize;
      }
      
      .resize-handle-ne {
        top: -6px;
        right: -6px;
        cursor: ne-resize;
      }
      
      .resize-handle-sw {
        bottom: -6px;
        left: -6px;
        cursor: sw-resize;
      }
      
      .resize-handle-se {
        bottom: -6px;
        right: -6px;
        cursor: se-resize;
      }
      
      .resizable-image-wrapper:hover .resize-handle {
        opacity: 1;
      }
    `,document.head.appendChild(Fe),()=>{document.head.removeChild(Fe)}}},[]);const wt=m.useCallback(Fe=>{!N||!d.current||(d.current.innerHTML=Fe,F(Fe),g.current=Fe,n&&n(Fe),d.current.focus())},[N,n]);return r.jsxs("div",{className:Tt("border border-gray-700 rounded-lg overflow-hidden bg-gray-900 shadow-md",s),children:[o&&r.jsx(Bhe,{isEditable:N,editorState:Q,onFormat:He,onOpenColorPicker:rt,onToggleImageInput:Ve,onToggleHtmlOutput:()=>U(!$),showHtmlOutput:$,htmlContent:k,showImageInput:D,onApplyTemplate:wt,onSpeechResult:je,onListeningChange:Mt,socket:c}),r.jsx("div",{ref:d,contentEditable:N,suppressContentEditableWarning:!0,className:Tt("p-4 focus:outline-none","bg-gray-900 text-gray-100","overflow-auto","transition-all duration-300",!N&&"cursor-default prose prose-invert prose-sm max-w-none",N&&"cursor-text","direction-ltr text-left"),style:{minHeight:i,direction:"ltr",unicodeBidi:"embed",textAlign:"left"},onInput:vt,onBlur:Fe=>{d.current&&n&&n(d.current.innerHTML)},onKeyDown:ct,onKeyUp:Fe=>{ue(),Bt()},onMouseUp:Fe=>{ue(),Bt()},"data-placeholder":a,dir:"ltr"}),l&&r.jsxs("div",{className:"p-3 border-t border-gray-700 bg-gray-800 text-xs text-gray-400 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:Tt("w-2 h-2 rounded-full",N?"bg-green-500":"bg-gray-500")}),r.jsx("span",{children:N?(x==null?void 0:x.text_editing_enabled)||"Editing enabled":(x==null?void 0:x.text_view_only_mode)||"View only mode"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"text-xs px-2 py-1 rounded-full bg-gray-700 text-purple-300",children:[k.length," ",(x==null?void 0:x.text_characters)||"characters"]}),ce&&r.jsx("div",{className:"text-xs px-2 py-1 rounded-full bg-purple-900 text-purple-100 animate-pulse",children:"Listening..."})]})]}),D&&r.jsx("div",{className:"fixed z-50 image-input",style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:r.jsxs("div",{className:"p-4 bg-gray-800 border border-gray-700 rounded-lg shadow-xl w-80",children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsx("h3",{className:"text-sm font-medium",children:"Insert Image"}),r.jsx("button",{onClick:()=>{H(!1),ie()},className:"text-gray-400 hover:text-white",type:"button",children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),r.jsx("input",{type:"url",placeholder:"https://example.com/image.jpg",value:K,onChange:Fe=>B(Fe.target.value),className:"w-full p-2 mb-3 bg-gray-900 border border-gray-700 rounded text-gray-100 text-sm"}),r.jsx("button",{onClick:Re,className:"w-full py-2 bg-purple-600 hover:bg-purple-700 rounded-md text-white font-medium",type:"button",disabled:!K,children:"Insert Image"})]})}),R&&r.jsx(_he,{position:de,type:te,onApplyColor:we,onClose:()=>{Z(!1),setTimeout(ie,0)}})]})},vu=kr.memo(Ehe),Ihe=({citizen:e,updateNotes:t,isEditMode:n})=>{const{locale:s}=ir(),a=i=>{i&&t&&t(i)};return r.jsx(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"flex w-full p-4",children:r.jsx("div",{className:"grid grid-cols-1 gap-6 w-[75vw]",children:r.jsx("div",{className:"col-span-1",children:r.jsxs(Le,{className:"w-full bg-transparent",children:[r.jsx(mt,{children:r.jsx(kt,{children:(s==null?void 0:s.text_additional_notes)||"Additional Notes:"})}),r.jsx(Je,{className:"h-[530px] overflow-y-auto p-5",children:r.jsx(vu,{initialContent:(e==null?void 0:e.notes)||`<p>${(s==null?void 0:s.text_no_notes_available)||"No notes available"}</p>`,editable:n,onChange:a,minHeight:"300px",placeholder:(s==null?void 0:s.text_start_typing)||"Start typing here..."})})]})})})})},The={reportId:"1278474937437",reportName:"Bank Robbery | 123 Main St | 2021-01-01 12:00:00 | 1234567890",location:"123 Main St",description:"This is a test report",dateTime:"2021-01-01 12:00:00",evidences:[{id:"1",type:"image",description:"This is a test evidence",url:"https://kappa.lol/8ut4U"},{id:"2",type:"video",description:"This is a test evidence",url:"https://kappa.lol/8ut4U"},{id:"3",type:"audio",description:"This is a test evidence",url:"https://kappa.lol/8ut4U"}],peopleInvolved:[{name:"John Doe",citizenId:"1234567890",category:"Officer",charges:[]},{name:"Jane Doe",citizenId:"1234567890",category:"Criminal",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Criminal",charges:[{title:"Assault",count:2,sentence:100,fine:1e3,jailReduction:0}]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]}],vehiclesInvolved:[{model:"Ford F150",plate:"ABC123",category:"Civilian",charges:[]}]},khe={incidentId:"INC-1278474937437",incidentName:"Traffic Accident | Highway 101 | 2021-01-01 14:30:00",location:"Highway 101",description:"This is a test incident involving multiple vehicles",dateTime:"2021-01-01 14:30:00",severity:"High",status:"Active",respondingUnits:[{unitId:"UNIT-001",unitType:"Police",officerName:"Officer Smith"},{unitId:"UNIT-002",unitType:"Medical",officerName:"Paramedic Jones"}],evidences:[{id:"1",type:"image",description:"Accident scene photo",url:"https://kappa.lol/8ut4U"}],peopleInvolved:[{name:"Driver A",citizenId:"9876543210",category:"Civilian",injuries:"Minor"},{name:"Driver B",citizenId:"5432109876",category:"Civilian",injuries:"Serious"}],vehiclesInvolved:[{model:"Honda Civic",plate:"XYZ789",category:"Civilian",damage:"Severe"},{model:"Toyota Camry",plate:"DEF456",category:"Civilian",damage:"Moderate"}]},Phe=({reports:e,incidents:t})=>{const[n,s]=m.useState(null),[a,i]=m.useState(null),[o,l]=m.useState(!1),[c,d]=m.useState(!1),{locale:u}=ir(),f=b=>b.split(" ").map(x=>x[0]).join("").toUpperCase(),v=(b,x)=>ke("fetchReportDataByReportId",{reportId:x},The).then(N=>{if(N&&N.success){N=N.data;const S={reportName:b==null?void 0:b.reportName,reportId:x,dateTime:b==null?void 0:b.dateTime,officerId:N.officerId||"",location:N.location||null,description:N.description||"",evidences:Array.isArray(N.evidences)?N.evidences:JSON.parse(N.evidences||"[]"),peopleInvolved:Array.isArray(N.peopleInvolved)?N.peopleInvolved:JSON.parse(N.peopleInvolved||"[]"),vehiclesInvolved:Array.isArray(N.vehiclesInvolved)?N.vehiclesInvolved:JSON.parse(N.vehiclesInvolved||"[]"),category:(N==null?void 0:N.category)||"default category"};s(S),l(!0)}else console.error((N==null?void 0:N.message)||"No response received."),s(null)}).catch(N=>{console.error("Error fetching report data:",N),s(null)}),g=(b,x)=>ke("fetchIncidentDataByIncidentId",{incidentId:x},khe).then(N=>{if(N&&N.success){N=N==null?void 0:N.data;const S={incidentName:b==null?void 0:b.incidentName,incidentId:x,dateTime:b==null?void 0:b.dateTime,officerId:N.officerId||"",location:N.location||null,description:N.description||"",severity:N.severity||"Unknown",status:N.status||"Unknown",respondingUnits:Array.isArray(N.respondingUnits)?N.respondingUnits:JSON.parse(N.respondingUnits||"[]"),evidences:Array.isArray(N.evidences)?N.evidences:JSON.parse(N.evidences||"[]"),peopleInvolved:Array.isArray(N.peopleInvolved)?N.peopleInvolved:JSON.parse(N.peopleInvolved||"[]"),vehiclesInvolved:Array.isArray(N.vehiclesInvolved)?N.vehiclesInvolved:JSON.parse(N.vehiclesInvolved||"[]"),category:(N==null?void 0:N.category)||"default category"};i(S),d(!0)}else console.error((N==null?void 0:N.message)||"No response received."),i(null)}).catch(N=>{console.error("Error fetching incident data:",N),i(null)}),w=b=>{var x,N;return r.jsxs(Le,{className:"overflow-hidden hover:shadow-md transition-shadow cursor-pointer",onClick:()=>v(b,b.reportId),children:[r.jsxs(mt,{className:"p-4 pb-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx(ze,{variant:"outline",className:"bg-blue-500/10 text-blue-500",children:b.reportId}),r.jsxs(ze,{variant:"outline",children:[r.jsx(Ua,{className:"h-3 w-3 mr-1"}),new Date(b.dateTime).toLocaleDateString()]})]}),r.jsx(kt,{className:"mt-2 text-base",children:b.reportName})]}),r.jsxs(Je,{className:"p-4 pt-0",children:[r.jsxs("div",{className:"flex items-center text-sm text-muted-foreground mb-2",children:[r.jsx(qs,{className:"h-3.5 w-3.5 mr-1"}),r.jsx("span",{className:"line-clamp-1",children:b.location})]}),r.jsxs("div",{className:"flex -space-x-2",children:[b&&(b==null?void 0:b.peopleInvolved)&&((x=JSON.parse(b==null?void 0:b.peopleInvolved))==null?void 0:x.slice(0,3).map((S,k)=>r.jsx(hn,{className:"border-2 border-background h-8 w-8",children:r.jsx(yn,{className:`text-xs ${S.category==="Criminal"?"bg-red-500/20 text-red-500":S.category==="Medic"?"bg-blue-500/20 text-blue-500":"bg-green-500/20 text-green-500"}`,children:f(S.name)})},k))),((N=JSON.parse(b==null?void 0:b.peopleInvolved))==null?void 0:N.length)>3&&r.jsx(hn,{className:"border-2 border-background h-8 w-8",children:r.jsxs(yn,{className:"text-xs bg-primary/10",children:["+",JSON.parse(b==null?void 0:b.peopleInvolved).length-3]})})]})]})]},b.reportId)},y=b=>{var x,N;return r.jsxs(Le,{className:"overflow-hidden hover:shadow-md transition-shadow cursor-pointer",onClick:()=>g(b,b.incidentId),children:[r.jsxs(mt,{className:"p-4 pb-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsxs(ze,{variant:"outline",className:"bg-orange-500/10 text-orange-500",children:[r.jsx(cs,{className:"h-3 w-3 mr-1"}),b.incidentId]}),r.jsxs(ze,{variant:"outline",children:[r.jsx(Ua,{className:"h-3 w-3 mr-1"}),new Date(b.dateTime).toLocaleDateString()]})]}),r.jsx(kt,{className:"mt-2 text-base",children:b.incidentName})]}),r.jsxs(Je,{className:"p-4 pt-0",children:[r.jsxs("div",{className:"flex items-center text-sm text-muted-foreground mb-2",children:[r.jsx(qs,{className:"h-3.5 w-3.5 mr-1"}),r.jsx("span",{className:"line-clamp-1",children:b.location})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex -space-x-2",children:[b&&(b==null?void 0:b.peopleInvolved)&&((x=JSON.parse(b==null?void 0:b.peopleInvolved))==null?void 0:x.slice(0,3).map((S,k)=>r.jsx(hn,{className:"border-2 border-background h-8 w-8",children:r.jsx(yn,{className:`text-xs ${S.category==="Criminal"?"bg-red-500/20 text-red-500":S.category==="Medic"?"bg-blue-500/20 text-blue-500":"bg-green-500/20 text-green-500"}`,children:f(S.name)})},k))),((N=JSON.parse((b==null?void 0:b.peopleInvolved)||"[]"))==null?void 0:N.length)>3&&r.jsx(hn,{className:"border-2 border-background h-8 w-8",children:r.jsxs(yn,{className:"text-xs bg-primary/10",children:["+",JSON.parse(b==null?void 0:b.peopleInvolved).length-3]})})]}),r.jsx(ze,{variant:b.severity==="High"?"destructive":b.severity==="Medium"?"default":"secondary",className:"text-xs",children:b.severity||"Unknown"})]})]})]},b.incidentId)};return r.jsxs(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"flex w-full p-4",children:[r.jsx("div",{className:"grid grid-cols-1 gap-6 w-[75vw]",children:r.jsx("div",{className:"col-span-1",children:r.jsxs(Le,{className:"w-full bg-transparent",children:[r.jsx(mt,{children:r.jsx(kt,{children:(u==null?void 0:u.text_related_reports_incidents)||"Related Reports & Incidents"})}),r.jsx(Je,{className:"max-h-[50vh] overflow-y-auto p-5",children:r.jsxs(ea,{defaultValue:"reports",className:"w-full",children:[r.jsxs(ta,{className:"grid w-full grid-cols-2",children:[r.jsxs(Fr,{value:"reports",children:[r.jsx(fi,{className:"h-4 w-4 mr-2"}),(u==null?void 0:u.text_reports)||"Reports"," (",(e==null?void 0:e.length)||0,")"]}),r.jsxs(Fr,{value:"incidents",children:[r.jsx(cs,{className:"h-4 w-4 mr-2"}),(u==null?void 0:u.text_incidents)||"Incidents"," (",(t==null?void 0:t.length)||0,")"]})]}),r.jsx(Rr,{value:"reports",className:"mt-4",children:e&&e.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(b=>w(b))}):r.jsxs("div",{className:"text-center py-12 bg-muted/20 rounded-lg",children:[r.jsx(fi,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-20"}),r.jsx("p",{className:"text-muted-foreground",children:(u==null?void 0:u.text_no_reports_found)||"No related reports found for this case."})]})}),r.jsx(Rr,{value:"incidents",className:"mt-4",children:t&&t.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(b=>y(b))}):r.jsxs("div",{className:"text-center py-12 bg-muted/20 rounded-lg",children:[r.jsx(cs,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-20"}),r.jsx("p",{className:"text-muted-foreground",children:(u==null?void 0:u.text_no_incidents_found)||"No related incidents found for this case."})]})})]})})]})})}),r.jsx(gr,{open:o,onOpenChange:l,children:r.jsxs(xr,{className:"max-w-[60vw] w-full","aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:(u==null?void 0:u.text_report_details_title)||"Report Details"})}),n&&r.jsx("div",{className:"space-y-4",children:r.jsx("div",{className:"grid gap-4 py-4",children:r.jsx(iA,{className:"h-[calc(80vh-100px)]",children:r.jsxs("div",{className:"grid grid-cols-2 items-center gap-4",children:[r.jsxs("div",{className:"space-y-2 col-span-2",children:[r.jsx(Me,{htmlFor:"reportname",children:(u==null?void 0:u.text_report_name)||"Report Name"}),r.jsx(ht,{id:"reportname",name:"reportname",value:n==null?void 0:n.reportName,disabled:!0,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"reportid",children:(u==null?void 0:u.text_report_id)||"Report ID"}),r.jsx(ht,{id:"reportid",name:"reportid",value:n==null?void 0:n.reportId,disabled:!0,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"date",children:(u==null?void 0:u.text_date)||"Date"}),r.jsx(ht,{id:"date",name:"date",value:$n(n==null?void 0:n.dateTime),disabled:!0,required:!0})]}),r.jsxs("div",{className:"space-y-2 col-span-2",children:[r.jsx(Me,{htmlFor:"location",children:(u==null?void 0:u.text_location)||"Location"}),r.jsx(ht,{id:"location",name:"location",value:n==null?void 0:n.location,disabled:!0,required:!0})]}),r.jsxs("div",{className:"space-y-2 col-span-2",children:[r.jsx(Me,{htmlFor:"description",children:(u==null?void 0:u.text_description)||"Description"}),r.jsx("div",{className:"col-span-3 min-h-[200px] max-w-full w-full rounded border p-2 overflow-hidden break-words",children:r.jsx("div",{className:"prose prose-invert prose-sm max-w-none",dangerouslySetInnerHTML:{__html:(n==null?void 0:n.description)||""}})})]})]})})})})]})}),r.jsx(gr,{open:c,onOpenChange:d,children:r.jsxs(xr,{className:"max-w-[60vw] w-full","aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:(u==null?void 0:u.text_incident_details_title)||"Incident Details"})}),a&&r.jsx("div",{className:"space-y-4",children:r.jsx("div",{className:"grid gap-4 py-4",children:r.jsx(iA,{className:"h-[calc(80vh-100px)]",children:r.jsxs("div",{className:"grid grid-cols-2 items-center gap-4",children:[r.jsxs("div",{className:"space-y-2 col-span-2",children:[r.jsx(Me,{htmlFor:"incidentname",children:(u==null?void 0:u.text_incident_name)||"Incident Name"}),r.jsx(ht,{id:"incidentname",name:"incidentname",value:a==null?void 0:a.incidentName,disabled:!0,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"incidentid",children:(u==null?void 0:u.text_incident_id)||"Incident ID"}),r.jsx(ht,{id:"incidentid",name:"incidentid",value:a==null?void 0:a.incidentId,disabled:!0,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"incidentdate",children:(u==null?void 0:u.text_date)||"Date"}),r.jsx(ht,{id:"incidentdate",name:"incidentdate",value:$n(a==null?void 0:a.dateTime),disabled:!0,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"severity",children:(u==null?void 0:u.text_severity)||"Severity"}),r.jsx(ht,{id:"severity",name:"severity",value:a==null?void 0:a.severity,disabled:!0,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"status",children:(u==null?void 0:u.text_status)||"Status"}),r.jsx(ht,{id:"status",name:"status",value:a==null?void 0:a.status,disabled:!0,required:!0})]}),r.jsxs("div",{className:"space-y-2 col-span-2",children:[r.jsx(Me,{htmlFor:"incidentlocation",children:(u==null?void 0:u.text_location)||"Location"}),r.jsx(ht,{id:"incidentlocation",name:"incidentlocation",value:a==null?void 0:a.location,disabled:!0,required:!0})]}),r.jsxs("div",{className:"space-y-2 col-span-2",children:[r.jsx(Me,{htmlFor:"incidentdescription",children:(u==null?void 0:u.text_description)||"Description"}),r.jsx("div",{className:"col-span-3 min-h-[200px] max-w-full w-full rounded border p-2 overflow-hidden break-words",children:r.jsx("div",{className:"prose prose-invert prose-sm max-w-none",dangerouslySetInnerHTML:{__html:(a==null?void 0:a.description)||""}})})]})]})})})})]})})]})},Dhe=({warrants:e})=>{var l;const[t,n]=m.useState(!1),[s,a]=m.useState(null),{locale:i}=ir(),o=(c,d)=>ke("fetchWarrantDataByWarrantId",{warrantId:d}).then(u=>{if(u){const f={id:d,suspectId:u.suspectId,issueDate:c.issueDate,expiryDate:c.expiryDate,issuingAuthority:u.issuingAuthority,status:u.status,caseNotes:Array.isArray(u.caseNotes)?u.caseNotes:JSON.parse(u.caseNotes||"[]")};a(f),n(!0)}else console.error("No response received."),a(null)}).catch(u=>{console.error("Error fetching warrant data:",u),a(null)});return r.jsxs(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"flex w-full p-4",children:[r.jsx("div",{className:"grid grid-cols-1 gap-6 w-[75vw]",children:r.jsx("div",{className:"col-span-1",children:r.jsxs(Le,{className:"w-full bg-transparent",children:[r.jsx(mt,{children:r.jsx(kt,{children:(i==null?void 0:i.text_warrants_issued)||"Warrants Issued"})}),r.jsx(Je,{className:"h-[50vh] overflow-y-auto p-5",children:e&&e.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e&&Array.isArray(e)&&(e==null?void 0:e.map(c=>{var d,u;return r.jsxs(Le,{className:"overflow-hidden border-destructive/50 cursor-pointer",onClick:()=>o(c,c.id),children:[r.jsx(mt,{className:"p-4 pb-2 bg-destructive/5",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx(ze,{variant:(c==null?void 0:c.status)==="active"?"destructive":"neutral",children:(c==null?void 0:c.status)==="active"?r.jsxs(r.Fragment,{children:[r.jsx(cs,{className:"h-3 w-3 mr-1"}),(i==null?void 0:i.text_active_warrant)||"Active Warrant"]}):(c==null?void 0:c.status)==="expired"?r.jsxs(r.Fragment,{children:[r.jsx(cs,{className:"h-3 w-3 mr-1"}),(i==null?void 0:i.text_expired_warrant)||"Expired Warrant"]}):r.jsxs(r.Fragment,{children:[r.jsx(cs,{className:"h-3 w-3 mr-1"}),(i==null?void 0:i.text_revoked_warrant)||"Revoked Warrant"]})}),r.jsxs(kt,{className:"mt-2 text-base",children:[(i==null?void 0:i.text_warrant_number)||"Warrant Number"," #",c.id]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-xs text-muted-foreground",children:[(i==null?void 0:i.text_issued)||"Issued",": ",c.issueDate]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[(i==null?void 0:i.text_expires)||"Expires",": ",c.expiryDate]})]})]})}),r.jsxs(Je,{className:"p-4",children:[r.jsxs("h4",{className:"font-semibold mb-2",children:[(i==null?void 0:i.text_charges)||"Charges",":"]}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:c&&(c==null?void 0:c.charges)&&((d=JSON.parse(c==null?void 0:c.charges))==null?void 0:d.map((f,v)=>r.jsxs(ze,{variant:"outline",className:"bg-destructive/10",children:[f.title," ",f.count>1&&`(${f.count}x)`]},v)))}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("p",{className:"text-sm",children:[r.jsxs("span",{className:"text-muted-foreground",children:[(i==null?void 0:i.text_issuing_authority)||"Issuing Authority",":"]}),r.jsx("span",{className:"ml-1 font-medium",children:c.issuingAuthority||"Issuing Authority"})]}),r.jsx(ze,{variant:c.status==="active"?"destructive":"outline",children:((u=c==null?void 0:c.status)==null?void 0:u.toUpperCase())||"Status"})]})]})]},c.id)}))}):r.jsxs("div",{className:"text-center py-12 bg-muted/20 rounded-lg",children:[r.jsx(Mc,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-20"}),r.jsx("p",{className:"text-muted-foreground",children:(i==null?void 0:i.text_no_active_warrants)||"No Active Warrants"})]})})]})})}),r.jsx(gr,{open:t,onOpenChange:n,children:r.jsxs(xr,{className:"max-w-[60vw] w-full","aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:(i==null?void 0:i.text_warrant_details)||"Warrant Details"})}),s&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsx(qf,{label:(i==null?void 0:i.text_warrant_id)||"Warrant ID",value:s.id,isEditing:!1}),r.jsx(qf,{label:(i==null?void 0:i.text_suspect_citizen_id)||"Suspect Citizen ID",value:s.suspectId,isEditing:!1}),r.jsx(qf,{label:(i==null?void 0:i.text_issue_date)||"Issue Date",value:s.issueDate,isEditing:!1}),r.jsx(qf,{label:(i==null?void 0:i.text_expiry_date)||"Expiry Date",value:s.expiryDate,isEditing:!1}),r.jsx(qf,{label:(i==null?void 0:i.text_issuing_authority)||"Issuing Authority",value:s.issuingAuthority,isEditing:!1}),r.jsx(qf,{label:(i==null?void 0:i.text_status)||"Status",value:s.status,isEditing:!1})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold mb-2",children:(i==null?void 0:i.text_case_notes)||"Case Notes"}),r.jsx(nr,{className:"h-[200px]",children:s&&(s==null?void 0:s.caseNotes)&&((l=s==null?void 0:s.caseNotes)==null?void 0:l.length)>0&&(s&&Array.isArray(s==null?void 0:s.caseNotes)&&(s==null?void 0:s.caseNotes)||[]).map(c=>{var d;return r.jsx(Le,{className:"p-2 bg-background/50",children:r.jsx("div",{className:"flex justify-between items-start",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm",children:c.content}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[c.author," - ",$n(c.timestamp)]}),c&&(c==null?void 0:c.attachedReports)&&((d=c.attachedReports)==null?void 0:d.length)>0&&Array.isArray(c==null?void 0:c.attachedReports)&&r.jsxs("div",{className:"mt-2",children:[r.jsxs("p",{className:"text-xs font-semibold",children:[(i==null?void 0:i.text_attached_reports)||"Attached Reports",":"]}),r.jsx("ul",{className:"list-disc list-inside text-xs text-muted-foreground",children:((c==null?void 0:c.attachedReports)||[]).map(u=>r.jsx("li",{children:u},u))})]})]})})},c.id)})})]})]})]})})]})};function qf({label:e,value:t,isEditing:n,onChange:s}){return r.jsxs("div",{className:"space-y-1",children:[r.jsx(Me,{children:e}),n?r.jsx(ht,{value:t,onChange:a=>s&&s(a.target.value)}):r.jsx("p",{className:"text-sm text-muted-foreground",children:t})]})}const Fhe=({vehicles:e,properties:t,weapons:n})=>{const[s,a]=m.useState("vehicles"),{locale:i}=ir();return r.jsx(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"flex w-full p-4",children:r.jsx("div",{className:"grid grid-cols-1 gap-6 w-[75vw]",children:r.jsxs(Le,{className:"w-full bg-transparent p-5",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h3",{className:"text-xl font-semibold flex items-center gap-5",children:[r.jsx(mS,{className:"h-5 w-5"}),(i==null?void 0:i.text_assets)||"Assets"]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(Ae,{variant:s==="vehicles"?"default":"outline",size:"sm",onClick:()=>a("vehicles"),children:[r.jsx(Di,{className:"h-4 w-4"}),(i==null?void 0:i.text_vehicles)||"Vehicles"]}),r.jsxs(Ae,{variant:s==="properties"?"default":"outline",size:"sm",onClick:()=>a("properties"),children:[r.jsx(th,{className:"h-4 w-4"}),(i==null?void 0:i.text_properties)||"Properties"]}),r.jsxs(Ae,{variant:s==="weapons"?"default":"outline",size:"sm",onClick:()=>a("weapons"),children:[r.jsx(i_,{className:"h-4 w-4"}),(i==null?void 0:i.text_weapons)||"Weapons"]})]})]}),r.jsxs(Je,{className:"max-h-[50vh] overflow-y-auto p-5",children:[s==="vehicles"&&r.jsx(r.Fragment,{children:e&&e.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e&&(Array.isArray(e)?e:JSON.parse(e||"[]")).map(o=>{var l;return r.jsxs(Le,{className:"overflow-hidden hover:shadow-md transition-shadow",children:[r.jsxs(mt,{className:"p-4 pb-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx(ze,{variant:o.status==="wanted"?"destructive":"outline",className:o.status?"":"bg-green-500/10 text-green-500",children:((l=o.status)==null?void 0:l.toUpperCase())||(i==null?void 0:i.text_clean)||"CLEAN"}),r.jsx(ze,{variant:"outline",children:o.plate})]}),r.jsxs(kt,{className:"mt-2 text-base flex items-center gap-2",children:[r.jsx(Di,{className:"h-4 w-4 text-primary"}),o.model]})]}),r.jsx(Je,{className:"p-4 pt-0",children:r.jsx("div",{className:"grid grid-cols-1 gap-2 text-sm",children:r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:(i==null?void 0:i.text_last_seen)||"Last Seen:"}),r.jsx("span",{className:"ml-1",children:o!=null&&o.lastSeen?new Date(o.lastSeen).toLocaleDateString():(i==null?void 0:i.text_unknown)||"Unknown"})]})})})]},o.plate)})}):r.jsxs("div",{className:"text-center py-12 bg-muted/20 rounded-lg",children:[r.jsx(Di,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-20"}),r.jsx("p",{className:"text-muted-foreground",children:(i==null?void 0:i.text_no_vehicles)||"No vehicles registered to this citizen"})]})}),s==="properties"&&r.jsx(r.Fragment,{children:t&&t.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:t&&Array.isArray(t)&&t.map(o=>r.jsxs(Le,{className:"overflow-hidden hover:shadow-md transition-shadow",children:[r.jsxs(mt,{className:"p-4 pb-2",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsx(ze,{variant:"outline",className:"bg-primary/10 text-primary",children:o.name}),r.jsx("div",{className:"bg-primary/10 rounded-full p-2",children:r.jsx(th,{className:"h-5 w-5"})})]}),r.jsx(bx,{className:"line-clamp-1",children:o.address})]}),r.jsx(Je,{className:"p-4 pt-0",children:r.jsx("div",{className:"flex justify-between items-center",children:o.coords&&r.jsx(Ae,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>{ke("setHouseWaypoint",{coords:o.coords})},children:"Set Waypoint"})})})]},o.id))}):r.jsxs("div",{className:"text-center py-12 bg-muted/20 rounded-lg",children:[r.jsx(th,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-20"}),r.jsx("p",{className:"text-muted-foreground",children:(i==null?void 0:i.text_no_properties)||"No properties registered to this citizen"})]})}),s==="weapons"&&r.jsx(r.Fragment,{children:n&&n.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n&&Array.isArray(n)&&n.map(o=>r.jsxs(Le,{className:"overflow-hidden hover:shadow-md transition-shadow",children:[r.jsxs(mt,{className:"p-4 pb-2",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsx(ze,{variant:"outline",className:"bg-primary/10 text-primary",children:o.serialNumber}),r.jsxs("div",{className:"bg-primary/10 rounded-full p-2",children:[" ",r.jsx(xJ,{className:"h-5 w-5"})]})]}),r.jsx(kt,{className:"mt-2 text-base",children:o.weaponName})]}),r.jsx(Je,{className:"p-4 pt-0",children:r.jsx("div",{className:"grid grid-cols-1 gap-2 text-sm",children:r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Registration Date:"}),r.jsxs("span",{className:"ml-1 font-mono",children:[" ",new Date(o.registrationDate).toLocaleDateString()]})]})})})]},o.serialNumber))}):r.jsxs("div",{className:"text-center py-12 bg-muted/20 rounded-lg",children:[r.jsx(i_,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-20"}),r.jsx("p",{className:"text-muted-foreground",children:(i==null?void 0:i.text_no_weapons)||"No weapons registered to this citizen"})]})})]})]})})})},Lhe=({insurances:e})=>{const{locale:t}=ir(),n=o=>{switch(o){case"health":return r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:r.jsx("path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"})});case"vehicle":return r.jsx(Di,{className:"h-5 w-5"});case"vehicle_registration":return r.jsx(Di,{className:"h-5 w-5"});case"car":return r.jsx(Di,{className:"h-5 w-5"});case"property":return r.jsx(th,{className:"h-5 w-5"});case"house":return r.jsx(th,{className:"h-5 w-5"});case"life":return r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),r.jsx("path",{d:"M12 17h.01"})]});default:return r.jsx(vl,{className:"h-5 w-5"})}},s=o=>{const l=new Date(o);return`${l.toLocaleDateString()} ${l.toLocaleTimeString()}`},a=o=>{switch(o){case"vehicle":return(t==null?void 0:t.text_vehicle_insurance)||"Vehicle Insurance";case"vehicle_registration":return(t==null?void 0:t.text_vehicle_registration)||"Vehicle Registration";case"car":return(t==null?void 0:t.text_vehicle_insurance)||"Vehicle Insurance";case"health":return(t==null?void 0:t.text_health_insurance)||"Health Insurance";case"life":return(t==null?void 0:t.text_health_insurance)||"Health Insurance";case"property":return(t==null?void 0:t.text_home_insurance)||"Home Insurance";case"house":return(t==null?void 0:t.text_home_insurance)||"Home Insurance";default:return(t==null?void 0:t.text_insurance)||"Insurance"}},i=o=>{const l=new Date(o)<new Date,c=Math.ceil((new Date(o).getTime()-new Date().getTime())/(1e3*60*60*24));return{isExpired:l,daysUntilExpiry:c}};return r.jsx(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"flex w-full p-4",children:r.jsx("div",{className:"grid grid-cols-1 gap-6 w-[75vw]",children:r.jsx("div",{className:"col-span-1",children:r.jsxs(Le,{className:"w-full bg-transparent",children:[r.jsx(mt,{children:r.jsx(kt,{children:(t==null?void 0:t.text_insurances_issued)||"Insurances Issued"})}),r.jsx(Je,{className:"h-[50vh] overflow-y-auto p-5",children:e&&e.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e&&Array.isArray(e)&&e.map(o=>{const{isExpired:l}=i(o.expiryDate);return r.jsxs(Le,{className:"bg-card/80",children:[r.jsx(mt,{children:r.jsxs(kt,{className:"flex items-center justify-between gap-2",children:[r.jsxs("div",{className:"flex flex-row gap-3 items-center",children:[n(o.type),a(o.type)]}),r.jsx("div",{children:l?r.jsx(ze,{variant:"destructive",className:"ml-2",children:(t==null?void 0:t.text_expired)||"Expired"}):r.jsx(ze,{variant:"outline",className:"ml-2 text-green-500",children:(t==null?void 0:t.text_active)||"Active"})})]})}),r.jsxs(Je,{className:"text-sm space-y-1",children:[(o.type==="vehicle"||o.type=="vehicle_registration")&&r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:[r.jsx("span",{className:"text-muted-foreground",children:(t==null?void 0:t.text_plate)||"Plate:"})," ",o.plate]}),r.jsxs("p",{children:[r.jsx("span",{className:"text-muted-foreground",children:(t==null?void 0:t.text_model)||"Model:"})," ",o.model]})]}),o.ownerName&&r.jsxs("p",{children:[r.jsx("span",{className:"text-muted-foreground",children:(t==null?void 0:t.text_owner)||"Owner:"})," ",o.ownerName]}),r.jsxs("p",{children:[r.jsx("span",{className:"text-muted-foreground",children:(t==null?void 0:t.text_expires)||"Expires:"})," ",s(o.expiryDate)]})]})]},o.id)})}):r.jsxs("div",{className:"text-center py-12 bg-muted/20 rounded-lg",children:[r.jsx(Mc,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-20"}),r.jsx("p",{className:"text-muted-foreground",children:(t==null?void 0:t.text_no_active_insurance)||"No active insurance for this citizen"})]})})]})})})})},Rhe=({citation:e})=>{const{locale:t}=ir(),n=l=>{switch(l){case"paid":return"bg-emerald-500/10 text-emerald-600 border-emerald-500/20";case"pending":return"bg-blue-500/10 text-blue-600 border-blue-500/20";case"overdue":return"bg-red-500/10 text-red-600 border-red-500/20";case"dismissed":return"bg-gray-500/10 text-gray-600 border-gray-500/20";case"contested":return"bg-orange-500/10 text-orange-600 border-orange-500/20";default:return"bg-gray-500/10 text-gray-600 border-gray-500/20"}},s=l=>{switch(l){case"traffic":return r.jsx(Di,{className:"h-4 w-4"});case"parking":return r.jsx(qs,{className:"h-4 w-4"});case"municipal":return r.jsx(th,{className:"h-4 w-4"});case"environmental":return r.jsx(mS,{className:"h-4 w-4"});default:return r.jsx(fi,{className:"h-4 w-4"})}},a=l=>{switch(l){case"minor":return"bg-green-500/10 text-green-600";case"moderate":return"bg-yellow-500/10 text-yellow-600";case"major":return"bg-red-500/10 text-red-600";default:return"bg-gray-500/10 text-gray-600"}},i=l=>new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),o=e.status==="overdue"||e.status==="pending"&&new Date(e.dueDate)<new Date;return r.jsx(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:r.jsxs(Le,{className:`overflow-hidden border transition-all duration-300 hover:shadow-lg bg-card/50 hover:shadow-primary/5 ${o?"border-red-500":"border-border/50 "}`,children:[r.jsx(mt,{className:"pb-3",children:r.jsxs("div",{className:"flex justify-between items-start",children:[e.status&&r.jsxs("div",{className:"flex items-center gap-3",children:[e.category&&r.jsx("div",{className:`p-2 rounded-full ${n(e.status)}`,children:s(e.category)}),e.issueDate&&r.jsxs("div",{children:[r.jsxs(kt,{className:"text-base font-semibold",children:["Citation #",e.citationNumber||(e==null?void 0:e.id)]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[i(e.issueDate),"  ",e.issuingOfficer]})]})]}),r.jsxs("div",{className:"flex flex-col items-end gap-2",children:[e.status&&r.jsx(ze,{variant:"outline",className:n(e.status),children:e.status.toUpperCase()}),e.severity&&r.jsx(ze,{variant:"outline",className:a(e.severity),children:e.severity.toUpperCase()})]})]})}),r.jsxs(Je,{className:"space-y-4",children:[e.violation&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm mb-1",children:(t==null?void 0:t.violation)||"Violation"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e.violation})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[(e==null?void 0:e.fineAmount)&&r.jsxs("div",{children:[r.jsxs("h4",{className:"font-medium text-sm mb-1 flex items-center gap-1",children:[r.jsx(AS,{className:"h-3 w-3"}),(t==null?void 0:t.text_fine_amount)||"Fine Amount"]}),r.jsxs("p",{className:"text-lg font-bold text-primary",children:["$",e.fineAmount]})]}),(e==null?void 0:e.dueDate)&&r.jsxs("div",{children:[r.jsxs("h4",{className:"font-medium text-sm mb-1 flex items-center gap-1",children:[r.jsx(Ua,{className:"h-3 w-3"}),(t==null?void 0:t.text_due_date)||"Due Date"]}),r.jsxs("p",{className:`text-sm ${o?"text-red-600 font-medium":"text-muted-foreground"}`,children:[i(e.dueDate),o&&r.jsxs("span",{className:"ml-1",children:["(",(t==null?void 0:t.text_overdue)||"Overdue",")"]})]})]})]}),e.location&&r.jsxs("div",{children:[r.jsxs("h4",{className:"font-medium text-sm mb-1 flex items-center gap-1",children:[r.jsx(qs,{className:"h-3 w-3"}),(t==null?void 0:t.text_location)||"Location"]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e.location})]}),e.vehiclePlate&&r.jsxs("div",{children:[r.jsxs("h4",{className:"font-medium text-sm mb-1 flex items-center gap-1",children:[r.jsx(Di,{className:"h-3 w-3"}),(t==null?void 0:t.text_vehicle)||"Vehicle"]}),r.jsx(ze,{variant:"outline",className:"bg-blue-500/10 text-blue-600",children:e.vehiclePlate})]}),e.notes&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm mb-1",children:(t==null?void 0:t.text_notes)||"Notes"}),r.jsxs("p",{className:"text-sm text-muted-foreground italic",children:['"',e.notes,'"']})]}),e.status==="paid"&&e.paymentDate&&r.jsxs("div",{className:"bg-emerald-500/10 border border-emerald-500/20 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-emerald-600",children:[r.jsx(fc,{className:"h-4 w-4"}),r.jsxs("span",{className:"font-medium text-sm",children:[(t==null?void 0:t.text_paid_on)||"Paid on"," ",i(e.paymentDate)]})]}),e.paymentMethod&&r.jsxs("p",{className:"text-xs text-emerald-600/80 mt-1",children:[(t==null?void 0:t.text_paid_via)||"via"," ",e.paymentMethod]})]}),e.status==="dismissed"&&e.dismissalReason&&r.jsxs("div",{className:"bg-gray-500/10 border border-gray-500/20 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[r.jsx(X,{className:"h-4 w-4"}),r.jsx("span",{className:"font-medium text-sm",children:(t==null?void 0:t.text_dismissed)||"Dismissed"})]}),r.jsx("p",{className:"text-xs text-gray-600/80 mt-1",children:e.dismissalReason})]})]})]})})},Ohe=({citations:e})=>{const{locale:t}=ir();return r.jsx(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"flex w-full p-4",children:r.jsx("div",{className:"grid grid-cols-1 gap-6 w-[75vw]",children:r.jsx("div",{className:"col-span-1",children:r.jsxs(Le,{className:"w-full bg-card/60",children:[r.jsx(mt,{children:r.jsx(kt,{children:(t==null?void 0:t.text_citations_issued)||"Citations Issued"})}),r.jsx(Je,{className:"h-[50vh] overflow-y-auto p-5",children:e&&e.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:e.map(n=>r.jsx(Rhe,{citation:n},n.id))}):r.jsxs("div",{className:"text-center py-12 bg-muted/20 rounded-lg",children:[r.jsx(fi,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-20"}),r.jsx("p",{className:"text-muted-foreground",children:(t==null?void 0:t.text_no_reports_found)||"No related reports found for this case."})]})})]})})})})},Mhe=({citizen:e,activeTab:t,userPermissions:n,onClose:s,handleTabSelect:a})=>{const{toast:i}=ys(),[o,l]=m.useState(!1),[c,d]=m.useState(!1),[u,f]=m.useState(""),[v,g]=m.useState(e),[w,y]=m.useState(!1),b=v==null?void 0:v.warrants,x=v==null?void 0:v.reports,N=v==null?void 0:v.incidents,S=v==null?void 0:v.vehicles,k=v==null?void 0:v.properties,F=v==null?void 0:v.weapons,$=v==null?void 0:v.insurances,U=v==null?void 0:v.citations,{locale:D}=ir();m.useEffect(()=>{g(e)},[e]);const H=()=>{d(!0)},K=()=>{d(!1)},B=de=>{f(de.target.value)},R=()=>{if(u&&v)return ke("updateCitizenPhoto",{photo:u,citizenId:v.citizenid}).then(de=>{de!=null&&de.success&&(g(le=>({...le,photo:u})),i({title:(D==null?void 0:D.text_image_url_updated)||"Image URL updated",description:(D==null?void 0:D.text_image_url_success)||"The image URL has been successfully updated."})),f("")}).catch(de=>{console.error("Error:",de)})},Z=de=>{if(v){const le=de==="High"?1:0;return ke("updateCitizenDangerStatus",{citizenId:v.citizenid,isDangerous:le}).then(Q=>{Q!=null&&Q.success&&(g(oe=>({...oe,isDangerous:le})),i({title:(D==null?void 0:D.text_danger_status_updated)||"Danger Status Updated",description:(D==null?void 0:D.text_danger_status_set)||`The danger status has been set to ${de}.`}))}).catch(Q=>{console.error("Error updating danger status:",Q),i({title:(D==null?void 0:D.text_error)||"Error",description:(D==null?void 0:D.text_failed_to_update_danger_status)||"Failed to update danger status.",variant:"destructive"})})}},te=de=>{de&&g(le=>({...le,notes:de}))},ye=()=>ke("addCitizenNote",{notesData:v==null?void 0:v.notes,citizenid:v.citizenid}).then(de=>{de?(l(!1),i({title:(D==null?void 0:D.text_citizen_details_notes_updated)||"Notes Updates",description:(D==null?void 0:D.text_citizen_details_notes_success)||"Notes has been updated successfully"})):console.error("No response received.")}).catch(de=>{console.error("Error:",de)});return w?r.jsx(jhe,{}):r.jsxs(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"flex w-full ",children:[r.jsxs("div",{className:"w-full",children:[r.jsx(mt,{className:"flex flex-row items-center justify-between w-full",children:r.jsxs("div",{className:"flex items-center gap-4 w-full justify-between",children:[r.jsx(Ae,{variant:"outline",size:"icon",onClick:s,className:"h-10 w-10",children:r.jsx(Oi,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[v==null?void 0:v.firstname," ",v==null?void 0:v.surname,r.jsxs(ze,{variant:"outline",className:"bg-green-500/10 text-green-500",children:["#",v==null?void 0:v.citizenid]}),(v==null?void 0:v.warrant)==1&&r.jsxs(ze,{variant:"destructive",children:[r.jsx(cs,{className:"h-3 w-3 mr-1"})," ",(D==null?void 0:D.text_warrant)||"Warrant"]}),(v==null?void 0:v.isDangerous)==1&&r.jsxs(ze,{variant:"destructive",children:[r.jsx(cs,{className:"h-3 w-3 mr-1"})," ",(D==null?void 0:D.text_dangerous)||"Dangerous"]})]}),r.jsxs("p",{className:"text-muted-foreground",children:[(D==null?void 0:D.text_job)||"Job",": ",v&&v.job]})]}),r.jsx("div",{className:"ml-auto",children:r.jsx("div",{className:"flex gap-2",children:(n==null?void 0:n.edit)&&r.jsxs(r.Fragment,{children:[!o&&r.jsxs(Ae,{variant:"outline",onClick:()=>l(!0),children:[r.jsx(ks,{className:"h-4 w-4"}),(D==null?void 0:D.text_edit)||"Edit"]}),o&&r.jsxs(r.Fragment,{children:[r.jsxs(Ae,{variant:"destructive",onClick:()=>l(!1),children:[r.jsx(ks,{className:" h-4 w-4"}),(D==null?void 0:D.text_cancel)||"Cancel"]}),r.jsxs(Ae,{variant:"outline",onClick:ye,children:[r.jsx(ks,{className:" h-4 w-4"}),(D==null?void 0:D.text_save_changes)||"Save Changes"]})]})]})})})]})}),r.jsxs(ea,{value:t,onValueChange:a,className:"flex flex-col w-full bg-transparent items-center",children:[r.jsxs(ta,{className:"grid grid-cols-7 bg-transparent border-2 border-[#4d4b5966] w-[90%]",children:[r.jsx(Fr,{value:"overview",children:(D==null?void 0:D.text_overview)||"Overview"}),r.jsx(Fr,{value:"details",children:(D==null?void 0:D.text_notes)||"Notes"}),r.jsx(Fr,{value:"reports",children:(D==null?void 0:D.text_reports)||"Reports"}),r.jsx(Fr,{value:"assets",children:(D==null?void 0:D.text_assets)||"Assets"}),r.jsx(Fr,{value:"warrants",children:(D==null?void 0:D.text_warrants)||"Warrants"}),r.jsx(Fr,{value:"insurance",children:(D==null?void 0:D.text_insurance)||"Insurance"}),r.jsx(Fr,{value:"citations",children:(D==null?void 0:D.text_citation)||"Citation"})]}),r.jsx(Rr,{value:"overview",children:r.jsx("div",{className:"flex w-full justify-start items-start",children:r.jsx(Nhe,{citizen:v,userPermissions:n,handleOpenImageDialog:H,updateDangerStatus:Z})})}),r.jsx(Rr,{value:"details",children:r.jsx("div",{className:"flex w-full justify-start items-start",children:r.jsx(Ihe,{citizen:v,updateNotes:te,isEditMode:o})})}),r.jsx(Rr,{value:"reports",children:r.jsx("div",{className:"flex w-full justify-start items-start",children:r.jsx(Phe,{reports:x,incidents:N})})}),r.jsx(Rr,{value:"assets",children:r.jsx("div",{className:"flex w-full justify-start items-start",children:r.jsx(Fhe,{vehicles:S,properties:k,weapons:F})})}),r.jsx(Rr,{value:"warrants",children:r.jsx("div",{className:"flex w-full justify-start items-start",children:r.jsx(Dhe,{warrants:b})})}),r.jsx(Rr,{value:"insurance",children:r.jsx("div",{className:"flex w-full justify-start items-start",children:r.jsx(Lhe,{insurances:$})})}),r.jsx(Rr,{value:"citations",children:r.jsx("div",{className:"flex w-full justify-start items-start",children:r.jsx(Ohe,{citations:U})})})]})]}),r.jsx(gr,{open:c,onOpenChange:d,children:r.jsxs(xr,{"aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:(D==null?void 0:D.text_set_image_url)||"Set Image URL"})}),r.jsxs("div",{className:"flex flex-col items-center gap-4",children:[r.jsx("img",{src:u||(v==null?void 0:v.photo),alt:"Citizen",className:"w-64 h-64 object-cover mb-4"}),n.edit&&r.jsxs(r.Fragment,{children:[r.jsx(ht,{type:"url",placeholder:(D==null?void 0:D.text_enter_image_url)||"Enter image URL",value:u,onChange:B,className:"mb-2"}),r.jsx(Ae,{variant:"outline",onClick:R,children:(D==null?void 0:D.text_change_image)||"Change Image"})]})]}),r.jsx(un,{children:r.jsx(Ae,{onClick:K,children:(D==null?void 0:D.text_close)||"Close"})})]})})]})},Uhe=({citizen:e,onClick:t})=>{const{locale:n}=ir(),s=a=>a.split(" ").map(i=>i[0]).join("").toUpperCase();return r.jsx(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:r.jsxs(Le,{className:"h-full bg-card/50  border-primary/20 hover:border-primary/50 transition-all duration-300 overflow-hidden group",onClick:t,children:[r.jsx(mt,{className:"p-4 pb-2",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"relative w-12 h-12 rounded-full overflow-hidden bg-primary/20 holographic",children:e.photo?r.jsx("img",{src:e.photo,alt:`${e.firstname} ${e.surname}`,className:"object-cover w-full h-full"}):r.jsx(ri,{className:"w-full h-full p-2 text-primary"})}),r.jsxs("div",{children:[r.jsxs(kt,{className:"text-lg",children:[e.firstname," ",e.surname]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[(n==null?void 0:n.text_citizen_id)||"ID",": ",e.citizenid]})]})]}),r.jsxs("div",{className:"flex space-x-1",children:[e.warrant==1&&r.jsxs(ze,{variant:"destructive",children:[r.jsx(cs,{className:"h-3 w-3 mr-1"})," ",(n==null?void 0:n.text_warrant)||"Warrant"]}),e.isDangerous==1&&r.jsxs(ze,{variant:"destructive",children:[r.jsx(cs,{className:"h-3 w-3 mr-1"})," ",(n==null?void 0:n.text_dangerous)||"Dangerous"]})]})]})}),r.jsx(Je,{className:"p-4 pt-2",children:r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(sO,{className:"h-3 w-3 mr-1 text-muted-foreground"}),r.jsxs("span",{className:"text-muted-foreground mr-1",children:[(n==null?void 0:n.text_nationality)||"Nationality",":"]}),r.jsx("span",{children:e.nationality})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ua,{className:"h-3 w-3 mr-1 text-muted-foreground"}),r.jsxs("span",{className:"text-muted-foreground mr-1",children:[(n==null?void 0:n.text_dob)||"DOB",":"]}),r.jsx("span",{children:e.birthdate})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Fm,{className:"h-3 w-3 mr-1 text-muted-foreground"}),r.jsxs("span",{className:"text-muted-foreground mr-1",children:[(n==null?void 0:n.text_job)||"Job",":"]}),r.jsx("span",{children:e.job})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(wx,{className:"h-3 w-3 mr-1 text-muted-foreground"}),r.jsxs("span",{className:"text-muted-foreground mr-1",children:[(n==null?void 0:n.text_phone)||"Phone Number",":"]}),r.jsx("span",{children:e.phoneNumber})]})]})}),r.jsx(ju,{className:"p-4 pt-0 flex justify-between items-center",children:r.jsxs("div",{className:"flex gap-3 items-center",children:[r.jsxs("span",{children:[(n==null?void 0:n.text_licenses)||"Licenses",":"]}),e&&e.licenses&&e.licenses.length>0?r.jsxs("div",{className:"flex -space-x-2",children:[e&&Array.isArray(e==null?void 0:e.licenses)&&e.licenses.slice(0,3).map((a,i)=>r.jsx(hn,{className:"border-2 border-background h-8 w-8",children:r.jsx(yn,{className:`text-xs ${a.status==="rejected"?"bg-red-500/20 text-red-500":a.status==="expired"?"bg-blue-500/20 text-blue-500":"bg-green-500/20 text-green-500"}`,children:s(a.name)})},i)),e.licenses.length>3&&r.jsx(hn,{className:"border-2 border-background h-8 w-8",children:r.jsxs(yn,{className:"text-xs bg-primary/10",children:["+",e.licenses.length-3]})})]}):r.jsx("span",{className:"text-xs text-muted-foreground italic",children:(n==null?void 0:n.text_no_licenses)||"No licenses"})]})})]})})};function uH(){return r.jsxs("div",{className:"flex-1 space-y-4 w-full h-full",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(Se,{className:"w-1 h-10"}),r.jsx(Se,{className:"h-8 w-32"})]}),r.jsx("div",{className:"grid grid-cols-6 gap-4 grid-rows-1 h-full",children:r.jsxs(Le,{className:"col-span-6 row-span-1 bg-card/50  border-primary/20 max-h-[calc(95vh-200px)] overflow-hidden",children:[r.jsx(mt,{children:r.jsx(Se,{className:"h-6 w-32"})}),r.jsx(Je,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Se,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2"}),r.jsx(Se,{className:"h-10 w-full pl-10"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(e=>r.jsxs(Le,{className:"p-4 bg-background/50 hover:bg-primary/10 transition-colors",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(Se,{className:"h-12 w-12 rounded-full"}),r.jsxs("div",{className:"space-y-2 flex-1",children:[r.jsx(Se,{className:"h-4 w-3/4"}),r.jsx(Se,{className:"h-3 w-1/2"})]})]}),r.jsxs("div",{className:"mt-4 space-y-2",children:[r.jsx(Se,{className:"h-3 w-full"}),r.jsx(Se,{className:"h-3 w-2/3"})]})]},e))}),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsx(Se,{className:"h-4 w-48"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Se,{className:"h-8 w-20"}),r.jsx(Se,{className:"h-8 w-20"})]})]})]})})]})})]})}const Qhe={citizens:[{citizenid:1,firstname:"John",surname:"Doe",photo:"https://storage.googleapis.com/gd-prod/images/f4f4bc5f-904a-4b61-972f-c403bc060679.60c498c559810aa0.webp",nationality:"British",birthdate:"1990-01-01",gender:"Male",job:"Developer",phoneNumber:"1234567890",bankAccount:"1234567890",isDangerous:!1,warrant:!1,notes:[],reports:[{reportId:123,id:"RPT-123",name:"Traffic Violation",dateTime:"2024-01-15T14:30:00",location:"Main Street & 5th Avenue",description:"Speeding violation - 65mph in 45mph zone",category:"Traffic",status:"Closed",officerId:"PD-789",officerName:"Officer Johnson",peopleInvolved:[{citizenId:1,name:"John Doe",category:"Civilian"}],evidence:[{type:"Photo",url:"https://example.com/evidence1.jpg",description:"Speed radar reading"}]},{reportId:123,id:"RPT-123",name:"Traffic Violation",dateTime:"2024-01-15T14:30:00",location:"Main Street & 5th Avenue",description:"Speeding violation - 65mph in 45mph zone",category:"Traffic",status:"Closed",officerId:"PD-789",officerName:"Officer Johnson",peopleInvolved:[{citizenId:1,name:"John Doe",category:"Civilian"}],evidence:[{type:"Photo",url:"https://example.com/evidence1.jpg",description:"Speed radar reading"}]},{reportId:123,id:"RPT-123",name:"Traffic Violation",dateTime:"2024-01-15T14:30:00",location:"Main Street & 5th Avenue",description:"Speeding violation - 65mph in 45mph zone",category:"Traffic",status:"Closed",officerId:"PD-789",officerName:"Officer Johnson",peopleInvolved:[{citizenId:1,name:"John Doe",category:"Civilian"}],evidence:[{type:"Photo",url:"https://example.com/evidence1.jpg",description:"Speed radar reading"}]},{reportId:123,id:"RPT-123",name:"Traffic Violation",dateTime:"2024-01-15T14:30:00",location:"Main Street & 5th Avenue",description:"Speeding violation - 65mph in 45mph zone",category:"Traffic",status:"Closed",officerId:"PD-789",officerName:"Officer Johnson",peopleInvolved:[{citizenId:1,name:"John Doe",category:"Civilian"}],evidence:[{type:"Photo",url:"https://example.com/evidence1.jpg",description:"Speed radar reading"}]},{reportId:123,id:"RPT-123",name:"Traffic Violation",dateTime:"2024-01-15T14:30:00",location:"Main Street & 5th Avenue",description:"Speeding violation - 65mph in 45mph zone",category:"Traffic",status:"Closed",officerId:"PD-789",officerName:"Officer Johnson",peopleInvolved:[{citizenId:1,name:"John Doe",category:"Civilian"}],evidence:[{type:"Photo",url:"https://example.com/evidence1.jpg",description:"Speed radar reading"}]},{reportId:123,id:"RPT-123",name:"Traffic Violation",dateTime:"2024-01-15T14:30:00",location:"Main Street & 5th Avenue",description:"Speeding violation - 65mph in 45mph zone",category:"Traffic",status:"Closed",officerId:"PD-789",officerName:"Officer Johnson",peopleInvolved:[{citizenId:1,name:"John Doe",category:"Civilian"}],evidence:[{type:"Photo",url:"https://example.com/evidence1.jpg",description:"Speed radar reading"}]},{reportId:123,id:"RPT-123",name:"Traffic Violation",dateTime:"2024-01-15T14:30:00",location:"Main Street & 5th Avenue",description:"Speeding violation - 65mph in 45mph zone",category:"Traffic",status:"Closed",officerId:"PD-789",officerName:"Officer Johnson",peopleInvolved:[{citizenId:1,name:"John Doe",category:"Civilian"}],evidence:[{type:"Photo",url:"https://example.com/evidence1.jpg",description:"Speed radar reading"}]},{reportId:123,id:"RPT-123",name:"Traffic Violation",dateTime:"2024-01-15T14:30:00",location:"Main Street & 5th Avenue",description:"Speeding violation - 65mph in 45mph zone",category:"Traffic",status:"Closed",officerId:"PD-789",officerName:"Officer Johnson",peopleInvolved:[{citizenId:1,name:"John Doe",category:"Civilian"}],evidence:[{type:"Photo",url:"https://example.com/evidence1.jpg",description:"Speed radar reading"}]},{reportId:123,id:"RPT-123",name:"Traffic Violation",dateTime:"2024-01-15T14:30:00",location:"Main Street & 5th Avenue",description:"Speeding violation - 65mph in 45mph zone",category:"Traffic",status:"Closed",officerId:"PD-789",officerName:"Officer Johnson",peopleInvolved:[{citizenId:1,name:"John Doe",category:"Civilian"}],evidence:[{type:"Photo",url:"https://example.com/evidence1.jpg",description:"Speed radar reading"}]},{reportId:123,id:"RPT-123",name:"Traffic Violation",dateTime:"2024-01-15T14:30:00",location:"Main Street & 5th Avenue",description:"Speeding violation - 65mph in 45mph zone",category:"Traffic",status:"Closed",officerId:"PD-789",officerName:"Officer Johnson",peopleInvolved:[{citizenId:1,name:"John Doe",category:"Civilian"}],evidence:[{type:"Photo",url:"https://example.com/evidence1.jpg",description:"Speed radar reading"}]},{reportId:123,id:"RPT-123",name:"Traffic Violation",dateTime:"2024-01-15T14:30:00",location:"Main Street & 5th Avenue",description:"Speeding violation - 65mph in 45mph zone",category:"Traffic",status:"Closed",officerId:"PD-789",officerName:"Officer Johnson",peopleInvolved:[{citizenId:1,name:"John Doe",category:"Civilian"}],evidence:[{type:"Photo",url:"https://example.com/evidence1.jpg",description:"Speed radar reading"}]},{reportId:123,id:"RPT-123",name:"Traffic Violation",dateTime:"2024-01-15T14:30:00",location:"Main Street & 5th Avenue",description:"Speeding violation - 65mph in 45mph zone",category:"Traffic",status:"Closed",officerId:"PD-789",officerName:"Officer Johnson",peopleInvolved:[{citizenId:1,name:"John Doe",category:"Civilian"}],evidence:[{type:"Photo",url:"https://example.com/evidence1.jpg",description:"Speed radar reading"}]},{reportId:123,id:"RPT-123",name:"Traffic Violation",dateTime:"2024-01-15T14:30:00",location:"Main Street & 5th Avenue",description:"Speeding violation - 65mph in 45mph zone",category:"Traffic",status:"Closed",officerId:"PD-789",officerName:"Officer Johnson",peopleInvolved:[{citizenId:1,name:"John Doe",category:"Civilian"}],evidence:[{type:"Photo",url:"https://example.com/evidence1.jpg",description:"Speed radar reading"}]}],vehicles:[],warrants:[{id:"WRT-001",issueDate:"2024-01-15T10:00:00",expiryDate:"2024-02-15T10:00:00",suspectId:1,charges:["Armed Robbery","Assault with a Deadly Weapon","Grand Theft Auto"],status:"active",issuingAuthority:"Judge Smith",description:"Suspect wanted in connection with armed robbery at Central Bank. Considered armed and dangerous."},{id:"WRT-001",issueDate:"2024-01-15T10:00:00",expiryDate:"2024-02-15T10:00:00",suspectId:1,charges:["Armed Robbery","Assault with a Deadly Weapon","Grand Theft Auto"],status:"active",issuingAuthority:"Judge Smith",description:"Suspect wanted in connection with armed robbery at Central Bank. Considered armed and dangerous."},{id:"WRT-001",issueDate:"2024-01-15T10:00:00",expiryDate:"2024-02-15T10:00:00",suspectId:1,charges:["Armed Robbery","Assault with a Deadly Weapon","Grand Theft Auto"],status:"expired",issuingAuthority:"Judge Smith",description:"Suspect wanted in connection with armed robbery at Central Bank. Considered armed and dangerous."}],licenses:[{name:"Driver's License",type:"driver",status:"approved",expirationDate:"NA",note:"This is a note"},{name:"Weapons's License",type:"weapon",status:"rejected",expirationDate:"2025-01-01",note:"This is a note"}]},{citizenid:2,firstname:"Jane",surname:"Smith",photo:"https://storage.googleapis.com/gd-prod/images/f4f4bc5f-904a-4b61-972f-c403bc060679.60c498c559810aa0.webp",nationality:"American",birthdate:"1995-02-15",gender:"Female",job:"Designer",phoneNumber:"0987654321",bankAccount:"0987654321",isDangerous:!0,warrant:!0,notes:[],reports:[],vehicles:[],warrants:[]}],totalCount:2},Vh={success:!0,citizenId:1,photo:"https://storage.googleapis.com/gd-prod/images/f4f4bc5f-904a-4b61-972f-c403bc060679.60c498c559810aa0.webp",warrant:!1,isDangerous:!1,notes:[],insurances:[{type:"vehicle",plate:"ABC123",model:"Toyota Camry",expireDate:"2025-01-01",citizenid:"1",ownerName:"John Doe",stolen:0,accidentReports:null,documentsSuspended:0,cameraInstalled:0},{type:"vehicle",plate:"XYZ789",model:"Honda Civic",expireDate:"2025-01-01",citizenid:"1",ownerName:"John Doe",stolen:0,accidentReports:null,documentsSuspended:0,cameraInstalled:0},{type:"health",citizenid:"1",expireDate:"2024-06-15",ownerName:"John Doe"},{type:"property",citizenid:"1",expireDate:"2024-03-01",ownerName:"John Doe"},{type:"vehicle",plate:"DEF456",model:"Ford Focus",expireDate:"2023-01-01",citizenid:"1",ownerName:"John Doe",stolen:0,accidentReports:null,documentsSuspended:0,cameraInstalled:0}],reports:[{reportId:123,id:"RPT-123",name:"Traffic Violation",dateTime:"2024-01-15T14:30:00",location:"Main Street & 5th Avenue",description:"Speeding violation - 65mph in 45mph zone",category:"Traffic",status:"Closed",officerId:"PD-789",officerName:"Officer Johnson",peopleInvolved:[{citizenId:1,name:"John Doe",category:"Civilian"}],evidence:[{type:"Photo",url:"https://example.com/evidence1.jpg",description:"Speed radar reading"}]},{reportId:123,id:"RPT-123",name:"Traffic Violation",dateTime:"2024-01-15T14:30:00",location:"Main Street & 5th Avenue",description:"Speeding violation - 65mph in 45mph zone",category:"Traffic",status:"Closed",officerId:"PD-789",officerName:"Officer Johnson",peopleInvolved:[{citizenId:1,name:"John Doe",category:"Civilian"}],evidence:[{type:"Photo",url:"https://example.com/evidence1.jpg",description:"Speed radar reading"}]},{reportId:123,id:"RPT-123",name:"Traffic Violation",dateTime:"2024-01-15T14:30:00",location:"Main Street & 5th Avenue",description:"Speeding violation - 65mph in 45mph zone",category:"Traffic",status:"Closed",officerId:"PD-789",officerName:"Officer Johnson",peopleInvolved:[{citizenId:1,name:"John Doe",category:"Civilian"}],evidence:[{type:"Photo",url:"https://example.com/evidence1.jpg",description:"Speed radar reading"}]}],warrants:[{id:"WRT-001",issueDate:"2024-01-15T10:00:00",expiryDate:"2024-02-15T10:00:00",suspectId:1,charges:["Armed Robbery","Assault with a Deadly Weapon","Grand Theft Auto"],status:"active",issuingAuthority:"Judge Smith",description:"Suspect wanted in connection with armed robbery at Central Bank. Considered armed and dangerous."},{id:"WRT-001",issueDate:"2024-01-15T10:00:00",expiryDate:"2024-02-15T10:00:00",suspectId:1,charges:["Armed Robbery","Assault with a Deadly Weapon","Grand Theft Auto"],status:"active",issuingAuthority:"Judge Smith",description:"Suspect wanted in connection with armed robbery at Central Bank. Considered armed and dangerous."},{id:"WRT-001",issueDate:"2024-01-15T10:00:00",expiryDate:"2024-02-15T10:00:00",suspectId:1,charges:["Armed Robbery","Assault with a Deadly Weapon","Grand Theft Auto"],status:"active",issuingAuthority:"Judge Smith",description:"Suspect wanted in connection with armed robbery at Central Bank. Considered armed and dangerous."}],licenses:[{name:"Driver's License",type:"driver",status:"approved",expirationDate:"2025-01-01"},{name:"Firearms License",type:"firearms",status:"pending",expirationDate:"2025-01-01"},{name:"Weapon License",type:"weapon",status:"rejected",expirationDate:"2025-01-01"},{name:"Weapon License",type:"weapon",status:"rejected",expirationDate:"2025-01-01"},{name:"Weapon License",type:"weapon",status:"rejected",expirationDate:"2025-01-01"},{name:"Weapon License",type:"weapon",status:"rejected",expirationDate:"2025-01-01"},{name:"Weapon License",type:"weapon",status:"rejected",expirationDate:"2025-01-01"},{name:"Weapon License",type:"weapon",status:"rejected",expirationDate:"2025-01-01"},{name:"Weapon License",type:"weapon",status:"rejected",expirationDate:"2025-01-01"},{name:"Weapon License",type:"weapon",status:"rejected",expirationDate:"2025-01-01"},{name:"Weapon License",type:"weapon",status:"rejected",expirationDate:"2025-01-01"},{name:"Weapon License",type:"weapon",status:"rejected",expirationDate:"2025-01-01"},{name:"Weapon License",type:"weapon",status:"rejected",expirationDate:"2025-01-01"},{name:"Weapon License",type:"weapon",status:"rejected",expirationDate:"2025-01-01"},{name:"Weapon License",type:"weapon",status:"rejected",expirationDate:"2025-01-01"},{name:"Weapon License",type:"weapon",status:"rejected",expirationDate:"2025-01-01"},{name:"Weapon License",type:"weapon",status:"rejected",expirationDate:"2025-01-01"},{name:"Weapon License",type:"weapon",status:"rejected",expirationDate:"2025-01-01"},{name:"Weapon License",type:"weapon",status:"rejected",expirationDate:"2025-01-01"},{name:"Weapon License",type:"weapon",status:"rejected",expirationDate:"2025-01-01"},{name:"Weapon License",type:"weapon",status:"rejected",expirationDate:"2025-01-01"}],properties:[{id:1,name:"Downtown Apartment",address:"123 Main Street, Anytown, CA 12345",coords:{x:0,y:0,z:0}},{id:2,name:"Beach House",type:"residence",address:"456 Ocean Drive, Seaside, CA 12345"},{id:3,name:"Mountain Cabin",type:"residence",address:"789 Forest Road, Mountain View, CA 12345",purchaseDate:"2022-03-20",value:35e4}],citations:[{id:"CIT-001",citationNumber:"LS-2024-001234",issueDate:"2024-01-15",issuingOfficer:"Officer Johnson",officerId:"OFF-001",violation:"Speeding - 15 mph over limit",violationCode:"VC-21355",fineAmount:250,dueDate:"2024-02-15",status:"paid",location:"Main St & 5th Ave",vehiclePlate:"ABC123",notes:"Driver was cooperative",paymentDate:"2024-01-20",category:"traffic",severity:"minor",paymentMethod:"Credit Card"},{id:"CIT-002",citationNumber:"LS-2024-001567",issueDate:"2024-02-10",issuingOfficer:"Officer Smith",officerId:"OFF-002",violation:"Illegal Parking - Fire Lane",violationCode:"PC-22500",fineAmount:150,dueDate:"2024-03-10",status:"overdue",location:"City Hall Parking Lot",vehiclePlate:"XYZ789",category:"parking",severity:"moderate"},{id:"CIT-003",citationNumber:"LS-2024-002001",issueDate:"2024-03-05",issuingOfficer:"Officer Davis",officerId:"OFF-003",violation:"Running Red Light",violationCode:"VC-21453",fineAmount:450,dueDate:"2024-04-05",status:"contested",location:"Broadway & 1st St",vehiclePlate:"DEF456",notes:"Driver claims light was yellow",contestDate:"2024-03-12",category:"traffic",severity:"major",courtDate:"2024-04-20"},{id:"CIT-004",citationNumber:"LS-2024-002234",issueDate:"2024-03-20",issuingOfficer:"Officer Wilson",officerId:"OFF-004",violation:"Noise Ordinance Violation",violationCode:"MC-8.04.010",fineAmount:100,dueDate:"2024-04-20",status:"pending",location:"Residential Area - Oak Street",category:"municipal",severity:"minor",notes:"Loud music after 10 PM"}]},p2=10;function Hhe(){var ye;const{tabs:e,setTabData:t}=ko(),n=li(),{data:s}=n.state||{},[a,i]=m.useState(!1),{user:o,setUserField:l,setUser:c}=Yn(),{locale:d}=ir(),u=(ye=o==null?void 0:o.permissions)==null?void 0:ye.Pages.citizens;if(!u||!u.view)return null;const[f,v]=m.useState(""),[g,w]=m.useState(null),[y,b]=m.useState([]),[x,N]=m.useState(1),[S,k]=m.useState(f),[F,$]=m.useState(0),[U,D]=m.useState("overview"),[H,K]=m.useState(null);m.useEffect(()=>{(g==null?void 0:g.citizenid)!==H&&(D("overview"),K(g==null?void 0:g.citizenid))},[g]),m.useEffect(()=>{const de=setTimeout(()=>{k(f)},500);return()=>{clearTimeout(de)}},[f]);const B=de=>{de.key==="Enter"&&k(f)},R=(de,le)=>ke("fetchCitizens",{page:de,query:le},Qhe).then(Q=>{var ce;const oe=Q&&(Q==null?void 0:Q.citizens)&&Array.isArray(Q==null?void 0:Q.citizens)&&((ce=Q==null?void 0:Q.citizens)==null?void 0:ce.map(ee=>({...ee,licenses:Array.isArray(ee.licenses)?ee.licenses:ee.licenses?JSON.parse(ee.licenses):[]})))||[];b(oe),$(Q.totalCount||0)}).catch(Q=>{console.error("Error:",Q),b([])});m.useEffect(()=>{x!==1&&N(1)},[S]),m.useEffect(()=>{R(x,S)},[x,S]);const Z=async(de,le)=>{let Q={...de,reports:[],incidents:[],warrants:[],vehicles:[],properties:[],weapons:[],insurances:[]};try{const oe=await ke("fetchCitizenDataByCitizenId",{citizenId:le},Vh);oe.success&&(Q={...Q,notes:oe.notes||""},w(Q));const ce=await ke("fetchCitizenAssets",{citizenId:le},Vh);ce.success&&(Q={...Q,vehicles:Array.isArray(ce.vehicles)?ce.vehicles:JSON.parse(ce.vehicles||"[]"),properties:Array.isArray(ce.properties)?ce.properties:JSON.parse(ce.properties||"[]"),weapons:Array.isArray(ce.weapons)?ce.weapons:JSON.parse(ce.weapons||"[]")},w(Q));const ee=await ke("fetchCitizenReports",{citizenId:le},Vh);ee&&(Q={...Q,reports:Array.isArray(ee)?ee:[]},w(Q));const M=await ke("fetchCitizenIncidentReports",{citizenId:le},Vh);M&&(Q={...Q,incidents:Array.isArray(M)?M:[]},w(Q));const E=await ke("fetchCitizenWarrants",{citizenId:le},Vh);E&&(Q={...Q,warrants:Array.isArray(E)?E:[]},w(Q));const q=await ke("fetchCitizenInsurances",{citizenId:le},Vh);q.success&&(Q={...Q,insurances:Array.isArray(q.insurances)?q.insurances:JSON.parse(q.insurances||"[]")},w(Q));const se=await ke("fetchCitizenCitations",{citizenId:le},Vh);se.success&&(Q={...Q,citations:Array.isArray(se.citations)?se.citations:JSON.parse(se.citations||"[]")},w(Q)),t(Q,Q.firstname+" "+Q.surname)}catch(oe){console.error("Error:",oe),w(null)}};m.useEffect(()=>{if(s){i(!0),w(Array.isArray(s)||typeof s=="object"?s:JSON.parse(s||"[]"));const de=setTimeout(()=>{i(!1)},1e3);return()=>clearTimeout(de)}},[s]);const te=Math.ceil(F/p2);return r.jsxs("div",{className:"flex-1 space-y-4 w-full h-full",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("hr",{className:"w-1 h-10 bg-primary border-none rounded-full"}),r.jsx("h2",{className:"text-3xl font-bold",children:(d==null?void 0:d.text_citizen_search)||"Citizen Search"})]}),a?r.jsx(uH,{}):r.jsx("div",{className:"grid grid-cols-6 gap-4 grid-rows-1 h-full",children:r.jsx(Le,{className:"col-span-6 row-span-1 bg-card/50  border-primary/20 max-h-[calc(95vh-200px)] overflow-hidden",children:r.jsx(Gn,{mode:"wait",children:g?r.jsx(Xt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"flex w-full ",children:g&&r.jsx(Mhe,{citizen:g,activeTab:U,userPermissions:u,onClose:()=>{w(null),R(x,S)},handleTabSelect:D})},"list-view"):r.jsxs(Xt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:[r.jsx(mt,{children:r.jsx(kt,{children:(d==null?void 0:d.text_citizen_database)||"Citizen Database"})}),r.jsx(Je,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(ls,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),r.jsx(ht,{placeholder:(d==null?void 0:d.text_search_citizens)||"Search citizens...",className:"pl-10 bg-background/50 border-primary/20 focus:border-primary",value:f,onChange:de=>v(de.target.value),onKeyDown:B})]}),r.jsx(nr,{className:"h-[calc(85vh-300px)]",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-4",children:r.jsx(Gn,{children:y&&Array.isArray(y)&&(y||[]).map(de=>r.jsx(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:r.jsx(Uhe,{citizen:de,onClick:()=>{Z(de,de.citizenid)}})},de.citizenid))})})}),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsxs("div",{children:[(d==null?void 0:d.text_showing)||"Showing"," ",(x-1)*p2+1," ",(d==null?void 0:d.text_to)||"to"," ",Math.min(x*p2,F)," ",(d==null?void 0:d.text_of)||"of"," ",F," ",(d==null?void 0:d.text_citizens)||"citizens"]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>N(de=>Math.max(1,de-1)),disabled:x===1,children:(d==null?void 0:d.text_previous)||"Previous"}),r.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>N(de=>Math.min(te,de+1)),disabled:x==te||te==0,children:(d==null?void 0:d.text_next)||"Next"})]})]})]})})]},"list-view")})})})]})}const zhe=({code:e,onClick:t})=>{var s;const{locale:n}=ir();return r.jsx(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:r.jsxs(Le,{className:"h-full bg-card/50  border-primary/20 hover:border-primary/50 transition-all duration-300 overflow-hidden group   ",onClick:t,children:[r.jsxs(mt,{className:"p-4 pb-2",children:[r.jsx("div",{className:"flex justify-between items-start",children:r.jsx(ze,{variant:"outline",className:"bg-blue-500/10 text-blue-500",children:((s=e==null?void 0:e.category)==null?void 0:s.toUpperCase())||(n==null?void 0:n.text_category)||"CATEGORY"})}),r.jsx(kt,{className:"text-lg mt-2 line-clamp-1",children:(e==null?void 0:e.title)||(n==null?void 0:n.text_title)||"Title"})]}),r.jsx(Je,{className:"p-4 pt-0",children:r.jsxs("div",{className:"flex items-center text-sm text-muted-foreground mb-2",children:[r.jsx(gS,{className:"h-3.5 w-3.5 mr-1"}),r.jsx("span",{className:"line-clamp-1",children:(e==null?void 0:e.description)||(n==null?void 0:n.text_description)||"Description"})]})}),r.jsx(ju,{className:"p-4 pb-2",children:r.jsxs("div",{className:"flex justify-between w-full items-start",children:[r.jsxs(ze,{variant:"secondary",children:[(n==null?void 0:n.text_months)||"Months",": ",e==null?void 0:e.sentence]}),r.jsxs(ze,{variant:"secondary",children:[(n==null?void 0:n.text_fine)||"Fine",": ",e==null?void 0:e.fine]})]})})]})})},Vhe=({code:e,userPermissions:t,criminalCodeCategory:n,user:s,onClose:a})=>{ys();const{locale:i}=ir(),[o,l]=m.useState(!1),[c,d]=m.useState(e),[u,f]=m.useState(e);m.useEffect(()=>{f(e)},[e]);const v=w=>ke("deleteCriminalCode",{id:w}).then(y=>{y?(l(!1),a==null||a()):console.error("No response received.")}).catch(y=>{console.error("Error:",y)}),g=()=>{var w,y;if(u){let b="";c&&(c.title!==u.title&&(b+=`Title changed from "${c.title}" to "${u.title}". `),c.description!==u.description&&(b+=`Description changed from "${c.description}" to "${u.description}". `),c.fine!==u.fine&&(b+=`Fine changed from $${c.fine.toLocaleString()} to $${u.fine.toLocaleString()}. `),c.sentence!==u.sentence&&(b+=`Sentence changed from ${c.sentence} months to ${u.sentence} months. `),((w=c.additonalPenalties)==null?void 0:w.toString())!==((y=u.additonalPenalties)==null?void 0:y.toString())&&(b+="Additional penalties updated. "),c.category!==u.category&&(b+=`Category changed from "${c.category}" to "${u.category}". `)),b||(b="No changes made.");const x={...u,changeHistory:[...u.changeHistory||[],{description:b,date:new Date().toISOString()}]};return ke("updateCriminalCode",{code:x}).then(N=>{N?(f(x),l(!1)):console.error("No response received.")}).catch(N=>{console.error("Error:",N)})}};return r.jsx(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"flex w-full ",children:r.jsxs("div",{className:"w-full",children:[r.jsx(mt,{className:"flex flex-row items-center justify-between w-full",children:r.jsxs("div",{className:"flex items-center gap-4 w-full justify-between",children:[r.jsx(Ae,{variant:"outline",size:"icon",onClick:a,className:"h-10 w-10",children:r.jsx(Oi,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[(u==null?void 0:u.title)||(i==null?void 0:i.text_title)||"Title",r.jsx(ze,{variant:"outline",className:"bg-green-500/10 text-green-500",children:u==null?void 0:u.id})]}),r.jsx("p",{className:"text-muted-foreground",children:u&&(u==null?void 0:u.category)||(i==null?void 0:i.text_category)||"Category"})]}),r.jsx("div",{className:"ml-auto",children:r.jsx("div",{className:"flex gap-2",children:(t==null?void 0:t.edit)&&r.jsxs(r.Fragment,{children:[!o&&r.jsxs(r.Fragment,{children:[r.jsxs(Ae,{variant:"outline",onClick:()=>l(!0),children:[r.jsx(ks,{className:"h-4 w-4"}),(i==null?void 0:i.text_edit)||"Edit"]}),(s==null?void 0:s.hasManagePermission)&&r.jsxs(Ae,{variant:"outline",onClick:()=>v(u==null?void 0:u.id),children:[r.jsx(ms,{className:"h-4 w-4"}),(i==null?void 0:i.text_delete)||"Delete"]})]}),o&&r.jsxs(r.Fragment,{children:[r.jsxs(Ae,{variant:"destructive",onClick:()=>l(!1),children:[r.jsx(ks,{className:" h-4 w-4"}),(i==null?void 0:i.text_cancel)||"Cancel"]}),r.jsxs(Ae,{variant:"outline",onClick:g,children:[r.jsx(ks,{className:" h-4 w-4"}),(i==null?void 0:i.text_save_changes)||"Save Changes"]})]})]})})})]})}),r.jsx(Je,{children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"col-span-1",children:[r.jsxs("div",{className:"flex flex-row items-center space-y-4 w-[35vw] gap-5 justify-start",children:[r.jsxs("div",{className:"relative group cursor-pointer",children:[r.jsxs(hn,{className:"w-36 h-36",children:[r.jsx(Ch,{src:u==null?void 0:u.title}),r.jsx(yn,{children:r.jsx(b3,{className:"w-36 h-36 p-6 text-primary"})})]}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200 bg-black bg-opacity-50 rounded-full",children:r.jsx(ja,{className:"h-8 w-8 text-white"})})]}),r.jsxs("div",{className:"text-start",children:[r.jsx("h3",{className:"text-xl font-bold",children:u==null?void 0:u.id}),o?r.jsx(ht,{value:u==null?void 0:u.title,onChange:w=>f(y=>y&&{...y,title:w.target.value}),className:"w-full"}):r.jsx("p",{className:"text-muted-foreground",children:(u==null?void 0:u.title)||(i==null?void 0:i.text_title)||"Title"}),o?r.jsxs(On,{value:u==null?void 0:u.category,onValueChange:w=>f(y=>y&&{...y,category:w}),children:[r.jsx(Dn,{children:r.jsx(Mn,{placeholder:(i==null?void 0:i.text_select_category)||"Select Category"})}),r.jsx(Fn,{children:n&&Array.isArray(n)&&(n||[]).map(w=>r.jsx(Yt,{value:w,children:w},w))})]}):r.jsxs("p",{className:"text-muted-foreground",children:[(i==null?void 0:i.text_category)||"Category",": ",u==null?void 0:u.category]})]})]}),r.jsxs("div",{className:"mt-4 space-y-4",children:[r.jsx("div",{className:"flex flex-row justify-between",children:r.jsx("h4",{className:"font-semibold",children:(i==null?void 0:i.text_criminal_code_details)||"Criminal Code Details"})}),r.jsxs(Le,{className:"p-4 bg-primary/20",children:[r.jsxs(kt,{className:"flex items-center mb-2 text-base",children:[r.jsx(b3,{className:"mr-2 h-5 w-5 text-primary"}),(i==null?void 0:i.text_code_information)||"Code Information"]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("p",{className:"text-sm font-semibold",children:[(i==null?void 0:i.text_fine_amount)||"Fine Amount",":"]}),o?r.jsx(ht,{type:"number",min:"0",value:u==null?void 0:u.fine,onChange:w=>f(y=>y&&{...y,fine:parseInt(w.target.value,10)}),className:"w-full"}):r.jsxs("p",{className:"text-sm",children:["$",u==null?void 0:u.fine]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("p",{className:"text-sm font-semibold",children:[(i==null?void 0:i.text_sentence_duration)||"Sentence Duration",":"]}),o?r.jsx(ht,{type:"number",min:"0",value:u==null?void 0:u.sentence,onChange:w=>f(y=>y&&{...y,sentence:parseInt(w.target.value,10)}),className:"w-full"}):r.jsxs("p",{className:"text-sm",children:[u==null?void 0:u.sentence," ",(i==null?void 0:i.text_months)||"months"]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsxs("p",{className:"text-sm font-semibold mb-2",children:[(i==null?void 0:i.text_description)||"Description",":"]}),o?r.jsx(ht,{value:u==null?void 0:u.description,onChange:w=>f(y=>y&&{...y,description:w.target.value}),className:"w-full"}):r.jsx("p",{className:"text-sm text-muted-foreground",children:u==null?void 0:u.description})]})]})]})]})]}),r.jsx("div",{className:"col-span-1",children:r.jsxs("div",{className:"h-[calc(90vh-300px)] overflow-hidden gap-5",children:[r.jsxs(Le,{className:"p-4 bg-primary/10",children:[r.jsx("h4",{className:"font-semibold mb-2",children:(i==null?void 0:i.text_change_history)||"Change History"}),r.jsx(nr,{className:"h-[calc(45vh-200px)]",children:r.jsx("div",{className:"space-y-2",children:u&&(u==null?void 0:u.changeHistory)&&Array.isArray(u==null?void 0:u.changeHistory)&&u.changeHistory.map((w,y)=>r.jsx(Le,{className:"p-4 bg-background/50",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("p",{className:"text-sm",children:w.description}),r.jsx("p",{className:"text-xs text-muted-foreground",children:$n(w.date)})]})},y))})})]}),r.jsxs(Le,{className:"p-4 bg-transparent mt-5",children:[r.jsxs("div",{className:"flex flex-row justify-between w-full",children:[r.jsx("h4",{className:"font-semibold",children:(i==null?void 0:i.text_additional_penalties)||"Additional Penalties"}),(t==null?void 0:t.edit)&&o&&r.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>{const w=[...(u==null?void 0:u.additonalPenalties)||[],""];f(y=>y&&{...y,additonalPenalties:w})},children:(i==null?void 0:i.text_add_new_penalty)||"Add New Penalty"})]}),r.jsx(nr,{className:"h-[calc(40vh-200px)] mt-2",children:u&&(u!=null&&u.additonalPenalties)&&u.additonalPenalties.length>0&&Array.isArray(u==null?void 0:u.additonalPenalties)?r.jsx("div",{className:"space-y-2",children:u.additonalPenalties.map((w,y)=>r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(ht,{value:w,onChange:b=>{const x=[...(u==null?void 0:u.additonalPenalties)||[]];x[y]=b.target.value,f(N=>N&&{...N,additonalPenalties:x})},placeholder:`${(i==null?void 0:i.text_penalty)||"Penalty"} ${y+1}`}),(t==null?void 0:t.edit)&&o&&r.jsx(Ae,{variant:"ghost",size:"sm",onClick:()=>{var x;const b=(x=u==null?void 0:u.additonalPenalties)==null?void 0:x.filter((N,S)=>S!==y);f(N=>N&&{...N,additonalPenalties:b})},children:r.jsx(ms,{className:"h-4 w-4"})})]},y))}):r.jsx("p",{className:"text-sm text-muted-foreground",children:(i==null?void 0:i.text_no_additional_penalties)||"No additional penalties"})})]})]})})]})})]})})};function Khe(){return r.jsxs("div",{className:"flex-1 space-y-4 w-full h-full",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(Se,{className:"w-1 h-10"}),r.jsx(Se,{className:"h-8 w-32"})]}),r.jsx("div",{className:"grid grid-cols-6 gap-4 grid-rows-1 h-full",children:r.jsxs(Le,{className:"col-span-6 row-span-1 bg-card/50  border-primary/20 max-h-[calc(95vh-200px)] overflow-hidden",children:[r.jsxs(mt,{className:"flex flex-row items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Se,{className:"h-5 w-5"}),r.jsx(Se,{className:"h-6 w-32"})]}),r.jsx(Se,{className:"h-9 w-28"})]}),r.jsx(Je,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Se,{className:"h-5 w-5"}),r.jsx(Se,{className:"h-10 w-full"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[1,2,3,4,5,6,7,8].map(e=>r.jsx(Le,{className:"p-4 bg-background/50 hover:bg-primary/10 transition-colors",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Se,{className:"h-5 w-24"}),r.jsx(Se,{className:"h-4 w-16"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Se,{className:"h-4 w-full"}),r.jsx(Se,{className:"h-4 w-3/4"})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx(Se,{className:"h-6 w-20"}),r.jsx(Se,{className:"h-6 w-20"})]})]})},e))}),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsx(Se,{className:"h-4 w-48"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Se,{className:"h-8 w-20"}),r.jsx(Se,{className:"h-8 w-20"})]})]})]})})]})})]})}const Whe={criminalCodesData:[{id:"1",title:"Assault",category:"Violent Crime",description:"Intentionally causing physical harm to another person",fine:5e3,sentence:10},{id:"2",title:"Burglary",category:"Property Crime",description:"Unlawful entry into a building with intent to commit a crime",fine:3e3,sentence:8},{id:"3",title:"Drug Possession",category:"Drug Offense",description:"Possession of illegal controlled substances",fine:2e3,sentence:5},{id:"4",title:"Reckless Driving",category:"Traffic Violation",description:"Operating a vehicle with willful disregard for safety",fine:1500,sentence:2},{id:"5",title:"Public Intoxication",category:"Public Order",description:"Being under the influence of alcohol/drugs in public",fine:500,sentence:1}],category:["Violent Crime","Property Crime","Drug Offense","Traffic Violation","Public Order"]},$he={id:"5",title:"Public Intoxication",category:"Public Order",description:"Being under the influence of alcohol/drugs in public",fine:500,sentence:1,changeHistory:[{description:"Criminal Code created",date:"2025-02-08T06:25:59.297Z"},{description:"Fine amount increased from $400 to $500",date:"2025-02-09T08:30:00.000Z"},{description:"Description updated to clarify public spaces",date:"2025-02-10T14:15:00.000Z"},{description:"Added new penalty guidelines",date:"2025-02-12T11:20:00.000Z"},{description:"Sentence duration adjusted",date:"2025-02-15T09:45:00.000Z"},{description:"Category classification updated",date:"2025-02-18T16:30:00.000Z"},{description:"Implementation guidelines revised",date:"2025-02-20T13:10:00.000Z"},{description:"Added enforcement procedures",date:"2025-02-22T10:05:00.000Z"},{description:"Updated jurisdictional scope",date:"2025-02-25T15:40:00.000Z"},{description:"Modified penalty structure",date:"2025-02-28T12:20:00.000Z"}],additonalPenalties:["Mandatory Alcohol Education Program","Community Service (40 hours)","Substance Abuse Evaluation","Temporary Ban from Public Events","Probation Period (3 months)","Regular Check-ins with Law Enforcement","Attendance at Support Group Meetings","Written Public Apology","Rehabilitation Program Participation","Restricted Access to Licensed Premises"]},g2=10;function Ghe(){var de;const[e,t]=m.useState(!1),{tabs:n,setTabData:s}=ko(),a=li(),{data:i}=a.state||{},{user:o,setUserField:l,setUser:c}=Yn(),{locale:d}=ir(),u=(de=o==null?void 0:o.permissions)==null?void 0:de.Pages.criminalcode;if(!u||!u.view)return null;const[f,v]=m.useState(""),[g,w]=m.useState(null),[y,b]=m.useState([]),[x,N]=m.useState(1),[S,k]=m.useState(f),[F,$]=m.useState({id:"",title:"",category:"",description:"",fine:0,sentence:0}),[U,D]=m.useState([]),[H,K]=m.useState(0);m.useEffect(()=>{const le=setTimeout(()=>{k(f)},500);return()=>{clearTimeout(le)}},[f]),m.useEffect(()=>{ye(x,S)},[x,S]);const B=Math.ceil(H/g2),R=()=>{const le={...F,changeHistory:[{description:"Criminal Code created",date:new Date().toISOString()}]};return ke("addCriminalCode",{codeToAdd:le}).then(Q=>{Q?(b([le,...y]),$({id:"",title:"",description:"",category:"",fine:0,sentence:0})):console.error("No response received.")}).catch(Q=>{console.error("Error:",Q)})},Z=(le,Q)=>ke("fetchCriminalCodeById",{id:Q},$he).then(oe=>{if(oe){const ce={...le,additonalPenalties:Array.isArray(oe.additonalPenalties)?oe.additonalPenalties:JSON.parse(oe.additonalPenalties||"[]"),changeHistory:Array.isArray(oe.changeHistory)?oe.changeHistory:JSON.parse(oe.changeHistory||"[]")};w(ce),s(ce,Q)}else console.error("No response received."),w([])}).catch(oe=>{console.error("Error:",oe),w([])});m.useEffect(()=>{if(i){t(!0),w(Array.isArray(i)||typeof i=="object"?i:JSON.parse(i||"[]"));const le=setTimeout(()=>{t(!1)},1e3);return()=>clearTimeout(le)}},[i]);const te=le=>{le.key==="Enter"&&k(f)};m.useEffect(()=>{x!==1&&N(1)},[S]);const ye=(le,Q)=>ke("fetchCriminalCodes",{page:le,query:Q},Whe).then(oe=>{b(oe.criminalCodesData),K(oe.totalCount),D(oe.category)}).catch(oe=>{console.error("Error:",oe),b([])});return r.jsx("div",{className:"flex-1 space-y-4 w-full h-full",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("hr",{className:"w-1 h-10 bg-primary border-none rounded-full"}),r.jsx("h2",{className:"text-3xl font-bold",children:(d==null?void 0:d.text_criminal_codes)||"Criminal Codes"})]}),e?r.jsx(Khe,{}):r.jsx("div",{className:"grid grid-cols-6 gap-4 grid-rows-1 h-full",children:r.jsx(Le,{className:"col-span-6 row-span-1 bg-card/50  border-primary/20 max-h-[calc(95vh-200px)] overflow-hidden",children:r.jsx(Gn,{mode:"wait",children:g?r.jsx(Xt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"flex w-full ",children:r.jsx(Vhe,{code:g,userPermissions:u,user:o,criminalCodeCategory:U,onClose:()=>{w(null),ye(x,S)}})},"list-view"):r.jsxs(Xt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:[r.jsxs(mt,{className:"flex flex-row items-center justify-between",children:[r.jsxs(kt,{className:"flex items-center",children:[r.jsx(Mc,{className:"mr-2 h-5 w-5 text-primary"}),(d==null?void 0:d.text_criminal_code_database)||"Criminal Code Database"]}),r.jsxs(gr,{children:[u.edit&&(o==null?void 0:o.hasManagePermission)&&r.jsx(to,{asChild:!0,children:r.jsxs(Ae,{size:"sm",variant:"outline",children:[r.jsx(Xr,{className:"mr-2 h-4 w-4"}),(d==null?void 0:d.text_new_code)||"New Code"]})}),r.jsxs(xr,{className:"sm:max-w-[425px]","aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:(d==null?void 0:d.text_create_new_code)||"Create New Code"})}),r.jsxs("div",{className:"grid gap-4 py-4",children:[r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Me,{htmlFor:"article",className:"text-right",children:(d==null?void 0:d.text_article)||"Article"}),r.jsx(ht,{id:"article",value:F.id,onChange:le=>$({...F,id:le.target.value}),className:"col-span-3"})]}),r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Me,{htmlFor:"title",className:"text-right",children:(d==null?void 0:d.text_title)||"Title"}),r.jsx(ht,{id:"title",value:F.title,onChange:le=>$({...F,title:le.target.value}),className:"col-span-3"})]}),r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Me,{htmlFor:"category",className:"text-right",children:(d==null?void 0:d.text_category)||"Category"}),r.jsxs(On,{value:F.category,onValueChange:le=>$({...F,category:le}),children:[r.jsx(Dn,{className:"col-span-3",children:r.jsx(Mn,{placeholder:(d==null?void 0:d.text_select_category)||"Select Category"})}),r.jsx(Fn,{children:U&&Array.isArray(U)&&(U||[]).map(le=>r.jsx(Yt,{value:le,children:le},le))})]})]}),r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Me,{htmlFor:"description",className:"text-right",children:(d==null?void 0:d.text_description)||"Description"}),r.jsx(ht,{id:"description",value:F.description,onChange:le=>$({...F,description:le.target.value}),className:"col-span-3"})]}),r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Me,{htmlFor:"fine",className:"text-right",children:(d==null?void 0:d.text_fine)||"Fine"}),r.jsx(ht,{id:"fine",value:F.fine,onChange:le=>$({...F,fine:Number(le.target.value)}),className:"col-span-3"})]}),r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Me,{htmlFor:"sentence",className:"text-right",children:(d==null?void 0:d.text_sentence)||"Sentence"}),r.jsx(ht,{id:"sentence",value:F.sentence,onChange:le=>$({...F,sentence:Number(le.target.value)}),className:"col-span-3"})]})]}),r.jsx(un,{children:r.jsx(Ae,{onClick:R,disabled:!(F!=null&&F.id.trim())||!(F!=null&&F.title.trim())||!F.category.trim(),children:(d==null?void 0:d.text_create_code)||"Create Code"})})]})]})]}),r.jsxs(Je,{children:[r.jsxs("div",{className:"relative mb-2",children:[r.jsx(ls,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),r.jsx(ht,{placeholder:(d==null?void 0:d.text_search_criminal_codes)||"Search criminal codes...",className:"pl-10 bg-background/50 border-primary/20 focus:border-primary",value:f,onChange:le=>v(le.target.value),onKeyDown:te})]}),r.jsx(nr,{className:"h-[calc(85vh-300px)]",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:r.jsx(Gn,{children:y&&Array.isArray(y)&&(y||[]).map(le=>r.jsx(Xt.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"cursor-pointer hover:bg-primary/10",children:r.jsx(zhe,{code:le,onClick:()=>{Z(le,le.id)}})},le.id))})})}),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsxs("div",{children:[(d==null?void 0:d.text_showing)||"Showing"," ",(x-1)*g2+1," to ",Math.min(x*g2,H)," of ",H," ",(d==null?void 0:d.text_criminal_codes)||"Criminal codes"]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>N(le=>Math.max(1,le-1)),disabled:x===1,children:(d==null?void 0:d.text_previous)||"Previous"}),r.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>N(le=>Math.min(B,le+1)),disabled:x==B||B==0,children:(d==null?void 0:d.text_next)||"Next"})]})]})]})]},"list-view")})})})]})})}const $_=[{id:"1",plate:"ABC123",model:"Vapid Dominator",color:"Red",owner:"Jason Week",status:"stolen",lastSeen:"2024-01-12T18:30:00Z",sightings:[{location:"Downtown",timestamp:"2024-01-12T18:00:00Z",impound:{reason:"",fine:0,dateOfSeize:""}},{location:"Uptown",timestamp:"2024-01-11T15:30:00Z",impound:{reason:"",fine:0,dateOfSeize:""}},{location:"Downtown",timestamp:"2024-01-12T18:00:00Z",impound:{reason:"",fine:0,dateOfSeize:""}},{location:"Uptown",timestamp:"2024-01-11T15:30:00Z",impound:{reason:"",fine:0,dateOfSeize:""}},{location:"Downtown",timestamp:"2024-01-12T18:00:00Z",impound:{reason:"",fine:0,dateOfSeize:""}},{location:"Uptown",timestamp:"2024-01-11T15:30:00Z",impound:{reason:"",fine:0,dateOfSeize:""}}],reports:[{reportId:"RPT-2024-001",reportName:"Traffic Violation",dateTime:"2024-01-15T09:30:00Z",location:"Main Street & 5th Avenue",description:"Vehicle ran red light and exceeded speed limit",peopleInvolved:JSON.stringify([{name:"John Doe",category:"Criminal"},{name:"Officer Smith",category:"Police"}])},{reportId:"RPT-2024-002",reportName:"Parking Violation",dateTime:"2024-01-14T14:20:00Z",location:"Downtown Parking Structure",description:"Vehicle parked in handicap spot without permit",peopleInvolved:JSON.stringify([{name:"John Doe",category:"Criminal"},{name:"Officer Johnson",category:"Police"}])},{reportId:"RPT-2024-003",reportName:"Vehicle Inspection",dateTime:"2024-01-13T11:15:00Z",location:"Police Station",description:"Routine vehicle inspection - illegal modifications found",peopleInvolved:JSON.stringify([{name:"John Doe",category:"Criminal"},{name:"Officer Wilson",category:"Police"},{name:"Tech Spencer",category:"Mechanic"}])}]},{id:"2",plate:"XYZ789",model:"bermacht Sentinel",color:"Black",owner:"Sarah Johnson",status:"wanted",lastSeen:"2024-01-11T22:15:00Z",sightings:[{location:"Central Park",timestamp:"2024-01-11T21:00:00Z",impound:{reason:"",fine:0,dateOfSeize:""}},{location:"5th Avenue",timestamp:"2024-01-10T19:45:00Z",impound:{reason:"",fine:0,dateOfSeize:""}}],reports:[{reportId:"RPT-2024-001",reportName:"Traffic Violation",dateTime:"2024-01-15T09:30:00Z",location:"Main Street & 5th Avenue",description:"Vehicle ran red light and exceeded speed limit",peopleInvolved:JSON.stringify([{name:"John Doe",category:"Criminal"},{name:"Officer Smith",category:"Police"}])},{reportId:"RPT-2024-002",reportName:"Parking Violation",dateTime:"2024-01-14T14:20:00Z",location:"Downtown Parking Structure",description:"Vehicle parked in handicap spot without permit",peopleInvolved:JSON.stringify([{name:"John Doe",category:"Criminal"},{name:"Officer Johnson",category:"Police"}])},{reportId:"RPT-2024-003",reportName:"Vehicle Inspection",dateTime:"2024-01-13T11:15:00Z",location:"Police Station",description:"Routine vehicle inspection - illegal modifications found",peopleInvolved:JSON.stringify([{name:"John Doe",category:"Criminal"},{name:"Officer Wilson",category:"Police"},{name:"Tech Spencer",category:"Mechanic"}])}]},{id:"3",plate:"LMN456",model:"Declasse Granger",color:"Blue",owner:"Michael Smith",status:"clear",lastSeen:"2024-01-10T10:30:00Z",sightings:[{location:"East Side",timestamp:"2024-01-10T09:00:00Z",impound:{reason:"",fine:0,dateOfSeize:""}}],reports:[{reportId:"RPT-2024-001",reportName:"Traffic Violation",dateTime:"2024-01-15T09:30:00Z",location:"Main Street & 5th Avenue",description:"Vehicle ran red light and exceeded speed limit",peopleInvolved:JSON.stringify([{name:"John Doe",category:"Criminal"},{name:"Officer Smith",category:"Police"}])},{reportId:"RPT-2024-002",reportName:"Parking Violation",dateTime:"2024-01-14T14:20:00Z",location:"Downtown Parking Structure",description:"Vehicle parked in handicap spot without permit",peopleInvolved:JSON.stringify([{name:"John Doe",category:"Criminal"},{name:"Officer Johnson",category:"Police"}])},{reportId:"RPT-2024-003",reportName:"Vehicle Inspection",dateTime:"2024-01-13T11:15:00Z",location:"Police Station",description:"Routine vehicle inspection - illegal modifications found",peopleInvolved:JSON.stringify([{name:"John Doe",category:"Criminal"},{name:"Officer Wilson",category:"Police"},{name:"Tech Spencer",category:"Mechanic"}])}]},{id:"4",plate:"JKL012",model:"Bravado Bison",color:"White",owner:"Emily Davis",status:"stolen",lastSeen:"2024-01-09T14:00:00Z",sightings:[{location:"West End",timestamp:"2024-01-09T13:00:00Z",impound:{reason:"",fine:0,dateOfSeize:""}},{location:"South Park",timestamp:"2024-01-08T16:30:00Z",impound:{reason:"",fine:0,dateOfSeize:""}}],reports:[{reportId:"RPT-2024-001",reportName:"Traffic Violation",dateTime:"2024-01-15T09:30:00Z",location:"Main Street & 5th Avenue",description:"Vehicle ran red light and exceeded speed limit",peopleInvolved:JSON.stringify([{name:"John Doe",category:"Criminal"},{name:"Officer Smith",category:"Police"}])},{reportId:"RPT-2024-002",reportName:"Parking Violation",dateTime:"2024-01-14T14:20:00Z",location:"Downtown Parking Structure",description:"Vehicle parked in handicap spot without permit",peopleInvolved:JSON.stringify([{name:"John Doe",category:"Criminal"},{name:"Officer Johnson",category:"Police"}])},{reportId:"RPT-2024-003",reportName:"Vehicle Inspection",dateTime:"2024-01-13T11:15:00Z",location:"Police Station",description:"Routine vehicle inspection - illegal modifications found",peopleInvolved:JSON.stringify([{name:"John Doe",category:"Criminal"},{name:"Officer Wilson",category:"Police"},{name:"Tech Spencer",category:"Mechanic"}])}]},{id:"5",plate:"QRS345",model:"Karin Sultan",color:"Green",owner:"David Brown",status:"clear",lastSeen:"2024-01-08T12:00:00Z",sightings:[{location:"North District",timestamp:"2024-01-08T11:00:00Z",impound:{reason:"",fine:0,dateOfSeize:""}}],reports:[{reportId:"RPT-2024-001",reportName:"Traffic Violation",dateTime:"2024-01-15T09:30:00Z",location:"Main Street & 5th Avenue",description:"Vehicle ran red light and exceeded speed limit",peopleInvolved:JSON.stringify([{name:"John Doe",category:"Criminal"},{name:"Officer Smith",category:"Police"}])},{reportId:"RPT-2024-002",reportName:"Parking Violation",dateTime:"2024-01-14T14:20:00Z",location:"Downtown Parking Structure",description:"Vehicle parked in handicap spot without permit",peopleInvolved:JSON.stringify([{name:"John Doe",category:"Criminal"},{name:"Officer Johnson",category:"Police"}])},{reportId:"RPT-2024-003",reportName:"Vehicle Inspection",dateTime:"2024-01-13T11:15:00Z",location:"Police Station",description:"Routine vehicle inspection - illegal modifications found",peopleInvolved:JSON.stringify([{name:"John Doe",category:"Criminal"},{name:"Officer Wilson",category:"Police"},{name:"Tech Spencer",category:"Mechanic"}])}]}];new Date().toISOString(),new Date().toISOString();const AH=m.createContext(void 0),qhe=({children:e})=>{const[t,n]=m.useState(null);return m.useEffect(()=>{(async()=>{try{const a=await ke("getTabletData",{},{TabletTheme:!1,CollaborationEditing:!0,useWebsockets:!0,webSocketURL:"https://theology-leaf-state-ohio.trycloudflare.com",hasCustomEvidence:!1,vehicleStrikePoints:10});n(a||{TabletTheme:!1,CollaborationEditing:!1,useWebsockets:!1,webSocketURL:"https://theology-leaf-state-ohio.trycloudflare.com",hasCustomEvidence:!1,vehicleStrikePoints:10})}catch(a){console.error("Failed to load tablet data:",a)}})()},[]),r.jsx(AH.Provider,{value:{tabletData:t,setTabletData:n},children:e})},jf=()=>{const e=m.useContext(AH);if(e===void 0)throw new Error("useTabletData must be used within a TabletProvider");return e},Jhe=({vehicle:e,user:t,userPermissions:n,onClose:s})=>{var vt,wt,Fe,Oe,_e,nt,ut,jt,zt;const{toast:a}=ys(),{locale:i}=ir(),{tabletData:o}=jf(),[l,c]=m.useState(!1),[d,u]=m.useState(!1),[f,v]=m.useState(""),[g,w]=m.useState(e),[y,b]=m.useState(!1),[x,N]=m.useState({location:"",timestamp:new Date().toISOString().slice(0,16),impound:{reason:"",fine:0,dateOfSeize:new Date().toISOString().slice(0,10),dateOfUnseize:new Date().toISOString().slice(0,10)}}),[S,k]=m.useState(null),[F,$]=m.useState(!1),[U,D]=m.useState(!1),[H,K]=m.useState(!1),[B,R]=m.useState({reason:"",points:1,location:"",expiryDate:new Date(Date.now()+30*24*60*60*1e3).toISOString().slice(0,10)}),[Z,te]=m.useState(null),[ye,de]=m.useState(!1),[le,Q]=m.useState(null),[oe,ce]=m.useState(""),[ee,M]=m.useState("dismiss");m.useEffect(()=>{w(e)},[e]);const E=()=>{u(!0)},q=()=>{u(!1)},se=Be=>{switch(Be){case"critical":return"destructive";case"high":return"destructive";case"medium":return"default";case"low":return"secondary";default:return"secondary"}},re=Be=>{switch(Be){case"critical":return r.jsx(cs,{className:"h-4 w-4"});case"high":return r.jsx(xl,{className:"h-4 w-4"});case"medium":return r.jsx(a_,{className:"h-4 w-4"});case"low":return r.jsx(jd,{className:"h-4 w-4"});default:return r.jsx(vl,{className:"h-4 w-4"})}},G=Be=>{if(!Be||Be.length===0)return"";const Ye=Be.sort((Ue,Lt)=>new Date(Lt.timestamp).getTime()-new Date(Ue.timestamp).getTime())[0];return $n(Ye.timestamp)},ue=Be=>{v(Be.target.value)},ie=()=>{const Be=g==null?void 0:g.plate;if(!Be){console.error("Plate not found.");return}const Ye=g==null?void 0:g.status;return ke("updateVehicleStatus",{plate:Be,status:Ye}).then(Ue=>{if(Ue){const Lt={...g,status:Ye};w(Lt),a({title:(i==null?void 0:i.text_vehicle_updated)||"Vehicle Updated",description:(i==null?void 0:i.text_vehicle_status_updated)||"The vehicle status has been successfully updated."}),c(!1)}else console.error("No response received.")}).catch(Ue=>{console.error("Error:",Ue)})},Ee=Be=>{w({...g,status:Be})},He=()=>{if(f&&g)return ke("updateVehiclePhoto",{photo:f,plate:g==null?void 0:g.plate}).then(Be=>{if(Be.success){const Ye={...g,photo:f};w(Ye),a({title:(i==null?void 0:i.text_image_url_updated)||"Image URL updated",description:(i==null?void 0:i.text_image_url_success)||"The image URL has been successfully updated."})}v("")}).catch(Be=>{console.error("Error:",Be)})},rt=()=>{if(Z&&B.reason&&B.location){const Be={id:`S${Date.now()}`,date:new Date().toISOString(),reason:B.reason,points:B.points,issuingOfficer:t==null?void 0:t.name,location:B.location,status:"active",expiryDate:new Date(B.expiryDate).toISOString()};return ke("addVehicleStrike",{plate:Z.plate,strike:Be}).then(Ye=>{if(Ye){const Ue=[...Z.strikes||[],Be],Lt=Ue.reduce((ur,Cr)=>ur+Cr.points,0);let Et="low";Lt>=10?Et="critical":Lt>=6?Et="high":Lt>=3&&(Et="medium");const hr={...Z,strikes:Ue,totalStrikes:Lt,strikeLevel:Et};w(hr),te(null),R({reason:"",points:1,location:"",expiryDate:new Date(Date.now()+30*24*60*60*1e3).toISOString().slice(0,10)}),K(!1),a({title:(i==null?void 0:i.text_strike_added)||"Strike Added",description:(i==null?void 0:i.text_strike_success)||"The strike has been successfully added."})}else console.error("No response received.")}).catch(Ye=>{console.error("Error:",Ye)})}},we=()=>{if(g&&le){const Be={...le,status:ee==="expire"?"expired":"dismissed",dismissalReason:oe,dismissalDate:new Date().toISOString(),dismissedBy:t==null?void 0:t.name};return ke("updateVehicleStrike",{plate:g.plate,strikeId:le.id,updatedStrike:Be}).then(Ye=>{var Ue;if(Ye){const Lt=((Ue=g.strikes)==null?void 0:Ue.map(Tr=>Tr.id===le.id?Be:Tr))||[],hr=Lt.filter(Tr=>Tr.status==="active").reduce((Tr,fr)=>Tr+fr.points,0);let ur="low";hr>=10?ur="critical":hr>=6?ur="high":hr>=3&&(ur="medium");const Cr={...g,strikes:Lt,totalStrikes:hr,strikeLevel:ur};w(Cr),Q(null),ce(""),M("dismiss"),de(!1),a({title:(i==null?void 0:i.text_strike_removed)||"Strike Removed",description:(i==null?void 0:i.text_strike_removal_success)||"The strike has been successfully removed."})}else console.error("No response received.")}).catch(Ye=>{console.error("Error:",Ye)})}},Ve=(Be,Ye)=>ke("fetchReportDataByReportId",{reportId:Ye}).then(Ue=>{if(Ue&&Ue.success){Ue=Ue.data;const Lt={reportName:Be.reportName,reportId:Ye,dateTime:Be.dateTime,officerId:(Ue==null?void 0:Ue.officerId)||"",location:(Ue==null?void 0:Ue.location)||null,description:(Ue==null?void 0:Ue.description)||"",evidences:Array.isArray(Ue.evidences)?Ue.evidences:JSON.parse(Ue.evidences||"[]"),peopleInvolved:Array.isArray(Ue.peopleInvolved)?Ue.peopleInvolved:JSON.parse(Ue.peopleInvolved||"[]"),vehiclesInvolved:Array.isArray(Ue.vehiclesInvolved)?Ue.vehiclesInvolved:JSON.parse(Ue.vehiclesInvolved||"[]"),category:(Ue==null?void 0:Ue.category)||"default category"};k(Lt),$(!0)}else console.error("No response received."),k(null)}).catch(Ue=>{console.error("Error fetching report data:",Ue),k(null)}),Re=Be=>Be.split(" ").map(Ye=>Ye[0]).join("").toUpperCase(),je=()=>{if(g&&x.location&&x.timestamp){const Be={location:x.location,timestamp:x.timestamp,...U&&x.impound.reason&&{impound:x.impound}},Ye={...g,sightings:[...g.sightings||[],Be]},Ue={plate:Ye.plate,sightings:Ye.sightings};return ke("addVehicleReportSightings",Ue).then(Lt=>{Lt?(w(Ye),N({location:"",timestamp:new Date().toISOString().slice(0,16),impound:{reason:"",fine:0,dateOfSeize:new Date().toISOString().slice(0,10),dateOfUnseize:new Date().toISOString().slice(0,10)}}),b(!1),a({title:(i==null?void 0:i.text_sighting_added)||"Sighting Added",description:(i==null?void 0:i.text_sighting_success)||"The sighting has been successfully added."})):console.error("No response received.")}).catch(Lt=>{console.error("Error:",Lt)})}else console.error("Missing data: vehicle, location, or timestamp.")},Mt=Be=>{switch(Be){case"wanted":return"bg-red-500/10 text-red-500 border-red-500/20";case"bolo":return"bg-red-500/10 text-red-500 border-red-500/20";case"stolen":return"bg-orange-500/10 text-orange-500 border-orange-500/20";default:return"bg-green-500/10 text-green-500 border-green-500/20"}},Bt=Be=>{const Ye=(o==null?void 0:o.vehicleStrikePoints)||10;return Be<1?1:Be>Ye?Ye:Math.round(Be)},ct=Be=>{const Ye=Be.target.value;if(!/^\d*$/.test(Ye))return;const Ue=Ye===""?1:Bt(parseInt(Ye));R(Lt=>({...Lt,points:Ue}))};return r.jsxs(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"flex w-full max-w-full mx-auto bg-transparent",children:[r.jsxs(Le,{className:"w-full shadow-lg border-0",children:[r.jsx(mt,{className:"border-b ",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Ae,{variant:"outline",size:"icon",onClick:s,className:"h-10 w-10 hover:bg-primary/10",children:r.jsx(Oi,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("h2",{className:"text-2xl font-bold text-foreground",children:(g==null?void 0:g.model)||(i==null?void 0:i.text_vehicle_model)||"Vehicle Model"}),r.jsxs(ze,{variant:"outline",className:"bg-primary/10 text-primary border-primary/20",children:["#",(g==null?void 0:g.plate)||(i==null?void 0:i.text_vehicle_plate)||"Plate"]}),r.jsx(ze,{variant:"outline",className:Mt(g==null?void 0:g.status),children:(i==null?void 0:i[`text_${(vt=g==null?void 0:g.status)==null?void 0:vt.toLowerCase()}`])||((wt=g==null?void 0:g.status)==null?void 0:wt.toUpperCase())})]}),r.jsxs("p",{className:"text-muted-foreground font-medium",children:[(i==null?void 0:i.text_vehicle_owner)||"Owner",": ",(g==null?void 0:g.owner)||"Unknown"]})]})]}),(n==null?void 0:n.edit)&&r.jsx("div",{className:"flex gap-2",children:l?r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Ae,{variant:"outline",onClick:()=>c(!1),children:[r.jsx(mc,{className:"h-4 w-4 mr-2"}),(i==null?void 0:i.text_cancel)||"Cancel"]}),r.jsxs(Ae,{onClick:ie,className:"bg-primary hover:bg-primary/90",children:[r.jsx(jd,{className:"h-4 w-4 mr-2"}),(i==null?void 0:i.text_save_changes)||"Save Changes"]})]}):r.jsxs(Ae,{variant:"outline",onClick:()=>c(!0),className:"hover:bg-primary/10",children:[r.jsx(ks,{className:"h-4 w-4 mr-2"}),(i==null?void 0:i.text_edit)||"Edit"]})})]})}),r.jsx(Je,{className:"p-6",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[r.jsx(Le,{className:"p-6 ",children:r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsxs("div",{className:"relative group cursor-pointer",onClick:E,children:[r.jsxs(hn,{className:"w-32 h-32 border-4 border-primary/20 shadow-lg",children:[r.jsx(Ch,{src:(g==null?void 0:g.photo)||"/placeholder.svg",className:"object-cover"}),r.jsx(yn,{className:"bg-gradient-to-br from-primary/20 to-primary/10",children:r.jsx(Di,{className:"w-16 h-16 text-primary"})})]}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-200  rounded-full",children:r.jsx(ja,{className:"h-8 w-8 text-white"})})]}),r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx("h3",{className:"text-xl font-bold",children:(g==null?void 0:g.model)||"Unknown Model"}),r.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Plate:"})," ",(g==null?void 0:g.plate)||"N/A"]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Owner:"})," ",(g==null?void 0:g.owner)||"N/A"]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Last Seen:"})," ",G(g==null?void 0:g.sightings)||"N/A"]})]})]})]})}),l&&r.jsxs(Le,{className:"p-4",children:[r.jsx(Me,{className:"text-sm font-medium mb-2 block",children:"Update Status"}),r.jsxs(On,{value:g==null?void 0:g.status,onValueChange:Ee,children:[r.jsx(Dn,{children:r.jsx(Mn,{placeholder:(i==null?void 0:i.text_select_status)||"Select status"})}),r.jsxs(Fn,{children:[r.jsx(Yt,{value:"stolen",children:(i==null?void 0:i.text_stolen)||"Stolen"}),r.jsx(Yt,{value:"clear",children:(i==null?void 0:i.text_clear)||"Clear"}),r.jsx(Yt,{value:"bolo",children:(i==null?void 0:i.text_bolo)||"BOLO"})]})]})]}),r.jsx(Le,{className:`p-4 border-l-4 ${(g==null?void 0:g.status)==="stolen"||(g==null?void 0:g.status)==="bolo"?"border-l-red-500 bg-red-500/5":"border-l-green-500 bg-green-500/5"}`,children:r.jsxs("div",{className:"flex items-start gap-3",children:[(g==null?void 0:g.status)==="stolen"||(g==null?void 0:g.status)==="bolo"?r.jsx(cs,{className:"h-5 w-5 text-red-500 mt-0.5"}):r.jsx(vl,{className:"h-5 w-5 text-green-500 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-1",children:(i==null?void 0:i.text_vehicle_status)||"Vehicle Status"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:(g==null?void 0:g.status)==="stolen"?(i==null?void 0:i.text_vehicle_stolen_message)||"This vehicle has been reported as stolen. Alert dispatch if located.":(g==null?void 0:g.status)==="bolo"?(i==null?void 0:i.text_vehicle_wanted_message)||"This vehicle is wanted. Alert dispatch if located.":(i==null?void 0:i.text_vehicle_no_alerts)||"This vehicle has no active alerts or flags."})]})]})})]}),r.jsx("div",{className:"lg:col-span-2",children:r.jsxs(ea,{defaultValue:"activity",className:"w-full",children:[r.jsxs(ta,{className:"grid w-full grid-cols-3 mb-6",children:[r.jsxs(Fr,{value:"activity",className:"flex items-center gap-2",children:[r.jsx(qs,{className:"h-4 w-4"}),"Activity"]}),r.jsxs(Fr,{value:"reports",className:"flex items-center gap-2",children:[r.jsx(fi,{className:"h-4 w-4"}),"Reports"]}),r.jsxs(Fr,{value:"strikes",className:"flex items-center gap-2",children:[r.jsx(C3,{className:"h-4 w-4"}),"Strikes"]})]}),r.jsxs(Rr,{value:"activity",className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h4",{className:"text-lg font-semibold",children:(i==null?void 0:i.text_recent_activity)||"Recent Activity"}),n.edit&&r.jsxs(Ae,{onClick:()=>b(!0),className:"bg-primary hover:bg-primary/90",children:[r.jsx(Xr,{className:"h-4 w-4 mr-2"}),(i==null?void 0:i.text_add_sighting)||"Add Sighting"]})]}),r.jsx(nr,{className:"h-[500px]",children:r.jsx("div",{className:"grid gap-4",children:g!=null&&g.sightings&&g.sightings.length>0?g.sightings.map((Be,Ye)=>r.jsxs(Le,{className:"p-4 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qs,{className:"h-4 w-4 text-primary"}),r.jsx("span",{className:"font-medium",children:Be.location})]}),r.jsx(ze,{variant:"outline",className:"text-xs",children:$n(Be.timestamp)})]}),Be.impound&&r.jsxs("div",{className:"mt-3 p-3 bg-orange-500/10 border border-orange-500/20 rounded-md",children:[r.jsxs("h5",{className:"font-medium text-orange-700 mb-2 flex items-center gap-2",children:[r.jsx(cs,{className:"h-4 w-4"}),(i==null?void 0:i.text_impound_details)||"Impound Details"]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[(i==null?void 0:i.text_impound_reason)||"Reason",":"]})," ",Be.impound.reason]}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[(i==null?void 0:i.text_impound_fine)||"Fine",":"]})," $",Be.impound.fine.toFixed(2)]}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[(i==null?void 0:i.text_date_of_seize)||"Seized",":"]})," ",new Date(Be.impound.dateOfSeize).toLocaleDateString()]}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[(i==null?void 0:i.text_date_of_unseize)||"Release",":"]})," ",new Date(Be.impound.dateOfUnseize).toLocaleDateString()]})]})]})]},Ye)):r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-muted-foreground",children:[r.jsx(qs,{className:"h-12 w-12 mb-4 opacity-50"}),r.jsx("p",{children:(i==null?void 0:i.text_no_recent_activity)||"No recent activity recorded"})]})})})]}),r.jsxs(Rr,{value:"reports",className:"space-y-4",children:[r.jsx("h4",{className:"text-lg font-semibold",children:(i==null?void 0:i.text_associated_reports)||"Associated Reports"}),r.jsx(nr,{className:"h-[500px]",children:r.jsx("div",{className:"grid gap-4",children:g!=null&&g.reports&&g.reports.length>0?g.reports.map(Be=>r.jsx(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.2},children:r.jsxs(Le,{className:"p-4 hover:shadow-md transition-all cursor-pointer hover:bg-muted/20",onClick:()=>Ve(Be,Be.reportId),children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsx(ze,{variant:"outline",className:"bg-blue-500/10 text-blue-500",children:Be.reportId}),r.jsxs(ze,{variant:"outline",className:"text-xs",children:[r.jsx(Ua,{className:"h-3 w-3 mr-1"}),new Date(Be.dateTime).toLocaleDateString()]})]}),r.jsx("h5",{className:"font-semibold mb-2",children:Be.reportName}),r.jsxs("div",{className:"flex items-center text-sm text-muted-foreground mb-3",children:[r.jsx(qs,{className:"h-3.5 w-3.5 mr-1"}),r.jsx("span",{children:Be.location})]}),r.jsxs("div",{className:"flex -space-x-2",children:[(Be==null?void 0:Be.peopleInvolved)&&JSON.parse(Be.peopleInvolved).slice(0,3).map((Ye,Ue)=>r.jsx(hn,{className:"border-2 border-background h-8 w-8",children:r.jsx(yn,{className:`text-xs ${Ye.category==="Criminal"?"bg-red-500/20 text-red-500":Ye.category==="Medic"?"bg-blue-500/20 text-blue-500":"bg-green-500/20 text-green-500"}`,children:Re(Ye.name)})},Ue)),(Be==null?void 0:Be.peopleInvolved)&&JSON.parse(Be.peopleInvolved).length>3&&r.jsx(hn,{className:"border-2 border-background h-8 w-8",children:r.jsxs(yn,{className:"text-xs bg-primary/10",children:["+",JSON.parse(Be.peopleInvolved).length-3]})})]})]})},Be.reportId)):r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-muted-foreground",children:[r.jsx(fi,{className:"h-12 w-12 mb-4 opacity-50"}),r.jsx("p",{children:(i==null?void 0:i.text_no_recent_activity)||"No reports associated with this vehicle"})]})})})]}),r.jsxs(Rr,{value:"strikes",className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h4",{className:"text-lg font-semibold flex items-center gap-2",children:[r.jsx(C3,{className:"h-5 w-5 text-primary"}),(i==null?void 0:i.text_strike_system)||"Strike System"]}),r.jsxs(Ae,{onClick:()=>{te(g),K(!0)},className:"bg-primary hover:bg-primary/90",children:[r.jsx(Xr,{className:"h-4 w-4 mr-2"}),(i==null?void 0:i.text_add_strike)||"Add Strike"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(Le,{className:"p-4 bg-gradient-to-br from-primary/5 to-primary/10",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:(i==null?void 0:i.text_total_points)||"Total Points"}),r.jsx("p",{className:"text-3xl font-bold text-primary",children:((Fe=g.strikes)==null?void 0:Fe.filter(Be=>Be.status=="active").reduce((Be,Ye)=>Be+Ye.points,0))||0})]}),r.jsx($q,{className:"h-8 w-8 text-primary"})]})}),r.jsx(Le,{className:"p-4 bg-gradient-to-br from-muted/5 to-muted/10",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:(i==null?void 0:i.text_risk_level)||"Risk Level"}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs(ze,{variant:se(((Oe=g.strikes)==null?void 0:Oe.filter(Be=>Be.status=="active").reduce((Be,Ye)=>Be+Ye.points,0))||0),className:"text-sm",children:[re(((_e=g.strikes)==null?void 0:_e.filter(Be=>Be.status=="active").reduce((Be,Ye)=>Be+Ye.points,0))||0),r.jsx("span",{className:"ml-1 capitalize",children:((nt=g.strikes)==null?void 0:nt.filter(Be=>Be.status=="active").reduce((Be,Ye)=>Be+Ye.points,0))>=10?"Critical":((ut=g.strikes)==null?void 0:ut.filter(Be=>Be.status=="active").reduce((Be,Ye)=>Be+Ye.points,0))>=6?"High":((jt=g.strikes)==null?void 0:jt.filter(Be=>Be.status==="active").reduce((Be,Ye)=>Be+Ye.points,0))>=3?"Medium":"Low"})]})})]}),r.jsx(a_,{className:"h-8 w-8 text-muted-foreground"})]})}),r.jsx(Le,{className:"p-4 bg-gradient-to-br from-green-500/5 to-green-500/10",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:(i==null?void 0:i.text_active_strikes)||"Active Strikes"}),r.jsx("p",{className:"text-3xl font-bold text-green-600",children:((zt=g.strikes)==null?void 0:zt.filter(Be=>Be.status==="active").length)||0})]}),r.jsx(xl,{className:"h-8 w-8 text-green-600"})]})})]}),r.jsxs("div",{children:[r.jsxs("h5",{className:"font-medium mb-4 flex items-center gap-2",children:[r.jsx(HJ,{className:"h-4 w-4"}),(i==null?void 0:i.text_strike_history)||"Strike History"]}),r.jsx(nr,{className:"h-[400px]",children:r.jsx("div",{className:"space-y-3",children:g.strikes&&g.strikes.length>0?g.strikes.sort((Be,Ye)=>new Date(Ye.date).getTime()-new Date(Be.date).getTime()).map(Be=>r.jsx(Le,{className:`p-4 transition-all ${Be.status==="active"?"border-l-4 border-l-primary bg-primary/5":"bg-muted/20 opacity-75"}`,children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(ze,{variant:Be.status==="active"?"default":"secondary",className:"text-xs",children:Be.status.toUpperCase()}),r.jsxs("span",{className:"text-xs text-muted-foreground font-medium",children:[Be.points," point",Be.points!==1?"s":""]})]}),r.jsx("p",{className:"font-medium mb-2",children:Be.reason}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Ua,{className:"h-3 w-3"}),$n(Be.date)]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(qs,{className:"h-3 w-3"}),Be.location]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ri,{className:"h-3 w-3"}),Be.issuingOfficer]})]}),Be.expiryDate&&r.jsxs("div",{className:"flex items-center gap-1 mt-2 text-xs text-muted-foreground",children:[r.jsx(Mi,{className:"h-3 w-3"}),"Expires: ",$n(Be.expiryDate)]})]}),Be.status==="active"&&r.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>{Q(Be),de(!0)},className:"ml-2",children:r.jsx(mc,{className:"h-3 w-3"})})]})},Be.id)):r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-muted-foreground",children:[r.jsx(jd,{className:"h-12 w-12 mb-4 opacity-50"}),r.jsx("p",{children:(i==null?void 0:i.text_no_strikes_recorded)||"No strikes recorded for this vehicle"})]})})})]})]})]})})]})})]}),r.jsx(gr,{open:H,onOpenChange:K,children:r.jsxs(xr,{className:"max-w-md",children:[r.jsx(vr,{children:r.jsx(yr,{children:(i==null?void 0:i.text_add_strike_to_vehicle)||"Add Strike to Vehicle"})}),r.jsxs("div",{className:"grid gap-4 py-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"strike-reason",children:(i==null?void 0:i.text_reason)||"Reason"}),r.jsx(ht,{id:"strike-reason",placeholder:(i==null?void 0:i.text_enter_violation_reason)||"Enter violation reason",value:B.reason,onChange:Be=>R({...B,reason:Be.target.value})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Me,{htmlFor:"strike-points",children:["Points (1-",(o==null?void 0:o.vehicleStrikePoints)||10,")"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ht,{id:"strike-points",type:"number",min:1,max:(o==null?void 0:o.vehicleStrikePoints)||10,value:B.points,onChange:ct,className:"w-24"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"h-2 flex-1 bg-muted rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-primary transition-all duration-200",style:{width:`${B.points/(o==null?void 0:o.vehicleStrikePoints)*100}%`}})}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[B.points,"/",o==null?void 0:o.vehicleStrikePoints]})]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:(i==null?void 0:i.text_point_determine)||"Points determine the severity of the strike. Higher points mean higher risk level."})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"strike-location",children:(i==null?void 0:i.text_location)||"Location"}),r.jsx(ht,{id:"strike-location",placeholder:"Enter location",value:B.location,onChange:Be=>R({...B,location:Be.target.value})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"strike-expiry",children:(i==null?void 0:i.text_expiry_date)||"Expiry Date"}),r.jsx(ht,{id:"strike-expiry",type:"date",value:B.expiryDate,min:new Date().toISOString().slice(0,10),onChange:Be=>R({...B,expiryDate:Be.target.value})}),r.jsx("p",{className:"text-xs text-muted-foreground",children:(i==null?void 0:i.text_default_expiry)||"Default expiry is set to 30 days from now. You can modify this date."})]})]}),r.jsxs(un,{children:[r.jsx(Ae,{variant:"outline",onClick:()=>K(!1),children:(i==null?void 0:i.text_cancel)||"Cancel"}),r.jsx(Ae,{onClick:rt,disabled:!B.reason||!B.location||B.points<1,children:(i==null?void 0:i.text_add_strike)||"Add Strike"})]})]})}),r.jsx(gr,{open:ye,onOpenChange:de,children:r.jsxs(xr,{className:"max-w-md",children:[r.jsx(vr,{children:r.jsx(yr,{children:(i==null?void 0:i.text_remove_strike)||"Remove Strike"})}),r.jsxs("div",{className:"grid gap-4 py-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{children:(i==null?void 0:i.text_removal_type)||"Removal Type"}),r.jsxs(On,{value:ee,onValueChange:Be=>M(Be),children:[r.jsx(Dn,{children:r.jsx(Mn,{})}),r.jsxs(Fn,{children:[r.jsx(Yt,{value:"dismiss",children:(i==null?void 0:i.text_dismiss_strike)||"Dismiss Strike"}),r.jsx(Yt,{value:"expire",children:(i==null?void 0:i.text_mark_as_expired)||"Mark as Expired"}),r.jsx(Yt,{value:"appeal",children:(i==null?void 0:i.text_appeal_successful)||"Appeal Successful"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"removal-reason",children:(i==null?void 0:i.text_reason_for_removal)||"Reason for Removal"}),r.jsx(ht,{id:"removal-reason",placeholder:(i==null?void 0:i.text_enter_reason_for_removal)||"Enter reason for removing this strike",value:oe,onChange:Be=>ce(Be.target.value)})]}),le&&r.jsxs("div",{className:"p-3 bg-background/50 rounded-md",children:[r.jsx("p",{className:"font-medium text-sm",children:le.reason}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[le.points," ",(i==null?void 0:i.text_point)||"point",le.points!==1?"s":""]})]})]}),r.jsxs(un,{children:[r.jsx(Ae,{variant:"outline",onClick:()=>de(!1),children:(i==null?void 0:i.text_cancel)||"Cancel"}),r.jsx(Ae,{onClick:we,disabled:!oe.trim(),children:(i==null?void 0:i.text_remove_strike)||"Remove Strike"})]})]})}),r.jsx(gr,{open:d,onOpenChange:u,children:r.jsxs(xr,{children:[r.jsx(vr,{children:r.jsx(yr,{children:(i==null?void 0:i.text_set_image_url)||"Set Image URL"})}),r.jsxs("div",{className:"flex flex-col items-center gap-4",children:[r.jsx("img",{src:f||(g==null?void 0:g.photo),alt:"Vehicle",className:"w-64 h-64 object-cover rounded-lg border"}),n.edit&&r.jsxs("div",{className:"w-full space-y-3",children:[r.jsx(ht,{type:"url",placeholder:(i==null?void 0:i.text_enter_image_url)||"Enter image URL",value:f,onChange:ue}),r.jsx(Ae,{onClick:He,className:"w-full",children:(i==null?void 0:i.text_change_image)||"Change Image"})]})]}),r.jsx(un,{children:r.jsx(Ae,{variant:"outline",onClick:q,children:(i==null?void 0:i.text_close)||"Close"})})]})}),r.jsx(gr,{open:y,onOpenChange:b,children:r.jsxs(xr,{children:[r.jsx(vr,{children:r.jsx(yr,{children:(i==null?void 0:i.text_add_new_sighting)||"Add New Sighting"})}),r.jsxs("div",{className:"grid gap-4 py-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"location",children:(i==null?void 0:i.text_location)||"Location"}),r.jsx(ht,{id:"location",value:x.location,onChange:Be=>N({...x,location:Be.target.value}),placeholder:"Enter location"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"timestamp",children:(i==null?void 0:i.text_timestamp)||"Timestamp"}),r.jsx(ht,{id:"timestamp",type:"datetime-local",value:x.timestamp,onChange:Be=>N({...x,timestamp:Be.target.value})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{children:(i==null?void 0:i.text_include_impound_info)||"Include Impound Information"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Ae,{variant:U?"default":"outline",onClick:()=>D(!0),size:"sm",children:(i==null?void 0:i.text_yes)||"Yes"}),r.jsx(Ae,{variant:U?"outline":"default",onClick:()=>D(!1),size:"sm",children:(i==null?void 0:i.text_no)||"No"})]})]}),U&&r.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/20",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"reason",children:(i==null?void 0:i.text_impound_reason)||"Impound Reason"}),r.jsx(ht,{id:"reason",value:x.impound.reason,onChange:Be=>N({...x,impound:{...x.impound,reason:Be.target.value||""}}),placeholder:"Enter impound reason"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"impound-fine",children:(i==null?void 0:i.text_impound_fine)||"Impound Fine"}),r.jsx(ht,{id:"impound-fine",type:"number",value:x.impound.fine,onChange:Be=>N({...x,impound:{...x.impound,fine:Be.target.value?Number.parseFloat(Be.target.value):0}}),placeholder:"0.00"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"impound-date",children:(i==null?void 0:i.text_date_of_seize)||"Date Of Seize"}),r.jsx(ht,{id:"impound-date",type:"date",value:x.impound.dateOfSeize,onChange:Be=>N({...x,impound:{...x.impound,dateOfSeize:Be.target.value||""}})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"unseize-date",children:(i==null?void 0:i.text_date_of_unseize)||"Date Of Unseize"}),r.jsx(ht,{id:"unseize-date",type:"date",value:x.impound.dateOfUnseize,onChange:Be=>N({...x,impound:{...x.impound,dateOfUnseize:Be.target.value||""}})})]})]})]})]}),n.edit&&r.jsxs(un,{children:[r.jsx(Ae,{variant:"outline",onClick:()=>b(!1),children:(i==null?void 0:i.text_cancel)||"Cancel"}),r.jsx(Ae,{onClick:je,children:(i==null?void 0:i.text_add_sighting)||"Add Sighting"})]})]})}),r.jsx(gr,{open:F,onOpenChange:$,children:r.jsxs(xr,{className:"max-w-4xl max-h-[80vh]",children:[r.jsx(vr,{children:r.jsx(yr,{children:(i==null?void 0:i.text_report_details)||"Report Details"})}),S&&r.jsx(nr,{className:"max-h-[60vh]",children:r.jsxs("div",{className:"space-y-6 p-1",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{children:(i==null?void 0:i.text_report_name)||"Report Name"}),r.jsx(ht,{value:S==null?void 0:S.reportName,disabled:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{children:(i==null?void 0:i.text_report_id)||"Report ID"}),r.jsx(ht,{value:S==null?void 0:S.reportId,disabled:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{children:(i==null?void 0:i.text_date)||"Date"}),r.jsx(ht,{value:$n(S==null?void 0:S.dateTime),disabled:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{children:(i==null?void 0:i.text_location)||"Location"}),r.jsx(ht,{value:S==null?void 0:S.location,disabled:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{children:(i==null?void 0:i.text_description)||"Description"}),r.jsx("div",{className:"min-h-[200px] p-4 border rounded-lg bg-muted/20",children:r.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:(S==null?void 0:S.description)||""}})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{children:(i==null?void 0:i.text_involved_people)||"Involved People"}),r.jsx("div",{className:"space-y-2",children:S&&Array.isArray(S==null?void 0:S.peopleInvolved)&&S.peopleInvolved.map((Be,Ye)=>r.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted/20 rounded",children:[r.jsx("span",{className:"font-medium",children:Be.name}),r.jsx(ze,{variant:"outline",children:Be.category})]},Ye))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{children:(i==null?void 0:i.text_involved_vehicles)||"Involved Vehicles"}),r.jsx("div",{className:"space-y-2",children:S&&Array.isArray(S==null?void 0:S.vehiclesInvolved)&&S.vehiclesInvolved.map((Be,Ye)=>r.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted/20 rounded",children:[r.jsx("span",{className:"font-medium",children:Be.plate}),r.jsx("span",{className:"text-muted-foreground",children:"-"}),r.jsx("span",{children:Be.model})]},Ye))})]})]})]})}),r.jsx(un,{children:r.jsx(Ae,{variant:"outline",onClick:()=>$(!1),children:(i==null?void 0:i.text_close)||"Close"})})]})})]})},Yhe=({vehicle:e,onClick:t})=>{var i,o,l,c;const{locale:n}=ir(),s=d=>{switch(d){case"wanted":return"bg-red-500/10 text-red-500";case"bolo":return"bg-red-500/10 text-red-500";case"stolen":return"bg-yellow-500/10 text-yellow-500";default:return"bg-blue-500/10 text-blue-500"}},a=d=>{if(!d||d.length===0)return"";const u=d.sort((f,v)=>new Date(v.timestamp).getTime()-new Date(f.timestamp).getTime())[0];return $n(u.timestamp)};return r.jsx(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:r.jsxs(Le,{className:"h-full bg-card/50  border-primary/20 hover:border-primary/50 transition-all duration-300 overflow-hidden group",onClick:t,children:[r.jsxs(mt,{className:"p-4 pb-2",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsx(ze,{variant:"outline",className:"bg-blue-500/10 text-blue-500",children:(i=e==null?void 0:e.plate)==null?void 0:i.toUpperCase()}),r.jsx(ze,{variant:"outline",className:`${s(e==null?void 0:e.status)}`,children:(n==null?void 0:n[`text_${(o=e==null?void 0:e.status)==null?void 0:o.toLowerCase()}`])||((l=e==null?void 0:e.status)==null?void 0:l.toUpperCase())})]}),r.jsx(kt,{className:"text-lg mt-2 line-clamp-1",children:(e==null?void 0:e.model)||(n==null?void 0:n.text_vehicle_model)||"Vehicle Model"})]}),r.jsxs(Je,{className:"p-4 pt-0",children:[r.jsxs("div",{className:"flex items-center text-sm text-muted-foreground mb-2",children:[r.jsx(gS,{className:"h-3.5 w-3.5 mr-1"}),r.jsx("span",{className:"line-clamp-1",children:(e==null?void 0:e.owner)||(n==null?void 0:n.text_vehicle_owner)||"Owner"})]}),r.jsxs("div",{className:"flex items-center text-sm text-muted-foreground mb-2",children:[r.jsx(Di,{className:"h-3.5 w-3.5 mr-1"}),r.jsx("span",{children:((c=e==null?void 0:e.status)==null?void 0:c.toUpperCase())||(n==null?void 0:n.text_vehicle_status)||"Status"})]}),r.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[r.jsx(ja,{className:"h-3.5 w-3.5 mr-1"}),r.jsx("span",{children:a(e==null?void 0:e.sightings)||(n==null?void 0:n.text_vehicle_last_seen)||"Last Seen"})]})]})]})})};function Xhe(){return r.jsxs("div",{className:"flex-1 space-y-4 w-full h-full",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(Se,{className:"w-1 h-10"}),r.jsx(Se,{className:"h-8 w-32"})]}),r.jsx("div",{className:"grid grid-cols-6 gap-4 grid-rows-1 h-full",children:r.jsxs(Le,{className:"col-span-6 row-span-1 bg-card/50  border-primary/20 max-h-[calc(95vh-200px)] overflow-hidden",children:[r.jsx(mt,{children:r.jsx(Se,{className:"h-6 w-32"})}),r.jsx(Je,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Se,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2"}),r.jsx(Se,{className:"h-10 w-full pl-10"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[1,2,3,4,5,6,7,8].map(e=>r.jsxs(Le,{className:"p-4 bg-background/50 hover:bg-primary/10 transition-colors",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(Se,{className:"h-12 w-12 rounded-md"}),r.jsxs("div",{className:"space-y-2 flex-1",children:[r.jsx(Se,{className:"h-4 w-3/4"}),r.jsx(Se,{className:"h-3 w-1/2"})]})]}),r.jsxs("div",{className:"mt-4 space-y-2",children:[r.jsx(Se,{className:"h-3 w-full"}),r.jsx(Se,{className:"h-3 w-2/3"})]})]},e))}),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsx(Se,{className:"h-4 w-48"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Se,{className:"h-8 w-20"}),r.jsx(Se,{className:"h-8 w-20"})]})]})]})})]})})]})}const Zhe={plate:"ABC123",model:"Toyota Camry",owner:"John Doe",status:"clear",photo:"https://placehold.co/600x400",sightings:[{location:"Downtown",timestamp:"2024-01-12T18:00:00Z",impound:{reason:"",fine:0,dateOfSeize:""}},{location:"Uptown",timestamp:"2024-01-11T15:30:00Z",impound:{reason:"",fine:0,dateOfSeize:""}},{location:"Downtown",timestamp:"2024-01-12T18:00:00Z",impound:{reason:"",fine:0,dateOfSeize:""}},{location:"Uptown",timestamp:"2024-01-11T15:30:00Z",impound:{reason:"",fine:0,dateOfSeize:""}},{location:"Downtown",timestamp:"2024-01-12T18:00:00Z",impound:{reason:"",fine:0,dateOfSeize:""}},{location:"Uptown",timestamp:"2024-01-11T15:30:00Z",impound:{reason:"",fine:0,dateOfSeize:""}}],reports:[{reportId:"RPT-2024-001",reportName:"Traffic Violation",dateTime:"2024-01-15T09:30:00Z",location:"Main Street & 5th Avenue",description:"Vehicle ran red light and exceeded speed limit",peopleInvolved:JSON.stringify([{name:"John Doe",category:"Criminal"},{name:"Officer Smith",category:"Police"}])},{reportId:"RPT-2024-002",reportName:"Parking Violation",dateTime:"2024-01-14T14:20:00Z",location:"Downtown Parking Structure",description:"Vehicle parked in handicap spot without permit",peopleInvolved:JSON.stringify([{name:"John Doe",category:"Criminal"},{name:"Officer Johnson",category:"Police"}])},{reportId:"RPT-2024-003",reportName:"Vehicle Inspection",dateTime:"2024-01-13T11:15:00Z",location:"Police Station",description:"Routine vehicle inspection - illegal modifications found",peopleInvolved:JSON.stringify([{name:"John Doe",category:"Criminal"},{name:"Officer Wilson",category:"Police"},{name:"Tech Spencer",category:"Mechanic"}])}],strikes:[{id:"S1",date:"2024-01-10T10:00:00Z",reason:"Speeding",category:"traffic",points:3,issuingOfficer:"Officer Johnson",location:"Main Street & 5th Avenue",status:"active",expiryDate:"2025-01-10T10:00:00Z"},{id:"S2",date:"2024-01-05T14:00:00Z",reason:"Reckless Driving",category:"traffic",points:5,issuingOfficer:"Officer Smith",location:"Downtown",status:"active",expiryDate:"2025-01-05T14:00:00Z"}]},qT=[{reportId:"RPT-2024-001",reportName:"Traffic Violation",dateTime:"2024-01-15T09:30:00Z",location:"Main Street & 5th Avenue",description:"Vehicle ran red light and exceeded speed limit",peopleInvolved:JSON.stringify([{name:"John Doe",category:"Criminal"},{name:"Officer Smith",category:"Police"}])},{reportId:"RPT-2024-002",reportName:"Parking Violation",dateTime:"2024-01-14T14:20:00Z",location:"Downtown Parking Structure",description:"Vehicle parked in handicap spot without permit",peopleInvolved:JSON.stringify([{name:"John Doe",category:"Criminal"},{name:"Officer Johnson",category:"Police"}])},{reportId:"RPT-2024-003",reportName:"Vehicle Inspection",dateTime:"2024-01-13T11:15:00Z",location:"Police Station",description:"Routine vehicle inspection - illegal modifications found",peopleInvolved:JSON.stringify([{name:"John Doe",category:"Criminal"},{name:"Officer Wilson",category:"Police"},{name:"Tech Spencer",category:"Mechanic"}])}],JT=[{id:"S1",date:"2024-01-10T10:00:00Z",reason:"Speeding",category:"traffic",points:3,issuingOfficer:"Officer Johnson",location:"Main Street & 5th Avenue",status:"active",expiryDate:"2025-01-10T10:00:00Z"},{id:"S2",date:"2024-01-05T14:00:00Z",reason:"Reckless Driving",category:"traffic",points:5,issuingOfficer:"Officer Smith",location:"Downtown",status:"active",expiryDate:"2025-01-05T14:00:00Z"}],efe={vehiclesData:$_,totalCount:$_.length},x2=10;function tfe(){var te,ye;const{locale:e}=ir(),[t,n]=m.useState(!1),{tabs:s,setTabData:a}=ko(),i=li(),{data:o}=i.state||{},{user:l,setUserField:c,setUser:d}=Yn(),{"*":u}=aS(),f=(te=l==null?void 0:l.permissions)==null?void 0:te.Pages.vehicles;if(!f||!f.view)return null;ys();const[v,g]=m.useState(""),[w,y]=m.useState(null),[b,x]=m.useState([]),[N,S]=m.useState(1),[k,F]=m.useState(v),[$,U]=m.useState(0),[D,H]=m.useState(null);m.useEffect(()=>{(w==null?void 0:w.plate)!==D&&H((w==null?void 0:w.plate)||null)},[w]),m.useEffect(()=>{if(o){n(!0),y(Array.isArray(o)||typeof o=="object"?o:JSON.parse(o||"[]"));const de=setTimeout(()=>{n(!1)},1e3);return()=>clearTimeout(de)}},[o]),m.useEffect(()=>{if(!u)return;(async()=>{var le;try{const Q=await ke("getVehicleDataByPlate",{id:u},{success:!0,msg:"",data:{}});if(!(Q!=null&&Q.success)||!Q.data)throw new Error((Q==null?void 0:Q.msg)||"Vehicle not found");let oe={...Q.data,sightings:Array.isArray(Q.data.sightings)?Q.data.sightings:JSON.parse(((le=Q.data)==null?void 0:le.sightings)||"[]"),reports:[],strikes:[]};const ce=await ke("fetchVehiclesReports",{plate:u},qT);ce&&(oe.reports=Array.isArray(ce)?ce:JSON.parse(typeof ce=="string"?ce:"[]"));const ee=await ke("fetchVehiclesStrikes",{plate:u},JT);ee&&(oe.strikes=Array.isArray(ee)?ee:JSON.parse(typeof ee=="string"?ee:"[]")),y(oe),a(oe,u)}catch(Q){y(null),console.error((Q==null?void 0:Q.message)||"Failed to fetch vehicle")}})()},[u]),m.useEffect(()=>{const de=setTimeout(()=>{F(v)},500);return()=>{clearTimeout(de)}},[v]);const K=de=>{de.key==="Enter"&&F(v)},B=(de,le)=>ke("fetchVehicles",{page:de,query:le},efe).then(Q=>{Q?(x(Q.vehiclesData),U(Q.totalCount)):(console.error("No response received."),x([]))}).catch(Q=>{console.error("Error:",Q),x([])});m.useEffect(()=>{N!==1&&S(1)},[k]),m.useEffect(()=>{B(N,k)},[N,k]);const R=Math.ceil($/x2),Z=async(de,le)=>{let Q={...de,sightings:[],reports:[]};try{const oe=await ke("fetchVehicleDataByPlate",{plate:le},Zhe);oe&&(Q={...de,photo:oe==null?void 0:oe.photo,sightings:Array.isArray(oe.sightings)?oe.sightings:JSON.parse((oe==null?void 0:oe.sightings)||"[]")},y(Q),a(Q,le));const ce=await ke("fetchVehiclesReports",{plate:le},qT);ce&&(Q={...Q,reports:Array.isArray(ce)?ce:JSON.parse(typeof ce=="string"?ce:"[]")},y(Q),a(Q,le));const ee=await ke("fetchVehiclesStrikes",{plate:le},JT);ee&&(Q={...Q,strikes:Array.isArray(ee)?ee:JSON.parse(typeof ee=="string"?ee:"[]")},y(Q),a(Q,le))}catch(oe){console.error("Error:",oe),y(null)}};return r.jsxs("div",{className:"flex-1 space-y-4 w-full h-full",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("hr",{className:"w-1 h-10 bg-primary border-none rounded-full"}),r.jsx("h2",{className:"text-3xl font-bold",children:(e==null?void 0:e.text_vehicle_database)||"Vehicle Database"})]}),t?r.jsx(Xhe,{}):r.jsx("div",{className:"grid grid-cols-6 gap-4 grid-rows-1 h-full",children:r.jsx(Le,{className:"col-span-6 row-span-1 bg-card/50  border-primary/20 max-h-[calc(95vh-200px)] overflow-hidden",children:r.jsx(Gn,{mode:"wait",children:w?r.jsx(Xt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"flex w-full ",children:w&&r.jsx(Jhe,{vehicle:w,user:l,userPermissions:f,onClose:()=>{y(null),B(N,k)}})},"list-view"):r.jsxs(Xt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:[r.jsx(mt,{children:r.jsx(kt,{children:(e==null?void 0:e.text_vehicle_search)||"Vehicle Search"})}),r.jsxs(Je,{children:[r.jsxs("div",{className:"mb-4 flex items-center space-x-2",children:[r.jsx(ls,{className:"h-5 w-5 text-muted-foreground"}),r.jsx(ht,{placeholder:(e==null?void 0:e.text_search_vehicles)||"Search vehicles...",className:"flex-1 bg-background/50 border-primary/20 focus:border-primary",value:v,onChange:de=>g(de.target.value),onKeyDown:K})]}),r.jsx(nr,{className:"h-[calc(85vh-300px)]",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:r.jsx(Gn,{children:b&&Array.isArray(b)&&((ye=b||[])==null?void 0:ye.map(de=>r.jsx(Xt.tr,{className:"cursor-pointer hover:bg-primary/10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:r.jsx(Yhe,{vehicle:de,onClick:()=>{Z(de,de==null?void 0:de.plate)}})},de.plate)))})})}),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsxs("div",{children:[(e==null?void 0:e.text_showing)||"Showing"," ",(N-1)*x2+1," to ",Math.min(N*x2,$)," ",(e==null?void 0:e.text_of)||"of"," ",$," ",(e==null?void 0:e.text_vehicles)||"vehicles"]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>S(de=>Math.max(1,de-1)),disabled:N===1,children:(e==null?void 0:e.text_previous)||"Previous"}),r.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>S(de=>Math.min(R,de+1)),disabled:N==R||R==0,children:(e==null?void 0:e.text_next)||"Next"})]})]})]})]},"list-view")})})})]})}const lp=m.forwardRef(({className:e,...t},n)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:n,className:Tt("w-full caption-bottom text-sm",e),...t})}));lp.displayName="Table";const cp=m.forwardRef(({className:e,...t},n)=>r.jsx("thead",{ref:n,className:Tt("[&_tr]:border-b",e),...t}));cp.displayName="TableHeader";const dp=m.forwardRef(({className:e,...t},n)=>r.jsx("tbody",{ref:n,className:Tt("[&_tr:last-child]:border-0",e),...t}));dp.displayName="TableBody";const rfe=m.forwardRef(({className:e,...t},n)=>r.jsx("tfoot",{ref:n,className:Tt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));rfe.displayName="TableFooter";const Xo=m.forwardRef(({className:e,...t},n)=>r.jsx("tr",{ref:n,className:Tt("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Xo.displayName="TableRow";const bi=m.forwardRef(({className:e,...t},n)=>r.jsx("th",{ref:n,className:Tt("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));bi.displayName="TableHead";const fs=m.forwardRef(({className:e,...t},n)=>r.jsx("td",{ref:n,className:Tt("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));fs.displayName="TableCell";const nfe=m.forwardRef(({className:e,...t},n)=>r.jsx("caption",{ref:n,className:Tt("mt-4 text-sm text-muted-foreground",e),...t}));nfe.displayName="TableCaption";const yu=Object.create(null);yu.open="0";yu.close="1";yu.ping="2";yu.pong="3";yu.message="4";yu.upgrade="5";yu.noop="6";const X0=Object.create(null);Object.keys(yu).forEach(e=>{X0[yu[e]]=e});const G_={type:"error",data:"parser error"},hH=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",fH=typeof ArrayBuffer=="function",mH=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,W4=({type:e,data:t},n,s)=>hH&&t instanceof Blob?n?s(t):YT(t,s):fH&&(t instanceof ArrayBuffer||mH(t))?n?s(t):YT(new Blob([t]),s):s(yu[e]+(t||"")),YT=(e,t)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];t("b"+(s||""))},n.readAsDataURL(e)};function XT(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let v2;function sfe(e,t){if(hH&&e.data instanceof Blob)return e.data.arrayBuffer().then(XT).then(t);if(fH&&(e.data instanceof ArrayBuffer||mH(e.data)))return t(XT(e.data));W4(e,!1,n=>{v2||(v2=new TextEncoder),t(v2.encode(n))})}const ZT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xg=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<ZT.length;e++)xg[ZT.charCodeAt(e)]=e;const ife=e=>{let t=e.length*.75,n=e.length,s,a=0,i,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const d=new ArrayBuffer(t),u=new Uint8Array(d);for(s=0;s<n;s+=4)i=xg[e.charCodeAt(s)],o=xg[e.charCodeAt(s+1)],l=xg[e.charCodeAt(s+2)],c=xg[e.charCodeAt(s+3)],u[a++]=i<<2|o>>4,u[a++]=(o&15)<<4|l>>2,u[a++]=(l&3)<<6|c&63;return d},afe=typeof ArrayBuffer=="function",$4=(e,t)=>{if(typeof e!="string")return{type:"message",data:pH(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:ofe(e.substring(1),t)}:X0[n]?e.length>1?{type:X0[n],data:e.substring(1)}:{type:X0[n]}:G_},ofe=(e,t)=>{if(afe){const n=ife(e);return pH(n,t)}else return{base64:!0,data:e}},pH=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},gH="",lfe=(e,t)=>{const n=e.length,s=new Array(n);let a=0;e.forEach((i,o)=>{W4(i,!1,l=>{s[o]=l,++a===n&&t(s.join(gH))})})},cfe=(e,t)=>{const n=e.split(gH),s=[];for(let a=0;a<n.length;a++){const i=$4(n[a],t);if(s.push(i),i.type==="error")break}return s};function dfe(){return new TransformStream({transform(e,t){sfe(e,n=>{const s=n.length;let a;if(s<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,s);else if(s<65536){a=new Uint8Array(3);const i=new DataView(a.buffer);i.setUint8(0,126),i.setUint16(1,s)}else{a=new Uint8Array(9);const i=new DataView(a.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(s))}e.data&&typeof e.data!="string"&&(a[0]|=128),t.enqueue(a),t.enqueue(n)})}})}let y2;function Yv(e){return e.reduce((t,n)=>t+n.length,0)}function Xv(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let s=0;for(let a=0;a<t;a++)n[a]=e[0][s++],s===e[0].length&&(e.shift(),s=0);return e.length&&s<e[0].length&&(e[0]=e[0].slice(s)),n}function ufe(e,t){y2||(y2=new TextDecoder);const n=[];let s=0,a=-1,i=!1;return new TransformStream({transform(o,l){for(n.push(o);;){if(s===0){if(Yv(n)<1)break;const c=Xv(n,1);i=(c[0]&128)===128,a=c[0]&127,a<126?s=3:a===126?s=1:s=2}else if(s===1){if(Yv(n)<2)break;const c=Xv(n,2);a=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),s=3}else if(s===2){if(Yv(n)<8)break;const c=Xv(n,8),d=new DataView(c.buffer,c.byteOffset,c.length),u=d.getUint32(0);if(u>Math.pow(2,21)-1){l.enqueue(G_);break}a=u*Math.pow(2,32)+d.getUint32(4),s=3}else{if(Yv(n)<a)break;const c=Xv(n,a);l.enqueue($4(i?c:y2.decode(c),t)),s=0}if(a===0||a>e){l.enqueue(G_);break}}}})}const xH=4;function Oa(e){if(e)return Afe(e)}function Afe(e){for(var t in Oa.prototype)e[t]=Oa.prototype[t];return e}Oa.prototype.on=Oa.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Oa.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};Oa.prototype.off=Oa.prototype.removeListener=Oa.prototype.removeAllListeners=Oa.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var s,a=0;a<n.length;a++)if(s=n[a],s===t||s.fn===t){n.splice(a,1);break}return n.length===0&&delete this._callbacks["$"+e],this};Oa.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,a=n.length;s<a;++s)n[s].apply(this,t)}return this};Oa.prototype.emitReserved=Oa.prototype.emit;Oa.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Oa.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Y1=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),Rc=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),hfe="arraybuffer";function vH(e,...t){return t.reduce((n,s)=>(e.hasOwnProperty(s)&&(n[s]=e[s]),n),{})}const ffe=Rc.setTimeout,mfe=Rc.clearTimeout;function X1(e,t){t.useNativeTimers?(e.setTimeoutFn=ffe.bind(Rc),e.clearTimeoutFn=mfe.bind(Rc)):(e.setTimeoutFn=Rc.setTimeout.bind(Rc),e.clearTimeoutFn=Rc.clearTimeout.bind(Rc))}const pfe=1.33;function gfe(e){return typeof e=="string"?xfe(e):Math.ceil((e.byteLength||e.size)*pfe)}function xfe(e){let t=0,n=0;for(let s=0,a=e.length;s<a;s++)t=e.charCodeAt(s),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(s++,n+=4);return n}function yH(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function vfe(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function yfe(e){let t={},n=e.split("&");for(let s=0,a=n.length;s<a;s++){let i=n[s].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class wfe extends Error{constructor(t,n,s){super(t),this.description=n,this.context=s,this.type="TransportError"}}class G4 extends Oa{constructor(t){super(),this.writable=!1,X1(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,s){return super.emitReserved("error",new wfe(t,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=$4(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=vfe(t);return n.length?"?"+n:""}}class bfe extends G4{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};cfe(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,lfe(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=yH()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let wH=!1;try{wH=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const jfe=wH;function Nfe(){}class Cfe extends bfe{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let s=location.port;s||(s=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||s!==t.port}}doWrite(t,n){const s=this.request({method:"POST",data:t});s.on("success",n),s.on("error",(a,i)=>{this.onError("xhr post error",a,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=t}}class fu extends Oa{constructor(t,n,s){super(),this.createRequest=t,X1(this,s),this._opts=s,this._method=s.method||"GET",this._uri=n,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var t;const n=vH(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(n);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&s.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var a;s.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=fu.requestsCount++,fu.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Nfe,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete fu.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}fu.requestsCount=0;fu.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",ek);else if(typeof addEventListener=="function"){const e="onpagehide"in Rc?"pagehide":"unload";addEventListener(e,ek,!1)}}function ek(){for(let e in fu.requests)fu.requests.hasOwnProperty(e)&&fu.requests[e].abort()}const _fe=function(){const e=bH({xdomain:!1});return e&&e.responseType!==null}();class Sfe extends Cfe{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=_fe&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new fu(bH,this.uri(),t)}}function bH(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||jfe))return new XMLHttpRequest}catch{}if(!t)try{return new Rc[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const jH=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Bfe extends G4{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,s=jH?{}:vH(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,s)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],a=n===t.length-1;W4(s,this.supportsBinary,i=>{try{this.doWrite(s,i)}catch{}a&&Y1(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=yH()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const w2=Rc.WebSocket||Rc.MozWebSocket;class Efe extends Bfe{createSocket(t,n,s){return jH?new w2(t,n,s):n?new w2(t,n):new w2(t)}doWrite(t,n){this.ws.send(n)}}class Ife extends G4{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=ufe(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=t.readable.pipeThrough(n).getReader(),a=dfe();a.readable.pipeTo(t.writable),this._writer=a.writable.getWriter();const i=()=>{s.read().then(({done:l,value:c})=>{l||(this.onPacket(c),i())}).catch(l=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],a=n===t.length-1;this._writer.write(s).then(()=>{a&&Y1(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const Tfe={websocket:Efe,webtransport:Ife,polling:Sfe},kfe=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Pfe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function q_(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),s=e.indexOf("]");n!=-1&&s!=-1&&(e=e.substring(0,n)+e.substring(n,s).replace(/:/g,";")+e.substring(s,e.length));let a=kfe.exec(e||""),i={},o=14;for(;o--;)i[Pfe[o]]=a[o]||"";return n!=-1&&s!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=Dfe(i,i.path),i.queryKey=Ffe(i,i.query),i}function Dfe(e,t){const n=/\/{2,9}/g,s=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&s.splice(0,1),t.slice(-1)=="/"&&s.splice(s.length-1,1),s}function Ffe(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,a,i){a&&(n[a]=i)}),n}const J_=typeof addEventListener=="function"&&typeof removeEventListener=="function",Z0=[];J_&&addEventListener("offline",()=>{Z0.forEach(e=>e())},!1);class rh extends Oa{constructor(t,n){if(super(),this.binaryType=hfe,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const s=q_(t);n.hostname=s.host,n.secure=s.protocol==="https"||s.protocol==="wss",n.port=s.port,s.query&&(n.query=s.query)}else n.host&&(n.hostname=q_(n.host).host);X1(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(s=>{const a=s.prototype.name;this.transports.push(a),this._transportsByName[a]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=yfe(this.opts.query)),J_&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Z0.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=xH,n.transport=t,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&rh.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",rh.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let s=0;s<this.writeBuffer.length;s++){const a=this.writeBuffer[s].data;if(a&&(n+=gfe(a)),s>0&&n>this._maxPayload)return this.writeBuffer.slice(0,s);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Y1(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,s){return this._sendPacket("message",t,n,s),this}send(t,n,s){return this._sendPacket("message",t,n,s),this}_sendPacket(t,n,s,a){if(typeof n=="function"&&(a=n,n=void 0),typeof s=="function"&&(a=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const i={type:t,data:n,options:s};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),a&&this.once("flush",a),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():t()}):this.upgrading?s():t()),this}_onError(t){if(rh.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),J_&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=Z0.indexOf(this._offlineEventListener);s!==-1&&Z0.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}rh.protocol=xH;class Lfe extends rh{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),s=!1;rh.priorWebsocketSuccess=!1;const a=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",f=>{if(!s)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;rh.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(u(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const v=new Error("probe error");v.transport=n.name,this.emitReserved("upgradeError",v)}}))};function i(){s||(s=!0,u(),n.close(),n=null)}const o=f=>{const v=new Error("probe error: "+f);v.transport=n.name,i(),this.emitReserved("upgradeError",v)};function l(){o("transport closed")}function c(){o("socket closed")}function d(f){n&&f.name!==n.name&&i()}const u=()=>{n.removeListener("open",a),n.removeListener("error",o),n.removeListener("close",l),this.off("close",c),this.off("upgrading",d)};n.once("open",a),n.once("error",o),n.once("close",l),this.once("close",c),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let s=0;s<t.length;s++)~this.transports.indexOf(t[s])&&n.push(t[s]);return n}}let Rfe=class extends Lfe{constructor(t,n={}){const s=typeof t=="object"?t:n;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(a=>Tfe[a]).filter(a=>!!a)),super(t,s)}};function Ofe(e,t="",n){let s=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),s=q_(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const i=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+i+":"+s.port+t,s.href=s.protocol+"://"+i+(n&&n.port===s.port?"":":"+s.port),s}const Mfe=typeof ArrayBuffer=="function",Ufe=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,NH=Object.prototype.toString,Qfe=typeof Blob=="function"||typeof Blob<"u"&&NH.call(Blob)==="[object BlobConstructor]",Hfe=typeof File=="function"||typeof File<"u"&&NH.call(File)==="[object FileConstructor]";function q4(e){return Mfe&&(e instanceof ArrayBuffer||Ufe(e))||Qfe&&e instanceof Blob||Hfe&&e instanceof File}function ey(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,s=e.length;n<s;n++)if(ey(e[n]))return!0;return!1}if(q4(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return ey(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&ey(e[n]))return!0;return!1}function zfe(e){const t=[],n=e.data,s=e;return s.data=Y_(n,t),s.attachments=t.length,{packet:s,buffers:t}}function Y_(e,t){if(!e)return e;if(q4(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let s=0;s<e.length;s++)n[s]=Y_(e[s],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=Y_(e[s],t));return n}return e}function Vfe(e,t){return e.data=X_(e.data,t),delete e.attachments,e}function X_(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=X_(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=X_(e[n],t));return e}const Kfe=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Wfe=5;var vs;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(vs||(vs={}));class $fe{constructor(t){this.replacer=t}encode(t){return(t.type===vs.EVENT||t.type===vs.ACK)&&ey(t)?this.encodeAsBinary({type:t.type===vs.EVENT?vs.BINARY_EVENT:vs.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===vs.BINARY_EVENT||t.type===vs.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=zfe(t),s=this.encodeAsString(n.packet),a=n.buffers;return a.unshift(s),a}}function tk(e){return Object.prototype.toString.call(e)==="[object Object]"}class J4 extends Oa{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const s=n.type===vs.BINARY_EVENT;s||n.type===vs.BINARY_ACK?(n.type=s?vs.EVENT:vs.ACK,this.reconstructor=new Gfe(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(q4(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const s={type:Number(t.charAt(0))};if(vs[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===vs.BINARY_EVENT||s.type===vs.BINARY_ACK){const i=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const o=t.substring(i,n);if(o!=Number(o)||t.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(o)}if(t.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););s.nsp=t.substring(i,n)}else s.nsp="/";const a=t.charAt(n+1);if(a!==""&&Number(a)==a){const i=n+1;for(;++n;){const o=t.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===t.length)break}s.id=Number(t.substring(i,n+1))}if(t.charAt(++n)){const i=this.tryParse(t.substr(n));if(J4.isPayloadValid(s.type,i))s.data=i;else throw new Error("invalid payload")}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case vs.CONNECT:return tk(n);case vs.DISCONNECT:return n===void 0;case vs.CONNECT_ERROR:return typeof n=="string"||tk(n);case vs.EVENT:case vs.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Kfe.indexOf(n[0])===-1);case vs.ACK:case vs.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Gfe{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=Vfe(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const qfe=Object.freeze(Object.defineProperty({__proto__:null,Decoder:J4,Encoder:$fe,get PacketType(){return vs},protocol:Wfe},Symbol.toStringTag,{value:"Module"}));function bd(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Jfe=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class CH extends Oa{constructor(t,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[bd(t,"open",this.onopen.bind(this)),bd(t,"packet",this.onpacket.bind(this)),bd(t,"error",this.onerror.bind(this)),bd(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var s,a,i;if(Jfe.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:vs.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const u=this.ids++,f=n.pop();this._registerAckCallback(u,f),o.id=u}const l=(a=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||a===void 0?void 0:a.writable,c=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,n){var s;const a=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(a===void 0){this.acks[t]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);n.call(this,new Error("operation has timed out"))},a),o=(...l)=>{this.io.clearTimeoutFn(i),n.apply(this,l)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...n){return new Promise((s,a)=>{const i=(o,l)=>o?a(o):s(l);i.withError=!0,n.push(i),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((a,...i)=>s!==this._queue[0]?void 0:(a!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(a)):(this._queue.shift(),n&&n(null,...i)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:vs.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(s=>String(s.id)===t)){const s=this.acks[t];delete this.acks[t],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case vs.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case vs.EVENT:case vs.BINARY_EVENT:this.onevent(t);break;case vs.ACK:case vs.BINARY_ACK:this.onack(t);break;case vs.DISCONNECT:this.ondisconnect();break;case vs.CONNECT_ERROR:this.destroy();const s=new Error(t.data.message);s.data=t.data.data,this.emitReserved("connect_error",s);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let s=!1;return function(...a){s||(s=!0,n.packet({type:vs.ACK,id:t,data:a}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:vs.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,t.data)}}}function up(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}up.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-n:e+n}return Math.min(e,this.max)|0};up.prototype.reset=function(){this.attempts=0};up.prototype.setMin=function(e){this.ms=e};up.prototype.setMax=function(e){this.max=e};up.prototype.setJitter=function(e){this.jitter=e};class Z_ extends Oa{constructor(t,n){var s;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,X1(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new up({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const a=n.parser||qfe;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Rfe(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const a=bd(n,"open",function(){s.onopen(),t&&t()}),i=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},o=bd(n,"error",i);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{a(),i(new Error("timeout")),n.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(a),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(bd(t,"ping",this.onping.bind(this)),bd(t,"data",this.ondata.bind(this)),bd(t,"error",this.onerror.bind(this)),bd(t,"close",this.onclose.bind(this)),bd(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){Y1(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let s=this.nsps[t];return s?this._autoConnect&&!s.active&&s.connect():(s=new CH(this,t,n),this.nsps[t]=s),s}_destroy(t){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let s=0;s<n.length;s++)this.engine.write(n[s],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(a=>{a?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",a)):t.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const $p={};function ty(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=Ofe(e,t.path||"/socket.io"),s=n.source,a=n.id,i=n.path,o=$p[a]&&i in $p[a].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let c;return l?c=new Z_(s,t):($p[a]||($p[a]=new Z_(s,t)),c=$p[a]),n.query&&!t.query&&(t.query=n.queryKey),c.socket(n.path,t)}Object.assign(ty,{Manager:Z_,Socket:CH,io:ty,connect:ty});function Z1(e,t,n){const{tabletData:s}=jf(),{toast:a}=ys(),{user:i}=Yn(),{locale:o}=ir(),[l,c]=m.useState({isCollaborating:!1,activeEditors:{},recentChanges:[]}),d=m.useRef(new Set),u=m.useRef(null),f=m.useRef(null),v=m.useCallback(()=>{if(!i)return null;if(f.current&&f.current.connected)return f.current;f.current&&(f.current.close(),f.current=null),console.log("Initializing connection...");const x=ty((s==null?void 0:s.webSocketURL)||"http://localhost:3001",{transports:["websocket","polling"],extraHeaders:{"bypass-tunnel-reminder":"true"},query:{bypass:"true"},reconnectionAttempts:5,reconnectionDelay:1e3,timeout:1e4});return f.current=x,x.on("connect",()=>{console.log("connection established"),c(N=>({...N,isCollaborating:!0})),e&&t&&n&&i&&x.emit("startEditing",{reportId:e,page:t,department:n,userData:{id:i.citizenId,name:i.name||"Unknown User",department:i.department||n}})}),x.on("disconnect",()=>{console.log("connection lost"),c(N=>({...N,isCollaborating:!1})),a({title:(o==null?void 0:o.text_disconnected)||"Disconnected",description:(o==null?void 0:o.text_lost_connection)||"Lost connection to collaboration server. Trying to reconnect...",variant:"destructive"})}),x.on("connect_error",N=>{console.error("Socket.io connection error:",N),x.recovered||a({title:(o==null?void 0:o.text_connection_error)||"Connection Error",description:(o==null?void 0:o.text_websocket_error)||"Failed to connect to collaboration server. Will retry automatically.",variant:"destructive"})}),x.on("message",N=>{try{const S=JSON.parse(N);if(S.reportId!==e)return;switch(S.action){case"editorJoined":const k=S.editors||{};c(U=>{const D=Object.keys(U.activeEditors||{}),K=Object.keys(k).filter(B=>!D.includes(B));if(K.length>0){const B=k[K[0]];B&&B.id!==(i==null?void 0:i.id)&&a({title:(o==null?void 0:o.text_editor_joined)||"New Editor Joined",description:`${B.name} started editing this report`})}return{...U,activeEditors:k}});break;case"editorLeft":const F=S.editors||{};c(U=>{var B;const D=Object.keys(U.activeEditors||{}),H=Object.keys(F),K=D.filter(R=>!H.includes(R));if(K.length>0){const R=(B=U.activeEditors)==null?void 0:B[K[0]];R&&R.id!==(i==null?void 0:i.id)&&a({title:(o==null?void 0:o.text_editor_left)||"Editor Left",description:`${R.name} stopped editing this report`})}return{...U,activeEditors:F}});break;case"receiveUpdate":const $=S.change;if($.changes._changeId&&d.current.has($.changes._changeId)){setTimeout(()=>{d.current.delete($.changes._changeId)},5e3);return}c(U=>({...U,recentChanges:[{field:$.changeType,value:$.changes,timestamp:$.timestamp,sourceId:$.sourceId},...U.recentChanges].slice(0,10)}));break;default:console.warn("Unknown action received:",S.action);break}}catch(S){console.error("Error processing message:",S)}}),x},[i,e,t,n,a,o]),g=m.useCallback(()=>{if(s!=null&&s.CollaborationEditing&&!(!e||!t||!n||!i))if(s!=null&&s.useWebsockets){if(!f.current||!f.current.connected){const x=v();if(!x||!x.connected){a({title:(o==null?void 0:o.text_connecting)||"Connecting...",description:(o==null?void 0:o.text_connecting_desc)||"Establishing connection to collaboration server..."}),setTimeout(()=>{f.current&&f.current.connected?g():a({title:(o==null?void 0:o.text_connection_error)||"Connection Error",description:(o==null?void 0:o.text_lost_connection)||"Connection failed. Please try again.",variant:"destructive"})},2e3);return}}f.current.emit("startEditing",{reportId:e,page:t,department:n,userData:{id:i.citizenId,name:i.name||"Unknown User",department:i.department||n}}),c(x=>({...x,isCollaborating:!0})),a({title:(o==null?void 0:o.text_collaborative_editing_started)||"Collaborative Editing Started",description:(o==null?void 0:o.text_collaborative_editing_started_description)||"Others can now see your changes in real-time."})}else ke("startEditingReport",{reportId:e,page:t,department:n},{success:!0}).then(()=>{c(x=>({...x,isCollaborating:!0})),a({title:(o==null?void 0:o.text_collaborative_editing_started)||"Collaborative Editing Started",description:(o==null?void 0:o.text_collaborative_editing_started_description)||"Others can now see your changes in real-time."})}).catch(x=>{console.error("Failed to start collaborative editing:",x),a({title:(o==null?void 0:o.text_connection_error)||"Error",description:(o==null?void 0:o.text_websocket_error)||"Failed to start collaborative editing.",variant:"destructive"})})},[e,i,a,o,s,v,t,n]),w=m.useCallback(()=>{e&&(s!=null&&s.useWebsockets?(f.current&&f.current.connected&&f.current.emit("stopEditing",{reportId:e,page:t,department:n}),c({isCollaborating:!1,activeEditors:{},recentChanges:[]})):ke("stopEditingReport",{},{success:!0}).then(()=>{c({isCollaborating:!1,activeEditors:{},recentChanges:[]})}).catch(x=>{console.error("Failed to stop collaborative editing:",x)}))},[e,t,n,s]),y=m.useCallback((x,N,S)=>{if(!x)return null;if(N._changeId&&d.current.has(N._changeId))return setTimeout(()=>{d.current.delete(N._changeId)},5e3),x;const k={...x};switch(S){case"reportDetails":N.reportName!==void 0&&(k.reportName=N.reportName),N.title!==void 0&&(k.title=N.title),N.status!==void 0&&(k.status=N.status),N.priority!==void 0&&(k.priority=N.priority),N.traineeName!==void 0&&(k.traineeName=N.traineeName),N.ftoName!==void 0&&(k.ftoName=N.ftoName),N.date!==void 0&&(k.date=N.date),N.shift!==void 0&&(k.shift=N.shift),N.phase!==void 0&&(k.phase=N.phase),N.areasForImprovement!==void 0&&(k.areasForImprovement=N.areasForImprovement),N.additionalComments!==void 0&&(k.additionalComments=N.additionalComments),N.strengths!==void 0&&(k.strengths=N.strengths),N.location!==void 0&&(k.location=N.location),N.description!==void 0&&(k.description=N.description),N.evidenceLockerNumber!==void 0&&(k.evidenceLockerNumber=N.evidenceLockerNumber);break;case"addPerson":N.person&&(k.peopleInvolved=[...k.peopleInvolved||[],N.person]);break;case"updatePerson":if(N.index!==void 0&&N.person){const F=[...k.peopleInvolved||[]];F[N.index]=N.person,k.peopleInvolved=F}break;case"updateCategory":if(N.index!==void 0&&N.category){const F=[...k.categories||[]];F[N.index]=N.category,k.categories=F}break;case"deletePerson":N.index!==void 0&&(k.peopleInvolved=(k.peopleInvolved||[]).filter((F,$)=>$!==N.index));break;case"addVehicle":N.vehicle&&(k.vehiclesInvolved=[...k.vehiclesInvolved||[],N.vehicle]);break;case"bodyDataChange":if(N.bodyPartData){const{bodyPart:F,data:$}=N.bodyPartData,U=k.bodyData||{};k.bodyData={...U,[F]:{...U[F],...$}}}break;case"deleteVehicle":N.index!==void 0&&(k.vehiclesInvolved=(k.vehiclesInvolved||[]).filter((F,$)=>$!==N.index));break;case"addEvidence":N.evidence&&(k.evidences=[...k.evidences||[],N.evidence]);break;case"deleteEvidence":N.index!==void 0&&(k.evidences=(k.evidences||[]).filter((F,$)=>$!==N.index));case"addTimeline":N.timeline&&(k.timeline=[...k.timeline||[],N.timeline]);break;default:console.warn("Unknown change type:",S)}return k},[]),b=m.useCallback((x,N)=>{if(!e||!t||!n||!l.isCollaborating)return;const S=`${N}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;d.current.add(S);const k={...x,_changeId:S};u.current&&clearTimeout(u.current),u.current=setTimeout(()=>{s!=null&&s.useWebsockets?f.current&&f.current.connected&&f.current.emit("updateReport",{reportId:e,changes:k,changeType:N,page:t,department:n}):ke("sendReportChanges",{reportId:e,changes:k,changeType:N,page:t,department:n},{success:!0}).catch(F=>{console.error("Failed to send changes:",F)})},50)},[e,l.isCollaborating,s,t,n]);return m.useEffect(()=>{const x=N=>{const{data:S}=N;if(!(!S.type||typeof S.type!="string"))switch(S.type){case"collabEditors":S.reportId===e&&c(k=>({...k,activeEditors:S.editors||{}}));break;case"collabEditorJoined":if(S.reportId===e){c(U=>({...U,activeEditors:S.editors||{}}));const k=Object.keys(S.editors||{}),F=Object.keys(l.activeEditors),$=k.filter(U=>!F.includes(U));if($.length>0){const U=S.editors[$[0]];U&&U.id!==(i==null?void 0:i.id)&&a({title:(o==null?void 0:o.text_editor_joined)||"New Editor Joined",description:`${U.name} ${(o==null?void 0:o.text_start_editing_report)||"started editing this report"}`})}}break;case"collabEditorLeft":if(S.reportId===e){c(U=>({...U,activeEditors:S.editors||{}}));const k=Object.keys(l.activeEditors),F=Object.keys(S.editors||{}),$=k.filter(U=>!F.includes(U));if($.length>0){const U=l.activeEditors[$[0]];U&&U.id!==(i==null?void 0:i.id)&&a({title:(o==null?void 0:o.text_editor_left)||"Editor Left",description:`${U.name} ${(o==null?void 0:o.text_stop_editing_report)||"stopped editing this report"}`})}}break;case"collabUpdate":if(S.reportId===e){const k={field:S.changeType,value:S.changes,timestamp:S.timestamp,sourceId:S.sourceId};c(F=>({...F,recentChanges:[k,...F.recentChanges].slice(0,10)}))}break}};return window.addEventListener("message",x),()=>window.removeEventListener("message",x)},[e,l.activeEditors,a,o,i]),m.useEffect(()=>()=>{l.isCollaborating&&w()},[e,l.isCollaborating,w]),{...l,startCollaborating:g,stopCollaborating:w,sendChanges:b,applyChanges:y,socket:f.current}}function fh({isCollaborating:e,activeEditors:t,currentUserId:n}){const{locale:s}=ir(),a=Object.values(t).filter(i=>i.id!==n);return!e||a.length===0?null:r.jsx(ix,{children:r.jsxs(ax,{children:[r.jsx(ox,{asChild:!0,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(ze,{variant:"outline",className:"bg-green-500/10 text-green-500 flex items-center gap-1.5 py-1.5",children:[r.jsx(ba,{className:"h-3.5 w-3.5"}),r.jsxs("span",{children:[a.length," ",(s==null?void 0:s.text_active_editors)||"Active Editors"]})]}),r.jsxs("div",{className:"flex -space-x-2",children:[a.slice(0,3).map(i=>r.jsx(hn,{className:"h-6 w-6 border-2 border-background",children:r.jsx(yn,{className:"text-xs",children:i.name.split(" ").map(o=>o[0]).join("").toUpperCase()})},i.id)),a.length>3&&r.jsx(hn,{className:"h-6 w-6 border-2 border-background",children:r.jsxs(yn,{className:"text-xs bg-muted",children:["+",a.length-3]})})]})]})}),r.jsx(Vm,{children:r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("p",{className:"font-semibold text-sm",children:(s==null?void 0:s.text_collaborative_editing)||"Collaborative Editing"}),r.jsx("ul",{className:"text-xs space-y-1",children:a.map(i=>r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(hn,{className:"h-5 w-5",children:r.jsx(yn,{className:"text-[10px]",children:i.name.split(" ").map(o=>o[0]).join("").toUpperCase()})}),r.jsx("span",{children:i.name}),r.jsxs("span",{className:"text-muted-foreground",children:["(",i.department,")"]})]},i.id))})]})})]})})}var ew="Popover",[_H,y5e]=ji(ew,[_u]),zx=_u(),[Yfe,Bh]=_H(ew),SH=e=>{const{__scopePopover:t,children:n,open:s,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=zx(t),c=m.useRef(null),[d,u]=m.useState(!1),[f,v]=To({prop:s,defaultProp:a??!1,onChange:i,caller:ew});return r.jsx(Tx,{...l,children:r.jsx(Yfe,{scope:t,contentId:Ma(),triggerRef:c,open:f,onOpenChange:v,onOpenToggle:m.useCallback(()=>v(g=>!g),[v]),hasCustomAnchor:d,onCustomAnchorAdd:m.useCallback(()=>u(!0),[]),onCustomAnchorRemove:m.useCallback(()=>u(!1),[]),modal:o,children:n})})};SH.displayName=ew;var BH="PopoverAnchor",Xfe=m.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,a=Bh(BH,n),i=zx(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return m.useEffect(()=>(o(),()=>l()),[o,l]),r.jsx(rp,{...i,...s,ref:t})});Xfe.displayName=BH;var EH="PopoverTrigger",IH=m.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,a=Bh(EH,n),i=zx(n),o=an(t,a.triggerRef),l=r.jsx(jr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":FH(a.open),...s,ref:o,onClick:Kt(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:r.jsx(rp,{asChild:!0,...i,children:l})});IH.displayName=EH;var Y4="PopoverPortal",[Zfe,eme]=_H(Y4,{forceMount:void 0}),TH=e=>{const{__scopePopover:t,forceMount:n,children:s,container:a}=e,i=Bh(Y4,t);return r.jsx(Zfe,{scope:t,forceMount:n,children:r.jsx(Na,{present:n||i.open,children:r.jsx(Xm,{asChild:!0,container:a,children:s})})})};TH.displayName=Y4;var Km="PopoverContent",kH=m.forwardRef((e,t)=>{const n=eme(Km,e.__scopePopover),{forceMount:s=n.forceMount,...a}=e,i=Bh(Km,e.__scopePopover);return r.jsx(Na,{present:s||i.open,children:i.modal?r.jsx(rme,{...a,ref:t}):r.jsx(nme,{...a,ref:t})})});kH.displayName=Km;var tme=oh("PopoverContent.RemoveScroll"),rme=m.forwardRef((e,t)=>{const n=Bh(Km,e.__scopePopover),s=m.useRef(null),a=an(t,s),i=m.useRef(!1);return m.useEffect(()=>{const o=s.current;if(o)return b1(o)},[]),r.jsx(Bx,{as:tme,allowPinchZoom:!0,children:r.jsx(PH,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Kt(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Kt(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:Kt(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),nme=m.forwardRef((e,t)=>{const n=Bh(Km,e.__scopePopover),s=m.useRef(!1),a=m.useRef(!1);return r.jsx(PH,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),PH=m.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...f}=e,v=Bh(Km,n),g=zx(n);return y1(),r.jsx(Sx,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:r.jsx(Nh,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>v.onOpenChange(!1),children:r.jsx(kx,{"data-state":FH(v.open),role:"dialog",id:v.contentId,...g,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),DH="PopoverClose",sme=m.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,a=Bh(DH,n);return r.jsx(jr.button,{type:"button",...s,ref:t,onClick:Kt(e.onClick,()=>a.onOpenChange(!1))})});sme.displayName=DH;var ime="PopoverArrow",ame=m.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,a=zx(n);return r.jsx(Px,{...a,...s,ref:t})});ame.displayName=ime;function FH(e){return e?"open":"closed"}var ome=SH,lme=IH,cme=TH,LH=kH;const dme=ome,ume=lme,RH=m.forwardRef(({className:e,align:t="center",sideOffset:n=4,...s},a)=>r.jsx(cme,{children:r.jsx(LH,{ref:a,align:t,sideOffset:n,className:Tt("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...s})}));RH.displayName=LH.displayName;function mh({recentChanges:e,activeEditors:t}){const{locale:n}=ir(),[s,a]=m.useState(!1);if(e.length===0)return null;const i=c=>new Date(c*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),o=c=>{for(const[d,u]of Object.entries(t))if(d==c)return u.name;return(n==null?void 0:n.text_unknown_editor)||"Unknown Editor"},l=c=>{const d=o(c.sourceId);switch(c.field){case"reportDetails":return c.value.reportName!==void 0?`${d} ${(n==null?void 0:n.text_updated_report_name)||"updated report name"}`:c.value.location!==void 0?`${d} ${(n==null?void 0:n.text_updated_location)||"updated location"}`:c.value.description!==void 0?`${d} ${(n==null?void 0:n.text_updated_description)||"updated description"}`:c.value.evidenceLockerNumber!==void 0?`${d} ${(n==null?void 0:n.text_updated_evidence_locker)||"updated evidence locker"}`:`${d} ${(n==null?void 0:n.text_updated_report_details)||"updated report details"}`;case"addPerson":return`${d} ${(n==null?void 0:n.text_added_a_person)||"added a person"}`;case"updatePerson":return`${d} ${(n==null?void 0:n.text_updated_a_person)||"updated a person"}`;case"deletePerson":return`${d} ${(n==null?void 0:n.text_removed_a_person)||"removed a person"}`;case"addVehicle":return`${d} ${(n==null?void 0:n.text_added_a_vehicle)||"added a vehicle"}`;case"deleteVehicle":return`${d} ${(n==null?void 0:n.text_removed_a_vehicle)||"removed a vehicle"}`;case"addEvidence":return`${d} ${(n==null?void 0:n.text_added_a_evidence)||"added evidence"}`;case"deleteEvidence":return`${d} ${(n==null?void 0:n.text_removed_a_evidence)||"removed evidence"}`;default:return`${d} ${(n==null?void 0:n.text_made_changes)||"made changes"}`}};return r.jsxs(dme,{open:s,onOpenChange:a,children:[r.jsx(ume,{asChild:!0,children:r.jsxs(Ae,{variant:"outline",size:"sm",className:"flex items-center gap-1.5",onClick:()=>a(!s),children:[r.jsx(dm,{className:"h-4 w-4"}),r.jsx("span",{children:(n==null?void 0:n.text_recent_changes)||"Recent Changes"})]})}),r.jsxs(RH,{className:"w-80 p-0",align:"end",children:[r.jsxs("div",{className:"px-4 py-2 border-b",children:[r.jsx("h4",{className:"font-semibold",children:(n==null?void 0:n.text_recent_changes)||"Recent Changes"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:(n==null?void 0:n.text_recent_changes_desc)||"Changes made by other editors"})]}),r.jsx(nr,{className:"h-[300px]",children:r.jsx("div",{className:"p-4 space-y-3",children:e.map((c,d)=>r.jsxs("div",{className:"text-sm border-l-2 border-primary pl-3 py-1",children:[r.jsx("div",{className:"font-medium",children:l(c)}),r.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1 mt-1",children:[r.jsx(Mi,{className:"h-3 w-3"}),i(c.timestamp)]})]},d))})})]})]})}var tw="Checkbox",[Ame,w5e]=ji(tw),[hme,fme]=Ame(tw),OH=m.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...f}=e,[v,g]=m.useState(null),w=an(t,k=>g(k)),y=m.useRef(!1),b=v?u||!!v.closest("form"):!0,[x,N]=To({prop:a,defaultProp:i??!1,onChange:d,caller:tw}),S=m.useRef(x);return m.useEffect(()=>{const k=v==null?void 0:v.form;if(k){const F=()=>N(S.current);return k.addEventListener("reset",F),()=>k.removeEventListener("reset",F)}},[v,N]),r.jsxs(hme,{scope:n,state:x,disabled:l,children:[r.jsx(jr.button,{type:"button",role:"checkbox","aria-checked":nh(x)?"mixed":x,"aria-required":o,"data-state":HH(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:w,onKeyDown:Kt(e.onKeyDown,k=>{k.key==="Enter"&&k.preventDefault()}),onClick:Kt(e.onClick,k=>{N(F=>nh(F)?!0:!F),b&&(y.current=k.isPropagationStopped(),y.current||k.stopPropagation())})}),b&&r.jsx(QH,{control:v,bubbles:!y.current,name:s,value:c,checked:x,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"},defaultChecked:nh(i)?!1:i})]})});OH.displayName=tw;var MH="CheckboxIndicator",UH=m.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:s,...a}=e,i=fme(MH,n);return r.jsx(Na,{present:s||nh(i.state)||i.state===!0,children:r.jsx(jr.span,{"data-state":HH(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});UH.displayName=MH;var mme="CheckboxBubbleInput",QH=m.forwardRef(({__scopeCheckbox:e,control:t,checked:n,bubbles:s=!0,defaultChecked:a,...i},o)=>{const l=m.useRef(null),c=an(l,o),d=Dx(n),u=Ix(t);m.useEffect(()=>{const v=l.current;if(!v)return;const g=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(g,"checked").set;if(d!==n&&y){const b=new Event("click",{bubbles:s});v.indeterminate=nh(n),y.call(v,nh(n)?!1:n),v.dispatchEvent(b)}},[d,n,s]);const f=m.useRef(nh(n)?!1:n);return r.jsx(jr.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??f.current,...i,tabIndex:-1,ref:c,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});QH.displayName=mme;function nh(e){return e==="indeterminate"}function HH(e){return nh(e)?"indeterminate":e?"checked":"unchecked"}var zH=OH,pme=UH;const ux=m.forwardRef(({className:e,...t},n)=>r.jsx(zH,{ref:n,className:Tt("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(pme,{className:Tt("flex items-center justify-center text-current"),children:r.jsx(fc,{className:"h-4 w-4"})})}));ux.displayName=zH.displayName;const ph=({isOpen:e,onClose:t,vehicles:n,selectedVehicle:s,selectedVehicles:a,onUpdateVehicle:i,onSearchQueryChange:o})=>{var w;const{locale:l}=ir(),[c,d]=m.useState(""),{user:u,setUser:f,setUserField:v}=Yn(),g=y=>{d(y.target.value),o(y.target.value)};return r.jsx(gr,{open:e,onOpenChange:t,children:r.jsxs(xr,{className:"max-w-7xl",style:{backgroundImage:`url(${Ws((w=u==null?void 0:u.permissions)==null?void 0:w.backgroundImage)})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[r.jsx(vr,{children:r.jsx(yr,{children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("hr",{className:"w-1 h-10 bg-primary border-none rounded-full"}),r.jsx("h2",{className:"text-2xl font-bold",children:(l==null?void 0:l.text_select_vehicle)||"Select Vehicle"})]})})}),r.jsx("div",{className:"mb-4",children:r.jsx(ht,{placeholder:(l==null?void 0:l.text_search_vehicle)||"Search by plate or model...",value:c,onChange:g,className:"w-full p-2 border border-gray-300 rounded-md text-white"})}),r.jsx(nr,{className:"h-[40vh] mt-4",children:r.jsx("div",{className:"grid grid-cols-5 gap-4 p-4",children:n&&Array.isArray(n)&&(n||[]).filter(y=>!a||!a.some(b=>b.plate===y.plate)).map(y=>r.jsxs("div",{className:`p-3 rounded-lg bg-card/95 hover:bg-slate-700 cursor-pointer transition-colors flex items-center space-x-4 ${(s==null?void 0:s.plate)===y.plate?"border-l-4 border-primary":"border-l-4 border-gray-500"}`,onClick:()=>i(y),children:[r.jsxs(hn,{className:"h-10 w-10",children:[r.jsx(Ch,{src:y.photo,alt:y.model}),r.jsx(yn,{className:"bg-gray-700 flex items-center justify-center",children:r.jsx(Di,{className:"h-5 w-5 text-gray-400"})})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-lg",children:y.plate}),r.jsx("span",{className:"text-sm text-muted-foreground",children:y.model})]}),(s==null?void 0:s.plate)===y.plate&&r.jsx(fc,{className:"text-primary ml-auto"})]},y.plate))})})]})})};var b2,rw="HoverCard",[VH,b5e]=ji(rw,[_u]),nw=_u(),[gme,X4]=VH(rw),KH=e=>{const{__scopeHoverCard:t,children:n,open:s,defaultOpen:a,onOpenChange:i,openDelay:o=700,closeDelay:l=300}=e,c=nw(t),d=m.useRef(0),u=m.useRef(0),f=m.useRef(!1),v=m.useRef(!1),[g,w]=To({prop:s,defaultProp:a??!1,onChange:i,caller:rw}),y=m.useCallback(()=>{clearTimeout(u.current),d.current=window.setTimeout(()=>w(!0),o)},[o,w]),b=m.useCallback(()=>{clearTimeout(d.current),!f.current&&!v.current&&(u.current=window.setTimeout(()=>w(!1),l))},[l,w]),x=m.useCallback(()=>w(!1),[w]);return m.useEffect(()=>()=>{clearTimeout(d.current),clearTimeout(u.current)},[]),r.jsx(gme,{scope:t,open:g,onOpenChange:w,onOpen:y,onClose:b,onDismiss:x,hasSelectionRef:f,isPointerDownOnContentRef:v,children:r.jsx(Tx,{...c,children:n})})};KH.displayName=rw;var WH="HoverCardTrigger",$H=m.forwardRef((e,t)=>{const{__scopeHoverCard:n,...s}=e,a=X4(WH,n),i=nw(n);return r.jsx(rp,{asChild:!0,...i,children:r.jsx(jr.a,{"data-state":a.open?"open":"closed",...s,ref:t,onPointerEnter:Kt(e.onPointerEnter,Hy(a.onOpen)),onPointerLeave:Kt(e.onPointerLeave,Hy(a.onClose)),onFocus:Kt(e.onFocus,a.onOpen),onBlur:Kt(e.onBlur,a.onClose),onTouchStart:Kt(e.onTouchStart,o=>o.preventDefault())})})});$H.displayName=WH;var xme="HoverCardPortal",[j5e,vme]=VH(xme,{forceMount:void 0}),Qy="HoverCardContent",GH=m.forwardRef((e,t)=>{const n=vme(Qy,e.__scopeHoverCard),{forceMount:s=n.forceMount,...a}=e,i=X4(Qy,e.__scopeHoverCard);return r.jsx(Na,{present:s||i.open,children:r.jsx(yme,{"data-state":i.open?"open":"closed",...a,onPointerEnter:Kt(e.onPointerEnter,Hy(i.onOpen)),onPointerLeave:Kt(e.onPointerLeave,Hy(i.onClose)),ref:t})})});GH.displayName=Qy;var yme=m.forwardRef((e,t)=>{const{__scopeHoverCard:n,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,...l}=e,c=X4(Qy,n),d=nw(n),u=m.useRef(null),f=an(t,u),[v,g]=m.useState(!1);return m.useEffect(()=>{if(v){const w=document.body;return b2=w.style.userSelect||w.style.webkitUserSelect,w.style.userSelect="none",w.style.webkitUserSelect="none",()=>{w.style.userSelect=b2,w.style.webkitUserSelect=b2}}},[v]),m.useEffect(()=>{if(u.current){const w=()=>{g(!1),c.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var b;((b=document.getSelection())==null?void 0:b.toString())!==""&&(c.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",w),()=>{document.removeEventListener("pointerup",w),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!1}}},[c.isPointerDownOnContentRef,c.hasSelectionRef]),m.useEffect(()=>{u.current&&jme(u.current).forEach(y=>y.setAttribute("tabindex","-1"))}),r.jsx(Nh,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:o,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:Kt(i,w=>{w.preventDefault()}),onDismiss:c.onDismiss,children:r.jsx(kx,{...d,...l,onPointerDown:Kt(l.onPointerDown,w=>{w.currentTarget.contains(w.target)&&g(!0),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!0}),ref:f,style:{...l.style,userSelect:v?"text":void 0,WebkitUserSelect:v?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),wme="HoverCardArrow",bme=m.forwardRef((e,t)=>{const{__scopeHoverCard:n,...s}=e,a=nw(n);return r.jsx(Px,{...a,...s,ref:t})});bme.displayName=wme;function Hy(e){return t=>t.pointerType==="touch"?void 0:e()}function jme(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)t.push(n.currentNode);return t}var Nme=KH,Cme=$H,qH=GH;const JH=Nme,YH=Cme,Z4=m.forwardRef(({className:e,align:t="center",sideOffset:n=4,...s},a)=>r.jsx(qH,{ref:a,align:t,sideOffset:n,className:Tt("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s}));Z4.displayName=qH.displayName;const _me=e=>{const t=["border-l-4 border-blue-500","border-l-4 border-green-500","border-l-4 border-red-500","border-l-4 border-yellow-500","border-l-4 border-purple-500","border-l-4 border-pink-500"];if(!e)return"border-l-4 border-gray-500";let n=0;for(let a=0;a<e.length;a++)n=e.charCodeAt(a)+((n<<5)-n);const s=Math.abs(n)%t.length;return t[s]},XH=({isOpen:e,onClose:t,selectedCharges:n,onUpdateCharges:s})=>{var b;const[a,i]=m.useState(""),{user:o}=Yn(),[l,c]=m.useState([]),{locale:d}=ir(),u=()=>ke("fetchAllCriminalCodes",{},{success:!0,criminalCodesData:[{id:"1",title:"Theft",fine:500,sentence:1,category:"Property"},{id:"2",title:"Assault",fine:1e3,sentence:2,category:"Violent"},{id:"3",title:"Speeding",fine:200,sentence:0,category:"Traffic"},{id:"4",title:"Burglary",fine:1500,sentence:3,category:"Property"},{id:"5",title:"Disorderly Conduct",fine:300,sentence:0,category:"Public Order"}]}).then(x=>{const N=x;N.success&&c(N.criminalCodesData)}).catch(x=>{console.error("Error:",x),c([])});m.useEffect(()=>{u()},[]);const f=x=>{i(x.target.value)},v=x=>{const N=n.find(k=>k.id===x.id);let S;N?S=n&&Array.isArray(n)&&n.map(k=>k.id===x.id?{...k,count:((k==null?void 0:k.count)||0)+1}:k):S=[...n,{...x,count:1}],s(S)},g=x=>{const N=n&&Array.isArray(n)&&n.map(S=>S.id===x.id?{...S,count:(S.count||0)-1}:S).filter(S=>(S.count||0)>0);s(N)},y=l.filter(x=>x.title.toLowerCase().includes(a.toLowerCase())||x.id.toLowerCase().includes(a.toLowerCase())).reduce((x,N)=>(x[N.category]||(x[N.category]=[]),x[N.category].push(N),x),{});return r.jsx(gr,{open:e,onOpenChange:t,children:r.jsxs(xr,{className:"max-w-7xl",style:{backgroundImage:`url(${Ws((b=o==null?void 0:o.permissions)==null?void 0:b.backgroundImage)})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},"aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("hr",{className:"w-1 h-10 bg-primary border-none rounded-full"}),r.jsx("h2",{className:"text-2xl font-bold",children:(d==null?void 0:d.text_select_charges)||"Select Charges"})]})})}),r.jsx("div",{className:"mb-1",children:r.jsx(ht,{placeholder:(d==null?void 0:d.text_search_charges)||"Search charges...",value:a,onChange:f,className:"w-full p-2 border border-gray-300 rounded-md text-white"})}),r.jsxs("div",{className:"mt-1",children:[r.jsx("h3",{className:"text-lg font-semibold",children:(d==null?void 0:d.text_selected_charges)||"Selected Charges"}),r.jsx(nr,{className:"h-[100px] border-none rounded-md p-2",children:r.jsx("div",{className:"flex flex-wrap items-center gap-2",children:n&&n.length>0?n&&Array.isArray(n)&&n.map(x=>r.jsxs(ze,{variant:"secondary",className:"flex items-center gap-2",children:[r.jsx("span",{className:"max-w-[150px] truncate",children:x.title}),r.jsxs("span",{className:"text-sm",children:["x",x.count]}),r.jsxs(Ae,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:()=>g(x),children:[r.jsx(mc,{className:"h-3 w-3"}),r.jsx("span",{className:"sr-only",children:"Remove"})]})]},x.id)):r.jsx("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground",children:(d==null?void 0:d.text_no_charges_selected)||"No charges selected"})})})]}),r.jsx(nr,{className:"h-[50vh] mt-4",children:y&&Object.entries(y).map(([x,N])=>r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold mb-2",children:x}),r.jsx("div",{className:"grid grid-cols-4 gap-4 p-4",children:N&&Array.isArray(N)&&N.map(S=>r.jsxs(Le,{className:`cursor-pointer transition-colors ${_me(S.category)}`,onClick:()=>v(S),children:[r.jsx(mt,{children:r.jsxs(kt,{className:"flex justify-between items-center text-lg",children:[r.jsxs(JH,{children:[r.jsx(YH,{asChild:!0,children:r.jsx(Ae,{variant:"link",children:S.id})}),r.jsx(Z4,{className:"absolute z-10 w-80 bg-gray-900 text-white",children:r.jsxs("div",{className:"flex flex-col justify-between space-x-4",children:[r.jsx("h3",{children:"Additional Penalties"}),S&&S.additonalPenalties?r.jsx("ul",{className:"list-disc list-inside text-sm text-muted-foreground",children:S&&Array.isArray(S.additonalPenalties)?S.additonalPenalties.map((k,F)=>r.jsx("li",{children:k},F)):S&&(S==null?void 0:S.additonalPenalties)&&JSON.parse(S==null?void 0:S.additonalPenalties).map((k,F)=>r.jsx("li",{children:k},F))}):r.jsx("span",{children:(d==null?void 0:d.text_no_additional_penalties)||"No additional penalties"})]})})]}),n.some(k=>k.id===S.id)&&r.jsx(fc,{className:"text-primary"})]})}),r.jsxs(Je,{children:[r.jsx("p",{className:"text-gray-300 text-sm break-all whitespace-normal",children:S.title||"No title available"}),r.jsxs("div",{className:"flex flex-col mt-2 text-sm",children:[r.jsxs("span",{className:"font-medium",children:[(d==null?void 0:d.text_fine)||"Fine",": $",S.fine]}),r.jsxs("span",{className:"font-medium",children:[(d==null?void 0:d.text_sentence)||"Sentence",": ",S.sentence," ",(d==null?void 0:d.text_months)||" months"]})]})]})]},S.id))})]},x))}),r.jsx("div",{className:"flex justify-end space-x-2 mt-4",children:r.jsx(Ae,{variant:"outline",onClick:t,children:"Close"})})]})})};var sw="DropdownMenu",[Sme,N5e]=ji(sw,[D1]),Nl=D1(),[Bme,ZH]=Sme(sw),e9=e=>{const{__scopeDropdownMenu:t,children:n,dir:s,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Nl(t),d=m.useRef(null),[u,f]=To({prop:a,defaultProp:i??!1,onChange:o,caller:sw});return r.jsx(Bme,{scope:t,triggerId:Ma(),triggerRef:d,contentId:Ma(),open:u,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(v=>!v),[f]),modal:l,children:r.jsx(Q8,{...c,open:u,onOpenChange:f,dir:s,modal:l,children:n})})};e9.displayName=sw;var t9="DropdownMenuTrigger",r9=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...a}=e,i=ZH(t9,n),o=Nl(n);return r.jsx(H8,{asChild:!0,...o,children:r.jsx(jr.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...a,ref:_d(t,i.triggerRef),onPointerDown:Kt(e.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:Kt(e.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});r9.displayName=t9;var Eme="DropdownMenuPortal",n9=e=>{const{__scopeDropdownMenu:t,...n}=e,s=Nl(t);return r.jsx(z8,{...s,...n})};n9.displayName=Eme;var s9="DropdownMenuContent",i9=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=ZH(s9,n),i=Nl(n),o=m.useRef(!1);return r.jsx(V8,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...s,ref:t,onCloseAutoFocus:Kt(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Kt(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!a.modal||u)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});i9.displayName=s9;var Ime="DropdownMenuGroup",Tme=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=Nl(n);return r.jsx(K8,{...a,...s,ref:t})});Tme.displayName=Ime;var kme="DropdownMenuLabel",a9=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=Nl(n);return r.jsx(W8,{...a,...s,ref:t})});a9.displayName=kme;var Pme="DropdownMenuItem",o9=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=Nl(n);return r.jsx($8,{...a,...s,ref:t})});o9.displayName=Pme;var Dme="DropdownMenuCheckboxItem",l9=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=Nl(n);return r.jsx(G8,{...a,...s,ref:t})});l9.displayName=Dme;var Fme="DropdownMenuRadioGroup",Lme=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=Nl(n);return r.jsx(q8,{...a,...s,ref:t})});Lme.displayName=Fme;var Rme="DropdownMenuRadioItem",c9=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=Nl(n);return r.jsx(J8,{...a,...s,ref:t})});c9.displayName=Rme;var Ome="DropdownMenuItemIndicator",d9=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=Nl(n);return r.jsx(Y8,{...a,...s,ref:t})});d9.displayName=Ome;var Mme="DropdownMenuSeparator",u9=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=Nl(n);return r.jsx(X8,{...a,...s,ref:t})});u9.displayName=Mme;var Ume="DropdownMenuArrow",Qme=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=Nl(n);return r.jsx(Z8,{...a,...s,ref:t})});Qme.displayName=Ume;var Hme="DropdownMenuSubTrigger",A9=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=Nl(n);return r.jsx(eQ,{...a,...s,ref:t})});A9.displayName=Hme;var zme="DropdownMenuSubContent",h9=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=Nl(n);return r.jsx(tQ,{...a,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});h9.displayName=zme;var Vme=e9,Kme=r9,Wme=n9,f9=i9,m9=a9,p9=o9,g9=l9,x9=c9,v9=d9,y9=u9,w9=A9,b9=h9;const qA=Vme,JA=Kme,$me=m.forwardRef(({className:e,inset:t,children:n,...s},a)=>r.jsxs(w9,{ref:a,className:Tt("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...s,children:[n,r.jsx(Vg,{className:"ml-auto"})]}));$me.displayName=w9.displayName;const Gme=m.forwardRef(({className:e,...t},n)=>r.jsx(b9,{ref:n,className:Tt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Gme.displayName=b9.displayName;const Yu=m.forwardRef(({className:e,sideOffset:t=4,...n},s)=>r.jsx(Wme,{children:r.jsx(f9,{ref:s,sideOffset:t,className:Tt("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Yu.displayName=f9.displayName;const ga=m.forwardRef(({className:e,inset:t,...n},s)=>r.jsx(p9,{ref:s,className:Tt("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n}));ga.displayName=p9.displayName;const qme=m.forwardRef(({className:e,children:t,checked:n,...s},a)=>r.jsxs(g9,{ref:a,className:Tt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(v9,{children:r.jsx(fc,{className:"h-4 w-4"})})}),t]}));qme.displayName=g9.displayName;const Jme=m.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(x9,{ref:s,className:Tt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(v9,{children:r.jsx(yx,{className:"h-2 w-2 fill-current"})})}),t]}));Jme.displayName=x9.displayName;const Yme=m.forwardRef(({className:e,inset:t,...n},s)=>r.jsx(m9,{ref:s,className:Tt("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));Yme.displayName=m9.displayName;const Xme=m.forwardRef(({className:e,...t},n)=>r.jsx(y9,{ref:n,className:Tt("-mx-1 my-1 h-px bg-muted",e),...t}));Xme.displayName=y9.displayName;var iw="Collapsible",[Zme,j9]=ji(iw),[epe,eB]=Zme(iw),N9=m.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:s,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[c,d]=To({prop:s,defaultProp:a??!1,onChange:o,caller:iw});return r.jsx(epe,{scope:n,disabled:i,contentId:Ma(),open:c,onOpenToggle:m.useCallback(()=>d(u=>!u),[d]),children:r.jsx(jr.div,{"data-state":rB(c),"data-disabled":i?"":void 0,...l,ref:t})})});N9.displayName=iw;var C9="CollapsibleTrigger",_9=m.forwardRef((e,t)=>{const{__scopeCollapsible:n,...s}=e,a=eB(C9,n);return r.jsx(jr.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":rB(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...s,ref:t,onClick:Kt(e.onClick,a.onOpenToggle)})});_9.displayName=C9;var tB="CollapsibleContent",S9=m.forwardRef((e,t)=>{const{forceMount:n,...s}=e,a=eB(tB,e.__scopeCollapsible);return r.jsx(Na,{present:n||a.open,children:({present:i})=>r.jsx(tpe,{...s,ref:t,present:i})})});S9.displayName=tB;var tpe=m.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:s,children:a,...i}=e,o=eB(tB,n),[l,c]=m.useState(s),d=m.useRef(null),u=an(t,d),f=m.useRef(0),v=f.current,g=m.useRef(0),w=g.current,y=o.open||l,b=m.useRef(y),x=m.useRef(void 0);return m.useEffect(()=>{const N=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(N)},[]),Zi(()=>{const N=d.current;if(N){x.current=x.current||{transitionDuration:N.style.transitionDuration,animationName:N.style.animationName},N.style.transitionDuration="0s",N.style.animationName="none";const S=N.getBoundingClientRect();f.current=S.height,g.current=S.width,b.current||(N.style.transitionDuration=x.current.transitionDuration,N.style.animationName=x.current.animationName),c(s)}},[o.open,s]),r.jsx(jr.div,{"data-state":rB(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!y,...i,ref:u,style:{"--radix-collapsible-content-height":v?`${v}px`:void 0,"--radix-collapsible-content-width":w?`${w}px`:void 0,...e.style},children:y&&a})});function rB(e){return e?"open":"closed"}var rpe=N9,npe=_9,spe=S9,kd="Accordion",ipe=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[nB,ape,ope]=Zm(kd),[aw,C5e]=ji(kd,[ope,j9]),sB=j9(),B9=kr.forwardRef((e,t)=>{const{type:n,...s}=e,a=s,i=s;return r.jsx(nB.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?r.jsx(upe,{...i,ref:t}):r.jsx(dpe,{...a,ref:t})})});B9.displayName=kd;var[E9,lpe]=aw(kd),[I9,cpe]=aw(kd,{collapsible:!1}),dpe=kr.forwardRef((e,t)=>{const{value:n,defaultValue:s,onValueChange:a=()=>{},collapsible:i=!1,...o}=e,[l,c]=To({prop:n,defaultProp:s??"",onChange:a,caller:kd});return r.jsx(E9,{scope:e.__scopeAccordion,value:kr.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:kr.useCallback(()=>i&&c(""),[i,c]),children:r.jsx(I9,{scope:e.__scopeAccordion,collapsible:i,children:r.jsx(T9,{...o,ref:t})})})}),upe=kr.forwardRef((e,t)=>{const{value:n,defaultValue:s,onValueChange:a=()=>{},...i}=e,[o,l]=To({prop:n,defaultProp:s??[],onChange:a,caller:kd}),c=kr.useCallback(u=>l((f=[])=>[...f,u]),[l]),d=kr.useCallback(u=>l((f=[])=>f.filter(v=>v!==u)),[l]);return r.jsx(E9,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:d,children:r.jsx(I9,{scope:e.__scopeAccordion,collapsible:!0,children:r.jsx(T9,{...i,ref:t})})})}),[Ape,ow]=aw(kd),T9=kr.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:s,dir:a,orientation:i="vertical",...o}=e,l=kr.useRef(null),c=an(l,t),d=ape(n),f=bh(a)==="ltr",v=Kt(e.onKeyDown,g=>{var D;if(!ipe.includes(g.key))return;const w=g.target,y=d().filter(H=>{var K;return!((K=H.ref.current)!=null&&K.disabled)}),b=y.findIndex(H=>H.ref.current===w),x=y.length;if(b===-1)return;g.preventDefault();let N=b;const S=0,k=x-1,F=()=>{N=b+1,N>k&&(N=S)},$=()=>{N=b-1,N<S&&(N=k)};switch(g.key){case"Home":N=S;break;case"End":N=k;break;case"ArrowRight":i==="horizontal"&&(f?F():$());break;case"ArrowDown":i==="vertical"&&F();break;case"ArrowLeft":i==="horizontal"&&(f?$():F());break;case"ArrowUp":i==="vertical"&&$();break}const U=N%x;(D=y[U].ref.current)==null||D.focus()});return r.jsx(Ape,{scope:n,disabled:s,direction:a,orientation:i,children:r.jsx(nB.Slot,{scope:n,children:r.jsx(jr.div,{...o,"data-orientation":i,ref:c,onKeyDown:s?void 0:v})})})}),zy="AccordionItem",[hpe,iB]=aw(zy),k9=kr.forwardRef((e,t)=>{const{__scopeAccordion:n,value:s,...a}=e,i=ow(zy,n),o=lpe(zy,n),l=sB(n),c=Ma(),d=s&&o.value.includes(s)||!1,u=i.disabled||e.disabled;return r.jsx(hpe,{scope:n,open:d,disabled:u,triggerId:c,children:r.jsx(rpe,{"data-orientation":i.orientation,"data-state":O9(d),...l,...a,ref:t,disabled:u,open:d,onOpenChange:f=>{f?o.onItemOpen(s):o.onItemClose(s)}})})});k9.displayName=zy;var P9="AccordionHeader",D9=kr.forwardRef((e,t)=>{const{__scopeAccordion:n,...s}=e,a=ow(kd,n),i=iB(P9,n);return r.jsx(jr.h3,{"data-orientation":a.orientation,"data-state":O9(i.open),"data-disabled":i.disabled?"":void 0,...s,ref:t})});D9.displayName=P9;var e5="AccordionTrigger",F9=kr.forwardRef((e,t)=>{const{__scopeAccordion:n,...s}=e,a=ow(kd,n),i=iB(e5,n),o=cpe(e5,n),l=sB(n);return r.jsx(nB.ItemSlot,{scope:n,children:r.jsx(npe,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...l,...s,ref:t})})});F9.displayName=e5;var L9="AccordionContent",R9=kr.forwardRef((e,t)=>{const{__scopeAccordion:n,...s}=e,a=ow(kd,n),i=iB(L9,n),o=sB(n);return r.jsx(spe,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...o,...s,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});R9.displayName=L9;function O9(e){return e?"open":"closed"}var fpe=B9,mpe=k9,ppe=D9,M9=F9,U9=R9;const Q9=fpe,aB=m.forwardRef(({className:e,...t},n)=>r.jsx(mpe,{ref:n,className:Tt("border-b",e),...t}));aB.displayName="AccordionItem";const oB=m.forwardRef(({className:e,children:t,...n},s)=>r.jsx(ppe,{className:"flex",children:r.jsxs(M9,{ref:s,className:Tt("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,r.jsx($A,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));oB.displayName=M9.displayName;const lB=m.forwardRef(({className:e,children:t,...n},s)=>r.jsx(U9,{ref:s,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:r.jsx("div",{className:Tt("pb-4 pt-0",e),children:t})}));lB.displayName=U9.displayName;function lw(){return r.jsxs("div",{className:"flex-1 space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(Se,{className:"w-1 h-10"}),r.jsx(Se,{className:"h-8 w-48"})]}),r.jsx("div",{className:"grid grid-cols-6 gap-4 grid-rows-1 h-full",children:r.jsxs(Le,{className:"col-span-6 row-span-1 bg-card/50  border-primary/20 max-h-[calc(95vh-200px)] overflow-hidden text-white p-4",children:[r.jsx("div",{className:"flex items-center space-x-2 mb-4",children:r.jsx(Se,{className:"h-10 w-full"})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[...Array(8)].map((e,t)=>r.jsxs(Le,{className:"overflow-hidden",children:[r.jsxs(mt,{className:"p-4 pb-2",children:[r.jsxs("div",{className:"flex justify-between items-start space-x-2",children:[r.jsx(Se,{className:"h-6 w-20"}),r.jsx(Se,{className:"h-6 w-20"}),r.jsx(Se,{className:"h-6 w-20"})]}),r.jsx(Se,{className:"h-6 w-3/4 mt-2"})]}),r.jsxs(Je,{className:"p-4 pt-0",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Se,{className:"h-4 w-4"}),r.jsx(Se,{className:"h-4 w-24"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Se,{className:"h-4 w-4"}),r.jsx(Se,{className:"h-4 w-32"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Se,{className:"h-4 w-4"}),r.jsx(Se,{className:"h-4 w-28"})]})]}),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsx("div",{className:"flex -space-x-2",children:[...Array(3)].map((n,s)=>r.jsx(Se,{className:"h-8 w-8 rounded-full border-2 border-background"},s))}),r.jsx(Se,{className:"h-8 w-8"})]})]})]},t))}),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsx(Se,{className:"h-4 w-48"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Se,{className:"h-8 w-20"}),r.jsx(Se,{className:"h-8 w-20"})]})]})]})})]})}const j2={reports:[{reportId:"8",reportName:"Bank Robbery | 123 Main St | 2021-01-01 12:00:00 | 1234567890",location:"123 Main St",description:"This is a test report",category:"robbery",dateTime:"2021-01-01 12:00:00",isLocked:!1,evidences:[{id:"1",type:"image",description:"This is a test evidence",url:"https://kappa.lol/8ut4U"},{id:"2",type:"video",description:"This is a test evidence",url:"https://kappa.lol/8ut4U"},{id:"3",type:"audio",description:"This is a test evidence",url:"https://kappa.lol/8ut4U"}],peopleInvolved:[{name:"John Doe",citizenId:"1234567890",category:"Officer",charges:[]},{name:"Jane Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Criminal",charges:[{title:"Assault",count:2,sentence:100,fine:1e3,jailReduction:0}]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]}],vehiclesInvolved:[{model:"Ford F150",plate:"ABC123",category:"Civilian",charges:[]}]},{reportId:"10",reportName:"Classified Investigation",location:"Restricted Location",description:"This report is classified",category:"classified",dateTime:"2021-01-01 12:00:00",isLocked:!0,lockReason:"Ongoing investigation - restricted access",evidences:[],peopleInvolved:[],vehiclesInvolved:[]},{reportId:"6",reportName:"Internal Affairs Matter",location:"Police Station",description:"Internal investigation",category:"internal",dateTime:"2021-01-02 14:30:00",isLocked:!0,lockReason:"Internal Affairs - supervisor access only",evidences:[],peopleInvolved:[],vehiclesInvolved:[]},{reportId:"1278474937437",reportName:"Bank Robbery",location:"123 Main St",description:"This is a test report",dateTime:"2021-01-01 12:00:00",isLocked:!1,evidences:[],peopleInvolved:[{name:"John Doe",citizenId:"1234567890",category:"Officer",charges:[]},{name:"Jane Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Criminal",charges:[{title:"Assault",count:2,sentence:100,fine:1e3,jailReduction:0}]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]}],vehiclesInvolved:[]},{reportId:"1278474937437",reportName:"Bank Robbery",location:"123 Main St",description:"This is a test report",dateTime:"2021-01-01 12:00:00",isLocked:!1,evidences:[],peopleInvolved:[{name:"John Doe",citizenId:"1234567890",category:"Officer",charges:[]},{name:"Jane Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Criminal",charges:[{title:"Assault",count:1,sentence:100,fine:1e3,jailReduction:0}]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]}],vehiclesInvolved:[]},{reportId:"1278474937437",reportName:"Bank Robbery",location:"123 Main St",description:"This is a test report",dateTime:"2021-01-01 12:00:00",isLocked:!1,evidences:[],peopleInvolved:[{name:"John Doe",citizenId:"1234567890",category:"Officer",charges:[]},{name:"Jane Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Criminal",charges:[{title:"Assault",count:1,sentence:100,fine:1e3,jailReduction:0}]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]}],vehiclesInvolved:[]},{reportId:"1",reportName:"Bank Robbery",location:"123 Main St",description:"This is a test report",dateTime:"2021-01-01 12:00:00",isLocked:!1,evidences:[],peopleInvolved:[{name:"John Doe",citizenId:"1234567890",category:"Officer",charges:[]},{name:"Jane Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Criminal",charges:[{title:"Assault",count:1,sentence:100,fine:1e3,jailReduction:0}]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]}],vehiclesInvolved:[]},{reportId:"1",reportName:"Bank Robbery",location:"123 Main St",description:"This is a test report",dateTime:"2021-01-01 12:00:00",isLocked:!1,evidences:[],peopleInvolved:[{name:"John Doe",citizenId:"1234567890",category:"Officer",charges:[]},{name:"Jane Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Criminal",charges:[{title:"Assault",count:1,sentence:100,fine:1e3,jailReduction:0}]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]}],vehiclesInvolved:[]},{reportId:"1",reportName:"Bank Robbery",location:"123 Main St",description:"This is a test report",dateTime:"2021-01-01 12:00:00",isLocked:!1,evidences:[],peopleInvolved:[{name:"John Doe",citizenId:"1234567890",category:"Officer",charges:[]},{name:"Jane Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Criminal",charges:[{title:"Assault",count:1,sentence:100,fine:1e3,jailReduction:0}]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]}],vehiclesInvolved:[]},{reportId:"1",reportName:"Bank Robbery",location:"123 Main St",description:"This is a test report",dateTime:"2021-01-01 12:00:00",isLocked:!1,evidences:[],peopleInvolved:[{name:"John Doe",citizenId:"1234567890",category:"Officer",charges:[]},{name:"Jane Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Criminal",charges:[{title:"Assault",count:1,sentence:100,fine:1e3,jailReduction:0}]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]}],vehiclesInvolved:[]}]},N2={reportId:"1278474937437",reportName:"Bank Robbery | 123 Main St | 2021-01-01 12:00:00 | 1234567890",location:"123 Main St",description:"This is a test report",evidenceLockerNumber:"21",dateTime:"2021-01-01 12:00:00",evidences:[{id:"1",type:"image",description:"This is a test evidence",url:""},{id:"2",type:"video",description:"This is a test evidence",url:"https://kappa.lol/8ut4U"},{id:"3",type:"audio",description:"This is a test evidence",url:"https://kappa.lol/8ut4U"}],peopleInvolved:[{name:"John Doe",citizenId:"1234567890",category:"Officer",charges:[]},{name:"Jane Doe",citizenId:"1234567890",category:"Criminal",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Criminal",charges:[{title:"Assault",count:2,sentence:100,fine:1e3,jailReduction:0},{title:"Assault",count:2,sentence:100,fine:1e3,jailReduction:0},{title:"Assault",count:2,sentence:100,fine:1e3,jailReduction:0},{title:"Assault",count:2,sentence:100,fine:1e3,jailReduction:0},{title:"Assault",count:2,sentence:100,fine:1e3,jailReduction:0},{title:"Assault",count:2,sentence:100,fine:1e3,jailReduction:0},{title:"Assault",count:2,sentence:100,fine:1e3,jailReduction:0}]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]}],vehiclesInvolved:[{model:"Ford F150",plate:"ABC123",category:"Civilian",charges:[]}],lockerItems:[{id:"1",name:"Gun",amount:1,description:"Found at the crime scene",imageUrl:"https://plus.unsplash.com/premium_photo-1663075817635-90ecf218ee5f?fm=jpg&q=60&w=3000&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8Z3VufGVufDB8fDB8fHww"},{id:"2",name:"Knife",amount:1,description:"Used in the assault",imageUrl:"https://plus.unsplash.com/premium_photo-1663075817635-90ecf218ee5f?fm=jpg&q=60&w=3000&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8Z3VufGVufDB8fDB8fHww"},{id:"3",name:"Drugs",amount:5,description:"Seized from the suspect",imageUrl:"https://plus.unsplash.com/premium_photo-1663075817635-90ecf218ee5f?fm=jpg&q=60&w=3000&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8Z3VufGVufDB8fDB8fHww"},{id:"4",name:"Phone",amount:1,description:"Found on the suspect",imageUrl:"https://plus.unsplash.com/premium_photo-1663075817635-90ecf218ee5f?fm=jpg&q=60&w=3000&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8Z3VufGVufDB8fDB8fHww"},{id:"5",name:"Wallet",amount:1,description:"Recovered from the crime scene",imageUrl:"https://plus.unsplash.com/premium_photo-1663075817635-90ecf218ee5f?fm=jpg&q=60&w=3000&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8Z3VufGVufDB8fDB8fHww"},{id:"6",name:"Jewelry",amount:2,description:"Stolen items recovered",imageUrl:"https://plus.unsplash.com/premium_photo-1663075817635-90ecf218ee5f?fm=jpg&q=60&w=3000&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8Z3VufGVufDB8fDB8fHww"},{id:"7",name:"Cash",amount:1e3,description:"Seized from the suspect",imageUrl:"https://plus.unsplash.com/premium_photo-1663075817635-90ecf218ee5f?fm=jpg&q=60&w=3000&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8Z3VufGVufDB8fDB8fHww"},{id:"8",name:"Laptop",amount:1,description:"Found at the crime scene",imageUrl:"https://plus.unsplash.com/premium_photo-1663075817635-90ecf218ee5f?fm=jpg&q=60&w=3000&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8Z3VufGVufDB8fDB8fHww"},{id:"9",name:"Watch",amount:1,description:"Stolen item recovered",imageUrl:"https://plus.unsplash.com/premium_photo-1663075817635-90ecf218ee5f?fm=jpg&q=60&w=3000&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8Z3VufGVufDB8fDB8fHww"},{id:"10",name:"Bicycle",amount:1,description:"Recovered from the crime scene",imageUrl:"https://plus.unsplash.com/premium_photo-1663075817635-90ecf218ee5f?fm=jpg&q=60&w=3000&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8Z3VufGVufDB8fDB8fHww"},{id:"11",name:"Tools",amount:5,description:"Used in the burglary",imageUrl:"https://plus.unsplash.com/premium_photo-1663075817635-90ecf218ee5f?fm=jpg&q=60&w=3000&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8Z3VufGVufDB8fDB8fHww"},{id:"12",name:"Clothing",amount:3,description:"Found at the crime scene",imageUrl:"https://plus.unsplash.com/premium_photo-1663075817635-90ecf218ee5f?fm=jpg&q=60&w=3000&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8Z3VufGVufDB8fDB8fHww"},{id:"13",name:"Electronics",amount:2,description:"Stolen items recovered",imageUrl:"https://plus.unsplash.com/premium_photo-1663075817635-90ecf218ee5f?fm=jpg&q=60&w=3000&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8Z3VufGVufDB8fDB8fHww"}]},gpe={citizens:[{citizenid:"1",firstname:"John",lastname:"Doe",job:"Unemployed",gender:"male",photo:"https://kappa.lol/8ut4U",birthdate:"1990-01-01",bankAccount:"1234567890",phoneNumber:"123-456-7890",nationality:"American"},{citizenid:"2",firstname:"John",lastname:"Doe",job:"Unemployed",gender:"male",photo:"https://kappa.lol/8ut4U",birthdate:"1990-01-01",bankAccount:"1234567890",phoneNumber:"123-456-7890",nationality:"American"}]},xpe={exportData:{bcso:{label:"BCSO",warrantTemplateUrl:"https://kappa.lol/8ut4U"},sasp:{label:"SASP",warrantTemplateUrl:"https://kappa.lol/zQ-_6"},lspd:{label:"LSPD",warrantTemplateUrl:"https://kappa.lol/blm-9"},ambulance:{label:"EMS",warrantTemplateUrl:"https://kappa.lol/blm-9"}}},C2=10,Jf=[0,5,10,15,20,25];function vpe(){var no,Rn,so;const[e,t]=m.useState(!1),[n,s]=m.useState(!1),[a,i]=m.useState(!1),[o,l]=m.useState(!1),[c,d]=m.useState("Criminal"),u=Vc(),{tabs:f,setTabData:v}=ko(),g=li(),{data:w}=g.state||{},[y,b]=m.useState([]),{toast:x}=ys(),{user:N,setUserField:S,setUser:k}=Yn(),[F,$]=m.useState(!1),[U,D]=m.useState([]),[H,K]=m.useState({id:"",type:"image",url:"",description:""}),B=(no=N==null?void 0:N.permissions)==null?void 0:no.Pages.reports;if(!B||!B.view)return null;const R=me=>me.canAccessReport?(N==null?void 0:N.hasManagePermission)||!1:!0,[Z,te]=m.useState(!1),[ye,de]=m.useState(!1),[le,Q]=m.useState(""),[oe,ce]=m.useState(""),[ee,M]=m.useState(""),[E,q]=m.useState(null),[se,re]=m.useState([]),[G,ue]=m.useState(!1),[ie,Ee]=m.useState([]),[He,rt]=m.useState({reportName:"",officerId:N==null?void 0:N.id,location:"",category:"",description:"",dateTime:new Date().toISOString(),evidences:[],peopleInvolved:[],vehiclesInvolved:[]}),[we,Ve]=m.useState(1),[Re,je]=m.useState(ee),[Mt,Bt]=m.useState(0),[ct,vt]=m.useState(oe),[wt,Fe]=m.useState([]),[Oe,_e]=m.useState(le),[nt,ut]=m.useState(!1),[jt,zt]=m.useState(!1),[Be,Ye]=m.useState(""),[Ue,Lt]=m.useState(!1),[Et,hr]=m.useState(null),[ur,Cr]=m.useState(0),[Tr,fr]=m.useState(!1),[dr,Ke]=m.useState(null),[qt,Ge]=m.useState(0),[st,it]=m.useState(!1),[Pt,_r]=m.useState([]),[ot,dt]=m.useState(1),er=5,[Rt,xn]=m.useState(""),[qr,vn]=m.useState(""),[Er,Gt]=m.useState(1),[kn,ps]=m.useState(!1),[is,en]=m.useState(!1),[ws,Pn]=m.useState(!1),[qn,Zn]=m.useState(!1),{tabletData:Ln}=jf(),wr=(Ln==null?void 0:Ln.hasCustomEvidence)||!1,{isCollaborating:We,activeEditors:Ht,recentChanges:mr,startCollaborating:jn,stopCollaborating:Un,sendChanges:Ur,applyChanges:Jr,socket:Xn}=Z1((E==null?void 0:E.reportId)||null,"report","police"),[ds,Nn]=m.useState(!1),[Te,Nt]=m.useState(""),[Jt,Pr]=m.useState(!1),[Cn,Kr]=m.useState([]),{locale:Y}=ir(),Ls=m.useCallback((me,At)=>(ps(!0),ke("fetchEvidenceCases",{page:me,query:At,limit:er}).then(lr=>{lr!=null&&lr.success&&(_r(lr.cases),Gt(lr.totalCount))}).catch(lr=>{console.error("Error fetching cases:",lr),_r([]),Gt(0)}).finally(()=>{ps(!1)})),[]);m.useEffect(()=>{const me=setTimeout(()=>{vn(Rt)},500);return()=>clearTimeout(me)},[Rt]),m.useEffect(()=>{st&&Ls(ot,qr)},[ot,qr,st,Ls]);const Qi=me=>{ro(me.reportId),ut(!1)},Qs=me=>me.split(" ").map(At=>At[0]).join("").toUpperCase(),gi=me=>{me&&rt(At=>At&&{...At,description:me})},Wr=me=>{me&&(We&&Ur({description:me},"reportDetails"),q(At=>At&&{...At,description:me}))},wn=(me,At)=>ke("fetchVehicles",{page:me,query:At},{vehiclesData:$_}).then(lr=>{lr?Fe(lr.vehiclesData):(console.error("No response received."),Fe([]))}).catch(lr=>{console.error("Error:",lr),Fe([])}),Ni=()=>{de(!0)},Pe=me=>{const At=y[me];u(`/export-report/${me}`,{state:{departmentData:At,report:E,webhookDump:on}})};m.useEffect(()=>{const me=setTimeout(()=>{_e(le)},500);return()=>{clearTimeout(me)}},[le]),m.useEffect(()=>{wn(1,Oe)},[Oe]);const Ct=Math.ceil(Mt/C2);m.useEffect(()=>{const me=setTimeout(()=>{vt(oe)},500);return()=>{clearTimeout(me)}},[oe]);const tr=(me,At)=>ke("fetchCitizens",{page:me,query:At},gpe).then(lr=>{Ee(lr.citizens)}).catch(lr=>{console.error("Error:",lr),Ee([])});m.useEffect(()=>{tr(1,ct)},[ct]),m.useEffect(()=>{const me=setTimeout(()=>{je(ee)},500);return()=>{clearTimeout(me)}},[ee]);const Hr=me=>{me.key==="Enter"&&je(ee)},[on,nn]=m.useState(null);function us(){return ke("getExportDepartments",{},xpe).then(me=>{if(me){const At=me.exportData;b(At),nn(me.webhook)}}).catch(me=>{console.error("Error:",me)})}m.useEffect(()=>{pt(),us()},[]);const fn=(me,At)=>ke("fetchReports",{page:me,query:At},j2).then(lr=>{const{reports:br,totalCount:Qn}=lr;re(br&&br.map(Vr=>({...Vr,peopleInvolved:Array.isArray(Vr.peopleInvolved)?Vr.peopleInvolved:JSON.parse(Vr.peopleInvolved||"[]")}))),Bt(Qn)}).catch(lr=>{console.error("Error:",lr),re([])});m.useEffect(()=>{we!==1&&Ve(1)},[Re]),m.useEffect(()=>{fn(we,Re)},[we,Re]),m.useEffect(()=>{if(w){t(!0),q(Array.isArray(w)||typeof w=="object"?w:JSON.parse(w||"[]"));const me=setTimeout(()=>{t(!1)},1e3);return()=>clearTimeout(me)}},[w]);const Hs=(me,At)=>{let lr;ke("fetchReportDataByReportId",{reportId:At},N2).then(br=>{if(br&&br.success){br=br.data;const Qn={...me,officerId:br.officerId||me.officerId,evidenceLockerNumber:(br==null?void 0:br.evidenceLockerNumber)||null,location:br.location||me.location||null,description:br.description||me.description||"",evidences:Array.isArray(br.evidences)?br.evidences:JSON.parse(br.evidences||"[]"),peopleInvolved:Array.isArray(br.peopleInvolved)?br.peopleInvolved:JSON.parse(br.peopleInvolved||"[]"),vehiclesInvolved:Array.isArray(br.vehiclesInvolved)?br.vehiclesInvolved:JSON.parse(br.vehiclesInvolved||"[]")};lr=Qn==null?void 0:Qn.evidenceLockerNumber,Kr(br.reportAccess||[]),v(Qn,At),q(Qn),lr&&ke("fetchLockerItems",{lockerNumber:lr},N2).then(Vr=>{if(Vr){const In=Array.isArray(Vr==null?void 0:Vr.lockerItems)?Vr==null?void 0:Vr.lockerItems:JSON.parse((Vr==null?void 0:Vr.lockerItems)||"[]"),zi={...Qn,lockerItems:In.map(sa=>({...sa,metadata:typeof sa.metadata=="string"?JSON.parse(sa.metadata):sa.metadata}))};v(zi,At),q(zi)}else console.error("No response received for locker items.")}).catch(Vr=>{console.error("Error:",Vr)})}else x({title:"Error",description:(br==null?void 0:br.message)||"unable to open report"}),console.error(br.message||"No response received.")}).catch(br=>{console.error("Error:",br),q(null)})},[Ci,Qa]=m.useState(null),go=(me,At)=>{Qa(At),Pn(!0)},na=()=>{const me={...He,reportId:"",description:He.description||"",dateTime:new Date().toISOString(),evidences:[],peopleInvolved:[],vehiclesInvolved:[]};return ke("addNewReport",{reportToAdd:me},j2).then(At=>{At&&At.success?(me.reportId=At.reportId,re([me,...se]),rt({reportName:"",officerId:N==null?void 0:N.id,location:"",category:"",description:"",dateTime:new Date().toISOString(),evidences:[],peopleInvolved:[],vehiclesInvolved:[]}),x({title:(Y==null?void 0:Y.text_report_created)||"Report Created",description:(Y==null?void 0:Y.text_report_created_description)||"The report has been successfully created."}),te(!1)):console.error("No response received.")}).catch(At=>{console.error("Error:",At)})},ni=me=>{me&&!G?jn():!me&&G&&Un(),ue(me)},_i=()=>{if(E){const me=((E==null?void 0:E.evidences)||[]).filter(Vr=>{var In,zi;return((In=Vr.url)==null?void 0:In.trim())!==""||((zi=Vr.description)==null?void 0:zi.trim())!==""}),At=((E==null?void 0:E.peopleInvolved)||[]).filter(Vr=>{var In;return((In=Vr.citizenId)==null?void 0:In.trim())!==""}),lr=((E==null?void 0:E.vehiclesInvolved)||[]).filter(Vr=>{var In;return((In=Vr.plate)==null?void 0:In.trim())!==""}),br=E==null?void 0:E.lockerItems,Qn={reportId:E==null?void 0:E.reportId,reportName:E==null?void 0:E.reportName,location:E==null?void 0:E.location,description:E==null?void 0:E.description,dateTime:E==null?void 0:E.dateTime,evidences:me||[],peopleInvolved:At,vehiclesInvolved:lr,evidenceLockerNumber:E==null?void 0:E.evidenceLockerNumber,lockerItems:br};return ke("saveCurrentReport",Qn,N2).then(Vr=>{Vr?(re(se&&(se||[]).map(In=>In.reportId===(E==null?void 0:E.reportId)?E:In)),q(Qn||[]),v(Qn,Qn==null?void 0:Qn.reportId),ni(!1),x({title:(Y==null?void 0:Y.text_report_updated)||"Report Updated",description:(Y==null?void 0:Y.text_report_updated_description)||"The report has been successfully updated."})):console.error("No response received.")}).catch(Vr=>{console.error("Error:",Vr)})}},ro=me=>ke("deleteReport",{reportId:me},j2).then(At=>{At?(re(se.filter(lr=>lr.reportId!==me)),q(null),ue(!1),x({title:(Y==null?void 0:Y.text_report_deleted)||"Report Deleted",description:(Y==null?void 0:Y.text_report_deleted_description)||"The report has been successfully deleted."})):console.error("No response received.")}).catch(At=>{console.error("Error:",At)}),as=(me,At,lr)=>{if(E){const br={name:me||"",citizenId:At||"",category:lr||"Civilian",charges:[]};q({...E,peopleInvolved:[...(E==null?void 0:E.peopleInvolved)||[],br]}),We&&Ur({person:br},"addPerson")}},Si=(me,At)=>{if(E){const lr=[...(E==null?void 0:E.peopleInvolved)||[]];lr[me]=At,q({...E,peopleInvolved:lr}),We&&Ur({index:me,person:At},"updatePerson")}},Bi=me=>{if(E){const At=((E==null?void 0:E.peopleInvolved)??[]).filter((lr,br)=>br!==me);q({...E,peopleInvolved:At}),We&&Ur({index:me},"deletePerson")}},sn=(me,At)=>{if(E){const lr={plate:me,model:At};q({...E,vehiclesInvolved:[...(E==null?void 0:E.vehiclesInvolved)||[],lr]}),We&&Ur({vehicle:lr},"addVehicle")}},ln=me=>{if(E){const At=((E==null?void 0:E.vehiclesInvolved)??[]).filter((lr,br)=>br!==me);q({...E,vehiclesInvolved:At}),We&&Ur({index:me},"deleteVehicle")}},Ys=()=>{var br;if(!E)return;const me=Date.now().toString(),At={...H,id:me},lr=[...(E==null?void 0:E.evidences)||[],At];((br=At.url)==null?void 0:br.trim())==""&&(At.type="text"),q({...E,evidences:lr}),We&&Ur({evidence:At},"addEvidence"),K({id:"",type:"image",url:"",description:""}),$(!1)},Vn=me=>{if(E){const At=((E==null?void 0:E.evidences)??[]).filter((lr,br)=>br!==me);q({...E,evidences:At}),We&&Ur({index:me},"deleteEvidence")}},Ba=me=>{const At=me.charges.reduce((Vr,In)=>Vr+In.sentence*(In.count||1),0),br=me.charges.reduce((Vr,In)=>Vr+In.fine*(In.count||1),0)*(1-(me.fineReduction??0)/100),Qn=Math.max(0,At*(1-(me.jailReduction??0)/100));return{totalSentence:Number.parseFloat(Qn.toFixed(1)),totalFine:Number.parseFloat(br.toFixed(1))}},Ha=me=>{Ye(me),zt(!0)},za=E&&(E==null?void 0:E.peopleInvolved)&&Array.isArray(E==null?void 0:E.peopleInvolved)&&((Rn=E==null?void 0:E.peopleInvolved)==null?void 0:Rn.map((me,At)=>({...me,index:At})))||[],Hi=za.filter(me=>me.category==="Criminal"),si=za.filter(me=>me.category==="Officer"),he=za.filter(me=>me.category==="Civilian"),pt=()=>ke("fetchReportsCategory",{},{reportsCategory:[{label:"Traffic",type:"traffic"},{label:"Assault",type:"assault"},{label:"Robbery",type:"robbery"},{label:"Murder",type:"murder"},{label:"Kidnapping",type:"kidnapping"},{label:"Drug Offense",type:"drugOffense"},{label:"Weapon Offense",type:"weaponOffense"}]}).then(me=>{D(me.reportsCategory)}).catch(me=>{console.error("Error fetching reports category:",me),D([{label:"Traffic",type:"traffic"},{label:"Assault",type:"assault"},{label:"Robbery",type:"robbery"},{label:"Murder",type:"murder"},{label:"Kidnapping",type:"kidnapping"},{label:"Drug Offense",type:"drugOffense"},{label:"Weapon Offense",type:"weaponOffense"}])});m.useEffect(()=>{if(Ln!=null&&Ln.CollaborationEditing&&(Ln!=null&&Ln.useWebsockets)&&We&&Xn&&E!=null&&E.reportId){const me=At=>{try{const lr=JSON.parse(At);if(lr.reportId!==(E==null?void 0:E.reportId))return;if(lr.action==="receiveUpdate"){const br=lr.change,Qn=Jr(E,br.changes,br.changeType);Qn&&q(Qn)}}catch(lr){console.error("Error processing socket message:",lr)}};return Xn.on("message",me),()=>{Xn.off("message",me)}}},[We,Xn,E==null?void 0:E.reportId,Jr,E]),m.useEffect(()=>{if(Ln!=null&&Ln.CollaborationEditing&&!(Ln!=null&&Ln.useWebsockets)){const me=At=>{const{data:lr}=At;if(lr.type==="collabUpdate"&&E){const br=Jr(E,lr.changes,lr.changeType);br&&q(br)}};return window.addEventListener("message",me),()=>window.removeEventListener("message",me)}},[E,Jr]);const Wt=me=>{const{totalSentence:At}=Ba(me);hr(me),Cr(At),Lt(!0)},Ar=me=>{const{totalFine:At}=Ba(me);Ke(me),Ge(At),fr(!0)},An=(me,At)=>{const lr={id:At,name:me};Kr([...Cn,lr]),ke("grantReportAccess",{reportId:E==null?void 0:E.reportId,userId:At,reportType:"report",page:"police"},{}).then(br=>{br!=null&&br.success?x({title:(Y==null?void 0:Y.text_access_granted)||"Access Granted",description:`Access granted to ${me}`}):x({title:"Error",description:(br==null?void 0:br.message)||`unable to grant access to ${me}`})}).catch(br=>{console.error("Error granting access:",br)})},tn=me=>{Kr(Cn.filter(At=>At.id!==me)),ke("revokeReportAccess",{reportId:E==null?void 0:E.reportId,userId:me,reportType:"report",page:"police"},{}).then(At=>{At!=null&&At.success&&x({title:(Y==null?void 0:Y.text_access_revoked)||"Access Revoked",description:(Y==null?void 0:Y.text_accessRevokedDesc)||"User access has been revoked"})}).catch(At=>{console.error("Error revoking access:",At)})},xi=()=>{if(E&&Te.trim()){const me={...E,isLocked:!0,lockReason:Te.trim()};ke("lockReport",{reportId:E.reportId,lockReason:Te.trim(),reportType:"report",page:"police"},{}).then(At=>{At!=null&&At.success?(q(me),re(se.map(lr=>lr.reportId===E.reportId?me:lr)),Nn(!1),Nt(""),x({title:(Y==null?void 0:Y.text_report_locked)||"Report Locked",description:(Y==null?void 0:Y.text_report_locked_desc)||"The report has been successfully locked."})):x({title:"Error",description:(At==null?void 0:At.message)||"unable to lock report"})}).catch(At=>{console.error("Error locking report:",At)})}},Va=()=>{if(E){const me={...E,isLocked:!1,lockReason:void 0};ke("unlockReport",{reportId:E.reportId,reportType:"report",page:"police"},{}).then(At=>{At!=null&&At.success?(q(me),re(se.map(lr=>lr.reportId===E.reportId?me:lr)),x({title:(Y==null?void 0:Y.text_report_unlocked)||"Report Unlocked",description:(Y==null?void 0:Y.text_report_unlocked_desc)||"The report has been successfully unlocked."})):x({title:"Error",description:(At==null?void 0:At.message)||"unable to unlock report"})}).catch(At=>{console.error("Error unlocking report:",At)})}},ci=()=>{if(Et&&E)return ke("jailPerson",{citizenId:Et.citizenId,jailSentence:ur},{}).then(me=>{if(me.success){const At=E&&(E==null?void 0:E.peopleInvolved)&&Array.isArray(E==null?void 0:E.peopleInvolved)&&E.peopleInvolved.map(lr=>lr.citizenId===Et.citizenId?{...lr,finalSentence:ur}:lr);q({...E,peopleInvolved:At}),Lt(!1),x({title:(Y==null?void 0:Y.text_jail_sentence_executed)||"Jail Sentence Executed",description:(Y==null?void 0:Y.text_jail_sentence_executed_description)||"The jail sentence has been successfully executed."})}}).catch(me=>{console.error("Error fetching reports category:",me)})},Ka=()=>{if(dr&&E)return ke("finePerson",{citizenId:dr.citizenId,fineAmount:qt},{}).then(me=>{if(me.success){const At=E&&(E==null?void 0:E.peopleInvolved)&&Array.isArray(E==null?void 0:E.peopleInvolved)&&(E==null?void 0:E.peopleInvolved.map(lr=>lr.citizenId===dr.citizenId?{...lr,finalFine:qt}:lr));q({...E,peopleInvolved:At}),fr(!1),x({title:(Y==null?void 0:Y.text_fine_issued)||"Fine Issued",description:(Y==null?void 0:Y.text_fine_issued_description)||"The fine has been successfully issued."})}}).catch(me=>{console.error("Error fetching reports category:",me)})};return r.jsxs("div",{className:"flex-1 space-y-4 w-full h-full",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("hr",{className:"w-1 h-10 bg-primary border-none rounded-full"}),r.jsx("h2",{className:"text-3xl font-bold",children:(Y==null?void 0:Y.text_reports)||"Reports"})]}),e?r.jsx(lw,{}):r.jsx("div",{className:"grid grid-cols-6 gap-4 grid-rows-1 h-full",children:r.jsx(Le,{className:"col-span-6 row-span-1 bg-card/50  border-primary/20 max-h-[calc(95vh-200px)] overflow-hidden text-white",children:r.jsx(Gn,{mode:"wait",children:E?r.jsx(Xt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"flex w-full ",children:r.jsxs("div",{className:"w-full",children:[r.jsx(mt,{className:"flex flex-row items-center justify-between w-full",children:r.jsxs("div",{className:"flex items-center gap-4 w-full justify-between",children:[r.jsx(Ae,{variant:"outline",size:"icon",onClick:()=>{q(null),G&&ni(!1)},className:"h-10 w-10",children:r.jsx(Oi,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[E==null?void 0:E.reportName,r.jsxs(ze,{variant:"outline",className:"bg-green-500/10 text-green-500",children:["#",E==null?void 0:E.reportId]})]}),r.jsxs("p",{className:"text-muted-foreground",children:[E&&$n(E==null?void 0:E.dateTime),"  ",E==null?void 0:E.location]})]}),r.jsx("div",{className:"ml-auto",children:G?r.jsxs("div",{className:"flex gap-2",children:[r.jsx(r.Fragment,{children:E&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(fh,{isCollaborating:We,activeEditors:Ht,currentUserId:(N==null?void 0:N.id)||""}),We&&r.jsx(mh,{recentChanges:mr,activeEditors:Ht})]})}),(B==null?void 0:B.edit)&&(E!=null&&E.isLocked?r.jsxs(Ae,{variant:"outline",onClick:Va,children:[r.jsx(ns,{className:"mr-2 h-4 w-4"}),(Y==null?void 0:Y.text_unlock_report)||"Unlock Report"]}):r.jsxs(Ae,{variant:"outline",onClick:()=>Nn(!0),children:[r.jsx(ns,{className:"mr-2 h-4 w-4"}),(Y==null?void 0:Y.text_lock_report)||"Lock Report"]})),r.jsxs(Ae,{variant:"outline",onClick:()=>Pr(!0),children:[r.jsx(ba,{className:"mr-2 h-4 w-4"}),(Y==null?void 0:Y.text_manage_access)||"Manage Access"]}),r.jsx(Ae,{variant:"outline",onClick:()=>ni(!1),children:(Y==null?void 0:Y.text_cancel)||"Cancel"}),r.jsx(Ae,{onClick:_i,children:(Y==null?void 0:Y.text_save_changes)||"Save Changes"})]}):r.jsx("div",{className:"flex gap-2",children:B.edit&&r.jsxs(r.Fragment,{children:[r.jsx(r.Fragment,{children:E&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(fh,{isCollaborating:We,activeEditors:Ht,currentUserId:(N==null?void 0:N.id)||""}),We&&r.jsx(mh,{recentChanges:mr,activeEditors:Ht})]})}),r.jsxs(Ae,{variant:"outline",onClick:()=>Ni(),children:[r.jsx(Nd,{className:"mr-2 h-4 w-4"}),(Y==null?void 0:Y.text_export)||"Export"]}),r.jsxs(Ae,{variant:"outline",onClick:()=>ni(!0),children:[r.jsx(ks,{className:"h-4 w-4 mr-2"}),(Y==null?void 0:Y.text_edit)||"Edit"]}),(N==null?void 0:N.hasManagePermission)&&(B==null?void 0:B.edit)&&r.jsxs(tA,{open:nt,onOpenChange:ut,children:[r.jsx(Hx,{asChild:!0,children:r.jsxs(Ae,{variant:"destructive",children:[r.jsx(ms,{className:"h-4 w-4 mr-2"}),(Y==null?void 0:Y.text_delete)||"Delete"]})}),r.jsxs(cu,{children:[r.jsxs(du,{children:[r.jsx(Au,{children:(Y==null?void 0:Y.text_confirm_deletion)||"Confirm Deletion"}),r.jsx(hu,{children:(Y==null?void 0:Y.text_confirm_delete_description)||"Are you sure you want to delete this report? This action cannot be undone."})]}),r.jsxs(uu,{children:[r.jsx(Ae,{variant:"outline",onClick:()=>ut(!1),children:(Y==null?void 0:Y.text_cancel)||"Cancel"}),r.jsx(Ae,{variant:"destructive",onClick:()=>{Qi(E),q(null),G&&ni(!1)},children:(Y==null?void 0:Y.text_delete)||"Delete"})]})]})]})]})})})]})}),r.jsxs(ea,{defaultValue:"overview",className:"flex flex-col w-full bg-transparent items-center",children:[r.jsxs(ta,{className:"grid grid-cols-6 bg-transparent border-2 border-[#4d4b5966] w-[90%]",children:[r.jsx(Fr,{value:"overview",children:(Y==null?void 0:Y.text_overview)||"Overview"}),r.jsx(Fr,{value:"people",children:(Y==null?void 0:Y.text_people_involved)||"People Involved"}),r.jsx(Fr,{value:"vehicles",children:(Y==null?void 0:Y.text_vehicles_involved)||"Vehicles"}),r.jsx(Fr,{value:"evidence",children:(Y==null?void 0:Y.text_evidence)||"Evidence"}),r.jsx(Fr,{value:"evidencelocker",children:(Y==null?void 0:Y.text_evidence_locker)||"Evidence Locker"}),r.jsx(Fr,{value:"access",children:(Y==null?void 0:Y.text_access_control)||"Access Control"})]}),r.jsx(Rr,{value:"overview",className:"w-full mt-4  p-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx("div",{className:"md:col-span-2",children:r.jsxs(Le,{children:[r.jsx(mt,{children:r.jsx(kt,{children:(Y==null?void 0:Y.text_description)||"Description"})}),r.jsx(Je,{className:"h-[530px] overflow-y-auto p-5",children:r.jsx(vu,{initialContent:(E==null?void 0:E.description)||`<p>${(Y==null?void 0:Y.text_no_notes_available)||"No notes available"}</p>`,editable:!!G,onChange:Wr,placeholder:(Y==null?void 0:Y.text_start_typing)||"Start typing here..."})})]})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Le,{children:[r.jsx(mt,{className:"pb-2",children:r.jsx(kt,{children:(Y==null?void 0:Y.text_report_information)||"Report Information"})}),r.jsx(Je,{children:r.jsxs("div",{className:"space-y-2 overflow-y-auto max-h-[23vh]",children:[r.jsx(Yf,{label:(Y==null?void 0:Y.text_report_id)||"Report ID",value:E?E==null?void 0:E.reportId:"N/A",isEditing:!1}),r.jsx(Yf,{label:(Y==null?void 0:Y.text_name)||"Name",value:E?E==null?void 0:E.reportName:"N/A",isEditing:G,onChange:me=>{q(At=>At&&{...At,reportName:me}),We&&Ur({reportName:me},"reportDetails")}}),(E==null?void 0:E.officerName)&&r.jsx(Yf,{label:(Y==null?void 0:Y.text_officer_name)||"Officer Name",value:E?E==null?void 0:E.officerName:"N/A",isEditing:!1,onChange:me=>{q(At=>At&&{...At,officerName:me}),We&&Ur({officerName:me},"reportDetails")}}),r.jsx(Yf,{label:(Y==null?void 0:Y.text_location)||"Location",value:E?E==null?void 0:E.location:"N/A",isEditing:G,onChange:me=>{q(At=>At&&{...At,location:me}),We&&Ur({location:me},"reportDetails")}}),wr?r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:(Y==null?void 0:Y.text_evidence_locker)||"Evidence Locker"}),r.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[r.jsx("p",{className:"font-medium truncate",children:(E==null?void 0:E.evidenceLockerNumber)||(Y==null?void 0:Y.text_not_assigned)||"Not Assigned"}),G&&r.jsxs(Ae,{variant:"outline",size:"sm",className:"h-7 px-2 bg-transparent",onClick:()=>it(!0),children:[r.jsx(oO,{className:"h-3.5 w-3.5 mr-1"}),(Y==null?void 0:Y.text_link)||"Link"]})]})]}):r.jsx(Yf,{label:(Y==null?void 0:Y.text_evidence_locker)||"Evidence Locker",value:(E==null?void 0:E.evidenceLockerNumber)||(Y==null?void 0:Y.text_no_evidence_locker_assigned)||"No Evidence Locker Assigned",isEditing:G,onChange:me=>{q(At=>At&&{...At,evidenceLockerNumber:me}),We&&Ur({evidenceLockerNumber:me},"reportDetails")}}),r.jsx(Yf,{label:(Y==null?void 0:Y.text_date_time)||"Date & Time",value:E?$n(E==null?void 0:E.dateTime):"N/A",isEditing:!1,onChange:me=>q(At=>At&&{...At,dateTime:new Date(me).toISOString()})})]})})]}),r.jsxs(Le,{children:[r.jsx(mt,{className:"pb-2",children:r.jsx(kt,{children:(Y==null?void 0:Y.text_quick_summary)||"Quick Summary"})}),r.jsx(Je,{children:r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[r.jsxs("div",{className:"bg-primary/5 rounded-lg p-3",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:(Y==null?void 0:Y.text_people)||"People"}),r.jsx("p",{className:"text-2xl font-bold",children:(E==null?void 0:E.peopleInvolved)&&(E==null?void 0:E.peopleInvolved.length)||0})]}),r.jsxs("div",{className:"bg-primary/5 rounded-lg p-3",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:(Y==null?void 0:Y.text_vehicles)||"Vehicles"}),r.jsx("p",{className:"text-2xl font-bold",children:(E==null?void 0:E.vehiclesInvolved)&&(E==null?void 0:E.vehiclesInvolved.length)||0})]}),r.jsxs("div",{className:"bg-primary/5 rounded-lg p-3",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:(Y==null?void 0:Y.text_evidence)||"Evidence"}),r.jsx("p",{className:"text-2xl font-bold",children:(E==null?void 0:E.evidences)&&((so=E==null?void 0:E.evidences)==null?void 0:so.length)||0})]}),r.jsxs("div",{className:"bg-primary/5 rounded-lg p-3",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:(Y==null?void 0:Y.text_charges)||"Charges"}),r.jsx("p",{className:"text-2xl font-bold",children:(E==null?void 0:E.peopleInvolved)&&(E==null?void 0:E.peopleInvolved.reduce((me,At)=>me+At.charges.length,0))||0})]})]})})]})]})]})}),r.jsx(Rr,{value:"people",className:"w-full mt-4  p-4",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:"text-lg font-semibold",children:(Y==null?void 0:Y.text_people_involved)||"People Involved"}),r.jsxs(ze,{variant:"outline",children:[E&&(E==null?void 0:E.peopleInvolved.length)||0," ",(Y==null?void 0:Y.text_total)||"Total"]})]}),G&&B.edit&&r.jsxs(r.Fragment,{children:[r.jsxs(Ae,{variant:"outline",size:"sm",onClick:()=>en(!0),children:[r.jsx(Xr,{className:"h-4 w-4 mr-2"}),(Y==null?void 0:Y.text_add)||"Add"," ",c]}),r.jsx(Xi,{isOpen:is,onClose:()=>en(!1),citizens:ie,selectedCitizenId:"",selectedPeople:E==null?void 0:E.peopleInvolved,onUpdatePerson:({citizenId:me,name:At})=>{as(At,me,c)},onSearchQueryChange:me=>{ce(me)}})]})]}),r.jsxs(ea,{value:c,onValueChange:d,className:"w-full",children:[r.jsxs(ta,{className:"grid w-full grid-cols-3",children:[r.jsxs(Fr,{value:"Criminal",className:"flex gap-2 items-center",children:[r.jsx(Lm,{className:"h-4 w-4"}),(Y==null?void 0:Y.text_criminals)||"Criminals",Hi.length>0&&r.jsx(ze,{variant:"secondary",className:"ml-1",children:Hi.length})]}),r.jsxs(Fr,{value:"Officer",className:"flex gap-2 items-center",children:[r.jsx(vl,{className:"h-4 w-4"}),(Y==null?void 0:Y.text_officers)||"Officers",si.length>0&&r.jsx(ze,{variant:"secondary",className:"ml-1",children:si.length})]}),r.jsxs(Fr,{value:"Civilian",className:"flex gap-2 items-center",children:[r.jsx(ba,{className:"h-4 w-4"}),(Y==null?void 0:Y.text_civilians)||"Civilians",he.length>0&&r.jsx(ze,{variant:"secondary",className:"ml-1",children:he.length})]})]}),r.jsx(Rr,{value:"Criminal",className:"mt-4 gap-4",children:Hi&&Hi.length>0&&Array.isArray(Hi)?r.jsx("div",{className:"space-y-4 justify-center items-center w-full",children:r.jsx(nr,{className:"h-[500px] justify-center items-center w-full",children:r.jsx(Q9,{type:"single",collapsible:!0,className:"flex flex-col w-full gap-3",children:Hi.map((me,At)=>{var lr,br,Qn;return r.jsx(aB,{value:me==null?void 0:me.index.toString(),className:"w-full",children:r.jsxs(Le,{className:"overflow-hidden w-full",children:[r.jsx(oB,{className:"w-full",children:r.jsxs(mt,{className:"p-4 pb-2 flex flex-row items-center justify-between w-full",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex w-full justify-between gap-2 mb-2",children:[r.jsxs("div",{children:[r.jsx(ze,{className:"bg-red-500/10 text-red-500",children:(Y==null?void 0:Y.text_criminal)||"Criminal"}),me.charges.length>0&&r.jsxs(ze,{variant:"outline",className:"bg-yellow-500/10 text-yellow-500",children:[me.charges.length," ",(Y==null?void 0:Y.text_charges)||"Charges"]})]}),me.charges.length>0&&G&&B.edit&&r.jsxs("div",{className:"flex flex-row gap-2",children:[r.jsxs(Ae,{variant:"outline",size:"sm",className:"text-xs bg-transparent",onClick:()=>Wt(me),children:[r.jsx(ns,{className:"h-3.5 w-3.5 mr-1"}),(Y==null?void 0:Y.text_jail)||"Jail"]}),r.jsxs(Ae,{variant:"outline",size:"sm",className:"text-xs bg-transparent",onClick:()=>Ar(me),children:[r.jsx(Nm,{className:"h-3.5 w-3.5 mr-1"}),(Y==null?void 0:Y.text_fine)||"Fine"]})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{children:[r.jsx(kt,{className:"text-lg",children:me.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[(Y==null?void 0:Y.text_id)||"ID",": ",me.citizenId]})]}),me.charges.length>0&&r.jsxs("div",{className:"flex justify-center gap-4 ml-auto text-sm",children:[r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-muted-foreground",children:(Y==null?void 0:Y.text_total_fine)||"Total Fine"}),r.jsxs("p",{className:"font-medium",children:["$",Ba(me).totalFine.toLocaleString(void 0,{minimumFractionDigits:1,maximumFractionDigits:1})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-muted-foreground",children:(Y==null?void 0:Y.text_sentence)||"Sentence"}),r.jsxs("p",{className:"font-medium",children:[" ",Ba(me).totalSentence.toFixed(1),"m"]})]})]})]})]}),G&&B.edit&&r.jsxs("div",{className:"flex space-x-2 ml-4",children:[r.jsx(Ae,{variant:"ghost",size:"icon",onClick:()=>go(me.citizenId,me==null?void 0:me.index),className:"hover:bg-primary/10",children:r.jsx(fi,{className:"h-4 w-4"})}),r.jsx(Ae,{variant:"ghost",size:"icon",onClick:()=>Bi((me==null?void 0:me.index)||0),className:"hover:bg-red-500/10 hover:text-red-500",children:r.jsx(ms,{className:"h-4 w-4"})}),r.jsx(XH,{isOpen:ws,onClose:()=>{Pn(!1),Qa(null)},selectedCharges:Ci!==null&&((lr=E==null?void 0:E.peopleInvolved[Ci])==null?void 0:lr.charges)||[],onUpdateCharges:Vr=>{Ci!==null&&E&&Si(Ci,{...E.peopleInvolved[Ci],charges:Vr})}})]})]})}),r.jsx(lB,{children:r.jsxs(Je,{className:"p-4 pt-0",children:[me.charges.length>0&&r.jsxs("div",{className:"mt-3",children:[r.jsxs("p",{className:"text-sm font-medium mb-2",children:[(Y==null?void 0:Y.text_charges)||"Charges",":"]}),r.jsx("div",{className:"space-y-2",children:r.jsx(nr,{className:"max-h-[400px] w-full overflow-y-auto",children:r.jsxs(lp,{className:"table-auto w-full",children:[r.jsx(cp,{children:r.jsxs(Xo,{className:"border-b border-[#2a2a2a]",children:[r.jsx(bi,{className:"text-white w-2/5",children:(Y==null?void 0:Y.text_charge)||"Charge"}),r.jsx(bi,{className:"text-white text-right w-1/5",children:(Y==null?void 0:Y.text_time)||"Time"}),r.jsx(bi,{className:"text-white text-right w-1/5",children:(Y==null?void 0:Y.text_fine)||"Fine"}),r.jsx(bi,{className:"text-white text-center w-1/10",children:(Y==null?void 0:Y.text_fined)||"Fined"}),r.jsx(bi,{className:"text-white text-center w-1/10",children:(Y==null?void 0:Y.text_guilty)||"Guilty"})]})}),r.jsxs(dp,{children:[me&&Array.isArray(me==null?void 0:me.charges)&&((me==null?void 0:me.charges)||[]).map((Vr,In)=>r.jsxs(Xo,{className:"border-b border-[#2a2a2a]",children:[r.jsxs(fs,{className:"text-gray-300 whitespace-normal break-words",children:[Vr.title," x ",Vr.count]}),r.jsxs(fs,{className:"text-gray-300 text-right whitespace-nowrap",children:[Vr.sentence*(Vr.count??1),"m"]}),r.jsxs(fs,{className:"text-gray-300 text-right whitespace-nowrap",children:["$",Vr.fine*(Vr.count??1)]}),r.jsx(fs,{className:"text-center",children:r.jsx(ux,{checked:Vr.fined,disabled:!G,onCheckedChange:zi=>{const sa=me&&(me==null?void 0:me.charges.map((Wa,Xl)=>Xl===In?{...Wa,fined:zi}:Wa));Si(me==null?void 0:me.index,{...me,charges:sa})},className:"border-gray-500"})}),r.jsx(fs,{className:"text-center",children:r.jsx(ux,{checked:Vr.guilty,disabled:!G,onCheckedChange:zi=>{const sa=me&&(me==null?void 0:me.charges.map((Wa,Xl)=>Xl===In?{...Wa,guilty:zi}:Wa));Si(me==null?void 0:me.index,{...me,charges:sa})},className:"border-gray-500"})})]},Vr.id)),r.jsx(Xo,{children:r.jsxs(fs,{colSpan:5,className:"font-bold text-white",children:[(Y==null?void 0:Y.text_reduction_fine)||"Reduction: Fine",r.jsx("div",{className:"flex space-x-2 mt-2",children:Jf&&Array.isArray(Jf)&&((br=Jf||[])==null?void 0:br.map(Vr=>r.jsxs(Ae,{disabled:!G,variant:me.fineReduction===Vr?"default":"outline",onClick:()=>Si(me==null?void 0:me.index,{...me,fineReduction:Vr}),className:"text-sm",children:[Vr,"%"]},Vr)))})]})}),r.jsx(Xo,{children:r.jsxs(fs,{colSpan:5,className:"font-bold text-white",children:[(Y==null?void 0:Y.text_reduction_time)||"Reduction: Time",r.jsx("div",{className:"flex space-x-2 mt-2",children:Jf&&Array.isArray(Jf)&&((Qn=Jf||[])==null?void 0:Qn.map(Vr=>r.jsxs(Ae,{disabled:!G,variant:me.jailReduction===Vr?"default":"outline",onClick:()=>Si(me==null?void 0:me.index,{...me,jailReduction:Vr}),className:"text-sm",children:[Vr,"%"]},Vr)))})]})}),r.jsxs(Xo,{className:"border-t-2 border-[#2a2a2a]",children:[r.jsx(fs,{className:"font-bold text-white",children:(Y==null?void 0:Y.text_total)||"Total"}),r.jsxs(fs,{className:"font-bold text-white text-right",children:[Math.max(0,Ba(me).totalSentence),"m"]}),r.jsxs(fs,{className:"font-bold text-white text-right",children:["$",Math.max(0,Number.parseFloat(Ba(me).totalFine))]}),r.jsx(fs,{colSpan:2})]})]})]})})})]}),me.charges.length===0&&r.jsxs("div",{className:"text-center py-3 bg-muted/20 rounded-lg mt-2",children:[r.jsx("p",{className:"text-muted-foreground text-sm",children:(Y==null?void 0:Y.text_no_charges_filed)||"No charges filed"}),G&&B.edit&&r.jsxs(Ae,{variant:"outline",size:"sm",className:"mt-2 bg-transparent",onClick:()=>go(me.citizenId,me==null?void 0:me.index),children:[r.jsx(Xr,{className:"h-3 w-3 mr-1"}),(Y==null?void 0:Y.text_add_charges)||"Add Charges"]})]})]})})]},me==null?void 0:me.index)},me==null?void 0:me.index)})})})}):r.jsxs("div",{className:"text-center py-8 bg-muted/20 rounded-lg",children:[r.jsx("p",{className:"text-muted-foreground",children:(Y==null?void 0:Y.text_no_criminals_involved)||"No criminals involved in this report"}),G&&B.edit&&r.jsxs(r.Fragment,{children:[r.jsxs(Ae,{variant:"outline",className:"mt-2 bg-transparent",onClick:()=>en(!0),children:[r.jsx(Xr,{className:"h-4 w-4 mr-2"}),(Y==null?void 0:Y.text_add_criminal)||"Add Criminal"]}),r.jsx(Xi,{isOpen:is,onClose:()=>en(!1),citizens:ie,selectedCitizenId:"",selectedPeople:E==null?void 0:E.peopleInvolved,onUpdatePerson:({citizenId:me,name:At})=>{as(At,me,"Criminal")},onSearchQueryChange:me=>{ce(me)}})]})]})}),r.jsx(Rr,{value:"Officer",className:"mt-4",children:si&&si.length>0&&Array.isArray(si)?r.jsx(Le,{children:r.jsx(Je,{className:"p-4",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:si.map((me,At)=>r.jsxs("div",{className:"flex items-center gap-3 bg-primary/5 p-3 rounded-lg",children:[r.jsx(hn,{className:"h-10 w-10",children:r.jsx(yn,{className:"bg-blue-500/20 text-blue-500",children:Qs(me.name)})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium truncate",children:me.name}),r.jsxs("p",{className:"text-xs text-muted-foreground truncate",children:[(Y==null?void 0:Y.text_id)||"ID",": ",me.citizenId]})]}),G&&B.edit&&r.jsx(Ae,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>Bi((me==null?void 0:me.index)||0),children:r.jsx(ms,{className:"h-4 w-4"})})]},At))})})}):r.jsxs("div",{className:"text-center py-8 bg-muted/20 rounded-lg",children:[r.jsx("p",{className:"text-muted-foreground",children:(Y==null?void 0:Y.text_no_officers_involved)||"No officers involved in this report"}),G&&B.edit&&r.jsxs(r.Fragment,{children:[r.jsxs(Ae,{variant:"outline",className:"mt-2 bg-transparent",onClick:()=>en(!0),children:[r.jsx(Xr,{className:"h-4 w-4 mr-2"}),(Y==null?void 0:Y.text_add_officer)||"Add Officer"]}),r.jsx(Xi,{isOpen:is,onClose:()=>en(!1),citizens:ie,selectedCitizenId:"",selectedPeople:E==null?void 0:E.peopleInvolved,onUpdatePerson:({citizenId:me,name:At})=>{as(At,me,"Officer")},onSearchQueryChange:me=>{ce(me)}})]})]})}),r.jsx(Rr,{value:"Civilian",className:"mt-4",children:he&&he.length>0&&Array.isArray(he)?r.jsx(Le,{children:r.jsx(Je,{className:"p-4",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:he.map((me,At)=>r.jsxs("div",{className:"flex items-center gap-3 bg-primary/5 p-3 rounded-lg",children:[r.jsx(hn,{className:"h-10 w-10",children:r.jsx(yn,{className:"bg-green-500/20 text-green-500",children:Qs(me.name)})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium truncate",children:me.name}),r.jsxs("p",{className:"text-xs text-muted-foreground truncate",children:[(Y==null?void 0:Y.text_id)||"ID",": ",me.citizenId]})]}),G&&B.edit&&r.jsx(Ae,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>Bi((me==null?void 0:me.index)||0),children:r.jsx(ms,{className:"h-4 w-4"})})]},At))})})}):r.jsxs("div",{className:"text-center py-8 bg-muted/20 rounded-lg",children:[r.jsx("p",{className:"text-muted-foreground",children:(Y==null?void 0:Y.text_no_civilians_involved)||"No civilians involved in this report"}),G&&B.edit&&r.jsxs(r.Fragment,{children:[r.jsxs(Ae,{variant:"outline",className:"mt-2 bg-transparent",onClick:()=>en(!0),children:[r.jsx(Xr,{className:"h-4 w-4 mr-2"}),(Y==null?void 0:Y.text_add_civilian)||"Add Civilian"]}),r.jsx(Xi,{isOpen:is,onClose:()=>en(!1),citizens:ie,selectedCitizenId:"",selectedPeople:E==null?void 0:E.peopleInvolved,onUpdatePerson:({citizenId:me,name:At})=>{as(At,me,"Civilian")},onSearchQueryChange:me=>{ce(me)}})]})]})})]})]})}),r.jsx(Rr,{value:"vehicles",className:"w-full mt-4 p-4",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-semibold",children:(Y==null?void 0:Y.text_vehicles_involved)||"Vehicles Involved"}),G&&B.edit&&r.jsxs(r.Fragment,{children:[r.jsxs(Ae,{variant:"outline",size:"sm",onClick:()=>Zn(!0),children:[r.jsx(Xr,{className:"h-4 w-4 mr-2"}),(Y==null?void 0:Y.text_add_vehicle)||"Add Vehicle"]}),r.jsx(ph,{isOpen:qn,onClose:()=>Zn(!1),vehicles:wt,selectedVehicle:"",selectedVehicles:E==null?void 0:E.vehiclesInvolved,onUpdateVehicle:me=>{sn(me.plate,me.model)},onSearchQueryChange:me=>{Q(me)}})]})]}),E&&(E!=null&&E.vehiclesInvolved)&&Array.isArray(E==null?void 0:E.vehiclesInvolved)&&(E==null?void 0:E.vehiclesInvolved.length)>0?r.jsx(nr,{className:"h-[50%] justify-center items-center w-full",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:E==null?void 0:E.vehiclesInvolved.map((me,At)=>r.jsxs(Le,{children:[r.jsxs(mt,{className:"p-4 pb-2 flex flex-row items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(ze,{className:"bg-red-500/10 text-red-500",children:"Criminal"}),r.jsx(kt,{className:"text-lg mt-1",children:me.model})]}),G&&B.edit&&r.jsx(Ae,{variant:"ghost",size:"icon",onClick:()=>ln(At),children:r.jsx(ms,{className:"h-4 w-4"})})]}),r.jsx(Je,{className:"p-4 pt-0",children:r.jsx("div",{className:"grid grid-cols-1 gap-2",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:(Y==null?void 0:Y.text_license_plate)||"License Plate"}),r.jsx("p",{className:"font-medium",children:me.plate})]})})})]},At))})}):r.jsxs("div",{className:"text-center py-8 bg-muted/20 rounded-lg",children:[r.jsx("p",{className:"text-muted-foreground",children:(Y==null?void 0:Y.text_no_vehicles_involved)||"No vehicles involved in this report"}),G&&B.edit&&r.jsxs(r.Fragment,{children:[r.jsxs(Ae,{variant:"outline",size:"sm",onClick:()=>Zn(!0),children:[r.jsx(Xr,{className:"h-4 w-4 mr-2"}),(Y==null?void 0:Y.text_add_vehicle)||"Add Vehicle"]}),r.jsx(ph,{isOpen:qn,onClose:()=>Zn(!1),vehicles:wt,selectedVehicle:"",selectedVehicles:E==null?void 0:E.vehiclesInvolved,onUpdateVehicle:me=>{sn(me.plate,me.model)},onSearchQueryChange:me=>{Q(me)}})]})]})]})}),r.jsx(Rr,{value:"evidence",className:"w-full mt-4 p-4",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-semibold",children:(Y==null?void 0:Y.text_evidence_items)||"Evidence Items"}),G&&B.edit&&r.jsxs(Ae,{variant:"outline",size:"sm",onClick:()=>$(!0),children:[r.jsx(Xr,{className:"h-4 w-4 mr-2"}),(Y==null?void 0:Y.text_add_evidence)||"Add Evidence"]})]}),E&&(E!=null&&E.evidences)&&Array.isArray(E==null?void 0:E.evidences)&&(E==null?void 0:E.evidences.length)>0?r.jsx(nr,{className:"h-[50vh] justify-center items-center w-full",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:E==null?void 0:E.evidences.map((me,At)=>r.jsxs(Le,{className:"overflow-hidden relative max-h-[40vh] overflow-y-auto",children:[G&&B.edit&&r.jsx(Ae,{variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-8 w-8 rounded-full z-10",onClick:()=>Vn(At),children:r.jsx(ms,{className:"h-4 w-4"})}),me.type==="image"&&r.jsx("div",{className:"aspect-video bg-muted relative",children:r.jsx("img",{src:me.url||"/placeholder.svg?height=200&width=300",alt:me.description,className:"object-cover w-full h-full cursor-pointer",onClick:()=>Ha(me.url)})}),r.jsxs(Je,{className:"p-3",children:[r.jsxs("p",{className:"font-medium",children:[(Y==null?void 0:Y.text_evidence_number)||"Evidence #",me.id]}),r.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:me.description})]})]},me.id))})}):r.jsxs("div",{className:"text-center py-8 bg-muted/20 rounded-lg",children:[r.jsx("p",{className:"text-muted-foreground",children:(Y==null?void 0:Y.text_no_evidence_items)||"No evidence items attached to this report"}),G&&B.edit&&r.jsxs(Ae,{variant:"outline",className:"mt-2 bg-transparent",onClick:()=>$(!0),children:[r.jsx(Xr,{className:"h-4 w-4 mr-2"}),(Y==null?void 0:Y.text_add_first_evidence)||"Add First Evidence Item"]})]})]})}),r.jsx(Rr,{value:"evidencelocker",className:"w-full mt-4 p-4",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex justify-between items-center",children:r.jsx("h3",{className:"text-lg font-semibold",children:(Y==null?void 0:Y.text_evidence_locker_items)||"Evidence Locker Items"})}),E&&(E!=null&&E.lockerItems)&&Array.isArray(E==null?void 0:E.lockerItems)&&(E==null?void 0:E.lockerItems.length)>0?r.jsx(nr,{className:"h-[50vh] justify-center items-center w-full",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 lg:grid-cols-8 gap-4",children:E==null?void 0:E.lockerItems.map((me,At)=>r.jsxs(Le,{className:"overflow-hidden relative",children:[r.jsx("div",{className:"aspect-video bg-muted relative",children:r.jsx("img",{src:me.imageUrl||"/placeholder.svg?height=150&width=225",alt:me.description,className:"object-fit"})}),r.jsx(ze,{className:"absolute top-2 right-2 bg-green-500 text-green-50",children:(Y==null?void 0:Y.text_secured)||"Secured"}),r.jsxs(Je,{className:"p-2",children:[r.jsx("h3",{className:"text-md font-semibold",children:me.label}),r.jsx("p",{className:"text-xs text-muted-foreground whitespace-pre-wrap",children:me.description}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[(Y==null?void 0:Y.text_amount)||"Amount",": ",me.amount]})]}),(me==null?void 0:me.metadata)&&Object.keys(me==null?void 0:me.metadata).length>0&&r.jsxs(Je,{className:"p-2",children:[r.jsx("h3",{className:"text-md font-semibold",children:(Y==null?void 0:Y.text_additional_information)||"Additional Information"}),Object.keys(me==null?void 0:me.metadata).map((lr,br)=>r.jsxs("p",{className:"text-xs text-muted-foreground whitespace-pre-wrap",children:[r.jsxs("span",{className:"font-bold",children:[lr,":"]})," ",me==null?void 0:me.metadata[lr]]},br))]})]},me.id))})}):r.jsx("div",{className:"text-center py-8 bg-muted/20 rounded-lg",children:r.jsx("p",{className:"text-muted-foreground",children:(Y==null?void 0:Y.text_no_locker_items)||"No evidence items in the locker"})})]})}),r.jsx(Rr,{value:"access",className:"w-full mt-4 p-4",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-semibold",children:(Y==null?void 0:Y.text_report_access)||"Report Access"}),G&&B.edit&&r.jsxs(Ae,{variant:"outline",size:"sm",onClick:()=>Pr(!0),children:[r.jsx(Xr,{className:"h-4 w-4 mr-2"}),(Y==null?void 0:Y.text_grant_access)||"Grant Access"]})]}),Cn&&Cn.length>0?r.jsx(Le,{children:r.jsx(Je,{className:"p-4",children:r.jsx("div",{className:"space-y-3",children:Cn.map((me,At)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-primary/5 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(hn,{className:"h-10 w-10",children:r.jsx(yn,{className:"bg-blue-500/20 text-blue-500",children:Qs(me.name)})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:me.name}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["ID: ",me.id]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ze,{variant:"outline",className:"bg-green-500/10 text-green-500",children:me.role}),G&&B.edit&&r.jsx(Ae,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-red-500/10 hover:text-red-500",onClick:()=>tn(me.id),children:r.jsx(Lm,{className:"h-4 w-4"})})]})]},me.id))})})}):r.jsxs("div",{className:"text-center py-8 bg-muted/20 rounded-lg",children:[r.jsx("p",{className:"text-muted-foreground",children:(Y==null?void 0:Y.text_no_access_granted)||"No additional access granted for this report"}),G&&B.edit&&r.jsxs(Ae,{variant:"outline",className:"mt-2 bg-transparent",onClick:()=>Pr(!0),children:[r.jsx(Xr,{className:"h-4 w-4 mr-2"}),(Y==null?void 0:Y.text_grant_first_access)||"Grant First Access"]})]})]})})]})]})},"list-view"):r.jsxs(Xt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:[r.jsxs(mt,{className:"flex flex-row items-center justify-between",children:[r.jsx(kt,{children:(Y==null?void 0:Y.text_report_management)||"Report Management"}),r.jsxs(gr,{open:Z,onOpenChange:te,children:[B.edit&&r.jsx(to,{asChild:!0,children:r.jsxs(Ae,{variant:"outline",onClick:()=>{te(!0)},children:[r.jsx(Xr,{className:"mr-2 h-4 w-4"}),(Y==null?void 0:Y.text_new_report)||"New Report"]})}),r.jsxs(xr,{className:"max-w-[60vw] w-full","aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:(Y==null?void 0:Y.text_create_new_report)||"Create New Report"})}),r.jsx("div",{className:"modal-container max-h-[80vh] h-auto overflow-auto",children:r.jsx("div",{className:"grid gap-4 py-4",children:r.jsx(nr,{className:"max-h-[500px] border rounded p-4",children:r.jsxs("div",{className:"grid gap-4 p-5",children:[r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Me,{htmlFor:"name",className:"text-right",children:(Y==null?void 0:Y.text_name)||"Name"}),r.jsx(ht,{id:"name",value:He.reportName,onChange:me=>rt({...He,reportName:me.target.value}),className:"col-span-3"})]}),r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Me,{htmlFor:"officerId",className:"text-right",children:(Y==null?void 0:Y.text_officer_id)||"Officer ID"}),r.jsx(ht,{id:"officerId",disabled:!0,value:N==null?void 0:N.id,className:"col-span-3"})]}),r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Me,{htmlFor:"category",className:"text-right",children:(Y==null?void 0:Y.text_category)||"Category"}),r.jsxs(On,{value:He.category||"",onValueChange:me=>rt({...He,category:me}),children:[r.jsx(Dn,{className:"col-span-3",children:r.jsx(Mn,{placeholder:(Y==null?void 0:Y.text_select_category)||"Select category"})}),r.jsx(Fn,{children:U&&Array.isArray(U)&&U.map(me=>r.jsx(Yt,{value:me.type,children:me.label},me.type))})]})]}),r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Me,{htmlFor:"location",className:"text-right",children:(Y==null?void 0:Y.text_location)||"Location"}),r.jsx(ht,{id:"location",value:He.location,onChange:me=>rt({...He,location:me.target.value}),className:"col-span-3"})]}),r.jsxs("div",{className:"grid grid-cols-4 items-start gap-4 bg-card/95",children:[r.jsx(Me,{htmlFor:"description",className:"text-right mt-2",children:(Y==null?void 0:Y.text_description)||"Description"}),r.jsx("div",{className:"col-span-3 min-h-[200px] max-w-full w-full rounded border p-2 overflow-hidden break-words",children:r.jsx(vu,{initialContent:(He==null?void 0:He.description)||`<p>${(Y==null?void 0:Y.text_no_notes_available)||"No notes available"}</p>`,editable:!0,onChange:gi,placeholder:(Y==null?void 0:Y.text_start_typing)||"Start typing here...",socket:Xn})})]})]})})})}),B.edit&&r.jsx(un,{children:r.jsx(Ae,{onClick:na,disabled:!He.reportName.trim()||!He.location.trim()||!He.description.trim()||!He.category.trim(),children:(Y==null?void 0:Y.text_create_report)||"Create Report"})})]})]})]}),r.jsxs(Je,{children:[r.jsxs("div",{className:"mb-4 flex items-center space-x-2",children:[r.jsx(ls,{className:"h-5 w-5 text-muted-foreground"}),r.jsx(ht,{placeholder:(Y==null?void 0:Y.text_search_reports)||"Search reports...",className:"flex-1 bg-background/50 border-primary/20 focus:border-primary",value:ee,onChange:me=>M(me.target.value),onKeyDown:Hr})]}),r.jsx(nr,{className:"h-[calc(85vh-300px)]",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:r.jsx(Gn,{children:se&&Array.isArray(se)&&se.map(me=>{var At;return r.jsx(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},layout:!0,children:r.jsxs(Le,{className:`overflow-hidden transition-all duration-200 border border-primary/10 ${me.isLocked&&!R(me)?"opacity-75 cursor-not-allowed":"hover:shadow-lg cursor-pointer hover:border-primary/30"}`,onClick:()=>{if(me.isLocked&&!R(me)){x({title:(Y==null?void 0:Y.text_access_denied)||"Access Denied",description:(Y==null?void 0:Y.text_report_locked)||"This report is locked and you don't have permission to view it.",variant:"destructive"});return}Hs(me,me.reportId),ni(!1)},children:[r.jsxs(mt,{className:"p-4 pb-2",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex gap-2",children:[me.isLocked&&r.jsxs(ze,{variant:"outline",className:"bg-red-500/10 text-red-500",children:[r.jsx(ns,{className:"h-3 w-3 mr-1"}),(Y==null?void 0:Y.text_locked)||"Locked"]}),r.jsx(ze,{variant:"outline",className:"bg-blue-500/10 text-blue-500",children:((At=U.find(lr=>lr.type===me.category))==null?void 0:At.label)||(Y==null?void 0:Y.text_report)||"Report"}),r.jsxs(ze,{variant:"outline",className:"bg-green-500/10 text-green-500",children:["#",me.reportId]})]}),B.edit&&!me.isLocked&&r.jsxs(qA,{children:[r.jsx(JA,{asChild:!0,onClick:lr=>lr.stopPropagation(),children:r.jsx(Ae,{variant:"ghost",size:"icon",className:"h-8 w-8",children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[r.jsx("circle",{cx:"12",cy:"12",r:"1"}),r.jsx("circle",{cx:"19",cy:"12",r:"1"}),r.jsx("circle",{cx:"5",cy:"12",r:"1"})]})})}),r.jsx(Yu,{align:"end",children:(N==null?void 0:N.hasManagePermission)&&r.jsxs(ga,{onClick:lr=>{lr.stopPropagation(),ro(me.reportId)},className:"text-red-500 focus:text-red-500",children:[r.jsx(ms,{className:"h-4 w-4 mr-2"}),(Y==null?void 0:Y.text_delete)||"Delete"]})})]})]}),r.jsx(kt,{className:`text-lg mt-2 line-clamp-1 ${me.isLocked&&!R(me)?"text-muted-foreground":""}`,children:me.isLocked&&!R(me)?"":me.reportName})]}),r.jsxs(Je,{className:"p-4 pt-0",children:[r.jsxs("div",{className:"flex items-center text-sm text-muted-foreground mb-2",children:[r.jsx(Ua,{className:"h-3.5 w-3.5 mr-1"}),r.jsx("span",{children:new Date(me.dateTime).toLocaleDateString()})]}),r.jsxs("div",{className:"flex items-center text-sm text-muted-foreground mb-2",children:[r.jsx(qs,{className:"h-3.5 w-3.5 mr-1"}),r.jsx("span",{className:"line-clamp-1",children:me.isLocked&&!R(me)?"":me.location})]}),me.isLocked&&!R(me)?r.jsxs("div",{className:"flex items-center text-sm text-red-400",children:[r.jsx(ns,{className:"h-3.5 w-3.5 mr-1"}),r.jsx("span",{children:(Y==null?void 0:Y.text_no_permission)||"No Permission to View"})]}):r.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[r.jsx(ri,{className:"h-3.5 w-3.5 mr-1"}),r.jsxs("span",{children:["Officer ",me.officerName]})]}),me.isLocked&&me.lockReason&&r.jsxs("div",{className:"mt-2 p-2 bg-amber-500/10 border border-amber-500/20 rounded text-xs",children:[r.jsxs("div",{className:"flex items-center gap-1 text-amber-500",children:[r.jsx(xl,{className:"h-3 w-3"}),r.jsxs("span",{className:"font-medium",children:[(Y==null?void 0:Y.text_lock_reason)||"Lock Reason",":"]})]}),r.jsx("span",{className:"text-amber-600",children:me.lockReason})]})]}),r.jsxs(ju,{className:"p-4 pt-0 flex justify-between items-center",children:[me.isLocked&&!R(me)?r.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[r.jsx(ns,{className:"h-4 w-4"}),r.jsx("span",{className:"text-sm",children:(Y==null?void 0:Y.text_restricted_access)||"Restricted Access"})]}):r.jsxs("div",{className:"flex -space-x-2",children:[me&&(me==null?void 0:me.peopleInvolved)&&Array.isArray(me==null?void 0:me.peopleInvolved)&&me.peopleInvolved.slice(0,3).map((lr,br)=>r.jsx(hn,{className:"border-2 border-background h-8 w-8",children:r.jsx(yn,{className:`text-xs ${lr.category==="Criminal"?"bg-red-500/20 text-red-500":lr.category==="Officer"?"bg-blue-500/20 text-blue-500":"bg-green-500/20 text-green-500"}`,children:Qs(lr.name)})},br)),me.peopleInvolved&&me.peopleInvolved.length>3&&r.jsx(hn,{className:"border-2 border-background h-8 w-8",children:r.jsxs(yn,{className:"text-xs bg-primary/10",children:["+",me.peopleInvolved.length-3]})})]}),r.jsxs(Ae,{variant:"ghost",size:"sm",className:"gap-1",children:[me.isLocked&&!R(me)?r.jsx(ns,{className:"h-3.5 w-3.5"}):r.jsx(fi,{className:"h-3.5 w-3.5"}),r.jsx("span",{className:"sr-only",children:"View"})]})]})]})},me.reportId)})})})}),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsxs("div",{children:[(Y==null?void 0:Y.text_citizen_showing)||"Showing"," ",(we-1)*C2+1," ",(Y==null?void 0:Y.text_to)||"to"," ",Math.min(we*C2,Mt)," ",(Y==null?void 0:Y.text_of)||"of"," ",Mt," ",(Y==null?void 0:Y.text_reports)||"reports"]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>Ve(me=>Math.max(1,me-1)),disabled:we===1,children:(Y==null?void 0:Y.text_previous)||"Previous"}),r.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>Ve(me=>Math.min(Ct,me+1)),disabled:we==Ct||Ct==0,children:(Y==null?void 0:Y.text_next)||"Next"})]})]})]})]},"list-view")})})}),r.jsx(gr,{open:ye,onOpenChange:de,children:r.jsxs(xr,{className:"sm:max-w-[425px] ","aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:(Y==null?void 0:Y.text_export_report)||"Export Report"})}),r.jsx("div",{className:"grid gap-4 py-4",children:r.jsx("div",{className:"grid grid-cols-4 items-center gap-4",children:r.jsxs(On,{onValueChange:Pe,children:[r.jsx(Dn,{className:"w-[180px]",children:r.jsx(Mn,{placeholder:(Y==null?void 0:Y.text_select_department)||"Select Department"})}),r.jsx(Fn,{children:y&&Object.entries(y).map(([me,At],lr)=>r.jsx(Yt,{value:me,children:me.toUpperCase()},lr))})]})})})]})}),r.jsx(gr,{open:jt,onOpenChange:zt,children:r.jsxs(xr,{"aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:(Y==null?void 0:Y.text_evidence_image)||"Evidence Image"})}),r.jsx("div",{className:"flex justify-center",children:r.jsx("img",{src:Be||"/placeholder.svg",alt:"Full View",className:"max-w-full max-h-[80vh] object-contain"})})]})}),r.jsx(gr,{open:F,onOpenChange:$,children:r.jsxs(xr,{className:"sm:max-w-[500px]","aria-describedby":"",children:[r.jsxs(vr,{children:[r.jsx(yr,{children:(Y==null?void 0:Y.text_add_evidence)||"Add Evidence"}),r.jsx(nl,{children:(Y==null?void 0:Y.text_add_evidence_description)||"Add evidence to the report. Fill in the details below."})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Me,{htmlFor:"evidence-url",children:(Y==null?void 0:Y.text_url)||"URL"}),r.jsx(ht,{id:"evidence-url",placeholder:(Y==null?void 0:Y.text_enter_image_url)||"Enter image URL or upload file",value:H.url,onChange:me=>K({...H,url:me.target.value})})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Me,{htmlFor:"evidence-description",children:(Y==null?void 0:Y.text_description)||"Description"}),r.jsx(ss,{id:"evidence-description",placeholder:(Y==null?void 0:Y.text_describe_evidence)||"Describe the evidence...",value:H.description,onChange:me=>K({...H,description:me.target.value}),className:"min-h-[100px]"})]}),r.jsxs(un,{children:[r.jsx(Ae,{variant:"outline",onClick:()=>$(!1),children:(Y==null?void 0:Y.text_cancel)||"Cancel"}),r.jsx(Ae,{onClick:Ys,children:(Y==null?void 0:Y.text_add_evidence)||"Add Evidence"})]})]})}),r.jsx(tA,{open:Ue,onOpenChange:Lt,children:r.jsxs(cu,{className:"max-w-md",children:[r.jsxs(du,{children:[r.jsxs(Au,{className:"flex items-center gap-2",children:[r.jsx(ns,{className:"h-5 w-5"}),(Y==null?void 0:Y.text_process_jail_time)||"Process Jail Time"]}),r.jsxs(hu,{children:[(Y==null?void 0:Y.text_jail_time_description)||"You are about to process jail time for"," ",r.jsx("span",{className:"font-semibold",children:Et==null?void 0:Et.name}),"."," ",(Y==null?void 0:Y.text_review_sentence)||"Review and confirm the sentence details below."]})]}),r.jsxs("div",{className:"py-4 space-y-4",children:[r.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/20 rounded-md p-3",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(xl,{className:"h-4 w-4 text-amber-500"}),r.jsx("p",{className:"text-sm font-medium text-amber-500",children:(Y==null?void 0:Y.text_imp_notice)||"Important Notice"})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:(Y==null?void 0:Y.text_jail_notice)||"Confirm that all charges have been properly reviewed and the criminal has been informed of their rights. This action will be logged in the system."})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"jail-sentence",children:(Y==null?void 0:Y.text_sentence_months)||"Sentence (months)"}),r.jsxs("div",{className:"flex items-center mt-1.5",children:[r.jsx(Mi,{className:"h-4 w-4 text-muted-foreground mr-2"}),r.jsx(ht,{id:"jail-sentence",type:"number",value:ur,onChange:me=>Cr(Number(me.target.value)),step:"0.1",min:"0",className:"flex-1"})]})]}),r.jsxs("div",{className:"pt-2",children:[r.jsxs("p",{className:"text-sm font-medium mb-2",children:[(Y==null?void 0:Y.text_charges_summary)||"Charges Summary",":"]}),r.jsx("div",{className:"max-h-32 overflow-y-auto bg-muted/50 rounded-md p-2 text-sm",children:Et&&(Et==null?void 0:Et.charges)&&Array.isArray(Et==null?void 0:Et.charges)&&(Et==null?void 0:Et.charges.map((me,At)=>r.jsxs("div",{className:"flex justify-between py-1 border-b border-border/50 last:border-0",children:[r.jsxs("span",{children:[me.title," (x",me.count,")"]}),r.jsxs("span",{className:"text-muted-foreground",children:[me.sentence," months"]})]},At)))})]})]})]}),r.jsxs(uu,{children:[r.jsx(dx,{children:"Cancel"}),r.jsxs(cx,{onClick:ci,className:"bg-blue-500 hover:bg-blue-600",children:[r.jsx(ns,{className:"h-4 w-4 mr-2"}),(Y==null?void 0:Y.text_process_jail_time)||"Process Jail Time"]})]})]})}),r.jsx(tA,{open:Tr,onOpenChange:fr,children:r.jsxs(cu,{className:"max-w-md",children:[r.jsxs(du,{children:[r.jsxs(Au,{className:"flex items-center gap-2",children:[r.jsx(Nm,{className:"h-5 w-5"}),(Y==null?void 0:Y.text_process_fine)||"Process Fine"]}),r.jsxs(hu,{children:[(Y==null?void 0:Y.text_fine_description)||"You are about to process a fine for"," ",r.jsx("span",{className:"font-semibold",children:dr==null?void 0:dr.name}),"."," ",(Y==null?void 0:Y.text_review_fine)||"Review and confirm the fine amount below."]})]}),r.jsxs("div",{className:"py-4 space-y-4",children:[r.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/20 rounded-md p-3",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(xl,{className:"h-4 w-4 text-amber-500"}),r.jsx("p",{className:"text-sm font-medium text-amber-500",children:(Y==null?void 0:Y.text_imp_notice)||"Important Notice"})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:(Y==null?void 0:Y.text_fine_notice)||"Confirm that all charges have been properly reviewed and the criminal has been informed of their financial obligations. This action will be logged in the system."})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"fine-amount",children:(Y==null?void 0:Y.text_fine_amount_dollars)||"Fine Amount ($)"}),r.jsxs("div",{className:"flex items-center mt-1.5",children:[r.jsx(AS,{className:"h-4 w-4 text-muted-foreground mr-2"}),r.jsx(ht,{id:"fine-amount",type:"number",value:qt,onChange:me=>Ge(Number(me.target.value)),min:"0",className:"flex-1"})]})]}),r.jsxs("div",{className:"pt-2",children:[r.jsxs("p",{className:"text-sm font-medium mb-2",children:[(Y==null?void 0:Y.text_charges_summary)||"Charges Summary",":"]}),r.jsx("div",{className:"max-h-32 overflow-y-auto bg-muted/50 rounded-md p-2 text-sm",children:dr&&(dr==null?void 0:dr.charges)&&Array.isArray(dr==null?void 0:dr.charges)&&(dr==null?void 0:dr.charges.map((me,At)=>r.jsxs("div",{className:"flex justify-between py-1 border-b border-border/50 last:border-0",children:[r.jsxs("span",{children:[me.title," (x",me.count,")"]}),r.jsxs("span",{className:"text-muted-foreground",children:["$",(me.fine*(me==null?void 0:me.count)).toLocaleString()]})]},At)))})]})]})]}),r.jsxs(uu,{children:[r.jsx(dx,{children:"Cancel"}),r.jsxs(cx,{onClick:Ka,className:"bg-green-500 hover:bg-green-600",children:[r.jsx(Nm,{className:"h-4 w-4 mr-2"}),(Y==null?void 0:Y.text_process_fine)||"Process Fine"]})]})]})}),r.jsx(gr,{open:st,onOpenChange:it,children:r.jsxs(xr,{className:"max-w-lg p-4",children:[r.jsxs(vr,{children:[r.jsx(yr,{children:(Y==null?void 0:Y.text_link_evidence_case)||"Link to Evidence Case"}),r.jsx(nl,{children:(Y==null?void 0:Y.text_select_evidence_case)||"Select an evidence case to link to this report. The case ID will be used as the evidence locker number."})]}),r.jsxs("div",{className:"py-4 space-y-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(ls,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),r.jsx(ht,{placeholder:(Y==null?void 0:Y.text_search_cases)||"Search cases by ID or name...",className:"pl-10",value:Rt,onChange:me=>xn(me.target.value)})]}),r.jsxs("div",{className:"space-y-4 max-h-[300px] overflow-y-auto",children:[kn?r.jsxs("div",{children:[r.jsx("div",{className:"p-3 border rounded-md h-10"}),r.jsx("div",{className:"p-3 border rounded-md h-10"}),r.jsx("div",{className:"p-3 border rounded-md h-10"})]}):Pt&&Array.isArray(Pt)&&Pt.map(me=>r.jsx("div",{className:"p-3 border rounded-md hover:bg-accent cursor-pointer transition-colors",onClick:()=>{q(At=>At&&{...At,evidenceLockerNumber:me.cs_id}),it(!1),xn("")},children:r.jsx("div",{className:"flex justify-between items-start",children:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"font-medium text-lg",children:me.name}),r.jsx("span",{className:"font-sm text-sm",children:me.cs_id}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:me.description})]})})},me==null?void 0:me.cs_id)),Pt&&Pt.length===0&&!kn&&r.jsx("div",{className:"text-center py-8 bg-muted/20 rounded-lg",children:r.jsx("p",{className:"text-muted-foreground",children:(Y==null?void 0:Y.text_no_cases_match)||"No cases match your search"})})]}),Pt&&Pt.length>er&&r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>dt(me=>Math.max(1,me-1)),disabled:ot===1,children:(Y==null?void 0:Y.text_previous)||"Previous"}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[(Y==null?void 0:Y.text_page)||"Page"," ",ot," ",(Y==null?void 0:Y.text_of)||"of"," ",Math.ceil((Pt==null?void 0:Pt.length)/Er)]}),r.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>dt(me=>Math.min(Math.ceil((Pt==null?void 0:Pt.length)/er),me+1)),disabled:ot===Math.ceil((Pt==null?void 0:Pt.length)/er),children:(Y==null?void 0:Y.text_next)||"Next"})]})]})]})}),r.jsx(Xi,{isOpen:Jt,onClose:()=>Pr(!1),citizens:ie,selectedCitizenId:"",selectedPeople:Cn.map(me=>({citizenId:me.id,name:me.name,charges:[]})),onUpdatePerson:({citizenId:me,name:At})=>{An(At,me),Pr(!1)},onSearchQueryChange:me=>{ce(me)}}),r.jsx(gr,{open:ds,onOpenChange:Nn,children:r.jsxs(xr,{className:"sm:max-w-[500px]","aria-describedby":"",children:[r.jsxs(vr,{children:[r.jsxs(yr,{className:"flex items-center gap-2",children:[r.jsx(ns,{className:"h-5 w-5"}),(Y==null?void 0:Y.text_lock_report)||"Lock Report"]}),r.jsx(nl,{children:(Y==null?void 0:Y.text_lock_report_desc)||"Locking this report will restrict access to authorized personnel only. Please provide a reason for locking this report."})]}),r.jsxs("div",{className:"py-4 space-y-4",children:[r.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/20 rounded-md p-3",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(xl,{className:"h-4 w-4 text-amber-500"}),r.jsx("p",{className:"text-sm font-medium text-amber-500",children:(Y==null?void 0:Y.text_imp_notice)||"Important Notice"})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:(Y==null?void 0:Y.text_lock_notice)||"Once locked, only users with management permissions will be able to view and edit this report. This action can be reversed by unlocking the report."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"lock-reason",children:(Y==null?void 0:Y.text_lock_reason)||"Lock Reason"}),r.jsx(ss,{id:"lock-reason",placeholder:(Y==null?void 0:Y.text_enter_lock_reason)||"Enter the reason for locking this report...",value:Te,onChange:me=>Nt(me.target.value),className:"min-h-[100px]"})]})]}),r.jsxs(un,{children:[r.jsx(Ae,{variant:"outline",onClick:()=>{Nn(!1),Nt("")},children:(Y==null?void 0:Y.text_cancel)||"Cancel"}),r.jsxs(Ae,{onClick:xi,disabled:!Te.trim(),className:"bg-red-500 hover:bg-red-600",children:[r.jsx(ns,{className:"h-4 w-4 mr-2"}),(Y==null?void 0:Y.text_lock_report)||"Lock Report"]})]})]})})]})}function Yf({label:e,value:t,isEditing:n,onChange:s}){return r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:e}),n?r.jsx(ht,{value:t,onChange:a=>s&&s(a.target.value),className:"w-full"}):r.jsx("p",{className:"font-medium",children:t})]})}const rk=e=>{if(!e)return"border-l-4 border-gray-500";const t=["border-l-4 border-blue-500","border-l-4 border-green-500","border-l-4 border-red-500","border-l-4 border-yellow-500","border-l-4 border-purple-500","border-l-4 border-pink-500","border-l-4 border-indigo-500","border-l-4 border-teal-500","border-l-4 border-orange-500","border-l-4 border-cyan-500"];let n=0;for(let a=0;a<e.length;a++)n=e.charCodeAt(a)+((n<<5)-n);const s=Math.abs(n)%t.length;return t[s]},H9=({isOpen:e,onClose:t,selectedCharges:n,onUpdateCharges:s})=>{var b;const[a,i]=m.useState(""),{user:o}=Yn(),[l,c]=m.useState([]),{locale:d}=ir(),u=async()=>{try{const N=await ke("fetchAllCriminalCodes",{});N.success?c(N.criminalCodesData):console.error("No response received.")}catch(x){console.error("Error:",x),c([])}};m.useEffect(()=>{u()},[]);const f=x=>{i(x.target.value)},v=x=>{const N=n.find(k=>k.id===x.id);let S;N?S=n&&Array.isArray(n)&&n.map(k=>k.id===x.id?{...k,count:k.count+1}:k):S=[...n,{id:x.id,title:x.title||"",count:1}],s(S)},g=x=>{const N=n&&Array.isArray(n)&&n.map(S=>S.id===x.id?{...S,count:S.count-1}:S).filter(S=>S.count>0);s(N)},y=l.filter(x=>{var N;return((N=x.title)==null?void 0:N.toLowerCase().includes(a.toLowerCase()))||x.id.toLowerCase().includes(a.toLowerCase())}).reduce((x,N)=>{const S=(N==null?void 0:N.category)||"Uncategorized";return x[S]||(x[S]=[]),x[S].push(N),x},{});return r.jsx(gr,{open:e,onOpenChange:t,children:r.jsxs(xr,{className:"max-w-7xl",style:{backgroundImage:`url(${Ws((b=o==null?void 0:o.permissions)==null?void 0:b.backgroundImage)})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},"aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("hr",{className:"w-1 h-10 bg-primary border-none rounded-full"}),r.jsx("h2",{className:"text-2xl font-bold",children:(d==null?void 0:d.text_select_charges)||"Select Charges"})]})})}),r.jsx("div",{className:"mb-1",children:r.jsx(ht,{placeholder:(d==null?void 0:d.text_search_charges)||"Search charges...",value:a,onChange:f})}),r.jsxs("div",{className:"mt-1",children:[r.jsx("h3",{className:"text-lg font-semibold",children:(d==null?void 0:d.text_selected_charges)||"Selected Charges"}),r.jsx(nr,{className:"h-[100px] border-none rounded-md p-2",children:r.jsx("div",{className:"flex flex-wrap items-center gap-2",children:n.length>0?n&&Array.isArray(n)&&n.map(x=>r.jsxs(ze,{variant:"secondary",className:"flex items-center gap-2",children:[r.jsx("span",{className:"max-w-[150px] truncate",children:x.title}),r.jsxs("span",{className:"text-sm",children:["x",x.count]}),r.jsxs(Ae,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:()=>g(x),children:[r.jsx(mc,{className:"h-3 w-3"}),r.jsx("span",{className:"sr-only",children:"Remove"})]})]},x.id)):r.jsx("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground",children:"No charges selected"})})})]}),r.jsx(nr,{className:"h-[50vh] mt-4",children:r.jsx("div",{className:"space-y-6 p-4",children:y&&Object.entries(y).map(([x,N])=>r.jsxs("div",{children:[r.jsx("h3",{className:`text-xl font-semibold p-2 ${rk(x)}`,children:x}),r.jsx("div",{className:"grid grid-cols-5 gap-4 mt-2",children:N&&Array.isArray(N)&&N.map(S=>r.jsxs(Le,{className:`cursor-pointer transition-colors ${rk((S==null?void 0:S.category)||"default")}`,onClick:()=>v(S),children:[r.jsx(mt,{children:r.jsxs(kt,{className:"flex justify-between items-center text-lg",children:[r.jsxs(JH,{children:[r.jsx(YH,{asChild:!0,children:r.jsx(Ae,{variant:"link",children:S==null?void 0:S.id})}),r.jsx(Z4,{className:"absolute z-10 w-80 bg-gray-900 text-white",side:"top",align:"center",children:r.jsxs("div",{className:"flex flex-col justify-between space-x-4",children:[r.jsx("h3",{children:"Additional Penalties"}),S&&(S!=null&&S.additonalPenalties)?Array.isArray(S.additonalPenalties)?S.additonalPenalties.map((k,F)=>r.jsx("li",{children:k},F)):(()=>{try{const k=JSON.parse(S.additonalPenalties);return k&&Array.isArray(k)?k.map((F,$)=>r.jsx("li",{children:F},$)):null}catch{return r.jsx("span",{children:"Invalid penalty format"})}})():r.jsx("span",{children:(d==null?void 0:d.text_no_additional_penalties)||"No additional penalties"})]})})]}),n.some(k=>k.id===S.id)&&r.jsx(fc,{className:"text-primary"})]})}),r.jsxs(Je,{children:[r.jsx("p",{className:"text-gray-300 text-sm break-all whitespace-normal",title:S.title,children:S.title}),r.jsxs("div",{className:"flex flex-col mt-2 text-sm",children:[r.jsxs("span",{className:"font-medium",children:[(d==null?void 0:d.text_fine)||"Fine",": $",S==null?void 0:S.fine]}),r.jsxs("span",{className:"font-medium",children:[(d==null?void 0:d.text_sentence)||"Sentence",": ",S==null?void 0:S.sentence," ",(d==null?void 0:d.text_months)||" months"]})]})]})]},S==null?void 0:S.id))})]},x))})}),r.jsx("div",{className:"flex justify-end space-x-2 mt-4",children:r.jsx(Ae,{variant:"outline",onClick:t,children:"Close"})})]})})},ype=({warrant:e,onClick:t})=>{var a,i;const{locale:n}=ir(),s=o=>{switch(o){case"active":return r.jsx(ze,{variant:"outline",className:"bg-red-500/10 text-red-500",children:(n==null?void 0:n.text_active)||"ACTIVE"});case"expired":return r.jsx(ze,{variant:"outline",className:"bg-yellow-500/10 text-yellow-500",children:(n==null?void 0:n.text_expired)||"EXPIRED"});case"executed":return r.jsx(ze,{variant:"outline",className:"bg-green-500/10 text-green-500",children:(n==null?void 0:n.text_executed)||"EXECUTED"});default:return r.jsx(ze,{variant:"outline",children:(n==null?void 0:n.text_unknown)||"UNKNOWN"})}};return r.jsx(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"h-full",children:r.jsxs(Le,{className:"h-full bg-card/50  border-primary/20 hover:border-primary/50 transition-all duration-300 overflow-hidden group flex flex-col",onClick:t,children:[r.jsxs(mt,{className:"p-4 pb-2 flex-none",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsx(ze,{variant:"outline",className:"bg-blue-500/10 text-blue-500",children:(a=e==null?void 0:e.id)==null?void 0:a.toUpperCase()}),s(e==null?void 0:e.status)]}),r.jsx(kt,{className:"text-lg mt-2 line-clamp-1",children:e==null?void 0:e.name})]}),r.jsxs(Je,{className:"p-4 pt-0 flex-1 flex flex-col",children:[r.jsxs("div",{className:"flex-none",children:[r.jsxs("div",{className:"flex items-center text-sm text-muted-foreground mb-2",children:[r.jsx(Ua,{className:"h-3.5 w-3.5 mr-1"}),r.jsxs("span",{children:[(n==null?void 0:n.text_issued)||"Issued",": ",new Date(e==null?void 0:e.issueDate).toLocaleDateString()]})]}),r.jsxs("div",{className:"flex items-center text-sm text-muted-foreground mb-2",children:[r.jsx(gS,{className:"h-3.5 w-3.5 mr-1"}),r.jsxs("span",{className:"line-clamp-1",children:[(n==null?void 0:n.text_issued_by)||"Issued By",": ",e==null?void 0:e.issuingAuthority]})]})]}),r.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:e&&Array.isArray(e==null?void 0:e.charges)&&((i=e==null?void 0:e.charges)==null?void 0:i.length)>0&&e.charges.map((o,l)=>r.jsxs(ze,{variant:"outline",className:"bg-destructive/10",children:[o.title,o.count>1&&` (${o.count}x)`]},`${o.title}-${l}`))})]})]})})},wpe=({isOpen:e,onClose:t,reports:n,selectedReports:s,onUpdateReports:a,onSearchQueryChange:i})=>{var f;const[o,l]=m.useState(""),{user:c}=Yn(),d=v=>{l(v.target.value),i(v.target.value)},u=v=>{const g=s.includes(v)?s.filter(w=>w!==v):[...s,v];a(g)};return r.jsx(gr,{open:e,onOpenChange:t,children:r.jsxs(xr,{"aria-describedby":"",className:"max-w-lg",style:{backgroundImage:`url(${Ws((f=c==null?void 0:c.permissions)==null?void 0:f.backgroundImage)})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[r.jsx(vr,{children:r.jsx(yr,{children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("hr",{className:"w-1 h-10 bg-primary border-none rounded-full"}),r.jsx("h2",{className:"text-2xl font-bold",children:"Select Reports"})]})})}),r.jsx("div",{className:"mb-4",children:r.jsx(ht,{placeholder:"Search by Report ID or Name...",value:o,onChange:d,className:"w-full p-2 border border-gray-300 rounded-md text-white"})}),r.jsx(nr,{className:"h-[40vh] mt-4",children:r.jsx("div",{className:"grid gap-2 p-2",children:n&&Array.isArray(n)&&(n||[]).map(v=>r.jsx(Le,{className:`cursor-pointer transition-colors ${s.includes(v.reportId)?"border-primary":"border-gray-500"}`,onClick:()=>u(v.reportId),children:r.jsxs(Je,{className:"flex items-center space-x-4 p-4",children:[r.jsx("div",{className:"flex items-center justify-center h-10 w-10 bg-gray-700 rounded-full",children:r.jsx(fi,{className:"text-gray-400 h-6 w-6"})}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-lg font-medium",children:v.reportId}),r.jsx("span",{className:"text-sm text-muted-foreground max-w-[200px] truncate",children:v.reportName})]}),s.includes(v.reportId)&&r.jsx(fc,{className:"text-primary ml-auto"})]})},v.reportId))})})]})})},bpe={exportData:{bcso:{label:"BCSO",warrantTemplateUrl:"https://kappa.lol/8ut4U"},sasp:{label:"SASP",warrantTemplateUrl:"https://kappa.lol/zQ-_6"},lspd:{label:"LSPD",warrantTemplateUrl:"https://kappa.lol/blm-9"},ambulance:{label:"EMS",warrantTemplateUrl:"https://kappa.lol/blm-9"}}},jpe=({warrant:e,userPermissions:t,onClose:n})=>{var oe,ce,ee,M;const s=Vc(),{toast:a}=ys(),{locale:i}=ir(),[o,l]=m.useState(!1),[c,d]=m.useState(e),[u,f]=m.useState(!1),[v,g]=m.useState(null),[w,y]=m.useState(!1),[b,x]=m.useState(!1),[N,S]=m.useState(!1),[k,F]=m.useState([]),[$,U]=m.useState(null);m.useEffect(()=>{d(e)},[e]),m.useEffect(()=>{H()},[]);const D=E=>{E.stopPropagation(),S(!0)};function H(){return ke("getExportDepartments",{},bpe).then(E=>{const{exportData:q,webhook:se}=E;E&&(F(q),U(se))}).catch(E=>{console.error("Error:",E)})}const K=E=>{d(q=>({...q,status:E}))},B=E=>{const q=k[E];s(`/export-warrant/${E}`,{state:{departmentData:q,warrant:c,webhookDump:$}})},R=E=>{const q={...E,id:`S${Date.now()}`},se=[...(c==null?void 0:c.sightings)||[],q],re=c==null?void 0:c.id;return ke("addReportSightings",{sightingsData:se,warrantId:re}).then(G=>{G?(d(ue=>({...ue,sightings:[...(ue==null?void 0:ue.sightings)||[],q]})),a({title:(i==null?void 0:i.text_sighting_reported)||"Sighting Reported",description:(i==null?void 0:i.text_sighting_success)||"The sighting has been successfully reported."}),f(!1)):console.error("Failed to create sighting:",G)}).catch(G=>{console.error("Error occurred while creating the sighting:",G)})},Z=E=>{switch(E){case"active":return r.jsx(ze,{variant:"outline",className:"bg-red-500/10 text-red-500",children:(i==null?void 0:i.text_active)||"ACTIVE"});case"expired":return r.jsx(ze,{variant:"outline",className:"bg-yellow-500/10 text-yellow-500",children:(i==null?void 0:i.text_expired)||"EXPIRED"});case"executed":return r.jsx(ze,{variant:"outline",className:"bg-green-500/10 text-green-500",children:(i==null?void 0:i.text_executed)||"EXECUTED"});default:return r.jsx(ze,{variant:"outline",children:(i==null?void 0:i.text_unknown)||"UNKNOWN"})}},te=E=>{if(!c)return;const q=c==null?void 0:c.caseNotes.filter(re=>re.id!==E),se=c==null?void 0:c.id;ke("updateCaseNotes",{caseNoteData:q,warrantId:se}).then(re=>{re?(d(G=>G&&{...G,caseNotes:q}),a({title:(i==null?void 0:i.text_case_note_removed)||"Case Note Removed",description:(i==null?void 0:i.text_case_note_success)||"The case note has been successfully removed."})):console.error("No response received.")}).catch(re=>{console.error("Error:",re)})},ye=E=>ke("fetchReportDataByReportId",{reportId:E}).then(q=>{q&&q.success?(q=q.data,g(q)):(console.error("No response received."),g(null))}).catch(q=>{console.error("Error:",q),g(null)}),de=E=>{const q={...E,id:`CN${Date.now()}`},se=[...(c==null?void 0:c.caseNotes)||[],q],re=c==null?void 0:c.id;return ke("updateCaseNotes",{caseNoteData:se,warrantId:re}).then(G=>{G?(d(ue=>ue&&{...ue,caseNotes:[...ue.caseNotes||[],q]}),a({title:(i==null?void 0:i.text_case_note_added)||"Case Note Added",description:(i==null?void 0:i.text_case_note_success)||"The case note has been successfully added."}),y(!1)):console.error("Failed to create case note:",G)}).catch(G=>{console.error("Error occurred while creating the case note:",G)})},le=()=>{x(!0)},Q=E=>{if(E)return ke("updateWarrant",{warrant:E}).then(q=>{q?(a({title:(i==null?void 0:i.text_warrant_updated)||"Warrant Updated",description:(i==null?void 0:i.text_warrant_success)||"The warrant has been successfully updated."}),l(!1)):console.error("No response received.")}).catch(q=>{console.error("Error:",q)})};return r.jsxs(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"flex w-full ",children:[r.jsxs("div",{className:"w-full",children:[r.jsx(mt,{className:"flex flex-row items-center justify-between w-full",children:r.jsxs("div",{className:"flex items-center gap-4 w-full justify-between",children:[r.jsx(Ae,{variant:"outline",size:"icon",onClick:n,className:"h-10 w-10",children:r.jsx(Oi,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[c==null?void 0:c.name,r.jsxs(ze,{variant:"outline",className:"bg-green-500/10 text-green-500",children:["#",c==null?void 0:c.id]}),Z(c==null?void 0:c.status)]}),r.jsxs("p",{className:"text-muted-foreground",children:[(i==null?void 0:i.text_issued)||"Issued",": ",new Date(c==null?void 0:c.issueDate).toLocaleDateString()]})]}),r.jsx("div",{className:"ml-auto",children:r.jsx("div",{className:"flex gap-2",children:(t==null?void 0:t.edit)&&r.jsxs(r.Fragment,{children:[r.jsxs(Ae,{variant:"outline",onClick:()=>le(),children:[r.jsx(Nd,{className:"mr-2 h-4 w-4"}),(i==null?void 0:i.text_export)||"Export"]}),!o&&r.jsxs(Ae,{variant:"outline",onClick:()=>l(!0),children:[r.jsx(ks,{className:"h-4 w-4"}),(i==null?void 0:i.text_edit)||"Edit"]}),o&&r.jsxs(r.Fragment,{children:[r.jsxs(Ae,{variant:"destructive",onClick:()=>l(!1),children:[r.jsx(ks,{className:" h-4 w-4"}),(i==null?void 0:i.text_cancel)||"Cancel"]}),r.jsxs(Ae,{variant:"outline",onClick:()=>Q(c),children:[r.jsx(ks,{className:" h-4 w-4"}),(i==null?void 0:i.text_save_changes)||"Save Changes"]})]})]})})})]})}),r.jsx(Je,{children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"col-span-1",children:[r.jsxs("div",{className:"flex flex-row items-center space-y-4 w-[35vw] gap-5 justify-start",children:[r.jsxs("div",{className:"relative group cursor-pointer",children:[r.jsxs(hn,{className:"w-36 h-36",children:[r.jsx(Ch,{src:c==null?void 0:c.photo}),r.jsx(yn,{children:r.jsx(ri,{className:"w-36 h-36 p-6 text-primary"})})]}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200 bg-black bg-opacity-50 rounded-full",children:r.jsx(ja,{className:"h-8 w-8 text-white"})})]}),r.jsxs("div",{className:"text-start",children:[r.jsx("h3",{className:"text-xl font-bold",children:c==null?void 0:c.name}),r.jsxs("p",{className:"text-muted-foreground",children:[(i==null?void 0:i.text_id)||"ID",": ",c==null?void 0:c.suspectId]}),r.jsxs("p",{className:"text-muted-foreground",children:[(i==null?void 0:i.text_nationality)||"Nationality",": ",c==null?void 0:c.nationality]}),r.jsxs("p",{className:"text-muted-foreground",children:[(i==null?void 0:i.text_birth_date)||"Birth Date",": ",c==null?void 0:c.birthdate]})]})]}),r.jsxs(Le,{className:`p-4 mt-4 ${c!=null&&c.isDangerous?"bg-destructive/20 neon-border":"bg-primary/20"}`,children:[r.jsxs(kt,{className:"flex items-center mb-2 text-base",children:[c!=null&&c.isDangerous?r.jsx(cs,{className:"mr-2 h-5 w-5 text-destructive"}):r.jsx(cs,{className:"mr-2 h-5 w-5 text-destructive"}),(i==null?void 0:i.text_dangerous)||"Dangerous"]}),r.jsx("p",{className:"text-sm",children:c!=null&&c.isDangerous?(i==null?void 0:i.text_danger_warning)||"This suspect is considered dangerous. Exercise extreme caution and alert dispatch if located.":(i==null?void 0:i.text_not_dangerous)||"This suspect is not considered dangerous."})]}),r.jsxs("div",{className:"mt-4 space-y-4",children:[r.jsx("div",{className:"flex flex-row justify-between",children:r.jsx("h4",{className:"font-semibold",children:(i==null?void 0:i.text_extra_details)||"Extra Details"})}),r.jsxs(nr,{className:"h-[calc(40vh-100px)]",children:[r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(Le,{className:"p-4 bg-background/50",children:r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsx("p",{className:"text-sm font-semibold text-primary",children:(i==null?void 0:i.text_issue_date)||"Issue Date"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:c!=null&&c.issueDate?new Date(c.issueDate).toLocaleDateString():(i==null?void 0:i.text_not_specified)||"Not specified"})]})}),r.jsx(Le,{className:"p-4 bg-background/50",children:r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsx("p",{className:"text-sm font-semibold text-primary",children:(i==null?void 0:i.text_expiry_date)||"Expiry Date"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:c!=null&&c.expiryDate?new Date(c.expiryDate).toLocaleDateString():(i==null?void 0:i.text_not_specified)||"Not specified"})]})}),r.jsx(Le,{className:"p-4 bg-background/50",children:r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsx("p",{className:"text-sm font-semibold text-primary",children:(i==null?void 0:i.text_issuing_authority)||"Issuing Authority"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:(c==null?void 0:c.issuingAuthority)||(i==null?void 0:i.text_not_specified)||"Not specified"})]})}),r.jsx(Le,{className:"p-4 bg-background/50",children:r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsx("p",{className:"text-sm font-semibold text-primary",children:(i==null?void 0:i.text_status)||"Status"}),r.jsxs(On,{name:"status",value:c.status,onValueChange:K,disabled:!o,children:[r.jsx(Dn,{children:r.jsx(Mn,{placeholder:(i==null?void 0:i.text_select_status)||"Select status"})}),r.jsxs(Fn,{children:[r.jsx(Yt,{value:"active",children:(i==null?void 0:i.text_active)||"Active"}),r.jsx(Yt,{value:"expired",children:(i==null?void 0:i.text_expired)||"Expired"}),r.jsx(Yt,{value:"executed",children:(i==null?void 0:i.text_executed)||"Executed"})]})]})]})})]})}),r.jsxs("div",{className:"mt-4 space-y-4",children:[r.jsxs("div",{className:"flex flex-row justify-between",children:[r.jsx("h4",{className:"font-semibold",children:(i==null?void 0:i.text_charges)||"Charges"}),t.edit&&o&&r.jsx("div",{className:"flex flex-row gap-5",children:r.jsx(Ae,{variant:"outline",className:"rounded-lg shadow-md hover:bg-primary/80 transition duration-200",onClick:E=>D(E),children:(i==null?void 0:i.text_add_charges)||"Add Charges"})})]}),r.jsx(H9,{isOpen:N,onClose:()=>S(!1),selectedCharges:(c==null?void 0:c.charges)||[],onUpdateCharges:E=>{d(q=>({...q,charges:E}))}}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[c&&Array.isArray(c==null?void 0:c.charges)&&((c==null?void 0:c.charges)||[]).map((E,q)=>r.jsxs(ze,{variant:"outline",className:"bg-destructive/10",children:[E.title,E.count>1&&` (${E.count}x)`]},`${E.title}-${q}`)),(!(c!=null&&c.charges)||c.charges.length===0)&&r.jsx("p",{className:"text-sm text-muted-foreground",children:(i==null?void 0:i.text_no_charges)||"No charges listed."})]})]})]})]})]}),r.jsxs("div",{className:"col-span-1",children:[r.jsxs("div",{className:"flex flex-row justify-between mb-4",children:[r.jsx("h4",{className:"font-semibold",children:(i==null?void 0:i.text_sightings)||"Sightings"}),t.edit&&o&&r.jsx("div",{className:"flex flex-row gap-5",children:r.jsx(Ae,{variant:"outline",className:"rounded-lg shadow-md hover:bg-primary/80 transition duration-200",onClick:()=>f(!0),children:(i==null?void 0:i.text_report_sighting)||"Report Sighting"})})]}),r.jsx(Le,{className:"p-4 bg-background/50",children:r.jsx(nr,{className:"h-[25vh]",children:r.jsx("div",{className:"space-y-2",children:c&&(c!=null&&c.sightings)&&((oe=c==null?void 0:c.sightings)==null?void 0:oe.length)>0&&Array.isArray(c==null?void 0:c.sightings)?(ce=c&&(c==null?void 0:c.sightings)&&(c==null?void 0:c.sightings)||[])==null?void 0:ce.map(E=>r.jsxs(Le,{className:"p-2 bg-background/50",children:[r.jsxs("p",{className:"text-sm flex items-center",children:[r.jsx(qs,{className:"mr-2 h-4 w-4 text-primary"}),E.location]}),r.jsxs("p",{className:"text-xs text-muted-foreground flex items-center",children:[r.jsx(Mi,{className:"mr-2 h-4 w-4"}),$n(E.timestamp)]})]},E.id)):r.jsx("p",{className:"text-sm text-muted-foreground",children:(i==null?void 0:i.text_no_sightings)||"No sightings available."})})})}),r.jsxs("div",{className:"flex flex-row justify-between mt-2 mb-2",children:[r.jsx("h4",{className:"font-semibold",children:(i==null?void 0:i.text_notes)||"Notes"}),t.edit&&o&&r.jsx("div",{className:"flex flex-row gap-5",children:r.jsx(Ae,{variant:"outline",className:"rounded-lg shadow-md hover:bg-primary/80 transition duration-200",onClick:()=>y(!0),children:(i==null?void 0:i.text_add_case_note)||"Add Case Note"})})]}),r.jsx(Le,{className:"p-4 bg-background/50",children:r.jsx(nr,{className:"h-[25vh]",children:r.jsx("div",{className:"space-y-2",children:c&&(c!=null&&c.caseNotes)&&((ee=c==null?void 0:c.caseNotes)!=null&&ee.length)?c&&(c==null?void 0:c.caseNotes)&&((M=(c==null?void 0:c.caseNotes)||[])==null?void 0:M.map(E=>{var q,se;return r.jsx(Le,{className:"p-2 bg-background/50",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm",children:E.content}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[E.author," - ",$n(E.timestamp)]}),E&&(E==null?void 0:E.attachedReports)&&((q=E==null?void 0:E.attachedReports)==null?void 0:q.length)>0&&r.jsxs("div",{className:"mt-2",children:[r.jsx("p",{className:"text-xs font-semibold",children:(i==null?void 0:i.text_attached_reports)||"Attached Reports:"}),r.jsx("ul",{className:"list-disc list-inside text-xs text-muted-foreground",children:E&&(E==null?void 0:E.attachedReports)&&((se=(E==null?void 0:E.attachedReports)||[])==null?void 0:se.map(re=>r.jsx("li",{children:r.jsx(Ae,{variant:"link",className:"p-0 h-auto text-xs",onClick:()=>ye(re),children:re})},re)))})]})]}),t.edit&&r.jsx(Ae,{variant:"ghost",size:"sm",onClick:()=>te(E.id),children:r.jsx(ms,{className:"h-4 w-4"})})]})},E==null?void 0:E.id)})):r.jsx("p",{className:"text-sm text-muted-foreground",children:(i==null?void 0:i.text_no_case_notes)||"No case notes available."})})})})]})]})})]}),r.jsx(gr,{open:u,onOpenChange:f,children:r.jsxs(xr,{"aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:(i==null?void 0:i.text_report_sighting)||"Report Sighting"})}),r.jsx(Npe,{suspectId:(c==null?void 0:c.suspectId)||"",onSave:R,onCancel:()=>f(!1)})]})}),r.jsx(gr,{open:w,onOpenChange:y,children:r.jsxs(xr,{"aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:(i==null?void 0:i.text_add_case_note)||"Add Case Note"})}),r.jsx(Cpe,{suspectId:(c==null?void 0:c.suspectId)||"",onSave:de,onCancel:()=>y(!1)})]})}),r.jsx(gr,{open:!!v,onOpenChange:()=>g(null),children:r.jsxs(xr,{className:"max-w-[60vw] w-full","aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:(i==null?void 0:i.text_report_details)||"Report Details"})}),v&&r.jsx("div",{className:"space-y-4",children:r.jsx("div",{className:"grid gap-4 py-4",children:r.jsx(nr,{className:"h-[calc(80vh-100px)]",children:r.jsxs("div",{className:"grid grid-cols-2 items-center gap-4",children:[r.jsxs("div",{className:"space-y-2 col-span-2",children:[r.jsx(Me,{htmlFor:"reportname",children:(i==null?void 0:i.text_report_name)||"Report Name"}),r.jsx(ht,{id:"reportname",name:"reportname",value:v.reportName,disabled:!0,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"reportid",children:(i==null?void 0:i.text_report_id)||"Report ID"}),r.jsx(ht,{id:"reportid",name:"reportid",value:v.reportId,disabled:!0,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"date",children:(i==null?void 0:i.text_date)||"Date"}),r.jsx(ht,{id:"date",name:"date",value:$n(v.dateTime),disabled:!0,required:!0})]}),r.jsxs("div",{className:"space-y-2 col-span-2",children:[r.jsx(Me,{htmlFor:"location",children:(i==null?void 0:i.text_location)||"Location"}),r.jsx(ht,{id:"location",name:"location",value:v.location,disabled:!0,required:!0})]}),r.jsxs("div",{className:"space-y-2 col-span-2",children:[r.jsx(Me,{htmlFor:"description",children:(i==null?void 0:i.text_description)||"Description"}),r.jsx("div",{className:"col-span-3 min-h-[200px] max-w-full w-full rounded border p-2 overflow-hidden break-words",children:r.jsx("div",{className:"prose prose-invert prose-sm max-w-none",dangerouslySetInnerHTML:{__html:(v==null?void 0:v.description)||""}})})]})]})})})})]})}),r.jsx(gr,{open:b,onOpenChange:x,children:r.jsxs(xr,{className:"sm:max-w-[425px]","aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:(i==null?void 0:i.text_export_warrant)||"Export Warrant"})}),r.jsx("div",{className:"grid gap-4 py-4",children:r.jsx("div",{className:"grid grid-cols-4 items-center gap-4",children:r.jsxs(On,{onValueChange:B,children:[r.jsx(Dn,{className:"w-[180px]",children:r.jsx(Mn,{placeholder:(i==null?void 0:i.text_select_department)||"Select Department"})}),r.jsx(Fn,{children:k&&Object.entries(k).map(([E,q],se)=>r.jsx(Yt,{value:E,children:E.toUpperCase()},se))})]})})})]})})]})};function Npe({suspectId:e,onSave:t,onCancel:n}){var l;const[s,a]=m.useState({suspectId:e,location:"",timestamp:new Date().toISOString(),reportedBy:""}),i=c=>{const{name:d,value:u}=c.target;a(f=>({...f,[d]:u}))},o=c=>{c.preventDefault(),t(s)};return r.jsxs("form",{onSubmit:o,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"location",children:"Location"}),r.jsx(ht,{id:"location",name:"location",value:s.location,onChange:i,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"timestamp",children:"Timestamp"}),r.jsx(ht,{id:"timestamp",name:"timestamp",type:"datetime-local",value:(l=s.timestamp)==null?void 0:l.split(".")[0],onChange:i,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"reportedBy",children:"Reported By"}),r.jsx(ht,{id:"reportedBy",name:"reportedBy",value:s.reportedBy,onChange:i,required:!0})]}),r.jsxs(un,{children:[r.jsx(Ae,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),r.jsx(Ae,{type:"submit",children:"Save"})]})]})}function Cpe({suspectId:e,onSave:t,onCancel:n}){const[s,a]=m.useState(""),[i,o]=m.useState({id:"",suspectId:e,content:"",timestamp:new Date().toISOString(),author:"",attachedReports:[]}),[l,c]=m.useState([]),[d,u]=m.useState(s),f=(N,S)=>ke("fetchReports",{page:N,query:S}).then(k=>{c(k.reports)}).catch(k=>{console.error("Error:",k),c([])});m.useEffect(()=>{f(1,d)},[d]),m.useEffect(()=>{const N=setTimeout(()=>{u(s)},500);return()=>{clearTimeout(N)}},[s]);const v=N=>{const{name:S,value:k}=N.target;o(F=>({...F,[S]:k}))},[g,w]=m.useState(!1),y=N=>{N.stopPropagation(),w(!0)},b=N=>{o(S=>({...S,attachedReports:S.attachedReports.filter(k=>k!==N)}))},x=N=>{N.preventDefault(),t(i)};return r.jsxs("form",{onSubmit:x,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"content",children:"Content"}),r.jsx(ss,{id:"content",name:"content",value:i.content,onChange:v,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"author",children:"Author"}),r.jsx(ht,{id:"author",name:"author",value:i.author,onChange:v,required:!0})]}),r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsx(Me,{htmlFor:"attachedReports",children:"Attached Reports"}),r.jsx(Ae,{variant:"outline",type:"button",onClick:N=>{y(N)},children:"Select Reports"}),r.jsx(wpe,{isOpen:g,onClose:()=>w(!1),reports:l,selectedReports:(i==null?void 0:i.attachedReports)||[],onUpdateReports:N=>{o(S=>({...S,attachedReports:N}))},onSearchQueryChange:a}),r.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:i&&(i==null?void 0:i.attachedReports)&&((i==null?void 0:i.attachedReports)||[]).map(N=>r.jsxs(ze,{variant:"secondary",className:"text-xs",children:[N,r.jsx(Ae,{variant:"ghost",size:"sm",className:"ml-1 h-4 w-4 p-0",onClick:()=>b(N),children:r.jsx(mc,{className:"h-3 w-3"})})]},N))})]}),r.jsxs(un,{children:[r.jsx(Ae,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),r.jsx(Ae,{type:"submit",children:"Save"})]})]})}function _pe(){return r.jsxs("div",{className:"flex-1 space-y-4 w-full h-full",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(Se,{className:"w-1 h-10"}),r.jsx(Se,{className:"h-8 w-32"})]}),r.jsx("div",{className:"grid grid-cols-6 gap-4 grid-rows-1 h-full",children:r.jsxs(Le,{className:"col-span-6 row-span-1 bg-card/50  border-primary/20 max-h-[calc(95vh-200px)] overflow-hidden",children:[r.jsxs(mt,{className:"flex flex-row items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Se,{className:"h-5 w-5"}),r.jsx(Se,{className:"h-6 w-32"})]}),r.jsx(Se,{className:"h-9 w-28"})]}),r.jsx(Je,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Se,{className:"h-5 w-5"}),r.jsx(Se,{className:"h-10 w-full"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[1,2,3,4,5,6,7,8].map(e=>r.jsxs(Le,{className:"p-4 bg-background/50 hover:bg-primary/10 transition-colors",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(Se,{className:"h-12 w-12 rounded-md"}),r.jsxs("div",{className:"space-y-2 flex-1",children:[r.jsx(Se,{className:"h-4 w-3/4"}),r.jsx(Se,{className:"h-3 w-1/2"})]})]}),r.jsxs("div",{className:"mt-4 space-y-2",children:[r.jsx(Se,{className:"h-3 w-full"}),r.jsx(Se,{className:"h-3 w-2/3"})]})]},e))}),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsx(Se,{className:"h-4 w-48"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Se,{className:"h-8 w-20"}),r.jsx(Se,{className:"h-8 w-20"})]})]})]})})]})})]})}const _2=10,Spe={warrantsData:[{id:"1",suspectId:"CIT123456",name:"John Doe",issueDate:"2023-10-15T14:30:00Z",expiryDate:"2023-12-15T14:30:00Z",photo:"https://media.discordapp.net/attachments/825976333313376306/1335106005196869753/image.png?ex=679ef5dc&is=679da45c&hm=d979d79bd7452ecd36846d30450ae23c3f8c13150d813f28b347918ba78c872b&=&format=webp&quality=lossless&width=433&height=676",charges:[{id:"CC001",title:"Armed Robbery",description:"Robbery with a deadly weapon",fine:5e3,sentence:60,category:"Felony"},{id:"CC002",title:"Assault on LEO",description:"Assault on a Law Enforcement Officer",fine:3500,sentence:45,category:"Felony"}],issuingAuthority:"Judge Wilson",status:"active",caseNotes:[{id:"N001",content:"Suspect was last seen in Davis Avenue area.",timestamp:"2023-10-16T09:15:00Z",author:"Officer Smith"}],sightings:[{id:"S001",location:"Downtown, near Central Bank",timestamp:"2023-10-17T18:45:00Z"}],nationality:"American",birthdate:"1985-06-12",isDangerous:!0},{id:"2",suspectId:"CIT789012",name:"Jane Smith",issueDate:"2023-09-28T10:15:00Z",expiryDate:"2023-11-28T10:15:00Z",photo:"https://example.com/mugshots/janesmith.jpg",charges:[{id:"CC003",title:"Grand Theft Auto",description:"Theft of a motor vehicle",fine:3e3,sentence:30,category:"Felony"}],issuingAuthority:"Judge Martinez",status:"active",caseNotes:[{id:"N002",content:"Suspect has known associates in the Vinewood area.",timestamp:"2023-09-29T14:20:00Z",author:"Detective Johnson"}],nationality:"Canadian",birthdate:"1990-03-24",isDangerous:!1},{id:"3",suspectId:"CIT345678",name:"Robert Williams",issueDate:"2023-08-05T16:45:00Z",expiryDate:"2023-10-05T16:45:00Z",charges:[{id:"CC004",title:"Drug Trafficking",description:"Distribution of controlled substances",fine:7500,sentence:90,category:"Felony"},{id:"CC005",title:"Illegal Possession of Firearms",description:"Possession of unregistered firearms",fine:2500,sentence:25,category:"Felony"},{id:"CC004",title:"Drug Trafficking",description:"Distribution of controlled substances",fine:7500,sentence:90,category:"Felony"},{id:"CC005",title:"Illegal Possession of Firearms",description:"Possession of unregistered firearms",fine:2500,sentence:25,category:"Felony"},{id:"CC004",title:"Drug Trafficking",description:"Distribution of controlled substances",fine:7500,sentence:90,category:"Felony"},{id:"CC005",title:"Illegal Possession of Firearms",description:"Possession of unregistered firearms",fine:2500,sentence:25,category:"Felony"},{id:"CC004",title:"Drug Trafficking",description:"Distribution of controlled substances",fine:7500,sentence:90,category:"Felony"},{id:"CC005",title:"Illegal Possession of Firearms",description:"Possession of unregistered firearms",fine:2500,sentence:25,category:"Felony"}],issuingAuthority:"Judge Thompson",status:"expired",caseNotes:[{id:"N003",content:"Suspect is believed to have fled the state.",timestamp:"2023-08-10T11:30:00Z",author:"Officer Davis"}],nationality:"Mexican",birthdate:"1978-11-30",isDangerous:!0},{id:"4",suspectId:"CIT901234",name:"Emily Johnson",issueDate:"2023-10-01T09:00:00Z",expiryDate:"2023-12-01T09:00:00Z",photo:"https://example.com/mugshots/emilyjohnson.jpg",charges:[{id:"CC006",title:"Fraud",description:"Financial fraud exceeding $10,000",fine:4e3,sentence:20,category:"Felony"},{id:"CC006",title:"Fraud",description:"Financial fraud exceeding $10,000",fine:4e3,sentence:20,category:"Felony"},{id:"CC006",title:"Fraud",description:"Financial fraud exceeding $10,000",fine:4e3,sentence:20,category:"Felony"},{id:"CC006",title:"Fraud",description:"Financial fraud exceeding $10,000",fine:4e3,sentence:20,category:"Felony"},{id:"CC006",title:"Fraud",description:"Financial fraud exceeding $10,000",fine:4e3,sentence:20,category:"Felony"},{id:"CC006",title:"Fraud",description:"Financial fraud exceeding $10,000",fine:4e3,sentence:20,category:"Felony"},{id:"CC006",title:"Fraud",description:"Financial fraud exceeding $10,000",fine:4e3,sentence:20,category:"Felony"},{id:"CC006",title:"Fraud",description:"Financial fraud exceeding $10,000",fine:4e3,sentence:20,category:"Felony"},{id:"CC006",title:"Fraud",description:"Financial fraud exceeding $10,000",fine:4e3,sentence:20,category:"Felony"},{id:"CC006",title:"Fraud",description:"Financial fraud exceeding $10,000",fine:4e3,sentence:20,category:"Felony"}],issuingAuthority:"Judge Peterson",status:"executed",caseNotes:[{id:"N004",content:"Suspect apprehended at airport attempting to leave the country.",timestamp:"2023-10-10T17:45:00Z",author:"Detective Wilson"}],nationality:"British",birthdate:"1982-07-19",isDangerous:!1},{id:"5",suspectId:"CIT567890",name:"Michael Brown",issueDate:"2023-09-15T13:20:00Z",expiryDate:"2023-11-15T13:20:00Z",photo:"https://example.com/mugshots/michaelbrown.jpg",charges:[{id:"CC007",title:"Drug Trafficking",description:"Distribution of controlled substances",fine:1e4,sentence:120,category:"Felony"},{id:"CC008",title:"Weapons Possession",description:"Illegal possession of automatic weapons",fine:5e3,sentence:60,category:"Felony"},{id:"CC009",title:"Resisting Arrest",description:"Actively resisting law enforcement",fine:2e3,sentence:12,category:"Misdemeanor"}],issuingAuthority:"Judge Roberts",status:"active",caseNotes:[{id:"N005",content:"Suspect is known to frequent Sandy Shores area.",timestamp:"2023-09-18T10:10:00Z",author:"Officer Taylor"}],sightings:[{id:"S002",location:"Gas station on Route 68",timestamp:"2023-09-25T14:30:00Z"},{id:"S003",location:"Motel in Sandy Shores",timestamp:"2023-10-02T20:15:00Z"}],nationality:"American",birthdate:"1988-02-03",isDangerous:!0}],totalCount:5},Bpe={id:"1",suspectId:"CIT123456",name:"John Doe",issueDate:"2023-10-15T14:30:00Z",expiryDate:"2023-12-15T14:30:00Z",photo:"https://example.com/mugshots/johndoe.jpg",charges:[{id:"CC001",title:"Armed Robbery",description:"Robbery with a deadly weapon",fine:5e3,sentence:60,category:"Felony"},{id:"CC002",title:"Assault on LEO",description:"Assault on a Law Enforcement Officer",fine:3500,sentence:45,category:"Felony"},{id:"CC001",title:"Armed Robbery",description:"Robbery with a deadly weapon",fine:5e3,sentence:60,category:"Felony"},{id:"CC002",title:"Assault on LEO",description:"Assault on a Law Enforcement Officer",fine:3500,sentence:45,category:"Felony"},{id:"CC001",title:"Armed Robbery",description:"Robbery with a deadly weapon",fine:5e3,sentence:60,category:"Felony"},{id:"CC002",title:"Assault on LEO",description:"Assault on a Law Enforcement Officer",fine:3500,sentence:45,category:"Felony"},{id:"CC001",title:"Armed Robbery",description:"Robbery with a deadly weapon",fine:5e3,sentence:60,category:"Felony"},{id:"CC002",title:"Assault on LEO",description:"Assault on a Law Enforcement Officer",fine:3500,sentence:45,category:"Felony"}],issuingAuthority:"Judge Wilson",status:"active",caseNotes:[{id:"N001",content:"Suspect was last seen in Davis Avenue area.",timestamp:"2023-10-16T09:15:00Z",author:"Officer Smith"}],sightings:[{id:"S001",location:"Downtown, near Central Bank",timestamp:"2023-10-17T18:45:00Z"}],nationality:"American",birthdate:"1985-06-12",isDangerous:!0};function Epe(){var ee,M;const{tabs:e,setTabData:t}=ko(),n=li(),{data:s}=n.state||{},[a,i]=m.useState(!1),{user:o,setUserField:l,setUser:c}=Yn(),d=(ee=o==null?void 0:o.permissions)==null?void 0:ee.Pages.warrant;if(!d||!d.view)return null;const{toast:u}=ys(),[f,v]=m.useState(""),[g,w]=m.useState([]),[y,b]=m.useState(!1),[x,N]=m.useState(!1),[S,k]=m.useState(null),[F,$]=m.useState(1),[U,D]=m.useState(null),[H,K]=m.useState(f),[B,R]=m.useState(0),{locale:Z}=ir();m.useEffect(()=>{const E=setTimeout(()=>{K(f)},500);return()=>{clearTimeout(E)}},[f]);const te=E=>{E.key==="Enter"&&K(f)},ye=async(E,q)=>{var se;try{const re=await ke("fetchWarrants",{page:E,query:q},Spe),{warrantsData:G,totalCount:ue}=re,ie=await Promise.all((se=G||[])==null?void 0:se.map(async Ee=>({...Ee,charges:Array.isArray(Ee.charges)?Ee.charges:typeof Ee.charges=="string"?JSON.parse(Ee.charges):[]})));w(ie),R(ue)}catch(re){console.error("Error:",re),w([])}};m.useEffect(()=>{F!==1&&$(1)},[H]);const de=(E,q)=>ke("fetchWarrantDataByWarrantId",{warrantId:q},Bpe).then(se=>{const re=se;if(se){const G={...E,suspectId:re.suspectId||E.suspectId||void 0,expiryDate:re.expiryDate||E.expiryDate||"",status:re.status||E.status||"active",caseNotes:Array.isArray(re.caseNotes)?re.caseNotes:JSON.parse(re.caseNotes||"[]"),sightings:Array.isArray(re.sightings)?re.sightings:JSON.parse(re.sightings||"[]")};D(G),t(G,q)}else console.error("No response received."),D(null)}).catch(se=>{console.error("Error:",se),D(null)});m.useEffect(()=>{if(s){i(!0),D(Array.isArray(s)||typeof s=="object"?s:JSON.parse(s||"[]"));const E=setTimeout(()=>{i(!1)},1e3);return()=>clearTimeout(E)}},[s]),m.useEffect(()=>{ye(F,H)},[F,H]);const le=Math.ceil(B/_2),Q=()=>{k({id:"",suspectId:(U==null?void 0:U.suspectId)||"",issueDate:new Date().toISOString().split("T")[0],expiryDate:"",charges:[],issuingAuthority:"",status:"active",caseNotes:[]}),N(!0)},oe=E=>{const q={...E,id:`W${Date.now()}`};return ke("addNewWarrant",{warrant:q}).then(se=>{se?(w(re=>[...re,q]),N(!1),u({title:"Warrant Issued",description:"The warrant has been successfully issued."})):console.error("No response received.")}).catch(se=>{console.error("Error:",se)})},ce=E=>ke("updateWarrant",{warrant:E}).then(q=>{q?(w(se=>{var re;return(re=se||[])==null?void 0:re.map(G=>G.id===E.id?{...G,...E}:G)}),D(null),b(!1),u({title:"Warrant Updated",description:"The warrant has been successfully updated."})):console.error("No response received.")}).catch(q=>{console.error("Error:",q)});return r.jsxs("div",{className:"flex-1 space-y-4 w-full h-full",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("hr",{className:"w-1 h-10 bg-primary border-none rounded-full"}),r.jsx("h2",{className:"text-3xl font-bold",children:(Z==null?void 0:Z.text_warrant)||"Warrant"})]}),a?r.jsx(_pe,{}):r.jsx("div",{className:"grid grid-cols-6 gap-4 grid-rows-1 h-full",children:r.jsx(Le,{className:"col-span-6 row-span-1 bg-card/50  border-primary/20 max-h-[calc(95vh-200px)] overflow-hidden",children:r.jsx(Gn,{mode:"wait",children:U?r.jsx(Xt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"flex w-full ",children:r.jsx(jpe,{warrant:U,userPermissions:d,onClose:()=>{D(null),ye(F,H)}})},"list-view"):r.jsxs(Xt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:[r.jsxs(mt,{className:"flex flex-row items-center justify-between",children:[r.jsxs(kt,{className:"flex items-center",children:[r.jsx(iO,{className:"mr-2 h-5 w-5 text-destructive"}),(Z==null?void 0:Z.text_wanted_individuals)||"Wanted Individuals"]}),r.jsxs(gr,{open:x,onOpenChange:N,children:[d.edit&&r.jsx(to,{asChild:!0,children:r.jsxs(Ae,{size:"sm",variant:"outline",onClick:Q,children:[r.jsx(Xr,{className:"mr-2 h-4 w-4"}),(Z==null?void 0:Z.text_new_warrant)||"New Warrant"]})}),r.jsxs(xr,{"aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:(Z==null?void 0:Z.text_issue_new_warrant)||"Issue New Warrant"})}),r.jsx(nk,{warrant:S||null,onSave:oe,onCancel:()=>N(!1),isEdit:!1})]})]})]}),r.jsxs(Je,{children:[r.jsxs("div",{className:"mb-4 flex items-center space-x-2",children:[r.jsx(ls,{className:"h-5 w-5 text-muted-foreground"}),r.jsx(ht,{placeholder:(Z==null?void 0:Z.text_search_suspects)||"Search suspects...",className:"flex-1 bg-background/50 border-primary/20 focus:border-primary",value:f,onChange:E=>v(E.target.value),onKeyDown:te})]}),r.jsx(nr,{className:"h-[calc(85vh-300px)]",children:r.jsx("div",{className:"items-stretch grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:r.jsx(Gn,{children:g&&Array.isArray(g)&&((M=g||[])==null?void 0:M.map(E=>r.jsx(Xt.tr,{className:"cursor-pointer hover:bg-primary/10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:r.jsx(ype,{warrant:E,onClick:()=>{de(E,E==null?void 0:E.id)}})},E==null?void 0:E.id)))})})}),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsxs("div",{children:[(Z==null?void 0:Z.text_showing)||"Showing"," ",(F-1)*_2+1," to ",Math.min(F*_2,B)," of ",B," ",(Z==null?void 0:Z.text_warrants)||"warrants"]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>$(E=>Math.max(1,E-1)),disabled:F===1,children:(Z==null?void 0:Z.text_previous)||"Previous"}),r.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>$(E=>Math.min(le,E+1)),disabled:F==le||le==0,children:(Z==null?void 0:Z.text_next)||"Next"})]})]})]})]},"list-view")})})}),r.jsx(gr,{open:y,onOpenChange:b,children:r.jsxs(xr,{"aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:"Edit Warrant"})}),r.jsx(nk,{warrant:S||null,onSave:ce,onCancel:()=>b(!1),isEdit:!0})]})})]})}function nk({warrant:e,onSave:t,onCancel:n,isEdit:s}){var D,H,K,B;const[a,i]=m.useState({id:(e==null?void 0:e.id)||"",suspectId:(e==null?void 0:e.suspectId)||"",issueDate:(e==null?void 0:e.issueDate)||new Date().toISOString().split("T")[0],expiryDate:(e==null?void 0:e.expiryDate)||"",charges:(e==null?void 0:e.charges)||[],issuingAuthority:(e==null?void 0:e.issuingAuthority)||"",status:s&&(e==null?void 0:e.status)||"active",caseNotes:(e==null?void 0:e.caseNotes)||[],name:(e==null?void 0:e.name)||"",nationality:(e==null?void 0:e.nationality)||"",birthdate:(e==null?void 0:e.birthdate)||""}),{locale:o}=ir(),[l,c]=m.useState([]),[d,u]=m.useState(""),[f,v]=m.useState(d),g=(R,Z)=>ke("fetchCitizens",{page:R,query:Z}).then(te=>{c(te.citizens)}).catch(te=>{console.error("Error:",te),c([])});m.useEffect(()=>{g(1,f)},[f]),m.useEffect(()=>{const R=setTimeout(()=>{v(d)},500);return()=>{clearTimeout(R)}},[d]);const w=R=>{i(Z=>({...Z,status:R}))},y=R=>{const{name:Z,value:te}=R.target;i(ye=>({...ye,[Z]:te}))},b=R=>{i(Z=>({...Z,charges:Z.charges.map(te=>te.id===R.id?{...te,count:te.count>1?te.count-1:0}:te).filter(te=>te.count>0)}))},x=R=>{R.preventDefault(),t(a)},[N,S]=m.useState(!1),[k,F]=m.useState(!1),$=R=>{R.stopPropagation(),S(!0)},U=R=>{R.stopPropagation(),F(!0)};return r.jsx(nr,{className:"h-[calc(100vh-300px)]",children:r.jsxs("form",{onSubmit:x,className:"space-y-4",children:[r.jsxs("div",{className:"flex flex-col col-span-2 gap-4",children:[r.jsx(Me,{children:(o==null?void 0:o.text_search_person_dialog)||"Search Person"}),r.jsx(Ae,{variant:"outline",type:"button",onClick:R=>{U(R)},children:(o==null?void 0:o.text_select_person)||"Select Person"}),r.jsx(Xi,{isOpen:k,onClose:()=>F(!1),citizens:l,selectedCitizenId:(a==null?void 0:a.suspectId)||"",onUpdatePerson:({citizenId:R,name:Z})=>{i(te=>({...te,suspectId:R,name:Z}))},onSearchQueryChange:R=>{u(R)}})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"suspectId",children:o.text_suspect_citizen_id||"Suspect ID"}),r.jsx(ht,{id:"suspectId",name:"suspectId",value:a.suspectId,onChange:y,disabled:!0,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"issueDate",children:(o==null?void 0:o.text_issue_date)||"Issue Date"}),r.jsx(ht,{id:"issueDate",name:"issueDate",type:"date",disabled:!0,value:a.issueDate,onChange:y,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"expiryDate",children:(o==null?void 0:o.text_expiry_date)||"Expiry Date"}),r.jsx(ht,{id:"expiryDate",name:"expiryDate",type:"date",value:a.expiryDate,onChange:y,required:!0})]}),r.jsxs("div",{className:"flex flex-col col-span-2 gap-4",children:[r.jsx(Me,{htmlFor:"charges",children:(o==null?void 0:o.text_charges)||"Charges"}),r.jsx(Ae,{variant:"outline",type:"button",onClick:R=>{$(R)},children:(o==null?void 0:o.text_add_charges)||"Add Charges"}),r.jsx(H9,{isOpen:N,onClose:()=>S(!1),selectedCharges:(a==null?void 0:a.charges)||[],onUpdateCharges:R=>{i(Z=>({...Z,charges:R}))}}),r.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:a&&((D=a==null?void 0:a.charges)==null?void 0:D.length)>=0&&r.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:a&&Array.isArray(a==null?void 0:a.charges)&&a.charges.map(R=>r.jsxs(ze,{variant:"secondary",className:"text-xs flex items-center",children:[R.title," x ",R.count,r.jsx(Ae,{variant:"ghost",size:"sm",type:"button",className:"ml-1 h-4 w-4 p-0",onClick:()=>b(R),children:r.jsx("span",{className:"h-3 w-3",children:"X"})})]},R.id))})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"issuingAuthority",children:(o==null?void 0:o.text_issuing_authority)||"Issuing Authority"}),r.jsx(ht,{id:"issuingAuthority",name:"issuingAuthority",value:a.issuingAuthority,onChange:y,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"status",children:(o==null?void 0:o.text_status)||"Status"}),r.jsxs(On,{name:"status",value:a.status,onValueChange:w,disabled:!s,children:[r.jsx(Dn,{children:r.jsx(Mn,{placeholder:"Select status"})}),r.jsxs(Fn,{children:[r.jsx(Yt,{value:"active",children:(o==null?void 0:o.text_active)||"Active"}),r.jsx(Yt,{value:"expired",children:(o==null?void 0:o.text_expired)||"Expired"}),r.jsx(Yt,{value:"executed",children:(o==null?void 0:o.text_executed)||"Executed"})]})]})]}),r.jsxs(un,{children:[r.jsx(Ae,{type:"button",variant:"outline",onClick:n,children:(o==null?void 0:o.text_cancel)||"Cancel"}),r.jsx(Ae,{type:"submit",disabled:!((H=a==null?void 0:a.suspectId)!=null&&H.trim())||!((K=a==null?void 0:a.expiryDate)!=null&&K.trim())||!((B=a==null?void 0:a.issuingAuthority)!=null&&B.trim()),children:(o==null?void 0:o.text_save)||"Save"})]})]})})}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var t5=function(e,t){return t5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(n[a]=s[a])},t5(e,t)};function Pd(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");t5(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var r5=function(){return r5=Object.assign||function(t){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r5.apply(this,arguments)};function gl(e,t,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(f){o(f)}}function c(u){try{d(s.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(e,[])).next())})}function qo(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},s,a,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(u){return c([d,u])}}function c(d){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,a&&(i=d[0]&2?a.return:d[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,d[1])).done)return i;switch(a=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,a=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){n.label=d[1];break}if(d[0]===6&&n.label<i[1]){n.label=i[1],i=d;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(d);break}i[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(u){d=[6,u],a=0}finally{s=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Zv(e,t,n){if(arguments.length===2)for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||t)}var uA=function(){function e(t,n,s,a){this.left=t,this.top=n,this.width=s,this.height=a}return e.prototype.add=function(t,n,s,a){return new e(this.left+t,this.top+n,this.width+s,this.height+a)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var s=Array.from(n).find(function(a){return a.width!==0});return s?new e(s.left+t.windowBounds.left,s.top+t.windowBounds.top,s.width,s.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),cw=function(e,t){return uA.fromClientRect(e,t.getBoundingClientRect())},Ipe=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var s=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),a=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new uA(0,0,s,a)},dw=function(e){for(var t=[],n=0,s=e.length;n<s;){var a=e.charCodeAt(n++);if(a>=55296&&a<=56319&&n<s){var i=e.charCodeAt(n++);(i&64512)===56320?t.push(((a&1023)<<10)+(i&1023)+65536):(t.push(a),n--)}else t.push(a)}return t},xa=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var s=[],a=-1,i="";++a<n;){var o=e[a];o<=65535?s.push(o):(o-=65536,s.push((o>>10)+55296,o%1024+56320)),(a+1===n||s.length>16384)&&(i+=String.fromCharCode.apply(String,s),s.length=0)}return i},sk="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Tpe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var e0=0;e0<sk.length;e0++)Tpe[sk.charCodeAt(e0)]=e0;var ik="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vg=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var t0=0;t0<ik.length;t0++)vg[ik.charCodeAt(t0)]=t0;var kpe=function(e){var t=e.length*.75,n=e.length,s,a=0,i,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),u=Array.isArray(d)?d:new Uint8Array(d);for(s=0;s<n;s+=4)i=vg[e.charCodeAt(s)],o=vg[e.charCodeAt(s+1)],l=vg[e.charCodeAt(s+2)],c=vg[e.charCodeAt(s+3)],u[a++]=i<<2|o>>4,u[a++]=(o&15)<<4|l>>2,u[a++]=(l&3)<<6|c&63;return d},Ppe=function(e){for(var t=e.length,n=[],s=0;s<t;s+=2)n.push(e[s+1]<<8|e[s]);return n},Dpe=function(e){for(var t=e.length,n=[],s=0;s<t;s+=4)n.push(e[s+3]<<24|e[s+2]<<16|e[s+1]<<8|e[s]);return n},df=5,cB=11,S2=2,Fpe=cB-df,z9=65536>>df,Lpe=1<<df,B2=Lpe-1,Rpe=1024>>df,Ope=z9+Rpe,Mpe=Ope,Upe=32,Qpe=Mpe+Upe,Hpe=65536>>cB,zpe=1<<Fpe,Vpe=zpe-1,ak=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},Kpe=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},Wpe=function(e,t){var n=kpe(e),s=Array.isArray(n)?Dpe(n):new Uint32Array(n),a=Array.isArray(n)?Ppe(n):new Uint16Array(n),i=24,o=ak(a,i/2,s[4]/2),l=s[5]===2?ak(a,(i+s[4])/2):Kpe(s,Math.ceil((i+s[4])/4));return new $pe(s[0],s[1],s[2],s[3],o,l)},$pe=function(){function e(t,n,s,a,i,o){this.initialValue=t,this.errorValue=n,this.highStart=s,this.highValueIndex=a,this.index=i,this.data=o}return e.prototype.get=function(t){var n;if(t>=0){if(t<55296||t>56319&&t<=65535)return n=this.index[t>>df],n=(n<<S2)+(t&B2),this.data[n];if(t<=65535)return n=this.index[z9+(t-55296>>df)],n=(n<<S2)+(t&B2),this.data[n];if(t<this.highStart)return n=Qpe-Hpe+(t>>cB),n=this.index[n],n+=t>>df&Vpe,n=this.index[n],n=(n<<S2)+(t&B2),this.data[n];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),ok="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Gpe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var r0=0;r0<ok.length;r0++)Gpe[ok.charCodeAt(r0)]=r0;var qpe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",lk=50,Jpe=1,V9=2,K9=3,Ype=4,Xpe=5,ck=7,W9=8,dk=9,YA=10,n5=11,uk=12,s5=13,Zpe=14,yg=15,i5=16,n0=17,Gp=18,ege=19,Ak=20,a5=21,qp=22,E2=23,Xf=24,cc=25,wg=26,bg=27,Zf=28,tge=29,tf=30,rge=31,s0=32,i0=33,o5=34,l5=35,c5=36,Ax=37,d5=38,ry=39,ny=40,I2=41,$9=42,nge=43,sge=[9001,65288],G9="!",hs="",a0="",u5=Wpe(qpe),Wu=[tf,c5],A5=[Jpe,V9,K9,Xpe],q9=[YA,W9],hk=[bg,wg],ige=A5.concat(q9),fk=[d5,ry,ny,o5,l5],age=[yg,s5],oge=function(e,t){t===void 0&&(t="strict");var n=[],s=[],a=[];return e.forEach(function(i,o){var l=u5.get(i);if(l>lk?(a.push(!0),l-=lk):a.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return s.push(o),n.push(i5);if(l===Ype||l===n5){if(o===0)return s.push(o),n.push(tf);var c=n[o-1];return ige.indexOf(c)===-1?(s.push(s[o-1]),n.push(c)):(s.push(o),n.push(tf))}if(s.push(o),l===rge)return n.push(t==="strict"?a5:Ax);if(l===$9||l===tge)return n.push(tf);if(l===nge)return i>=131072&&i<=196605||i>=196608&&i<=262141?n.push(Ax):n.push(tf);n.push(l)}),[s,n,a]},T2=function(e,t,n,s){var a=s[n];if(Array.isArray(e)?e.indexOf(a)!==-1:e===a)for(var i=n;i<=s.length;){i++;var o=s[i];if(o===t)return!0;if(o!==YA)break}if(a===YA)for(var i=n;i>0;){i--;var l=s[i];if(Array.isArray(e)?e.indexOf(l)!==-1:e===l)for(var c=n;c<=s.length;){c++;var o=s[c];if(o===t)return!0;if(o!==YA)break}if(l!==YA)break}return!1},mk=function(e,t){for(var n=e;n>=0;){var s=t[n];if(s===YA)n--;else return s}return 0},lge=function(e,t,n,s,a){if(n[s]===0)return hs;var i=s-1;if(Array.isArray(a)&&a[i]===!0)return hs;var o=i-1,l=i+1,c=t[i],d=o>=0?t[o]:0,u=t[l];if(c===V9&&u===K9)return hs;if(A5.indexOf(c)!==-1)return G9;if(A5.indexOf(u)!==-1||q9.indexOf(u)!==-1)return hs;if(mk(i,t)===W9)return a0;if(u5.get(e[i])===n5||(c===s0||c===i0)&&u5.get(e[l])===n5||c===ck||u===ck||c===dk||[YA,s5,yg].indexOf(c)===-1&&u===dk||[n0,Gp,ege,Xf,Zf].indexOf(u)!==-1||mk(i,t)===qp||T2(E2,qp,i,t)||T2([n0,Gp],a5,i,t)||T2(uk,uk,i,t))return hs;if(c===YA)return a0;if(c===E2||u===E2)return hs;if(u===i5||c===i5)return a0;if([s5,yg,a5].indexOf(u)!==-1||c===Zpe||d===c5&&age.indexOf(c)!==-1||c===Zf&&u===c5||u===Ak||Wu.indexOf(u)!==-1&&c===cc||Wu.indexOf(c)!==-1&&u===cc||c===bg&&[Ax,s0,i0].indexOf(u)!==-1||[Ax,s0,i0].indexOf(c)!==-1&&u===wg||Wu.indexOf(c)!==-1&&hk.indexOf(u)!==-1||hk.indexOf(c)!==-1&&Wu.indexOf(u)!==-1||[bg,wg].indexOf(c)!==-1&&(u===cc||[qp,yg].indexOf(u)!==-1&&t[l+1]===cc)||[qp,yg].indexOf(c)!==-1&&u===cc||c===cc&&[cc,Zf,Xf].indexOf(u)!==-1)return hs;if([cc,Zf,Xf,n0,Gp].indexOf(u)!==-1)for(var f=i;f>=0;){var v=t[f];if(v===cc)return hs;if([Zf,Xf].indexOf(v)!==-1)f--;else break}if([bg,wg].indexOf(u)!==-1)for(var f=[n0,Gp].indexOf(c)!==-1?o:i;f>=0;){var v=t[f];if(v===cc)return hs;if([Zf,Xf].indexOf(v)!==-1)f--;else break}if(d5===c&&[d5,ry,o5,l5].indexOf(u)!==-1||[ry,o5].indexOf(c)!==-1&&[ry,ny].indexOf(u)!==-1||[ny,l5].indexOf(c)!==-1&&u===ny||fk.indexOf(c)!==-1&&[Ak,wg].indexOf(u)!==-1||fk.indexOf(u)!==-1&&c===bg||Wu.indexOf(c)!==-1&&Wu.indexOf(u)!==-1||c===Xf&&Wu.indexOf(u)!==-1||Wu.concat(cc).indexOf(c)!==-1&&u===qp&&sge.indexOf(e[l])===-1||Wu.concat(cc).indexOf(u)!==-1&&c===Gp)return hs;if(c===I2&&u===I2){for(var g=n[i],w=1;g>0&&(g--,t[g]===I2);)w++;if(w%2!==0)return hs}return c===s0&&u===i0?hs:a0},cge=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=oge(e,t.lineBreak),s=n[0],a=n[1],i=n[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(a=a.map(function(l){return[cc,tf,$9].indexOf(l)!==-1?Ax:l}));var o=t.wordBreak==="keep-all"?i.map(function(l,c){return l&&e[c]>=19968&&e[c]<=40959}):void 0;return[s,a,o]},dge=function(){function e(t,n,s,a){this.codePoints=t,this.required=n===G9,this.start=s,this.end=a}return e.prototype.slice=function(){return xa.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),uge=function(e,t){var n=dw(e),s=cge(n,t),a=s[0],i=s[1],o=s[2],l=n.length,c=0,d=0;return{next:function(){if(d>=l)return{done:!0,value:null};for(var u=hs;d<l&&(u=lge(n,i,a,++d,o))===hs;);if(u!==hs||d===l){var f=new dge(n,u,c,d);return c=d,{value:f,done:!1}}return{done:!0,value:null}}}},Age=1,hge=2,Vx=4,pk=8,Vy=10,gk=47,Lg=92,fge=9,mge=32,o0=34,Jp=61,pge=35,gge=36,xge=37,l0=39,c0=40,Yp=41,vge=95,Vl=45,yge=33,wge=60,bge=62,jge=64,Nge=91,Cge=93,_ge=61,Sge=123,d0=63,Bge=125,xk=124,Ege=126,Ige=128,vk=65533,k2=42,sf=43,Tge=44,kge=58,Pge=59,hx=46,Dge=0,Fge=8,Lge=11,Rge=14,Oge=31,Mge=127,ru=-1,J9=48,Y9=97,X9=101,Uge=102,Qge=117,Hge=122,Z9=65,ez=69,tz=70,zge=85,Vge=90,Yo=function(e){return e>=J9&&e<=57},Kge=function(e){return e>=55296&&e<=57343},em=function(e){return Yo(e)||e>=Z9&&e<=tz||e>=Y9&&e<=Uge},Wge=function(e){return e>=Y9&&e<=Hge},$ge=function(e){return e>=Z9&&e<=Vge},Gge=function(e){return Wge(e)||$ge(e)},qge=function(e){return e>=Ige},u0=function(e){return e===Vy||e===fge||e===mge},Ky=function(e){return Gge(e)||qge(e)||e===vge},yk=function(e){return Ky(e)||Yo(e)||e===Vl},Jge=function(e){return e>=Dge&&e<=Fge||e===Lge||e>=Rge&&e<=Oge||e===Mge},VA=function(e,t){return e!==Lg?!1:t!==Vy},A0=function(e,t,n){return e===Vl?Ky(t)||VA(t,n):Ky(e)?!0:!!(e===Lg&&VA(e,t))},P2=function(e,t,n){return e===sf||e===Vl?Yo(t)?!0:t===hx&&Yo(n):Yo(e===hx?t:e)},Yge=function(e){var t=0,n=1;(e[t]===sf||e[t]===Vl)&&(e[t]===Vl&&(n=-1),t++);for(var s=[];Yo(e[t]);)s.push(e[t++]);var a=s.length?parseInt(xa.apply(void 0,s),10):0;e[t]===hx&&t++;for(var i=[];Yo(e[t]);)i.push(e[t++]);var o=i.length,l=o?parseInt(xa.apply(void 0,i),10):0;(e[t]===ez||e[t]===X9)&&t++;var c=1;(e[t]===sf||e[t]===Vl)&&(e[t]===Vl&&(c=-1),t++);for(var d=[];Yo(e[t]);)d.push(e[t++]);var u=d.length?parseInt(xa.apply(void 0,d),10):0;return n*(a+l*Math.pow(10,-o))*Math.pow(10,c*u)},Xge={type:2},Zge={type:3},exe={type:4},txe={type:13},rxe={type:8},nxe={type:21},sxe={type:9},ixe={type:10},axe={type:11},oxe={type:12},lxe={type:14},h0={type:23},cxe={type:1},dxe={type:25},uxe={type:24},Axe={type:26},hxe={type:27},fxe={type:28},mxe={type:29},pxe={type:31},h5={type:32},rz=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(dw(t))},e.prototype.read=function(){for(var t=[],n=this.consumeToken();n!==h5;)t.push(n),n=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case o0:return this.consumeStringToken(o0);case pge:var n=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);if(yk(n)||VA(s,a)){var i=A0(n,s,a)?hge:Age,o=this.consumeName();return{type:5,value:o,flags:i}}break;case gge:if(this.peekCodePoint(0)===Jp)return this.consumeCodePoint(),txe;break;case l0:return this.consumeStringToken(l0);case c0:return Xge;case Yp:return Zge;case k2:if(this.peekCodePoint(0)===Jp)return this.consumeCodePoint(),lxe;break;case sf:if(P2(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case Tge:return exe;case Vl:var l=t,c=this.peekCodePoint(0),d=this.peekCodePoint(1);if(P2(l,c,d))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(A0(l,c,d))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(c===Vl&&d===bge)return this.consumeCodePoint(),this.consumeCodePoint(),uxe;break;case hx:if(P2(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case gk:if(this.peekCodePoint(0)===k2)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===k2&&(u=this.consumeCodePoint(),u===gk))return this.consumeToken();if(u===ru)return this.consumeToken()}break;case kge:return Axe;case Pge:return hxe;case wge:if(this.peekCodePoint(0)===yge&&this.peekCodePoint(1)===Vl&&this.peekCodePoint(2)===Vl)return this.consumeCodePoint(),this.consumeCodePoint(),dxe;break;case jge:var f=this.peekCodePoint(0),v=this.peekCodePoint(1),g=this.peekCodePoint(2);if(A0(f,v,g)){var o=this.consumeName();return{type:7,value:o}}break;case Nge:return fxe;case Lg:if(VA(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case Cge:return mxe;case _ge:if(this.peekCodePoint(0)===Jp)return this.consumeCodePoint(),rxe;break;case Sge:return axe;case Bge:return oxe;case Qge:case zge:var w=this.peekCodePoint(0),y=this.peekCodePoint(1);return w===sf&&(em(y)||y===d0)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case xk:if(this.peekCodePoint(0)===Jp)return this.consumeCodePoint(),sxe;if(this.peekCodePoint(0)===xk)return this.consumeCodePoint(),nxe;break;case Ege:if(this.peekCodePoint(0)===Jp)return this.consumeCodePoint(),ixe;break;case ru:return h5}return u0(t)?(this.consumeWhiteSpace(),pxe):Yo(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):Ky(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:xa(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],n=this.consumeCodePoint();em(n)&&t.length<6;)t.push(n),n=this.consumeCodePoint();for(var s=!1;n===d0&&t.length<6;)t.push(n),n=this.consumeCodePoint(),s=!0;if(s){var a=parseInt(xa.apply(void 0,t.map(function(c){return c===d0?J9:c})),16),i=parseInt(xa.apply(void 0,t.map(function(c){return c===d0?tz:c})),16);return{type:30,start:a,end:i}}var o=parseInt(xa.apply(void 0,t),16);if(this.peekCodePoint(0)===Vl&&em(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var l=[];em(n)&&l.length<6;)l.push(n),n=this.consumeCodePoint();var i=parseInt(xa.apply(void 0,l),16);return{type:30,start:o,end:i}}else return{type:30,start:o,end:o}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===c0?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===c0?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===ru)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===l0||n===o0){var s=this.consumeStringToken(this.consumeCodePoint());return s.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===ru||this.peekCodePoint(0)===Yp)?(this.consumeCodePoint(),{type:22,value:s.value}):(this.consumeBadUrlRemnants(),h0)}for(;;){var a=this.consumeCodePoint();if(a===ru||a===Yp)return{type:22,value:xa.apply(void 0,t)};if(u0(a))return this.consumeWhiteSpace(),this.peekCodePoint(0)===ru||this.peekCodePoint(0)===Yp?(this.consumeCodePoint(),{type:22,value:xa.apply(void 0,t)}):(this.consumeBadUrlRemnants(),h0);if(a===o0||a===l0||a===c0||Jge(a))return this.consumeBadUrlRemnants(),h0;if(a===Lg)if(VA(a,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),h0;else t.push(a)}},e.prototype.consumeWhiteSpace=function(){for(;u0(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===Yp||t===ru)return;VA(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var n=5e4,s="";t>0;){var a=Math.min(n,t);s+=xa.apply(void 0,this._value.splice(0,a)),t-=a}return this._value.shift(),s},e.prototype.consumeStringToken=function(t){var n="",s=0;do{var a=this._value[s];if(a===ru||a===void 0||a===t)return n+=this.consumeStringSlice(s),{type:0,value:n};if(a===Vy)return this._value.splice(0,s),cxe;if(a===Lg){var i=this._value[s+1];i!==ru&&i!==void 0&&(i===Vy?(n+=this.consumeStringSlice(s),s=-1,this._value.shift()):VA(a,i)&&(n+=this.consumeStringSlice(s),n+=xa(this.consumeEscapedCodePoint()),s=-1))}s++}while(!0)},e.prototype.consumeNumber=function(){var t=[],n=Vx,s=this.peekCodePoint(0);for((s===sf||s===Vl)&&t.push(this.consumeCodePoint());Yo(this.peekCodePoint(0));)t.push(this.consumeCodePoint());s=this.peekCodePoint(0);var a=this.peekCodePoint(1);if(s===hx&&Yo(a))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),n=pk;Yo(this.peekCodePoint(0));)t.push(this.consumeCodePoint());s=this.peekCodePoint(0),a=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((s===ez||s===X9)&&((a===sf||a===Vl)&&Yo(i)||Yo(a)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),n=pk;Yo(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[Yge(t),n]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),n=t[0],s=t[1],a=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);if(A0(a,i,o)){var l=this.consumeName();return{type:15,number:n,flags:s,unit:l}}return a===xge?(this.consumeCodePoint(),{type:16,number:n,flags:s}):{type:17,number:n,flags:s}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(em(t)){for(var n=xa(t);em(this.peekCodePoint(0))&&n.length<6;)n+=xa(this.consumeCodePoint());u0(this.peekCodePoint(0))&&this.consumeCodePoint();var s=parseInt(n,16);return s===0||Kge(s)||s>1114111?vk:s}return t===ru?vk:t},e.prototype.consumeName=function(){for(var t="";;){var n=this.consumeCodePoint();if(yk(n))t+=xa(n);else if(VA(n,this.peekCodePoint(0)))t+=xa(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),t}},e}(),nz=function(){function e(t){this._tokens=t}return e.create=function(t){var n=new rz;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var n=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var n=this.consumeComponentValue();if(n.type===32)return t;t.push(n),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var n={type:t,values:[]},s=this.consumeToken();;){if(s.type===32||xxe(s,t))return n;this.reconsumeToken(s),n.values.push(this.consumeComponentValue()),s=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var n={name:t.value,values:[],type:18};;){var s=this.consumeToken();if(s.type===32||s.type===3)return n;this.reconsumeToken(s),n.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?h5:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),Kx=function(e){return e.type===15},Ap=function(e){return e.type===17},Js=function(e){return e.type===20},gxe=function(e){return e.type===0},f5=function(e,t){return Js(e)&&e.value===t},sz=function(e){return e.type!==31},Wm=function(e){return e.type!==31&&e.type!==4},Su=function(e){var t=[],n=[];return e.forEach(function(s){if(s.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(n),n=[];return}s.type!==31&&n.push(s)}),n.length&&t.push(n),t},xxe=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},gh=function(e){return e.type===17||e.type===15},Ra=function(e){return e.type===16||gh(e)},iz=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Io={type:17,number:0,flags:Vx},dB={type:16,number:50,flags:Vx},XA={type:16,number:100,flags:Vx},jg=function(e,t,n){var s=e[0],a=e[1];return[oi(s,t),oi(typeof a<"u"?a:s,n)]},oi=function(e,t){if(e.type===16)return e.number/100*t;if(Kx(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},az="deg",oz="grad",lz="rad",cz="turn",uw={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case az:return Math.PI*t.number/180;case oz:return Math.PI/200*t.number;case lz:return t.number;case cz:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},dz=function(e){return e.type===15&&(e.unit===az||e.unit===oz||e.unit===lz||e.unit===cz)},uz=function(e){var t=e.filter(Js).map(function(n){return n.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Io,Io];case"to top":case"bottom":return Uc(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Io,XA];case"to right":case"left":return Uc(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[XA,XA];case"to bottom":case"top":return Uc(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[XA,Io];case"to left":case"right":return Uc(270)}return 0},Uc=function(e){return Math.PI*e/180},sh={name:"color",parse:function(e,t){if(t.type===18){var n=vxe[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(e,t.values)}if(t.type===5){if(t.value.length===3){var s=t.value.substring(0,1),a=t.value.substring(1,2),i=t.value.substring(2,3);return ZA(parseInt(s+s,16),parseInt(a+a,16),parseInt(i+i,16),1)}if(t.value.length===4){var s=t.value.substring(0,1),a=t.value.substring(1,2),i=t.value.substring(2,3),o=t.value.substring(3,4);return ZA(parseInt(s+s,16),parseInt(a+a,16),parseInt(i+i,16),parseInt(o+o,16)/255)}if(t.value.length===6){var s=t.value.substring(0,2),a=t.value.substring(2,4),i=t.value.substring(4,6);return ZA(parseInt(s,16),parseInt(a,16),parseInt(i,16),1)}if(t.value.length===8){var s=t.value.substring(0,2),a=t.value.substring(2,4),i=t.value.substring(4,6),o=t.value.substring(6,8);return ZA(parseInt(s,16),parseInt(a,16),parseInt(i,16),parseInt(o,16)/255)}}if(t.type===20){var l=rA[t.value.toUpperCase()];if(typeof l<"u")return l}return rA.TRANSPARENT}},ih=function(e){return(255&e)===0},ho=function(e){var t=255&e,n=255&e>>8,s=255&e>>16,a=255&e>>24;return t<255?"rgba("+a+","+s+","+n+","+t/255+")":"rgb("+a+","+s+","+n+")"},ZA=function(e,t,n,s){return(e<<24|t<<16|n<<8|Math.round(s*255)<<0)>>>0},wk=function(e,t){if(e.type===17)return e.number;if(e.type===16){var n=t===3?1:255;return t===3?e.number/100*n:Math.round(e.number/100*n)}return 0},bk=function(e,t){var n=t.filter(Wm);if(n.length===3){var s=n.map(wk),a=s[0],i=s[1],o=s[2];return ZA(a,i,o,1)}if(n.length===4){var l=n.map(wk),a=l[0],i=l[1],o=l[2],c=l[3];return ZA(a,i,o,c)}return 0};function D2(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<1/2?t:n<2/3?(t-e)*6*(2/3-n)+e:e}var jk=function(e,t){var n=t.filter(Wm),s=n[0],a=n[1],i=n[2],o=n[3],l=(s.type===17?Uc(s.number):uw.parse(e,s))/(Math.PI*2),c=Ra(a)?a.number/100:0,d=Ra(i)?i.number/100:0,u=typeof o<"u"&&Ra(o)?oi(o,1):1;if(c===0)return ZA(d*255,d*255,d*255,1);var f=d<=.5?d*(c+1):d+c-d*c,v=d*2-f,g=D2(v,f,l+1/3),w=D2(v,f,l),y=D2(v,f,l-1/3);return ZA(g*255,w*255,y*255,u)},vxe={hsl:jk,hsla:jk,rgb:bk,rgba:bk},Rg=function(e,t){return sh.parse(e,nz.create(t).parseComponentValue())},rA={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},yxe={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(n){if(Js(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},wxe={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Aw=function(e,t){var n=sh.parse(e,t[0]),s=t[1];return s&&Ra(s)?{color:n,stop:s}:{color:n,stop:null}},Nk=function(e,t){var n=e[0],s=e[e.length-1];n.stop===null&&(n.stop=Io),s.stop===null&&(s.stop=XA);for(var a=[],i=0,o=0;o<e.length;o++){var l=e[o].stop;if(l!==null){var c=oi(l,t);c>i?a.push(c):a.push(i),i=c}else a.push(null)}for(var d=null,o=0;o<a.length;o++){var u=a[o];if(u===null)d===null&&(d=o);else if(d!==null){for(var f=o-d,v=a[d-1],g=(u-v)/(f+1),w=1;w<=f;w++)a[d+w-1]=g*w;d=null}}return e.map(function(y,b){var x=y.color;return{color:x,stop:Math.max(Math.min(1,a[b]/t),0)}})},bxe=function(e,t,n){var s=t/2,a=n/2,i=oi(e[0],t)-s,o=a-oi(e[1],n);return(Math.atan2(o,i)+Math.PI*2)%(Math.PI*2)},jxe=function(e,t,n){var s=typeof e=="number"?e:bxe(e,t,n),a=Math.abs(t*Math.sin(s))+Math.abs(n*Math.cos(s)),i=t/2,o=n/2,l=a/2,c=Math.sin(s-Math.PI/2)*l,d=Math.cos(s-Math.PI/2)*l;return[a,i-d,i+d,o-c,o+c]},pd=function(e,t){return Math.sqrt(e*e+t*t)},Ck=function(e,t,n,s,a){var i=[[0,0],[0,t],[e,0],[e,t]];return i.reduce(function(o,l){var c=l[0],d=l[1],u=pd(n-c,s-d);return(a?u<o.optimumDistance:u>o.optimumDistance)?{optimumCorner:l,optimumDistance:u}:o},{optimumDistance:a?1/0:-1/0,optimumCorner:null}).optimumCorner},Nxe=function(e,t,n,s,a){var i=0,o=0;switch(e.size){case 0:e.shape===0?i=o=Math.min(Math.abs(t),Math.abs(t-s),Math.abs(n),Math.abs(n-a)):e.shape===1&&(i=Math.min(Math.abs(t),Math.abs(t-s)),o=Math.min(Math.abs(n),Math.abs(n-a)));break;case 2:if(e.shape===0)i=o=Math.min(pd(t,n),pd(t,n-a),pd(t-s,n),pd(t-s,n-a));else if(e.shape===1){var l=Math.min(Math.abs(n),Math.abs(n-a))/Math.min(Math.abs(t),Math.abs(t-s)),c=Ck(s,a,t,n,!0),d=c[0],u=c[1];i=pd(d-t,(u-n)/l),o=l*i}break;case 1:e.shape===0?i=o=Math.max(Math.abs(t),Math.abs(t-s),Math.abs(n),Math.abs(n-a)):e.shape===1&&(i=Math.max(Math.abs(t),Math.abs(t-s)),o=Math.max(Math.abs(n),Math.abs(n-a)));break;case 3:if(e.shape===0)i=o=Math.max(pd(t,n),pd(t,n-a),pd(t-s,n),pd(t-s,n-a));else if(e.shape===1){var l=Math.max(Math.abs(n),Math.abs(n-a))/Math.max(Math.abs(t),Math.abs(t-s)),f=Ck(s,a,t,n,!1),d=f[0],u=f[1];i=pd(d-t,(u-n)/l),o=l*i}break}return Array.isArray(e.size)&&(i=oi(e.size[0],s),o=e.size.length===2?oi(e.size[1],a):i),[i,o]},Cxe=function(e,t){var n=Uc(180),s=[];return Su(t).forEach(function(a,i){if(i===0){var o=a[0];if(o.type===20&&o.value==="to"){n=uz(a);return}else if(dz(o)){n=uw.parse(e,o);return}}var l=Aw(e,a);s.push(l)}),{angle:n,stops:s,type:1}},f0=function(e,t){var n=Uc(180),s=[];return Su(t).forEach(function(a,i){if(i===0){var o=a[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){n=uz(a);return}else if(dz(o)){n=(uw.parse(e,o)+Uc(270))%Uc(360);return}}var l=Aw(e,a);s.push(l)}),{angle:n,stops:s,type:1}},_xe=function(e,t){var n=Uc(180),s=[],a=1,i=0,o=3,l=[];return Su(t).forEach(function(c,d){var u=c[0];if(d===0){if(Js(u)&&u.value==="linear"){a=1;return}else if(Js(u)&&u.value==="radial"){a=2;return}}if(u.type===18){if(u.name==="from"){var f=sh.parse(e,u.values[0]);s.push({stop:Io,color:f})}else if(u.name==="to"){var f=sh.parse(e,u.values[0]);s.push({stop:XA,color:f})}else if(u.name==="color-stop"){var v=u.values.filter(Wm);if(v.length===2){var f=sh.parse(e,v[1]),g=v[0];Ap(g)&&s.push({stop:{type:16,number:g.number*100,flags:g.flags},color:f})}}}}),a===1?{angle:(n+Uc(180))%Uc(360),stops:s,type:a}:{size:o,shape:i,stops:s,position:l,type:a}},Az="closest-side",hz="farthest-side",fz="closest-corner",mz="farthest-corner",pz="circle",gz="ellipse",xz="cover",vz="contain",Sxe=function(e,t){var n=0,s=3,a=[],i=[];return Su(t).forEach(function(o,l){var c=!0;if(l===0){var d=!1;c=o.reduce(function(f,v){if(d)if(Js(v))switch(v.value){case"center":return i.push(dB),f;case"top":case"left":return i.push(Io),f;case"right":case"bottom":return i.push(XA),f}else(Ra(v)||gh(v))&&i.push(v);else if(Js(v))switch(v.value){case pz:return n=0,!1;case gz:return n=1,!1;case"at":return d=!0,!1;case Az:return s=0,!1;case xz:case hz:return s=1,!1;case vz:case fz:return s=2,!1;case mz:return s=3,!1}else if(gh(v)||Ra(v))return Array.isArray(s)||(s=[]),s.push(v),!1;return f},c)}if(c){var u=Aw(e,o);a.push(u)}}),{size:s,shape:n,stops:a,position:i,type:2}},m0=function(e,t){var n=0,s=3,a=[],i=[];return Su(t).forEach(function(o,l){var c=!0;if(l===0?c=o.reduce(function(u,f){if(Js(f))switch(f.value){case"center":return i.push(dB),!1;case"top":case"left":return i.push(Io),!1;case"right":case"bottom":return i.push(XA),!1}else if(Ra(f)||gh(f))return i.push(f),!1;return u},c):l===1&&(c=o.reduce(function(u,f){if(Js(f))switch(f.value){case pz:return n=0,!1;case gz:return n=1,!1;case vz:case Az:return s=0,!1;case hz:return s=1,!1;case fz:return s=2,!1;case xz:case mz:return s=3,!1}else if(gh(f)||Ra(f))return Array.isArray(s)||(s=[]),s.push(f),!1;return u},c)),c){var d=Aw(e,o);a.push(d)}}),{size:s,shape:n,stops:a,position:i,type:2}},Bxe=function(e){return e.type===1},Exe=function(e){return e.type===2},uB={name:"image",parse:function(e,t){if(t.type===22){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(t.type===18){var s=yz[t.name];if(typeof s>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return s(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function Ixe(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!yz[e.name])}var yz={"linear-gradient":Cxe,"-moz-linear-gradient":f0,"-ms-linear-gradient":f0,"-o-linear-gradient":f0,"-webkit-linear-gradient":f0,"radial-gradient":Sxe,"-moz-radial-gradient":m0,"-ms-radial-gradient":m0,"-o-radial-gradient":m0,"-webkit-radial-gradient":m0,"-webkit-gradient":_xe},Txe={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var n=t[0];return n.type===20&&n.value==="none"?[]:t.filter(function(s){return Wm(s)&&Ixe(s)}).map(function(s){return uB.parse(e,s)})}},kxe={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(n){if(Js(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Pxe={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Su(t).map(function(n){return n.filter(Ra)}).map(iz)}},Dxe={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Su(t).map(function(n){return n.filter(Js).map(function(s){return s.value}).join(" ")}).map(Fxe)}},Fxe=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Im;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(Im||(Im={}));var Lxe={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return Su(t).map(function(n){return n.filter(Rxe)})}},Rxe=function(e){return Js(e)||Ra(e)},hw=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Oxe=hw("top"),Mxe=hw("right"),Uxe=hw("bottom"),Qxe=hw("left"),fw=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,n){return iz(n.filter(Ra))}}},Hxe=fw("top-left"),zxe=fw("top-right"),Vxe=fw("bottom-right"),Kxe=fw("bottom-left"),mw=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Wxe=mw("top"),$xe=mw("right"),Gxe=mw("bottom"),qxe=mw("left"),pw=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,n){return Kx(n)?n.number:0}}},Jxe=pw("top"),Yxe=pw("right"),Xxe=pw("bottom"),Zxe=pw("left"),eve={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},tve={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},rve={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Js).reduce(function(n,s){return n|nve(s.value)},0)}},nve=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},sve={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},ive={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},Wy;(function(e){e.NORMAL="normal",e.STRICT="strict"})(Wy||(Wy={}));var ave={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return Wy.STRICT;case"normal":default:return Wy.NORMAL}}},ove={name:"line-height",initialValue:"normal",prefix:!1,type:4},_k=function(e,t){return Js(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:Ra(e)?oi(e,t):t},lve={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:uB.parse(e,t)}},cve={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},m5={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},gw=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},dve=gw("top"),uve=gw("right"),Ave=gw("bottom"),hve=gw("left"),fve={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Js).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},mve={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},xw=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},pve=xw("top"),gve=xw("right"),xve=xw("bottom"),vve=xw("left"),yve={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},wve={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},bve={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&f5(t[0],"none")?[]:Su(t).map(function(n){for(var s={color:rA.TRANSPARENT,offsetX:Io,offsetY:Io,blur:Io},a=0,i=0;i<n.length;i++){var o=n[i];gh(o)?(a===0?s.offsetX=o:a===1?s.offsetY=o:s.blur=o,a++):s.color=sh.parse(e,o)}return s})}},jve={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Nve={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var n=Sve[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}return null}},Cve=function(e){var t=e.filter(function(n){return n.type===17}).map(function(n){return n.number});return t.length===6?t:null},_ve=function(e){var t=e.filter(function(c){return c.type===17}).map(function(c){return c.number}),n=t[0],s=t[1];t[2],t[3];var a=t[4],i=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var o=t[12],l=t[13];return t[14],t[15],t.length===16?[n,s,a,i,o,l]:null},Sve={matrix:Cve,matrix3d:_ve},Sk={type:16,number:50,flags:Vx},Bve=[Sk,Sk],Eve={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var n=t.filter(Ra);return n.length!==2?Bve:[n[0],n[1]]}},Ive={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Og;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(Og||(Og={}));var Tve={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return Og.BREAK_ALL;case"keep-all":return Og.KEEP_ALL;case"normal":default:return Og.NORMAL}}},kve={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(Ap(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},wz={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},Pve={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Ap(t)?t.number:1}},Dve={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Fve={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Js).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},Lve={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var n=[],s=[];return t.forEach(function(a){switch(a.type){case 20:case 0:n.push(a.value);break;case 17:n.push(a.number.toString());break;case 4:s.push(n.join(" ")),n.length=0;break}}),n.length&&s.push(n.join(" ")),s.map(function(a){return a.indexOf(" ")===-1?a:"'"+a+"'"})}},Rve={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Ove={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(Ap(t))return t.number;if(Js(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},Mve={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Js).map(function(n){return n.value})}},Uve={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},eo=function(e,t){return(e&t)!==0},Qve={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var n=t[0];return n.type===20&&n.value==="none"?[]:t}},Hve={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var n=t[0];if(n.type===20&&n.value==="none")return null;for(var s=[],a=t.filter(sz),i=0;i<a.length;i++){var o=a[i],l=a[i+1];if(o.type===20){var c=l&&Ap(l)?l.number:1;s.push({counter:o.value,increment:c})}}return s}},zve={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var n=[],s=t.filter(sz),a=0;a<s.length;a++){var i=s[a],o=s[a+1];if(Js(i)&&i.value!=="none"){var l=o&&Ap(o)?o.number:0;n.push({counter:i.value,reset:l})}}return n}},Vve={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(Kx).map(function(n){return wz.parse(e,n)})}},Kve={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var n=t[0];if(n.type===20&&n.value==="none")return null;var s=[],a=t.filter(gxe);if(a.length%2!==0)return null;for(var i=0;i<a.length;i+=2){var o=a[i].value,l=a[i+1].value;s.push({open:o,close:l})}return s}},Bk=function(e,t,n){if(!e)return"";var s=e[Math.min(t,e.length-1)];return s?n?s.open:s.close:""},Wve={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&f5(t[0],"none")?[]:Su(t).map(function(n){for(var s={color:255,offsetX:Io,offsetY:Io,blur:Io,spread:Io,inset:!1},a=0,i=0;i<n.length;i++){var o=n[i];f5(o,"inset")?s.inset=!0:gh(o)?(a===0?s.offsetX=o:a===1?s.offsetY=o:a===2?s.blur=o:s.spread=o,a++):s.color=sh.parse(e,o)}return s})}},$ve={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var n=[0,1,2],s=[];return t.filter(Js).forEach(function(a){switch(a.value){case"stroke":s.push(1);break;case"fill":s.push(0);break;case"markers":s.push(2);break}}),n.forEach(function(a){s.indexOf(a)===-1&&s.push(a)}),s}},Gve={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},qve={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Kx(t)?t.number:0}},Jve=function(){function e(t,n){var s,a;this.animationDuration=Qr(t,Vve,n.animationDuration),this.backgroundClip=Qr(t,yxe,n.backgroundClip),this.backgroundColor=Qr(t,wxe,n.backgroundColor),this.backgroundImage=Qr(t,Txe,n.backgroundImage),this.backgroundOrigin=Qr(t,kxe,n.backgroundOrigin),this.backgroundPosition=Qr(t,Pxe,n.backgroundPosition),this.backgroundRepeat=Qr(t,Dxe,n.backgroundRepeat),this.backgroundSize=Qr(t,Lxe,n.backgroundSize),this.borderTopColor=Qr(t,Oxe,n.borderTopColor),this.borderRightColor=Qr(t,Mxe,n.borderRightColor),this.borderBottomColor=Qr(t,Uxe,n.borderBottomColor),this.borderLeftColor=Qr(t,Qxe,n.borderLeftColor),this.borderTopLeftRadius=Qr(t,Hxe,n.borderTopLeftRadius),this.borderTopRightRadius=Qr(t,zxe,n.borderTopRightRadius),this.borderBottomRightRadius=Qr(t,Vxe,n.borderBottomRightRadius),this.borderBottomLeftRadius=Qr(t,Kxe,n.borderBottomLeftRadius),this.borderTopStyle=Qr(t,Wxe,n.borderTopStyle),this.borderRightStyle=Qr(t,$xe,n.borderRightStyle),this.borderBottomStyle=Qr(t,Gxe,n.borderBottomStyle),this.borderLeftStyle=Qr(t,qxe,n.borderLeftStyle),this.borderTopWidth=Qr(t,Jxe,n.borderTopWidth),this.borderRightWidth=Qr(t,Yxe,n.borderRightWidth),this.borderBottomWidth=Qr(t,Xxe,n.borderBottomWidth),this.borderLeftWidth=Qr(t,Zxe,n.borderLeftWidth),this.boxShadow=Qr(t,Wve,n.boxShadow),this.color=Qr(t,eve,n.color),this.direction=Qr(t,tve,n.direction),this.display=Qr(t,rve,n.display),this.float=Qr(t,sve,n.cssFloat),this.fontFamily=Qr(t,Lve,n.fontFamily),this.fontSize=Qr(t,Rve,n.fontSize),this.fontStyle=Qr(t,Uve,n.fontStyle),this.fontVariant=Qr(t,Mve,n.fontVariant),this.fontWeight=Qr(t,Ove,n.fontWeight),this.letterSpacing=Qr(t,ive,n.letterSpacing),this.lineBreak=Qr(t,ave,n.lineBreak),this.lineHeight=Qr(t,ove,n.lineHeight),this.listStyleImage=Qr(t,lve,n.listStyleImage),this.listStylePosition=Qr(t,cve,n.listStylePosition),this.listStyleType=Qr(t,m5,n.listStyleType),this.marginTop=Qr(t,dve,n.marginTop),this.marginRight=Qr(t,uve,n.marginRight),this.marginBottom=Qr(t,Ave,n.marginBottom),this.marginLeft=Qr(t,hve,n.marginLeft),this.opacity=Qr(t,Pve,n.opacity);var i=Qr(t,fve,n.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=Qr(t,mve,n.overflowWrap),this.paddingTop=Qr(t,pve,n.paddingTop),this.paddingRight=Qr(t,gve,n.paddingRight),this.paddingBottom=Qr(t,xve,n.paddingBottom),this.paddingLeft=Qr(t,vve,n.paddingLeft),this.paintOrder=Qr(t,$ve,n.paintOrder),this.position=Qr(t,wve,n.position),this.textAlign=Qr(t,yve,n.textAlign),this.textDecorationColor=Qr(t,Dve,(s=n.textDecorationColor)!==null&&s!==void 0?s:n.color),this.textDecorationLine=Qr(t,Fve,(a=n.textDecorationLine)!==null&&a!==void 0?a:n.textDecoration),this.textShadow=Qr(t,bve,n.textShadow),this.textTransform=Qr(t,jve,n.textTransform),this.transform=Qr(t,Nve,n.transform),this.transformOrigin=Qr(t,Eve,n.transformOrigin),this.visibility=Qr(t,Ive,n.visibility),this.webkitTextStrokeColor=Qr(t,Gve,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=Qr(t,qve,n.webkitTextStrokeWidth),this.wordBreak=Qr(t,Tve,n.wordBreak),this.zIndex=Qr(t,kve,n.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return ih(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return eo(this.display,4)||eo(this.display,33554432)||eo(this.display,268435456)||eo(this.display,536870912)||eo(this.display,67108864)||eo(this.display,134217728)},e}(),Yve=function(){function e(t,n){this.content=Qr(t,Qve,n.content),this.quotes=Qr(t,Kve,n.quotes)}return e}(),Ek=function(){function e(t,n){this.counterIncrement=Qr(t,Hve,n.counterIncrement),this.counterReset=Qr(t,zve,n.counterReset)}return e}(),Qr=function(e,t,n){var s=new rz,a=n!==null&&typeof n<"u"?n.toString():t.initialValue;s.write(a);var i=new nz(s.read());switch(t.type){case 2:var o=i.parseComponentValue();return t.parse(e,Js(o)?o.value:t.initialValue);case 0:return t.parse(e,i.parseComponentValue());case 1:return t.parse(e,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(t.format){case"angle":return uw.parse(e,i.parseComponentValue());case"color":return sh.parse(e,i.parseComponentValue());case"image":return uB.parse(e,i.parseComponentValue());case"length":var l=i.parseComponentValue();return gh(l)?l:Io;case"length-percentage":var c=i.parseComponentValue();return Ra(c)?c:Io;case"time":return wz.parse(e,i.parseComponentValue())}break}},Xve="data-html2canvas-debug",Zve=function(e){var t=e.getAttribute(Xve);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},p5=function(e,t){var n=Zve(e);return n===1||t===n},Bu=function(){function e(t,n){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,p5(n,3))debugger;this.styles=new Jve(t,window.getComputedStyle(n,null)),v5(n)&&(this.styles.animationDuration.some(function(s){return s>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=cw(this.context,n),p5(n,4)&&(this.flags|=16)}return e}(),e0e="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Ik="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ng=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var p0=0;p0<Ik.length;p0++)Ng[Ik.charCodeAt(p0)]=p0;var t0e=function(e){var t=e.length*.75,n=e.length,s,a=0,i,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),u=Array.isArray(d)?d:new Uint8Array(d);for(s=0;s<n;s+=4)i=Ng[e.charCodeAt(s)],o=Ng[e.charCodeAt(s+1)],l=Ng[e.charCodeAt(s+2)],c=Ng[e.charCodeAt(s+3)],u[a++]=i<<2|o>>4,u[a++]=(o&15)<<4|l>>2,u[a++]=(l&3)<<6|c&63;return d},r0e=function(e){for(var t=e.length,n=[],s=0;s<t;s+=2)n.push(e[s+1]<<8|e[s]);return n},n0e=function(e){for(var t=e.length,n=[],s=0;s<t;s+=4)n.push(e[s+3]<<24|e[s+2]<<16|e[s+1]<<8|e[s]);return n},uf=5,AB=11,F2=2,s0e=AB-uf,bz=65536>>uf,i0e=1<<uf,L2=i0e-1,a0e=1024>>uf,o0e=bz+a0e,l0e=o0e,c0e=32,d0e=l0e+c0e,u0e=65536>>AB,A0e=1<<s0e,h0e=A0e-1,Tk=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},f0e=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},m0e=function(e,t){var n=t0e(e),s=Array.isArray(n)?n0e(n):new Uint32Array(n),a=Array.isArray(n)?r0e(n):new Uint16Array(n),i=24,o=Tk(a,i/2,s[4]/2),l=s[5]===2?Tk(a,(i+s[4])/2):f0e(s,Math.ceil((i+s[4])/4));return new p0e(s[0],s[1],s[2],s[3],o,l)},p0e=function(){function e(t,n,s,a,i,o){this.initialValue=t,this.errorValue=n,this.highStart=s,this.highValueIndex=a,this.index=i,this.data=o}return e.prototype.get=function(t){var n;if(t>=0){if(t<55296||t>56319&&t<=65535)return n=this.index[t>>uf],n=(n<<F2)+(t&L2),this.data[n];if(t<=65535)return n=this.index[bz+(t-55296>>uf)],n=(n<<F2)+(t&L2),this.data[n];if(t<this.highStart)return n=d0e-u0e+(t>>AB),n=this.index[n],n+=t>>uf&h0e,n=this.index[n],n=(n<<F2)+(t&L2),this.data[n];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),kk="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g0e=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var g0=0;g0<kk.length;g0++)g0e[kk.charCodeAt(g0)]=g0;var x0e=1,R2=2,O2=3,Pk=4,Dk=5,v0e=7,Fk=8,M2=9,U2=10,Lk=11,Rk=12,Ok=13,Mk=14,Q2=15,y0e=function(e){for(var t=[],n=0,s=e.length;n<s;){var a=e.charCodeAt(n++);if(a>=55296&&a<=56319&&n<s){var i=e.charCodeAt(n++);(i&64512)===56320?t.push(((a&1023)<<10)+(i&1023)+65536):(t.push(a),n--)}else t.push(a)}return t},w0e=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var s=[],a=-1,i="";++a<n;){var o=e[a];o<=65535?s.push(o):(o-=65536,s.push((o>>10)+55296,o%1024+56320)),(a+1===n||s.length>16384)&&(i+=String.fromCharCode.apply(String,s),s.length=0)}return i},b0e=m0e(e0e),Fc="",H2="",j0e=function(e){return b0e.get(e)},N0e=function(e,t,n){var s=n-2,a=t[s],i=t[n-1],o=t[n];if(i===R2&&o===O2)return Fc;if(i===R2||i===O2||i===Pk||o===R2||o===O2||o===Pk)return H2;if(i===Fk&&[Fk,M2,Lk,Rk].indexOf(o)!==-1||(i===Lk||i===M2)&&(o===M2||o===U2)||(i===Rk||i===U2)&&o===U2||o===Ok||o===Dk||o===v0e||i===x0e)return Fc;if(i===Ok&&o===Mk){for(;a===Dk;)a=t[--s];if(a===Mk)return Fc}if(i===Q2&&o===Q2){for(var l=0;a===Q2;)l++,a=t[--s];if(l%2===0)return Fc}return H2},C0e=function(e){var t=y0e(e),n=t.length,s=0,a=0,i=t.map(j0e);return{next:function(){if(s>=n)return{done:!0,value:null};for(var o=Fc;s<n&&(o=N0e(t,i,++s))===Fc;);if(o!==Fc||s===n){var l=w0e.apply(null,t.slice(a,s));return a=s,{value:l,done:!1}}return{done:!0,value:null}}}},_0e=function(e){for(var t=C0e(e),n=[],s;!(s=t.next()).done;)s.value&&n.push(s.value.slice());return n},S0e=function(e){var t=123;if(e.createRange){var n=e.createRange();if(n.getBoundingClientRect){var s=e.createElement("boundtest");s.style.height=t+"px",s.style.display="block",e.body.appendChild(s),n.selectNode(s);var a=n.getBoundingClientRect(),i=Math.round(a.height);if(e.body.removeChild(s),i===t)return!0}}return!1},B0e=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var s=t.firstChild,a=dw(s.data).map(function(c){return xa(c)}),i=0,o={},l=a.every(function(c,d){n.setStart(s,i),n.setEnd(s,i+c.length);var u=n.getBoundingClientRect();i+=c.length;var f=u.x>o.x||u.y>o.y;return o=u,d===0?!0:f});return e.body.removeChild(t),l},E0e=function(){return typeof new Image().crossOrigin<"u"},I0e=function(){return typeof new XMLHttpRequest().responseType=="string"},T0e=function(e){var t=new Image,n=e.createElement("canvas"),s=n.getContext("2d");if(!s)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{s.drawImage(t,0,0),n.toDataURL()}catch{return!1}return!0},Uk=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},k0e=function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var s=t.getContext("2d");if(!s)return Promise.reject(!1);s.fillStyle="rgb(0, 255, 0)",s.fillRect(0,0,n,n);var a=new Image,i=t.toDataURL();a.src=i;var o=g5(n,n,0,0,a);return s.fillStyle="red",s.fillRect(0,0,n,n),Qk(o).then(function(l){s.drawImage(l,0,0);var c=s.getImageData(0,0,n,n).data;s.fillStyle="red",s.fillRect(0,0,n,n);var d=e.createElement("div");return d.style.backgroundImage="url("+i+")",d.style.height=n+"px",Uk(c)?Qk(g5(n,n,0,0,d)):Promise.reject(!1)}).then(function(l){return s.drawImage(l,0,0),Uk(s.getImageData(0,0,n,n).data)}).catch(function(){return!1})},g5=function(e,t,n,s,a){var i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg"),l=document.createElementNS(i,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",n.toString()),l.setAttributeNS(null,"y",s.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(l),l.appendChild(a),o},Qk=function(e){return new Promise(function(t,n){var s=new Image;s.onload=function(){return t(s)},s.onerror=n,s.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Eo={get SUPPORT_RANGE_BOUNDS(){var e=S0e(document);return Object.defineProperty(Eo,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Eo.SUPPORT_RANGE_BOUNDS&&B0e(document);return Object.defineProperty(Eo,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=T0e(document);return Object.defineProperty(Eo,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?k0e(document):Promise.resolve(!1);return Object.defineProperty(Eo,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=E0e();return Object.defineProperty(Eo,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=I0e();return Object.defineProperty(Eo,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Eo,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Eo,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},Mg=function(){function e(t,n){this.text=t,this.bounds=n}return e}(),P0e=function(e,t,n,s){var a=L0e(t,n),i=[],o=0;return a.forEach(function(l){if(n.textDecorationLine.length||l.trim().length>0)if(Eo.SUPPORT_RANGE_BOUNDS){var c=Hk(s,o,l.length).getClientRects();if(c.length>1){var d=hB(l),u=0;d.forEach(function(v){i.push(new Mg(v,uA.fromDOMRectList(e,Hk(s,u+o,v.length).getClientRects()))),u+=v.length})}else i.push(new Mg(l,uA.fromDOMRectList(e,c)))}else{var f=s.splitText(l.length);i.push(new Mg(l,D0e(e,s))),s=f}else Eo.SUPPORT_RANGE_BOUNDS||(s=s.splitText(l.length));o+=l.length}),i},D0e=function(e,t){var n=t.ownerDocument;if(n){var s=n.createElement("html2canvaswrapper");s.appendChild(t.cloneNode(!0));var a=t.parentNode;if(a){a.replaceChild(s,t);var i=cw(e,s);return s.firstChild&&a.replaceChild(s.firstChild,s),i}}return uA.EMPTY},Hk=function(e,t,n){var s=e.ownerDocument;if(!s)throw new Error("Node has no owner document");var a=s.createRange();return a.setStart(e,t),a.setEnd(e,t+n),a},hB=function(e){if(Eo.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(n){return n.segment})}return _0e(e)},F0e=function(e,t){if(Eo.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(e)).map(function(s){return s.segment})}return O0e(e,t)},L0e=function(e,t){return t.letterSpacing!==0?hB(e):F0e(e,t)},R0e=[32,160,4961,65792,65793,4153,4241],O0e=function(e,t){for(var n=uge(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),s=[],a,i=function(){if(a.value){var o=a.value.slice(),l=dw(o),c="";l.forEach(function(d){R0e.indexOf(d)===-1?c+=xa(d):(c.length&&s.push(c),s.push(xa(d)),c="")}),c.length&&s.push(c)}};!(a=n.next()).done;)i();return s},M0e=function(){function e(t,n,s){this.text=U0e(n.data,s.textTransform),this.textBounds=P0e(t,this.text,s,n)}return e}(),U0e=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(Q0e,H0e);case 2:return e.toUpperCase();default:return e}},Q0e=/(^|\s|:|-|\(|\))([a-z])/g,H0e=function(e,t,n){return e.length>0?t+n.toUpperCase():e},jz=function(e){Pd(t,e);function t(n,s){var a=e.call(this,n,s)||this;return a.src=s.currentSrc||s.src,a.intrinsicWidth=s.naturalWidth,a.intrinsicHeight=s.naturalHeight,a.context.cache.addImage(a.src),a}return t}(Bu),Nz=function(e){Pd(t,e);function t(n,s){var a=e.call(this,n,s)||this;return a.canvas=s,a.intrinsicWidth=s.width,a.intrinsicHeight=s.height,a}return t}(Bu),Cz=function(e){Pd(t,e);function t(n,s){var a=e.call(this,n,s)||this,i=new XMLSerializer,o=cw(n,s);return s.setAttribute("width",o.width+"px"),s.setAttribute("height",o.height+"px"),a.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(s)),a.intrinsicWidth=s.width.baseVal.value,a.intrinsicHeight=s.height.baseVal.value,a.context.cache.addImage(a.svg),a}return t}(Bu),_z=function(e){Pd(t,e);function t(n,s){var a=e.call(this,n,s)||this;return a.value=s.value,a}return t}(Bu),x5=function(e){Pd(t,e);function t(n,s){var a=e.call(this,n,s)||this;return a.start=s.start,a.reversed=typeof s.reversed=="boolean"&&s.reversed===!0,a}return t}(Bu),z0e=[{type:15,flags:0,unit:"px",number:3}],V0e=[{type:16,flags:0,number:50}],K0e=function(e){return e.width>e.height?new uA(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new uA(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},W0e=function(e){var t=e.type===$0e?new Array(e.value.length+1).join(""):e.value;return t.length===0?e.placeholder||"":t},$y="checkbox",Gy="radio",$0e="password",zk=707406591,fB=function(e){Pd(t,e);function t(n,s){var a=e.call(this,n,s)||this;switch(a.type=s.type.toLowerCase(),a.checked=s.checked,a.value=W0e(s),(a.type===$y||a.type===Gy)&&(a.styles.backgroundColor=3739148031,a.styles.borderTopColor=a.styles.borderRightColor=a.styles.borderBottomColor=a.styles.borderLeftColor=2779096575,a.styles.borderTopWidth=a.styles.borderRightWidth=a.styles.borderBottomWidth=a.styles.borderLeftWidth=1,a.styles.borderTopStyle=a.styles.borderRightStyle=a.styles.borderBottomStyle=a.styles.borderLeftStyle=1,a.styles.backgroundClip=[0],a.styles.backgroundOrigin=[0],a.bounds=K0e(a.bounds)),a.type){case $y:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=z0e;break;case Gy:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=V0e;break}return a}return t}(Bu),Sz=function(e){Pd(t,e);function t(n,s){var a=e.call(this,n,s)||this,i=s.options[s.selectedIndex||0];return a.value=i&&i.text||"",a}return t}(Bu),Bz=function(e){Pd(t,e);function t(n,s){var a=e.call(this,n,s)||this;return a.value=s.value,a}return t}(Bu),Ez=function(e){Pd(t,e);function t(n,s){var a=e.call(this,n,s)||this;a.src=s.src,a.width=parseInt(s.width,10)||0,a.height=parseInt(s.height,10)||0,a.backgroundColor=a.styles.backgroundColor;try{if(s.contentWindow&&s.contentWindow.document&&s.contentWindow.document.documentElement){a.tree=Tz(n,s.contentWindow.document.documentElement);var i=s.contentWindow.document.documentElement?Rg(n,getComputedStyle(s.contentWindow.document.documentElement).backgroundColor):rA.TRANSPARENT,o=s.contentWindow.document.body?Rg(n,getComputedStyle(s.contentWindow.document.body).backgroundColor):rA.TRANSPARENT;a.backgroundColor=ih(i)?ih(o)?a.styles.backgroundColor:o:i}}catch{}return a}return t}(Bu),G0e=["OL","UL","MENU"],sy=function(e,t,n,s){for(var a=t.firstChild,i=void 0;a;a=i)if(i=a.nextSibling,kz(a)&&a.data.trim().length>0)n.textNodes.push(new M0e(e,a,n.styles));else if(bm(a))if(Lz(a)&&a.assignedNodes)a.assignedNodes().forEach(function(l){return sy(e,l,n,s)});else{var o=Iz(e,a);o.styles.isVisible()&&(q0e(a,o,s)?o.flags|=4:J0e(o.styles)&&(o.flags|=2),G0e.indexOf(a.tagName)!==-1&&(o.flags|=8),n.elements.push(o),a.slot,a.shadowRoot?sy(e,a.shadowRoot,o,s):!qy(a)&&!Pz(a)&&!Jy(a)&&sy(e,a,o,s))}},Iz=function(e,t){return y5(t)?new jz(e,t):Dz(t)?new Nz(e,t):Pz(t)?new Cz(e,t):Y0e(t)?new _z(e,t):X0e(t)?new x5(e,t):Z0e(t)?new fB(e,t):Jy(t)?new Sz(e,t):qy(t)?new Bz(e,t):Fz(t)?new Ez(e,t):new Bu(e,t)},Tz=function(e,t){var n=Iz(e,t);return n.flags|=4,sy(e,t,n,n),n},q0e=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||mB(e)&&n.styles.isTransparent()},J0e=function(e){return e.isPositioned()||e.isFloating()},kz=function(e){return e.nodeType===Node.TEXT_NODE},bm=function(e){return e.nodeType===Node.ELEMENT_NODE},v5=function(e){return bm(e)&&typeof e.style<"u"&&!iy(e)},iy=function(e){return typeof e.className=="object"},Y0e=function(e){return e.tagName==="LI"},X0e=function(e){return e.tagName==="OL"},Z0e=function(e){return e.tagName==="INPUT"},eye=function(e){return e.tagName==="HTML"},Pz=function(e){return e.tagName==="svg"},mB=function(e){return e.tagName==="BODY"},Dz=function(e){return e.tagName==="CANVAS"},Vk=function(e){return e.tagName==="VIDEO"},y5=function(e){return e.tagName==="IMG"},Fz=function(e){return e.tagName==="IFRAME"},Kk=function(e){return e.tagName==="STYLE"},tye=function(e){return e.tagName==="SCRIPT"},qy=function(e){return e.tagName==="TEXTAREA"},Jy=function(e){return e.tagName==="SELECT"},Lz=function(e){return e.tagName==="SLOT"},Wk=function(e){return e.tagName.indexOf("-")>0},rye=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var n=this.counters[t];return n&&n.length?n[n.length-1]:1},e.prototype.getCounterValues=function(t){var n=this.counters[t];return n||[]},e.prototype.pop=function(t){var n=this;t.forEach(function(s){return n.counters[s].pop()})},e.prototype.parse=function(t){var n=this,s=t.counterIncrement,a=t.counterReset,i=!0;s!==null&&s.forEach(function(l){var c=n.counters[l.counter];c&&l.increment!==0&&(i=!1,c.length||c.push(1),c[Math.max(0,c.length-1)]+=l.increment)});var o=[];return i&&a.forEach(function(l){var c=n.counters[l.counter];o.push(l.counter),c||(c=n.counters[l.counter]=[]),c.push(l.reset)}),o},e}(),$k={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Gk={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},nye={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},sye={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},tm=function(e,t,n,s,a,i){return e<t||e>n?fx(e,a,i.length>0):s.integers.reduce(function(o,l,c){for(;e>=l;)e-=l,o+=s.values[c];return o},"")+i},Rz=function(e,t,n,s){var a="";do n||e--,a=s(e)+a,e/=t;while(e*t>=t);return a},ma=function(e,t,n,s,a){var i=n-t+1;return(e<0?"-":"")+(Rz(Math.abs(e),i,s,function(o){return xa(Math.floor(o%i)+t)})+a)},Kh=function(e,t,n){n===void 0&&(n=". ");var s=t.length;return Rz(Math.abs(e),s,!1,function(a){return t[Math.floor(a%s)]})+n},hm=1,QA=2,HA=4,Cg=8,$u=function(e,t,n,s,a,i){if(e<-9999||e>9999)return fx(e,4,a.length>0);var o=Math.abs(e),l=a;if(o===0)return t[0]+l;for(var c=0;o>0&&c<=4;c++){var d=o%10;d===0&&eo(i,hm)&&l!==""?l=t[d]+l:d>1||d===1&&c===0||d===1&&c===1&&eo(i,QA)||d===1&&c===1&&eo(i,HA)&&e>100||d===1&&c>1&&eo(i,Cg)?l=t[d]+(c>0?n[c-1]:"")+l:d===1&&c>0&&(l=n[c-1]+l),o=Math.floor(o/10)}return(e<0?s:"")+l},qk="",Jk="",Yk="",z2="",fx=function(e,t,n){var s=n?". ":"",a=n?"":"",i=n?", ":"",o=n?" ":"";switch(t){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var l=ma(e,48,57,!0,s);return l.length<4?"0"+l:l;case 4:return Kh(e,"",a);case 6:return tm(e,1,3999,$k,3,s).toLowerCase();case 7:return tm(e,1,3999,$k,3,s);case 8:return ma(e,945,969,!1,s);case 9:return ma(e,97,122,!1,s);case 10:return ma(e,65,90,!1,s);case 11:return ma(e,1632,1641,!0,s);case 12:case 49:return tm(e,1,9999,Gk,3,s);case 35:return tm(e,1,9999,Gk,3,s).toLowerCase();case 13:return ma(e,2534,2543,!0,s);case 14:case 30:return ma(e,6112,6121,!0,s);case 15:return Kh(e,"",a);case 16:return Kh(e,"",a);case 17:case 48:return $u(e,"",qk,"",a,QA|HA|Cg);case 47:return $u(e,"",Jk,"",a,hm|QA|HA|Cg);case 42:return $u(e,"",qk,"",a,QA|HA|Cg);case 41:return $u(e,"",Jk,"",a,hm|QA|HA|Cg);case 26:return $u(e,"","",Yk,a,0);case 25:return $u(e,"","",Yk,a,hm|QA|HA);case 31:return $u(e,"","",z2,i,hm|QA|HA);case 33:return $u(e,"","",z2,i,0);case 32:return $u(e,"","",z2,i,hm|QA|HA);case 18:return ma(e,2406,2415,!0,s);case 20:return tm(e,1,19999,sye,3,s);case 21:return ma(e,2790,2799,!0,s);case 22:return ma(e,2662,2671,!0,s);case 22:return tm(e,1,10999,nye,3,s);case 23:return Kh(e,"");case 24:return Kh(e,"");case 27:return ma(e,3302,3311,!0,s);case 28:return Kh(e,"",a);case 29:return Kh(e,"",a);case 34:return ma(e,3792,3801,!0,s);case 37:return ma(e,6160,6169,!0,s);case 38:return ma(e,4160,4169,!0,s);case 39:return ma(e,2918,2927,!0,s);case 40:return ma(e,1776,1785,!0,s);case 43:return ma(e,3046,3055,!0,s);case 44:return ma(e,3174,3183,!0,s);case 45:return ma(e,3664,3673,!0,s);case 46:return ma(e,3872,3881,!0,s);case 3:default:return ma(e,48,57,!0,s)}},Oz="data-html2canvas-ignore",Xk=function(){function e(t,n,s){if(this.context=t,this.options=s,this.scrolledElements=[],this.referenceElement=n,this.counters=new rye,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,n){var s=this,a=iye(t,n);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var i=t.defaultView.pageXOffset,o=t.defaultView.pageYOffset,l=a.contentWindow,c=l.document,d=lye(a).then(function(){return gl(s,void 0,void 0,function(){var u,f;return qo(this,function(v){switch(v.label){case 0:return this.scrolledElements.forEach(Aye),l&&(l.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==n.top||l.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-n.left,l.scrollY-n.top,0,0))),u=this.options.onclone,f=this.clonedReferenceElement,typeof f>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:v.sent(),v.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,oye(c)]:[3,4];case 3:v.sent(),v.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(c,f)}).then(function(){return a})]:[2,a]}})})});return c.open(),c.write(dye(document.doctype)+"<html></html>"),uye(this.referenceElement.ownerDocument,i,o),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),d},e.prototype.createElementClone=function(t){if(p5(t,2))debugger;if(Dz(t))return this.createCanvasClone(t);if(Vk(t))return this.createVideoClone(t);if(Kk(t))return this.createStyleClone(t);var n=t.cloneNode(!1);return y5(n)&&(y5(t)&&t.currentSrc&&t.currentSrc!==t.src&&(n.src=t.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),Wk(n)?this.createCustomElementClone(n):n},e.prototype.createCustomElementClone=function(t){var n=document.createElement("html2canvascustomelement");return V2(t.style,n),n},e.prototype.createStyleClone=function(t){try{var n=t.sheet;if(n&&n.cssRules){var s=[].slice.call(n.cssRules,0).reduce(function(i,o){return o&&typeof o.cssText=="string"?i+o.cssText:i},""),a=t.cloneNode(!1);return a.textContent=s,a}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var n;if(this.options.inlineImages&&t.ownerDocument){var s=t.ownerDocument.createElement("img");try{return s.src=t.toDataURL(),s}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var a=t.cloneNode(!1);try{a.width=t.width,a.height=t.height;var i=t.getContext("2d"),o=a.getContext("2d");if(o)if(!this.options.allowTaint&&i)o.putImageData(i.getImageData(0,0,t.width,t.height),0,0);else{var l=(n=t.getContext("webgl2"))!==null&&n!==void 0?n:t.getContext("webgl");if(l){var c=l.getContextAttributes();(c==null?void 0:c.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}o.drawImage(t,0,0)}return a}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return a},e.prototype.createVideoClone=function(t){var n=t.ownerDocument.createElement("canvas");n.width=t.offsetWidth,n.height=t.offsetHeight;var s=n.getContext("2d");try{return s&&(s.drawImage(t,0,0,n.width,n.height),this.options.allowTaint||s.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var a=t.ownerDocument.createElement("canvas");return a.width=t.offsetWidth,a.height=t.offsetHeight,a},e.prototype.appendChildNode=function(t,n,s){(!bm(n)||!tye(n)&&!n.hasAttribute(Oz)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!bm(n)||!Kk(n))&&t.appendChild(this.cloneNode(n,s))},e.prototype.cloneChildNodes=function(t,n,s){for(var a=this,i=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;i;i=i.nextSibling)if(bm(i)&&Lz(i)&&typeof i.assignedNodes=="function"){var o=i.assignedNodes();o.length&&o.forEach(function(l){return a.appendChildNode(n,l,s)})}else this.appendChildNode(n,i,s)},e.prototype.cloneNode=function(t,n){if(kz(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var s=t.ownerDocument.defaultView;if(s&&bm(t)&&(v5(t)||iy(t))){var a=this.createElementClone(t);a.style.transitionProperty="none";var i=s.getComputedStyle(t),o=s.getComputedStyle(t,":before"),l=s.getComputedStyle(t,":after");this.referenceElement===t&&v5(a)&&(this.clonedReferenceElement=a),mB(a)&&mye(a);var c=this.counters.parse(new Ek(this.context,i)),d=this.resolvePseudoContent(t,a,o,Ug.BEFORE);Wk(t)&&(n=!0),Vk(t)||this.cloneChildNodes(t,a,n),d&&a.insertBefore(d,a.firstChild);var u=this.resolvePseudoContent(t,a,l,Ug.AFTER);return u&&a.appendChild(u),this.counters.pop(c),(i&&(this.options.copyStyles||iy(t))&&!Fz(t)||n)&&V2(i,a),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([a,t.scrollLeft,t.scrollTop]),(qy(t)||Jy(t))&&(qy(a)||Jy(a))&&(a.value=t.value),a}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,n,s,a){var i=this;if(s){var o=s.content,l=n.ownerDocument;if(!(!l||!o||o==="none"||o==="-moz-alt-content"||s.display==="none")){this.counters.parse(new Ek(this.context,s));var c=new Yve(this.context,s),d=l.createElement("html2canvaspseudoelement");V2(s,d),c.content.forEach(function(f){if(f.type===0)d.appendChild(l.createTextNode(f.value));else if(f.type===22){var v=l.createElement("img");v.src=f.value,v.style.opacity="1",d.appendChild(v)}else if(f.type===18){if(f.name==="attr"){var g=f.values.filter(Js);g.length&&d.appendChild(l.createTextNode(t.getAttribute(g[0].value)||""))}else if(f.name==="counter"){var w=f.values.filter(Wm),y=w[0],b=w[1];if(y&&Js(y)){var x=i.counters.getCounterValue(y.value),N=b&&Js(b)?m5.parse(i.context,b.value):3;d.appendChild(l.createTextNode(fx(x,N,!1)))}}else if(f.name==="counters"){var S=f.values.filter(Wm),y=S[0],k=S[1],b=S[2];if(y&&Js(y)){var F=i.counters.getCounterValues(y.value),$=b&&Js(b)?m5.parse(i.context,b.value):3,U=k&&k.type===0?k.value:"",D=F.map(function(B){return fx(B,$,!1)}).join(U);d.appendChild(l.createTextNode(D))}}}else if(f.type===20)switch(f.value){case"open-quote":d.appendChild(l.createTextNode(Bk(c.quotes,i.quoteDepth++,!0)));break;case"close-quote":d.appendChild(l.createTextNode(Bk(c.quotes,--i.quoteDepth,!1)));break;default:d.appendChild(l.createTextNode(f.value))}}),d.className=w5+" "+b5;var u=a===Ug.BEFORE?" "+w5:" "+b5;return iy(n)?n.className.baseValue+=u:n.className+=u,d}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),Ug;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(Ug||(Ug={}));var iye=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(Oz,"true"),e.body.appendChild(n),n},aye=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},oye=function(e){return Promise.all([].slice.call(e.images,0).map(aye))},lye=function(e){return new Promise(function(t,n){var s=e.contentWindow;if(!s)return n("No window assigned for iframe");var a=s.document;s.onload=e.onload=function(){s.onload=e.onload=null;var i=setInterval(function(){a.body.childNodes.length>0&&a.readyState==="complete"&&(clearInterval(i),t(e))},50)}})},cye=["all","d","content"],V2=function(e,t){for(var n=e.length-1;n>=0;n--){var s=e.item(n);cye.indexOf(s)===-1&&t.style.setProperty(s,e.getPropertyValue(s))}return t},dye=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},uye=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},Aye=function(e){var t=e[0],n=e[1],s=e[2];t.scrollLeft=n,t.scrollTop=s},hye=":before",fye=":after",w5="___html2canvas___pseudoelement_before",b5="___html2canvas___pseudoelement_after",Zk=`{
    content: "" !important;
    display: none !important;
}`,mye=function(e){pye(e,"."+w5+hye+Zk+`
         .`+b5+fye+Zk)},pye=function(e,t){var n=e.ownerDocument;if(n){var s=n.createElement("style");s.textContent=t,e.appendChild(s)}},Mz=function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),gye=function(){function e(t,n){this.context=t,this._options=n,this._cache={}}return e.prototype.addImage=function(t){var n=Promise.resolve();return this.has(t)||(W2(t)||wye(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),n},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return gl(this,void 0,void 0,function(){var n,s,a,i,o=this;return qo(this,function(l){switch(l.label){case 0:return n=Mz.isSameOrigin(t),s=!K2(t)&&this._options.useCORS===!0&&Eo.SUPPORT_CORS_IMAGES&&!n,a=!K2(t)&&!n&&!W2(t)&&typeof this._options.proxy=="string"&&Eo.SUPPORT_CORS_XHR&&!s,!n&&this._options.allowTaint===!1&&!K2(t)&&!W2(t)&&!a&&!s?[2]:(i=t,a?[4,this.proxy(i)]:[3,2]);case 1:i=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(c,d){var u=new Image;u.onload=function(){return c(u)},u.onerror=d,(bye(i)||s)&&(u.crossOrigin="anonymous"),u.src=i,u.complete===!0&&setTimeout(function(){return c(u)},500),o._options.imageTimeout>0&&setTimeout(function(){return d("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var n=this,s=this._options.proxy;if(!s)throw new Error("No proxy defined");var a=t.substring(0,256);return new Promise(function(i,o){var l=Eo.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){if(c.status===200)if(l==="text")i(c.response);else{var f=new FileReader;f.addEventListener("load",function(){return i(f.result)},!1),f.addEventListener("error",function(v){return o(v)},!1),f.readAsDataURL(c.response)}else o("Failed to proxy resource "+a+" with status code "+c.status)},c.onerror=o;var d=s.indexOf("?")>-1?"&":"?";if(c.open("GET",""+s+d+"url="+encodeURIComponent(t)+"&responseType="+l),l!=="text"&&c instanceof XMLHttpRequest&&(c.responseType=l),n._options.imageTimeout){var u=n._options.imageTimeout;c.timeout=u,c.ontimeout=function(){return o("Timed out ("+u+"ms) proxying "+a)}}c.send()})},e}(),xye=/^data:image\/svg\+xml/i,vye=/^data:image\/.*;base64,/i,yye=/^data:image\/.*/i,wye=function(e){return Eo.SUPPORT_SVG_DRAWING||!jye(e)},K2=function(e){return yye.test(e)},bye=function(e){return vye.test(e)},W2=function(e){return e.substr(0,4)==="blob"},jye=function(e){return e.substr(-3).toLowerCase()==="svg"||xye.test(e)},Lr=function(){function e(t,n){this.type=0,this.x=t,this.y=n}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),rm=function(e,t,n){return new Lr(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},x0=function(){function e(t,n,s,a){this.type=1,this.start=t,this.startControl=n,this.endControl=s,this.end=a}return e.prototype.subdivide=function(t,n){var s=rm(this.start,this.startControl,t),a=rm(this.startControl,this.endControl,t),i=rm(this.endControl,this.end,t),o=rm(s,a,t),l=rm(a,i,t),c=rm(o,l,t);return n?new e(this.start,s,o,c):new e(c,l,i,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),Oc=function(e){return e.type===1},Nye=function(){function e(t){var n=t.styles,s=t.bounds,a=jg(n.borderTopLeftRadius,s.width,s.height),i=a[0],o=a[1],l=jg(n.borderTopRightRadius,s.width,s.height),c=l[0],d=l[1],u=jg(n.borderBottomRightRadius,s.width,s.height),f=u[0],v=u[1],g=jg(n.borderBottomLeftRadius,s.width,s.height),w=g[0],y=g[1],b=[];b.push((i+c)/s.width),b.push((w+f)/s.width),b.push((o+y)/s.height),b.push((d+v)/s.height);var x=Math.max.apply(Math,b);x>1&&(i/=x,o/=x,c/=x,d/=x,f/=x,v/=x,w/=x,y/=x);var N=s.width-c,S=s.height-v,k=s.width-f,F=s.height-y,$=n.borderTopWidth,U=n.borderRightWidth,D=n.borderBottomWidth,H=n.borderLeftWidth,K=oi(n.paddingTop,t.bounds.width),B=oi(n.paddingRight,t.bounds.width),R=oi(n.paddingBottom,t.bounds.width),Z=oi(n.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||o>0?wi(s.left+H/3,s.top+$/3,i-H/3,o-$/3,Ms.TOP_LEFT):new Lr(s.left+H/3,s.top+$/3),this.topRightBorderDoubleOuterBox=i>0||o>0?wi(s.left+N,s.top+$/3,c-U/3,d-$/3,Ms.TOP_RIGHT):new Lr(s.left+s.width-U/3,s.top+$/3),this.bottomRightBorderDoubleOuterBox=f>0||v>0?wi(s.left+k,s.top+S,f-U/3,v-D/3,Ms.BOTTOM_RIGHT):new Lr(s.left+s.width-U/3,s.top+s.height-D/3),this.bottomLeftBorderDoubleOuterBox=w>0||y>0?wi(s.left+H/3,s.top+F,w-H/3,y-D/3,Ms.BOTTOM_LEFT):new Lr(s.left+H/3,s.top+s.height-D/3),this.topLeftBorderDoubleInnerBox=i>0||o>0?wi(s.left+H*2/3,s.top+$*2/3,i-H*2/3,o-$*2/3,Ms.TOP_LEFT):new Lr(s.left+H*2/3,s.top+$*2/3),this.topRightBorderDoubleInnerBox=i>0||o>0?wi(s.left+N,s.top+$*2/3,c-U*2/3,d-$*2/3,Ms.TOP_RIGHT):new Lr(s.left+s.width-U*2/3,s.top+$*2/3),this.bottomRightBorderDoubleInnerBox=f>0||v>0?wi(s.left+k,s.top+S,f-U*2/3,v-D*2/3,Ms.BOTTOM_RIGHT):new Lr(s.left+s.width-U*2/3,s.top+s.height-D*2/3),this.bottomLeftBorderDoubleInnerBox=w>0||y>0?wi(s.left+H*2/3,s.top+F,w-H*2/3,y-D*2/3,Ms.BOTTOM_LEFT):new Lr(s.left+H*2/3,s.top+s.height-D*2/3),this.topLeftBorderStroke=i>0||o>0?wi(s.left+H/2,s.top+$/2,i-H/2,o-$/2,Ms.TOP_LEFT):new Lr(s.left+H/2,s.top+$/2),this.topRightBorderStroke=i>0||o>0?wi(s.left+N,s.top+$/2,c-U/2,d-$/2,Ms.TOP_RIGHT):new Lr(s.left+s.width-U/2,s.top+$/2),this.bottomRightBorderStroke=f>0||v>0?wi(s.left+k,s.top+S,f-U/2,v-D/2,Ms.BOTTOM_RIGHT):new Lr(s.left+s.width-U/2,s.top+s.height-D/2),this.bottomLeftBorderStroke=w>0||y>0?wi(s.left+H/2,s.top+F,w-H/2,y-D/2,Ms.BOTTOM_LEFT):new Lr(s.left+H/2,s.top+s.height-D/2),this.topLeftBorderBox=i>0||o>0?wi(s.left,s.top,i,o,Ms.TOP_LEFT):new Lr(s.left,s.top),this.topRightBorderBox=c>0||d>0?wi(s.left+N,s.top,c,d,Ms.TOP_RIGHT):new Lr(s.left+s.width,s.top),this.bottomRightBorderBox=f>0||v>0?wi(s.left+k,s.top+S,f,v,Ms.BOTTOM_RIGHT):new Lr(s.left+s.width,s.top+s.height),this.bottomLeftBorderBox=w>0||y>0?wi(s.left,s.top+F,w,y,Ms.BOTTOM_LEFT):new Lr(s.left,s.top+s.height),this.topLeftPaddingBox=i>0||o>0?wi(s.left+H,s.top+$,Math.max(0,i-H),Math.max(0,o-$),Ms.TOP_LEFT):new Lr(s.left+H,s.top+$),this.topRightPaddingBox=c>0||d>0?wi(s.left+Math.min(N,s.width-U),s.top+$,N>s.width+U?0:Math.max(0,c-U),Math.max(0,d-$),Ms.TOP_RIGHT):new Lr(s.left+s.width-U,s.top+$),this.bottomRightPaddingBox=f>0||v>0?wi(s.left+Math.min(k,s.width-H),s.top+Math.min(S,s.height-D),Math.max(0,f-U),Math.max(0,v-D),Ms.BOTTOM_RIGHT):new Lr(s.left+s.width-U,s.top+s.height-D),this.bottomLeftPaddingBox=w>0||y>0?wi(s.left+H,s.top+Math.min(F,s.height-D),Math.max(0,w-H),Math.max(0,y-D),Ms.BOTTOM_LEFT):new Lr(s.left+H,s.top+s.height-D),this.topLeftContentBox=i>0||o>0?wi(s.left+H+Z,s.top+$+K,Math.max(0,i-(H+Z)),Math.max(0,o-($+K)),Ms.TOP_LEFT):new Lr(s.left+H+Z,s.top+$+K),this.topRightContentBox=c>0||d>0?wi(s.left+Math.min(N,s.width+H+Z),s.top+$+K,N>s.width+H+Z?0:c-H+Z,d-($+K),Ms.TOP_RIGHT):new Lr(s.left+s.width-(U+B),s.top+$+K),this.bottomRightContentBox=f>0||v>0?wi(s.left+Math.min(k,s.width-(H+Z)),s.top+Math.min(S,s.height+$+K),Math.max(0,f-(U+B)),v-(D+R),Ms.BOTTOM_RIGHT):new Lr(s.left+s.width-(U+B),s.top+s.height-(D+R)),this.bottomLeftContentBox=w>0||y>0?wi(s.left+H+Z,s.top+F,Math.max(0,w-(H+Z)),y-(D+R),Ms.BOTTOM_LEFT):new Lr(s.left+H+Z,s.top+s.height-(D+R))}return e}(),Ms;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Ms||(Ms={}));var wi=function(e,t,n,s,a){var i=4*((Math.sqrt(2)-1)/3),o=n*i,l=s*i,c=e+n,d=t+s;switch(a){case Ms.TOP_LEFT:return new x0(new Lr(e,d),new Lr(e,d-l),new Lr(c-o,t),new Lr(c,t));case Ms.TOP_RIGHT:return new x0(new Lr(e,t),new Lr(e+o,t),new Lr(c,d-l),new Lr(c,d));case Ms.BOTTOM_RIGHT:return new x0(new Lr(c,t),new Lr(c,t+l),new Lr(e+o,d),new Lr(e,d));case Ms.BOTTOM_LEFT:default:return new x0(new Lr(c,d),new Lr(c-o,d),new Lr(e,t+l),new Lr(e,t))}},Yy=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},Cye=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},Xy=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},_ye=function(){function e(t,n,s){this.offsetX=t,this.offsetY=n,this.matrix=s,this.type=0,this.target=6}return e}(),v0=function(){function e(t,n){this.path=t,this.target=n,this.type=1}return e}(),Sye=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),Bye=function(e){return e.type===0},Uz=function(e){return e.type===1},Eye=function(e){return e.type===2},eP=function(e,t){return e.length===t.length?e.some(function(n,s){return n===t[s]}):!1},Iye=function(e,t,n,s,a){return e.map(function(i,o){switch(o){case 0:return i.add(t,n);case 1:return i.add(t+s,n);case 2:return i.add(t+s,n+a);case 3:return i.add(t,n+a)}return i})},Qz=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),Hz=function(){function e(t,n){if(this.container=t,this.parent=n,this.effects=[],this.curves=new Nye(this.container),this.container.styles.opacity<1&&this.effects.push(new Sye(this.container.styles.opacity)),this.container.styles.transform!==null){var s=this.container.bounds.left+this.container.styles.transformOrigin[0].number,a=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new _ye(s,a,i))}if(this.container.styles.overflowX!==0){var o=Yy(this.curves),l=Xy(this.curves);eP(o,l)?this.effects.push(new v0(o,6)):(this.effects.push(new v0(o,2)),this.effects.push(new v0(l,4)))}}return e.prototype.getEffects=function(t){for(var n=[2,3].indexOf(this.container.styles.position)===-1,s=this.parent,a=this.effects.slice(0);s;){var i=s.effects.filter(function(c){return!Uz(c)});if(n||s.container.styles.position!==0||!s.parent){if(a.unshift.apply(a,i),n=[2,3].indexOf(s.container.styles.position)===-1,s.container.styles.overflowX!==0){var o=Yy(s.curves),l=Xy(s.curves);eP(o,l)||a.unshift(new v0(l,6))}}else a.unshift.apply(a,i);s=s.parent}return a.filter(function(c){return eo(c.target,t)})},e}(),j5=function(e,t,n,s){e.container.elements.forEach(function(a){var i=eo(a.flags,4),o=eo(a.flags,2),l=new Hz(a,e);eo(a.styles.display,2048)&&s.push(l);var c=eo(a.flags,8)?[]:s;if(i||o){var d=i||a.styles.isPositioned()?n:t,u=new Qz(l);if(a.styles.isPositioned()||a.styles.opacity<1||a.styles.isTransformed()){var f=a.styles.zIndex.order;if(f<0){var v=0;d.negativeZIndex.some(function(w,y){return f>w.element.container.styles.zIndex.order?(v=y,!1):v>0}),d.negativeZIndex.splice(v,0,u)}else if(f>0){var g=0;d.positiveZIndex.some(function(w,y){return f>=w.element.container.styles.zIndex.order?(g=y+1,!1):g>0}),d.positiveZIndex.splice(g,0,u)}else d.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else a.styles.isFloating()?d.nonPositionedFloats.push(u):d.nonPositionedInlineLevel.push(u);j5(l,u,i?u:n,c)}else a.styles.isInlineLevel()?t.inlineLevel.push(l):t.nonInlineLevel.push(l),j5(l,t,n,c);eo(a.flags,8)&&zz(a,c)})},zz=function(e,t){for(var n=e instanceof x5?e.start:1,s=e instanceof x5?e.reversed:!1,a=0;a<t.length;a++){var i=t[a];i.container instanceof _z&&typeof i.container.value=="number"&&i.container.value!==0&&(n=i.container.value),i.listValue=fx(n,i.container.styles.listStyleType,!0),n+=s?-1:1}},Tye=function(e){var t=new Hz(e,null),n=new Qz(t),s=[];return j5(t,n,n,s),zz(t.container,s),n},tP=function(e,t){switch(t){case 0:return Qc(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Qc(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Qc(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return Qc(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},kye=function(e,t){switch(t){case 0:return Qc(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return Qc(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return Qc(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return Qc(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},Pye=function(e,t){switch(t){case 0:return Qc(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return Qc(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return Qc(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return Qc(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},Dye=function(e,t){switch(t){case 0:return y0(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return y0(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return y0(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return y0(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},y0=function(e,t){var n=[];return Oc(e)?n.push(e.subdivide(.5,!1)):n.push(e),Oc(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},Qc=function(e,t,n,s){var a=[];return Oc(e)?a.push(e.subdivide(.5,!1)):a.push(e),Oc(n)?a.push(n.subdivide(.5,!0)):a.push(n),Oc(s)?a.push(s.subdivide(.5,!0).reverse()):a.push(s),Oc(t)?a.push(t.subdivide(.5,!1).reverse()):a.push(t),a},Vz=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},Zy=function(e){var t=e.styles,n=e.bounds,s=oi(t.paddingLeft,n.width),a=oi(t.paddingRight,n.width),i=oi(t.paddingTop,n.width),o=oi(t.paddingBottom,n.width);return n.add(s+t.borderLeftWidth,i+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+s+a),-(t.borderTopWidth+t.borderBottomWidth+i+o))},Fye=function(e,t){return e===0?t.bounds:e===2?Zy(t):Vz(t)},Lye=function(e,t){return e===0?t.bounds:e===2?Zy(t):Vz(t)},$2=function(e,t,n){var s=Fye(fm(e.styles.backgroundOrigin,t),e),a=Lye(fm(e.styles.backgroundClip,t),e),i=Rye(fm(e.styles.backgroundSize,t),n,s),o=i[0],l=i[1],c=jg(fm(e.styles.backgroundPosition,t),s.width-o,s.height-l),d=Oye(fm(e.styles.backgroundRepeat,t),c,i,s,a),u=Math.round(s.left+c[0]),f=Math.round(s.top+c[1]);return[d,u,f,o,l]},nm=function(e){return Js(e)&&e.value===Im.AUTO},w0=function(e){return typeof e=="number"},Rye=function(e,t,n){var s=t[0],a=t[1],i=t[2],o=e[0],l=e[1];if(!o)return[0,0];if(Ra(o)&&l&&Ra(l))return[oi(o,n.width),oi(l,n.height)];var c=w0(i);if(Js(o)&&(o.value===Im.CONTAIN||o.value===Im.COVER)){if(w0(i)){var d=n.width/n.height;return d<i!=(o.value===Im.COVER)?[n.width,n.width/i]:[n.height*i,n.height]}return[n.width,n.height]}var u=w0(s),f=w0(a),v=u||f;if(nm(o)&&(!l||nm(l))){if(u&&f)return[s,a];if(!c&&!v)return[n.width,n.height];if(v&&c){var g=u?s:a*i,w=f?a:s/i;return[g,w]}var y=u?s:n.width,b=f?a:n.height;return[y,b]}if(c){var x=0,N=0;return Ra(o)?x=oi(o,n.width):Ra(l)&&(N=oi(l,n.height)),nm(o)?x=N*i:(!l||nm(l))&&(N=x/i),[x,N]}var S=null,k=null;if(Ra(o)?S=oi(o,n.width):l&&Ra(l)&&(k=oi(l,n.height)),S!==null&&(!l||nm(l))&&(k=u&&f?S/s*a:n.height),k!==null&&nm(o)&&(S=u&&f?k/a*s:n.width),S!==null&&k!==null)return[S,k];throw new Error("Unable to calculate background-size for element")},fm=function(e,t){var n=e[t];return typeof n>"u"?e[0]:n},Oye=function(e,t,n,s,a){var i=t[0],o=t[1],l=n[0],c=n[1];switch(e){case 2:return[new Lr(Math.round(s.left),Math.round(s.top+o)),new Lr(Math.round(s.left+s.width),Math.round(s.top+o)),new Lr(Math.round(s.left+s.width),Math.round(c+s.top+o)),new Lr(Math.round(s.left),Math.round(c+s.top+o))];case 3:return[new Lr(Math.round(s.left+i),Math.round(s.top)),new Lr(Math.round(s.left+i+l),Math.round(s.top)),new Lr(Math.round(s.left+i+l),Math.round(s.height+s.top)),new Lr(Math.round(s.left+i),Math.round(s.height+s.top))];case 1:return[new Lr(Math.round(s.left+i),Math.round(s.top+o)),new Lr(Math.round(s.left+i+l),Math.round(s.top+o)),new Lr(Math.round(s.left+i+l),Math.round(s.top+o+c)),new Lr(Math.round(s.left+i),Math.round(s.top+o+c))];default:return[new Lr(Math.round(a.left),Math.round(a.top)),new Lr(Math.round(a.left+a.width),Math.round(a.top)),new Lr(Math.round(a.left+a.width),Math.round(a.height+a.top)),new Lr(Math.round(a.left),Math.round(a.height+a.top))]}},Mye="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",rP="Hidden Text",Uye=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,n){var s=this._document.createElement("div"),a=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;s.style.visibility="hidden",s.style.fontFamily=t,s.style.fontSize=n,s.style.margin="0",s.style.padding="0",s.style.whiteSpace="nowrap",o.appendChild(s),a.src=Mye,a.width=1,a.height=1,a.style.margin="0",a.style.padding="0",a.style.verticalAlign="baseline",i.style.fontFamily=t,i.style.fontSize=n,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(rP)),s.appendChild(i),s.appendChild(a);var l=a.offsetTop-i.offsetTop+2;s.removeChild(i),s.appendChild(this._document.createTextNode(rP)),s.style.lineHeight="normal",a.style.verticalAlign="super";var c=a.offsetTop-s.offsetTop+2;return o.removeChild(s),{baseline:l,middle:c}},e.prototype.getMetrics=function(t,n){var s=t+" "+n;return typeof this._data[s]>"u"&&(this._data[s]=this.parseMetrics(t,n)),this._data[s]},e}(),Kz=function(){function e(t,n){this.context=t,this.options=n}return e}(),Qye=1e4,Hye=function(e){Pd(t,e);function t(n,s){var a=e.call(this,n,s)||this;return a._activeEffects=[],a.canvas=s.canvas?s.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),s.canvas||(a.canvas.width=Math.floor(s.width*s.scale),a.canvas.height=Math.floor(s.height*s.scale),a.canvas.style.width=s.width+"px",a.canvas.style.height=s.height+"px"),a.fontMetrics=new Uye(document),a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-s.x,-s.y),a.ctx.textBaseline="bottom",a._activeEffects=[],a.context.logger.debug("Canvas renderer initialized ("+s.width+"x"+s.height+") with scale "+s.scale),a}return t.prototype.applyEffects=function(n){for(var s=this;this._activeEffects.length;)this.popEffect();n.forEach(function(a){return s.applyEffect(a)})},t.prototype.applyEffect=function(n){this.ctx.save(),Eye(n)&&(this.ctx.globalAlpha=n.opacity),Bye(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),Uz(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(n){return gl(this,void 0,void 0,function(){var s;return qo(this,function(a){switch(a.label){case 0:return s=n.element.container.styles,s.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(n){return gl(this,void 0,void 0,function(){return qo(this,function(s){switch(s.label){case 0:if(eo(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return s.sent(),[4,this.renderNodeContent(n)];case 2:s.sent(),s.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(n,s,a){var i=this;if(s===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+a);else{var o=hB(n.text);o.reduce(function(l,c){return i.ctx.fillText(c,l,n.bounds.top+a),l+i.ctx.measureText(c).width},n.bounds.left)}},t.prototype.createFontStyle=function(n){var s=n.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),a=$ye(n.fontFamily).join(", "),i=Kx(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,s,n.fontWeight,i,a].join(" "),a,i]},t.prototype.renderTextNode=function(n,s){return gl(this,void 0,void 0,function(){var a,i,o,l,c,d,u,f,v=this;return qo(this,function(g){return a=this.createFontStyle(s),i=a[0],o=a[1],l=a[2],this.ctx.font=i,this.ctx.direction=s.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",c=this.fontMetrics.getMetrics(o,l),d=c.baseline,u=c.middle,f=s.paintOrder,n.textBounds.forEach(function(w){f.forEach(function(y){switch(y){case 0:v.ctx.fillStyle=ho(s.color),v.renderTextWithLetterSpacing(w,s.letterSpacing,d);var b=s.textShadow;b.length&&w.text.trim().length&&(b.slice(0).reverse().forEach(function(x){v.ctx.shadowColor=ho(x.color),v.ctx.shadowOffsetX=x.offsetX.number*v.options.scale,v.ctx.shadowOffsetY=x.offsetY.number*v.options.scale,v.ctx.shadowBlur=x.blur.number,v.renderTextWithLetterSpacing(w,s.letterSpacing,d)}),v.ctx.shadowColor="",v.ctx.shadowOffsetX=0,v.ctx.shadowOffsetY=0,v.ctx.shadowBlur=0),s.textDecorationLine.length&&(v.ctx.fillStyle=ho(s.textDecorationColor||s.color),s.textDecorationLine.forEach(function(x){switch(x){case 1:v.ctx.fillRect(w.bounds.left,Math.round(w.bounds.top+d),w.bounds.width,1);break;case 2:v.ctx.fillRect(w.bounds.left,Math.round(w.bounds.top),w.bounds.width,1);break;case 3:v.ctx.fillRect(w.bounds.left,Math.ceil(w.bounds.top+u),w.bounds.width,1);break}}));break;case 1:s.webkitTextStrokeWidth&&w.text.trim().length&&(v.ctx.strokeStyle=ho(s.webkitTextStrokeColor),v.ctx.lineWidth=s.webkitTextStrokeWidth,v.ctx.lineJoin=window.chrome?"miter":"round",v.ctx.strokeText(w.text,w.bounds.left,w.bounds.top+d)),v.ctx.strokeStyle="",v.ctx.lineWidth=0,v.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(n,s,a){if(a&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var i=Zy(n),o=Xy(s);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(a,0,0,n.intrinsicWidth,n.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(n){return gl(this,void 0,void 0,function(){var s,a,i,o,l,c,N,N,d,u,f,v,k,g,w,F,y,b,x,N,S,k,F;return qo(this,function($){switch($.label){case 0:this.applyEffects(n.getEffects(4)),s=n.container,a=n.curves,i=s.styles,o=0,l=s.textNodes,$.label=1;case 1:return o<l.length?(c=l[o],[4,this.renderTextNode(c,i)]):[3,4];case 2:$.sent(),$.label=3;case 3:return o++,[3,1];case 4:if(!(s instanceof jz))return[3,8];$.label=5;case 5:return $.trys.push([5,7,,8]),[4,this.context.cache.match(s.src)];case 6:return N=$.sent(),this.renderReplacedElement(s,a,N),[3,8];case 7:return $.sent(),this.context.logger.error("Error loading image "+s.src),[3,8];case 8:if(s instanceof Nz&&this.renderReplacedElement(s,a,s.canvas),!(s instanceof Cz))return[3,12];$.label=9;case 9:return $.trys.push([9,11,,12]),[4,this.context.cache.match(s.svg)];case 10:return N=$.sent(),this.renderReplacedElement(s,a,N),[3,12];case 11:return $.sent(),this.context.logger.error("Error loading svg "+s.svg.substring(0,255)),[3,12];case 12:return s instanceof Ez&&s.tree?(d=new t(this.context,{scale:this.options.scale,backgroundColor:s.backgroundColor,x:0,y:0,width:s.width,height:s.height}),[4,d.render(s.tree)]):[3,14];case 13:u=$.sent(),s.width&&s.height&&this.ctx.drawImage(u,0,0,s.width,s.height,s.bounds.left,s.bounds.top,s.bounds.width,s.bounds.height),$.label=14;case 14:if(s instanceof fB&&(f=Math.min(s.bounds.width,s.bounds.height),s.type===$y?s.checked&&(this.ctx.save(),this.path([new Lr(s.bounds.left+f*.39363,s.bounds.top+f*.79),new Lr(s.bounds.left+f*.16,s.bounds.top+f*.5549),new Lr(s.bounds.left+f*.27347,s.bounds.top+f*.44071),new Lr(s.bounds.left+f*.39694,s.bounds.top+f*.5649),new Lr(s.bounds.left+f*.72983,s.bounds.top+f*.23),new Lr(s.bounds.left+f*.84,s.bounds.top+f*.34085),new Lr(s.bounds.left+f*.39363,s.bounds.top+f*.79)]),this.ctx.fillStyle=ho(zk),this.ctx.fill(),this.ctx.restore()):s.type===Gy&&s.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(s.bounds.left+f/2,s.bounds.top+f/2,f/4,0,Math.PI*2,!0),this.ctx.fillStyle=ho(zk),this.ctx.fill(),this.ctx.restore())),zye(s)&&s.value.length){switch(v=this.createFontStyle(i),k=v[0],g=v[1],w=this.fontMetrics.getMetrics(k,g).baseline,this.ctx.font=k,this.ctx.fillStyle=ho(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Kye(s.styles.textAlign),F=Zy(s),y=0,s.styles.textAlign){case 1:y+=F.width/2;break;case 2:y+=F.width;break}b=F.add(y,0,0,-F.height/2+1),this.ctx.save(),this.path([new Lr(F.left,F.top),new Lr(F.left+F.width,F.top),new Lr(F.left+F.width,F.top+F.height),new Lr(F.left,F.top+F.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Mg(s.value,b),i.letterSpacing,w),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!eo(s.styles.display,2048))return[3,20];if(s.styles.listStyleImage===null)return[3,19];if(x=s.styles.listStyleImage,x.type!==0)return[3,18];N=void 0,S=x.url,$.label=15;case 15:return $.trys.push([15,17,,18]),[4,this.context.cache.match(S)];case 16:return N=$.sent(),this.ctx.drawImage(N,s.bounds.left-(N.width+10),s.bounds.top),[3,18];case 17:return $.sent(),this.context.logger.error("Error loading list-style-image "+S),[3,18];case 18:return[3,20];case 19:n.listValue&&s.styles.listStyleType!==-1&&(k=this.createFontStyle(i)[0],this.ctx.font=k,this.ctx.fillStyle=ho(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",F=new uA(s.bounds.left,s.bounds.top+oi(s.styles.paddingTop,s.bounds.width),s.bounds.width,_k(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Mg(n.listValue,F),i.letterSpacing,_k(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),$.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(n){return gl(this,void 0,void 0,function(){var s,a,x,i,o,x,l,c,x,d,u,x,f,v,x,g,w,x,y,b,x;return qo(this,function(N){switch(N.label){case 0:if(eo(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:N.sent(),s=0,a=n.negativeZIndex,N.label=2;case 2:return s<a.length?(x=a[s],[4,this.renderStack(x)]):[3,5];case 3:N.sent(),N.label=4;case 4:return s++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:N.sent(),i=0,o=n.nonInlineLevel,N.label=7;case 7:return i<o.length?(x=o[i],[4,this.renderNode(x)]):[3,10];case 8:N.sent(),N.label=9;case 9:return i++,[3,7];case 10:l=0,c=n.nonPositionedFloats,N.label=11;case 11:return l<c.length?(x=c[l],[4,this.renderStack(x)]):[3,14];case 12:N.sent(),N.label=13;case 13:return l++,[3,11];case 14:d=0,u=n.nonPositionedInlineLevel,N.label=15;case 15:return d<u.length?(x=u[d],[4,this.renderStack(x)]):[3,18];case 16:N.sent(),N.label=17;case 17:return d++,[3,15];case 18:f=0,v=n.inlineLevel,N.label=19;case 19:return f<v.length?(x=v[f],[4,this.renderNode(x)]):[3,22];case 20:N.sent(),N.label=21;case 21:return f++,[3,19];case 22:g=0,w=n.zeroOrAutoZIndexOrTransformedOrOpacity,N.label=23;case 23:return g<w.length?(x=w[g],[4,this.renderStack(x)]):[3,26];case 24:N.sent(),N.label=25;case 25:return g++,[3,23];case 26:y=0,b=n.positiveZIndex,N.label=27;case 27:return y<b.length?(x=b[y],[4,this.renderStack(x)]):[3,30];case 28:N.sent(),N.label=29;case 29:return y++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},t.prototype.formatPath=function(n){var s=this;n.forEach(function(a,i){var o=Oc(a)?a.start:a;i===0?s.ctx.moveTo(o.x,o.y):s.ctx.lineTo(o.x,o.y),Oc(a)&&s.ctx.bezierCurveTo(a.startControl.x,a.startControl.y,a.endControl.x,a.endControl.y,a.end.x,a.end.y)})},t.prototype.renderRepeat=function(n,s,a,i){this.path(n),this.ctx.fillStyle=s,this.ctx.translate(a,i),this.ctx.fill(),this.ctx.translate(-a,-i)},t.prototype.resizeImage=function(n,s,a){var i;if(n.width===s&&n.height===a)return n;var o=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,l=o.createElement("canvas");l.width=Math.max(1,s),l.height=Math.max(1,a);var c=l.getContext("2d");return c.drawImage(n,0,0,n.width,n.height,0,0,s,a),l},t.prototype.renderBackgroundImage=function(n){return gl(this,void 0,void 0,function(){var s,a,i,o,l,c;return qo(this,function(d){switch(d.label){case 0:s=n.styles.backgroundImage.length-1,a=function(u){var f,v,g,K,de,le,Z,te,D,w,K,de,le,Z,te,y,b,x,N,S,k,F,$,U,D,H,K,B,R,Z,te,ye,de,le,Q,oe,ce,ee,M,E,q,se;return qo(this,function(re){switch(re.label){case 0:if(u.type!==0)return[3,5];f=void 0,v=u.url,re.label=1;case 1:return re.trys.push([1,3,,4]),[4,i.context.cache.match(v)];case 2:return f=re.sent(),[3,4];case 3:return re.sent(),i.context.logger.error("Error loading background-image "+v),[3,4];case 4:return f&&(g=$2(n,s,[f.width,f.height,f.width/f.height]),K=g[0],de=g[1],le=g[2],Z=g[3],te=g[4],D=i.ctx.createPattern(i.resizeImage(f,Z,te),"repeat"),i.renderRepeat(K,D,de,le)),[3,6];case 5:Bxe(u)?(w=$2(n,s,[null,null,null]),K=w[0],de=w[1],le=w[2],Z=w[3],te=w[4],y=jxe(u.angle,Z,te),b=y[0],x=y[1],N=y[2],S=y[3],k=y[4],F=document.createElement("canvas"),F.width=Z,F.height=te,$=F.getContext("2d"),U=$.createLinearGradient(x,S,N,k),Nk(u.stops,b).forEach(function(G){return U.addColorStop(G.stop,ho(G.color))}),$.fillStyle=U,$.fillRect(0,0,Z,te),Z>0&&te>0&&(D=i.ctx.createPattern(F,"repeat"),i.renderRepeat(K,D,de,le))):Exe(u)&&(H=$2(n,s,[null,null,null]),K=H[0],B=H[1],R=H[2],Z=H[3],te=H[4],ye=u.position.length===0?[dB]:u.position,de=oi(ye[0],Z),le=oi(ye[ye.length-1],te),Q=Nxe(u,de,le,Z,te),oe=Q[0],ce=Q[1],oe>0&&ce>0&&(ee=i.ctx.createRadialGradient(B+de,R+le,0,B+de,R+le,oe),Nk(u.stops,oe*2).forEach(function(G){return ee.addColorStop(G.stop,ho(G.color))}),i.path(K),i.ctx.fillStyle=ee,oe!==ce?(M=n.bounds.left+.5*n.bounds.width,E=n.bounds.top+.5*n.bounds.height,q=ce/oe,se=1/q,i.ctx.save(),i.ctx.translate(M,E),i.ctx.transform(1,0,0,q,0,0),i.ctx.translate(-M,-E),i.ctx.fillRect(B,se*(R-E)+E,Z,te*se),i.ctx.restore()):i.ctx.fill())),re.label=6;case 6:return s--,[2]}})},i=this,o=0,l=n.styles.backgroundImage.slice(0).reverse(),d.label=1;case 1:return o<l.length?(c=l[o],[5,a(c)]):[3,4];case 2:d.sent(),d.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(n,s,a){return gl(this,void 0,void 0,function(){return qo(this,function(i){return this.path(tP(a,s)),this.ctx.fillStyle=ho(n),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(n,s,a,i){return gl(this,void 0,void 0,function(){var o,l;return qo(this,function(c){switch(c.label){case 0:return s<3?[4,this.renderSolidBorder(n,a,i)]:[3,2];case 1:return c.sent(),[2];case 2:return o=kye(i,a),this.path(o),this.ctx.fillStyle=ho(n),this.ctx.fill(),l=Pye(i,a),this.path(l),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(n){return gl(this,void 0,void 0,function(){var s,a,i,o,l,c,d,u,f=this;return qo(this,function(v){switch(v.label){case 0:return this.applyEffects(n.getEffects(2)),s=n.container.styles,a=!ih(s.backgroundColor)||s.backgroundImage.length,i=[{style:s.borderTopStyle,color:s.borderTopColor,width:s.borderTopWidth},{style:s.borderRightStyle,color:s.borderRightColor,width:s.borderRightWidth},{style:s.borderBottomStyle,color:s.borderBottomColor,width:s.borderBottomWidth},{style:s.borderLeftStyle,color:s.borderLeftColor,width:s.borderLeftWidth}],o=Vye(fm(s.backgroundClip,0),n.curves),a||s.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),ih(s.backgroundColor)||(this.ctx.fillStyle=ho(s.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:v.sent(),this.ctx.restore(),s.boxShadow.slice(0).reverse().forEach(function(g){f.ctx.save();var w=Yy(n.curves),y=g.inset?0:Qye,b=Iye(w,-y+(g.inset?1:-1)*g.spread.number,(g.inset?1:-1)*g.spread.number,g.spread.number*(g.inset?-2:2),g.spread.number*(g.inset?-2:2));g.inset?(f.path(w),f.ctx.clip(),f.mask(b)):(f.mask(w),f.ctx.clip(),f.path(b)),f.ctx.shadowOffsetX=g.offsetX.number+y,f.ctx.shadowOffsetY=g.offsetY.number,f.ctx.shadowColor=ho(g.color),f.ctx.shadowBlur=g.blur.number,f.ctx.fillStyle=g.inset?ho(g.color):"rgba(0,0,0,1)",f.ctx.fill(),f.ctx.restore()}),v.label=2;case 2:l=0,c=0,d=i,v.label=3;case 3:return c<d.length?(u=d[c],u.style!==0&&!ih(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,l,n.curves,2)]:[3,11]):[3,13];case 4:return v.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,l,n.curves,3)];case 6:return v.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,l,n.curves)];case 8:return v.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,l,n.curves)];case 10:v.sent(),v.label=11;case 11:l++,v.label=12;case 12:return c++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(n,s,a,i,o){return gl(this,void 0,void 0,function(){var l,c,d,u,f,v,g,w,y,b,x,N,S,k,F,$,F,$;return qo(this,function(U){return this.ctx.save(),l=Dye(i,a),c=tP(i,a),o===2&&(this.path(c),this.ctx.clip()),Oc(c[0])?(d=c[0].start.x,u=c[0].start.y):(d=c[0].x,u=c[0].y),Oc(c[1])?(f=c[1].end.x,v=c[1].end.y):(f=c[1].x,v=c[1].y),a===0||a===2?g=Math.abs(d-f):g=Math.abs(u-v),this.ctx.beginPath(),o===3?this.formatPath(l):this.formatPath(c.slice(0,2)),w=s<3?s*3:s*2,y=s<3?s*2:s,o===3&&(w=s,y=s),b=!0,g<=w*2?b=!1:g<=w*2+y?(x=g/(2*w+y),w*=x,y*=x):(N=Math.floor((g+y)/(w+y)),S=(g-N*w)/(N-1),k=(g-(N+1)*w)/N,y=k<=0||Math.abs(y-S)<Math.abs(y-k)?S:k),b&&(o===3?this.ctx.setLineDash([0,w+y]):this.ctx.setLineDash([w,y])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=s):this.ctx.lineWidth=s*2+1.1,this.ctx.strokeStyle=ho(n),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(Oc(c[0])&&(F=c[3],$=c[0],this.ctx.beginPath(),this.formatPath([new Lr(F.end.x,F.end.y),new Lr($.start.x,$.start.y)]),this.ctx.stroke()),Oc(c[1])&&(F=c[1],$=c[2],this.ctx.beginPath(),this.formatPath([new Lr(F.end.x,F.end.y),new Lr($.start.x,$.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(n){return gl(this,void 0,void 0,function(){var s;return qo(this,function(a){switch(a.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ho(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),s=Tye(n),[4,this.renderStack(s)];case 1:return a.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(Kz),zye=function(e){return e instanceof Bz||e instanceof Sz?!0:e instanceof fB&&e.type!==Gy&&e.type!==$y},Vye=function(e,t){switch(e){case 0:return Yy(t);case 2:return Cye(t);case 1:default:return Xy(t)}},Kye=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Wye=["-apple-system","system-ui"],$ye=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return Wye.indexOf(t)===-1}):e},Gye=function(e){Pd(t,e);function t(n,s){var a=e.call(this,n,s)||this;return a.canvas=s.canvas?s.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),a.options=s,a.canvas.width=Math.floor(s.width*s.scale),a.canvas.height=Math.floor(s.height*s.scale),a.canvas.style.width=s.width+"px",a.canvas.style.height=s.height+"px",a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-s.x,-s.y),a.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+s.width+"x"+s.height+" at "+s.x+","+s.y+") with scale "+s.scale),a}return t.prototype.render=function(n){return gl(this,void 0,void 0,function(){var s,a;return qo(this,function(i){switch(i.label){case 0:return s=g5(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,qye(s)];case 1:return a=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ho(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(a,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(Kz),qye=function(e){return new Promise(function(t,n){var s=new Image;s.onload=function(){t(s)},s.onerror=n,s.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Jye=function(){function e(t){var n=t.id,s=t.enabled;this.id=n,this.enabled=s,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Zv([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Zv([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Zv([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Zv([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),Yye=function(){function e(t,n){var s;this.windowBounds=n,this.instanceName="#"+e.instanceCount++,this.logger=new Jye({id:this.instanceName,enabled:t.logging}),this.cache=(s=t.cache)!==null&&s!==void 0?s:new gye(this,t)}return e.instanceCount=1,e}(),vw=function(e,t){return t===void 0&&(t={}),Xye(e,t)};typeof window<"u"&&Mz.setContext(window);var Xye=function(e,t){return gl(void 0,void 0,void 0,function(){var n,s,a,i,o,l,c,d,u,f,v,g,w,y,b,x,N,S,k,F,U,$,U,D,H,K,B,R,Z,te,ye,de,le,Q,oe,ce,ee,M,E,q;return qo(this,function(se){switch(se.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=e.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(s=n.defaultView,!s)throw new Error("Document is not attached to a Window");return a={allowTaint:(D=t.allowTaint)!==null&&D!==void 0?D:!1,imageTimeout:(H=t.imageTimeout)!==null&&H!==void 0?H:15e3,proxy:t.proxy,useCORS:(K=t.useCORS)!==null&&K!==void 0?K:!1},i=r5({logging:(B=t.logging)!==null&&B!==void 0?B:!0,cache:t.cache},a),o={windowWidth:(R=t.windowWidth)!==null&&R!==void 0?R:s.innerWidth,windowHeight:(Z=t.windowHeight)!==null&&Z!==void 0?Z:s.innerHeight,scrollX:(te=t.scrollX)!==null&&te!==void 0?te:s.pageXOffset,scrollY:(ye=t.scrollY)!==null&&ye!==void 0?ye:s.pageYOffset},l=new uA(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),c=new Yye(i,l),d=(de=t.foreignObjectRendering)!==null&&de!==void 0?de:!1,u={allowTaint:(le=t.allowTaint)!==null&&le!==void 0?le:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:d,copyStyles:d},c.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),f=new Xk(c,e,u),v=f.clonedReferenceElement,v?[4,f.toIFrame(n,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return g=se.sent(),w=mB(v)||eye(v)?Ipe(v.ownerDocument):cw(c,v),y=w.width,b=w.height,x=w.left,N=w.top,S=Zye(c,v,t.backgroundColor),k={canvas:t.canvas,backgroundColor:S,scale:(oe=(Q=t.scale)!==null&&Q!==void 0?Q:s.devicePixelRatio)!==null&&oe!==void 0?oe:1,x:((ce=t.x)!==null&&ce!==void 0?ce:0)+x,y:((ee=t.y)!==null&&ee!==void 0?ee:0)+N,width:(M=t.width)!==null&&M!==void 0?M:Math.ceil(y),height:(E=t.height)!==null&&E!==void 0?E:Math.ceil(b)},d?(c.logger.debug("Document cloned, using foreign object rendering"),U=new Gye(c,k),[4,U.render(v)]):[3,3];case 2:return F=se.sent(),[3,5];case 3:return c.logger.debug("Document cloned, element located at "+x+","+N+" with size "+y+"x"+b+" using computed rendering"),c.logger.debug("Starting DOM parsing"),$=Tz(c,v),S===$.styles.backgroundColor&&($.styles.backgroundColor=rA.TRANSPARENT),c.logger.debug("Starting renderer for element at "+k.x+","+k.y+" with size "+k.width+"x"+k.height),U=new Hye(c,k),[4,U.render($)];case 4:F=se.sent(),se.label=5;case 5:return(!((q=t.removeContainer)!==null&&q!==void 0)||q)&&(Xk.destroy(g)||c.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),c.logger.debug("Finished rendering"),[2,F]}})})},Zye=function(e,t,n){var s=t.ownerDocument,a=s.documentElement?Rg(e,getComputedStyle(s.documentElement).backgroundColor):rA.TRANSPARENT,i=s.body?Rg(e,getComputedStyle(s.body).backgroundColor):rA.TRANSPARENT,o=typeof n=="string"?Rg(e,n):n===null?rA.TRANSPARENT:4294967295;return t===s.documentElement?ih(a)?ih(i)?o:i:a:o};const e1e=Object.freeze(Object.defineProperty({__proto__:null,default:vw},Symbol.toStringTag,{value:"Module"})),t1e="modulepreload",r1e=function(e,t){return new URL(e,t).href},nP={},N5=function(t,n,s){let a=Promise.resolve();if(n&&n.length>0){let o=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};const l=document.getElementsByTagName("link"),c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));a=o(n.map(u=>{if(u=r1e(u,s),u in nP)return;nP[u]=!0;const f=u.endsWith(".css"),v=f?'[rel="stylesheet"]':"";if(!!s)for(let y=l.length-1;y>=0;y--){const b=l[y];if(b.href===u&&(!f||b.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${v}`))return;const w=document.createElement("link");if(w.rel=f?"stylesheet":t1e,f||(w.as="script"),w.crossOrigin="",w.href=u,d&&w.setAttribute("nonce",d),document.head.appendChild(w),f)return new Promise((y,b)=>{w.addEventListener("load",y),w.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function Ps(e){"@babel/helpers - typeof";return Ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ps(e)}var Zo=Uint8Array,uc=Uint16Array,pB=Int32Array,yw=new Zo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ww=new Zo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),C5=new Zo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Wz=function(e,t){for(var n=new uc(31),s=0;s<31;++s)n[s]=t+=1<<e[s-1];for(var a=new pB(n[30]),s=1;s<30;++s)for(var i=n[s];i<n[s+1];++i)a[i]=i-n[s]<<5|s;return{b:n,r:a}},$z=Wz(yw,2),Gz=$z.b,_5=$z.r;Gz[28]=258,_5[258]=28;var qz=Wz(ww,0),n1e=qz.b,sP=qz.r,S5=new uc(32768);for(var mi=0;mi<32768;++mi){var LA=(mi&43690)>>1|(mi&21845)<<1;LA=(LA&52428)>>2|(LA&13107)<<2,LA=(LA&61680)>>4|(LA&3855)<<4,S5[mi]=((LA&65280)>>8|(LA&255)<<8)>>1}var mu=function(e,t,n){for(var s=e.length,a=0,i=new uc(t);a<s;++a)e[a]&&++i[e[a]-1];var o=new uc(t);for(a=1;a<t;++a)o[a]=o[a-1]+i[a-1]<<1;var l;if(n){l=new uc(1<<t);var c=15-t;for(a=0;a<s;++a)if(e[a])for(var d=a<<4|e[a],u=t-e[a],f=o[e[a]-1]++<<u,v=f|(1<<u)-1;f<=v;++f)l[S5[f]>>c]=d}else for(l=new uc(s),a=0;a<s;++a)e[a]&&(l[a]=S5[o[e[a]-1]++]>>15-e[a]);return l},xh=new Zo(288);for(var mi=0;mi<144;++mi)xh[mi]=8;for(var mi=144;mi<256;++mi)xh[mi]=9;for(var mi=256;mi<280;++mi)xh[mi]=7;for(var mi=280;mi<288;++mi)xh[mi]=8;var mx=new Zo(32);for(var mi=0;mi<32;++mi)mx[mi]=5;var s1e=mu(xh,9,0),i1e=mu(xh,9,1),a1e=mu(mx,5,0),o1e=mu(mx,5,1),G2=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},ud=function(e,t,n){var s=t/8|0;return(e[s]|e[s+1]<<8)>>(t&7)&n},q2=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},gB=function(e){return(e+7)/8|0},Jz=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new Zo(e.subarray(t,n))},l1e=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],wd=function(e,t,n){var s=new Error(t||l1e[e]);if(s.code=e,Error.captureStackTrace&&Error.captureStackTrace(s,wd),!n)throw s;return s},c1e=function(e,t,n,s){var a=e.length,i=0;if(!a||t.f&&!t.l)return n||new Zo(0);var o=!n,l=o||t.i!=2,c=t.i;o&&(n=new Zo(a*3));var d=function(He){var rt=n.length;if(He>rt){var we=new Zo(Math.max(rt*2,He));we.set(n),n=we}},u=t.f||0,f=t.p||0,v=t.b||0,g=t.l,w=t.d,y=t.m,b=t.n,x=a*8;do{if(!g){u=ud(e,f,1);var N=ud(e,f+1,3);if(f+=3,N)if(N==1)g=i1e,w=o1e,y=9,b=5;else if(N==2){var $=ud(e,f,31)+257,U=ud(e,f+10,15)+4,D=$+ud(e,f+5,31)+1;f+=14;for(var H=new Zo(D),K=new Zo(19),B=0;B<U;++B)K[C5[B]]=ud(e,f+B*3,7);f+=U*3;for(var R=G2(K),Z=(1<<R)-1,te=mu(K,R,1),B=0;B<D;){var ye=te[ud(e,f,Z)];f+=ye&15;var S=ye>>4;if(S<16)H[B++]=S;else{var de=0,le=0;for(S==16?(le=3+ud(e,f,3),f+=2,de=H[B-1]):S==17?(le=3+ud(e,f,7),f+=3):S==18&&(le=11+ud(e,f,127),f+=7);le--;)H[B++]=de}}var Q=H.subarray(0,$),oe=H.subarray($);y=G2(Q),b=G2(oe),g=mu(Q,y,1),w=mu(oe,b,1)}else wd(1);else{var S=gB(f)+4,k=e[S-4]|e[S-3]<<8,F=S+k;if(F>a){c&&wd(0);break}l&&d(v+k),n.set(e.subarray(S,F),v),t.b=v+=k,t.p=f=F*8,t.f=u;continue}if(f>x){c&&wd(0);break}}l&&d(v+131072);for(var ce=(1<<y)-1,ee=(1<<b)-1,M=f;;M=f){var de=g[q2(e,f)&ce],E=de>>4;if(f+=de&15,f>x){c&&wd(0);break}if(de||wd(2),E<256)n[v++]=E;else if(E==256){M=f,g=null;break}else{var q=E-254;if(E>264){var B=E-257,se=yw[B];q=ud(e,f,(1<<se)-1)+Gz[B],f+=se}var re=w[q2(e,f)&ee],G=re>>4;re||wd(3),f+=re&15;var oe=n1e[G];if(G>3){var se=ww[G];oe+=q2(e,f)&(1<<se)-1,f+=se}if(f>x){c&&wd(0);break}l&&d(v+131072);var ue=v+q;if(v<oe){var ie=i-oe,Ee=Math.min(oe,ue);for(ie+v<0&&wd(3);v<Ee;++v)n[v]=s[ie+v]}for(;v<ue;++v)n[v]=n[v-oe]}}t.l=g,t.p=M,t.b=v,t.f=u,g&&(u=1,t.m=y,t.d=w,t.n=b)}while(!u);return v!=n.length&&o?Jz(n,0,v):n.subarray(0,v)},Gu=function(e,t,n){n<<=t&7;var s=t/8|0;e[s]|=n,e[s+1]|=n>>8},Xp=function(e,t,n){n<<=t&7;var s=t/8|0;e[s]|=n,e[s+1]|=n>>8,e[s+2]|=n>>16},J2=function(e,t){for(var n=[],s=0;s<e.length;++s)e[s]&&n.push({s,f:e[s]});var a=n.length,i=n.slice();if(!a)return{t:Xz,l:0};if(a==1){var o=new Zo(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(F,$){return F.f-$.f}),n.push({s:-1,f:25001});var l=n[0],c=n[1],d=0,u=1,f=2;for(n[0]={s:-1,f:l.f+c.f,l,r:c};u!=a-1;)l=n[n[d].f<n[f].f?d++:f++],c=n[d!=u&&n[d].f<n[f].f?d++:f++],n[u++]={s:-1,f:l.f+c.f,l,r:c};for(var v=i[0].s,s=1;s<a;++s)i[s].s>v&&(v=i[s].s);var g=new uc(v+1),w=B5(n[u-1],g,0);if(w>t){var s=0,y=0,b=w-t,x=1<<b;for(i.sort(function($,U){return g[U.s]-g[$.s]||$.f-U.f});s<a;++s){var N=i[s].s;if(g[N]>t)y+=x-(1<<w-g[N]),g[N]=t;else break}for(y>>=b;y>0;){var S=i[s].s;g[S]<t?y-=1<<t-g[S]++-1:++s}for(;s>=0&&y;--s){var k=i[s].s;g[k]==t&&(--g[k],++y)}w=t}return{t:new Zo(g),l:w}},B5=function(e,t,n){return e.s==-1?Math.max(B5(e.l,t,n+1),B5(e.r,t,n+1)):t[e.s]=n},iP=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new uc(++t),s=0,a=e[0],i=1,o=function(c){n[s++]=c},l=1;l<=t;++l)if(e[l]==a&&l!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=e[l]}return{c:n.subarray(0,s),n:t}},Zp=function(e,t){for(var n=0,s=0;s<t.length;++s)n+=e[s]*t[s];return n},Yz=function(e,t,n){var s=n.length,a=gB(t+2);e[a]=s&255,e[a+1]=s>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<s;++i)e[a+i+4]=n[i];return(a+4+s)*8},aP=function(e,t,n,s,a,i,o,l,c,d,u){Gu(t,u++,n),++a[256];for(var f=J2(a,15),v=f.t,g=f.l,w=J2(i,15),y=w.t,b=w.l,x=iP(v),N=x.c,S=x.n,k=iP(y),F=k.c,$=k.n,U=new uc(19),D=0;D<N.length;++D)++U[N[D]&31];for(var D=0;D<F.length;++D)++U[F[D]&31];for(var H=J2(U,7),K=H.t,B=H.l,R=19;R>4&&!K[C5[R-1]];--R);var Z=d+5<<3,te=Zp(a,xh)+Zp(i,mx)+o,ye=Zp(a,v)+Zp(i,y)+o+14+3*R+Zp(U,K)+2*U[16]+3*U[17]+7*U[18];if(c>=0&&Z<=te&&Z<=ye)return Yz(t,u,e.subarray(c,c+d));var de,le,Q,oe;if(Gu(t,u,1+(ye<te)),u+=2,ye<te){de=mu(v,g,0),le=v,Q=mu(y,b,0),oe=y;var ce=mu(K,B,0);Gu(t,u,S-257),Gu(t,u+5,$-1),Gu(t,u+10,R-4),u+=14;for(var D=0;D<R;++D)Gu(t,u+3*D,K[C5[D]]);u+=3*R;for(var ee=[N,F],M=0;M<2;++M)for(var E=ee[M],D=0;D<E.length;++D){var q=E[D]&31;Gu(t,u,ce[q]),u+=K[q],q>15&&(Gu(t,u,E[D]>>5&127),u+=E[D]>>12)}}else de=s1e,le=xh,Q=a1e,oe=mx;for(var D=0;D<l;++D){var se=s[D];if(se>255){var q=se>>18&31;Xp(t,u,de[q+257]),u+=le[q+257],q>7&&(Gu(t,u,se>>23&31),u+=yw[q]);var re=se&31;Xp(t,u,Q[re]),u+=oe[re],re>3&&(Xp(t,u,se>>5&8191),u+=ww[re])}else Xp(t,u,de[se]),u+=le[se]}return Xp(t,u,de[256]),u+le[256]},d1e=new pB([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Xz=new Zo(0),u1e=function(e,t,n,s,a,i){var o=i.z||e.length,l=new Zo(s+o+5*(1+Math.ceil(o/7e3))+a),c=l.subarray(s,l.length-a),d=i.l,u=(i.r||0)&7;if(t){u&&(c[0]=i.r>>3);for(var f=d1e[t-1],v=f>>13,g=f&8191,w=(1<<n)-1,y=i.p||new uc(32768),b=i.h||new uc(w+1),x=Math.ceil(n/3),N=2*x,S=function(Ve){return(e[Ve]^e[Ve+1]<<x^e[Ve+2]<<N)&w},k=new pB(25e3),F=new uc(288),$=new uc(32),U=0,D=0,H=i.i||0,K=0,B=i.w||0,R=0;H+2<o;++H){var Z=S(H),te=H&32767,ye=b[Z];if(y[te]=ye,b[Z]=te,B<=H){var de=o-H;if((U>7e3||K>24576)&&(de>423||!d)){u=aP(e,c,0,k,F,$,D,K,R,H-R,u),K=U=D=0,R=H;for(var le=0;le<286;++le)F[le]=0;for(var le=0;le<30;++le)$[le]=0}var Q=2,oe=0,ce=g,ee=te-ye&32767;if(de>2&&Z==S(H-ee))for(var M=Math.min(v,de)-1,E=Math.min(32767,H),q=Math.min(258,de);ee<=E&&--ce&&te!=ye;){if(e[H+Q]==e[H+Q-ee]){for(var se=0;se<q&&e[H+se]==e[H+se-ee];++se);if(se>Q){if(Q=se,oe=ee,se>M)break;for(var re=Math.min(ee,se-2),G=0,le=0;le<re;++le){var ue=H-ee+le&32767,ie=y[ue],Ee=ue-ie&32767;Ee>G&&(G=Ee,ye=ue)}}}te=ye,ye=y[te],ee+=te-ye&32767}if(oe){k[K++]=268435456|_5[Q]<<18|sP[oe];var He=_5[Q]&31,rt=sP[oe]&31;D+=yw[He]+ww[rt],++F[257+He],++$[rt],B=H+Q,++U}else k[K++]=e[H],++F[e[H]]}}for(H=Math.max(H,B);H<o;++H)k[K++]=e[H],++F[e[H]];u=aP(e,c,d,k,F,$,D,K,R,H-R,u),d||(i.r=u&7|c[u/8|0]<<3,u-=7,i.h=b,i.p=y,i.i=H,i.w=B)}else{for(var H=i.w||0;H<o+d;H+=65535){var we=H+65535;we>=o&&(c[u/8|0]=d,we=o),u=Yz(c,u+1,e.subarray(H,we))}i.i=o}return Jz(l,0,s+gB(u)+a)},Zz=function(){var e=1,t=0;return{p:function(n){for(var s=e,a=t,i=n.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)a+=s+=n[o];s=(s&65535)+15*(s>>16),a=(a&65535)+15*(a>>16)}e=s,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},A1e=function(e,t,n,s,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new Zo(i.length+e.length);o.set(i),o.set(e,i.length),e=o,a.w=i.length}return u1e(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,s,a)},eV=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},h1e=function(e,t){var n=t.level,s=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=s<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=Zz();a.p(t.dictionary),eV(e,2,a.d())}},f1e=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&wd(6,"invalid zlib data"),(e[1]>>5&1)==1&&wd(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function E5(e,t){t||(t={});var n=Zz();n.p(e);var s=A1e(e,t,t.dictionary?6:2,4);return h1e(s,t),eV(s,s.length-4,n.d()),s}function m1e(e,t){return c1e(e.subarray(f1e(e),-4),{i:2},t,t)}var p1e=typeof TextDecoder<"u"&&new TextDecoder,g1e=0;try{p1e.decode(Xz,{stream:!0}),g1e=1}catch{}var Sn=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Y2(){Sn.console&&typeof Sn.console.log=="function"&&Sn.console.log.apply(Sn.console,arguments)}var ti={log:Y2,warn:function(e){Sn.console&&(typeof Sn.console.warn=="function"?Sn.console.warn.apply(Sn.console,arguments):Y2.call(null,arguments))},error:function(e){Sn.console&&(typeof Sn.console.error=="function"?Sn.console.error.apply(Sn.console,arguments):Y2(e))}};function X2(e,t,n){var s=new XMLHttpRequest;s.open("GET",e),s.responseType="blob",s.onload=function(){Yh(s.response,t,n)},s.onerror=function(){ti.error("could not download file")},s.send()}function oP(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function b0(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Qg,I5,Yh=Sn.saveAs||((typeof window>"u"?"undefined":Ps(window))!=="object"||window!==Sn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var s=Sn.URL||Sn.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?oP(a.href)?X2(e,t,n):b0(a,a.target="_blank"):b0(a)):(a.href=s.createObjectURL(e),setTimeout(function(){s.revokeObjectURL(a.href)},4e4),setTimeout(function(){b0(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(oP(e))X2(e,t,n);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout(function(){b0(s)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:Ps(i)!=="object"&&(ti.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,n),t)}:function(e,t,n,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),typeof e=="string")return X2(e,t,n);var a=e.type==="application/octet-stream",i=/constructor/i.test(Sn.HTMLElement)||Sn.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":Ps(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var u=l.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=u:location=u,s=null},l.readAsDataURL(e)}else{var c=Sn.URL||Sn.webkitURL,d=c.createObjectURL(e);s?s.location=d:location.href=d,s=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function tV(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],s=0;s<n.length;s++){var a=n[s].re,i=n[s].process,o=a.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Z2(e,t){var n=e[0],s=e[1],a=e[2],i=e[3];n=Ko(n,s,a,i,t[0],7,-680876936),i=Ko(i,n,s,a,t[1],12,-389564586),a=Ko(a,i,n,s,t[2],17,606105819),s=Ko(s,a,i,n,t[3],22,-1044525330),n=Ko(n,s,a,i,t[4],7,-176418897),i=Ko(i,n,s,a,t[5],12,1200080426),a=Ko(a,i,n,s,t[6],17,-1473231341),s=Ko(s,a,i,n,t[7],22,-45705983),n=Ko(n,s,a,i,t[8],7,1770035416),i=Ko(i,n,s,a,t[9],12,-1958414417),a=Ko(a,i,n,s,t[10],17,-42063),s=Ko(s,a,i,n,t[11],22,-1990404162),n=Ko(n,s,a,i,t[12],7,1804603682),i=Ko(i,n,s,a,t[13],12,-40341101),a=Ko(a,i,n,s,t[14],17,-1502002290),n=Wo(n,s=Ko(s,a,i,n,t[15],22,1236535329),a,i,t[1],5,-165796510),i=Wo(i,n,s,a,t[6],9,-1069501632),a=Wo(a,i,n,s,t[11],14,643717713),s=Wo(s,a,i,n,t[0],20,-373897302),n=Wo(n,s,a,i,t[5],5,-701558691),i=Wo(i,n,s,a,t[10],9,38016083),a=Wo(a,i,n,s,t[15],14,-660478335),s=Wo(s,a,i,n,t[4],20,-405537848),n=Wo(n,s,a,i,t[9],5,568446438),i=Wo(i,n,s,a,t[14],9,-1019803690),a=Wo(a,i,n,s,t[3],14,-187363961),s=Wo(s,a,i,n,t[8],20,1163531501),n=Wo(n,s,a,i,t[13],5,-1444681467),i=Wo(i,n,s,a,t[2],9,-51403784),a=Wo(a,i,n,s,t[7],14,1735328473),n=$o(n,s=Wo(s,a,i,n,t[12],20,-1926607734),a,i,t[5],4,-378558),i=$o(i,n,s,a,t[8],11,-2022574463),a=$o(a,i,n,s,t[11],16,1839030562),s=$o(s,a,i,n,t[14],23,-35309556),n=$o(n,s,a,i,t[1],4,-1530992060),i=$o(i,n,s,a,t[4],11,1272893353),a=$o(a,i,n,s,t[7],16,-155497632),s=$o(s,a,i,n,t[10],23,-1094730640),n=$o(n,s,a,i,t[13],4,681279174),i=$o(i,n,s,a,t[0],11,-358537222),a=$o(a,i,n,s,t[3],16,-722521979),s=$o(s,a,i,n,t[6],23,76029189),n=$o(n,s,a,i,t[9],4,-640364487),i=$o(i,n,s,a,t[12],11,-421815835),a=$o(a,i,n,s,t[15],16,530742520),n=Go(n,s=$o(s,a,i,n,t[2],23,-995338651),a,i,t[0],6,-198630844),i=Go(i,n,s,a,t[7],10,1126891415),a=Go(a,i,n,s,t[14],15,-1416354905),s=Go(s,a,i,n,t[5],21,-57434055),n=Go(n,s,a,i,t[12],6,1700485571),i=Go(i,n,s,a,t[3],10,-1894986606),a=Go(a,i,n,s,t[10],15,-1051523),s=Go(s,a,i,n,t[1],21,-2054922799),n=Go(n,s,a,i,t[8],6,1873313359),i=Go(i,n,s,a,t[15],10,-30611744),a=Go(a,i,n,s,t[6],15,-1560198380),s=Go(s,a,i,n,t[13],21,1309151649),n=Go(n,s,a,i,t[4],6,-145523070),i=Go(i,n,s,a,t[11],10,-1120210379),a=Go(a,i,n,s,t[2],15,718787259),s=Go(s,a,i,n,t[9],21,-343485551),e[0]=eh(n,e[0]),e[1]=eh(s,e[1]),e[2]=eh(a,e[2]),e[3]=eh(i,e[3])}function bw(e,t,n,s,a,i){return t=eh(eh(t,e),eh(s,i)),eh(t<<a|t>>>32-a,n)}function Ko(e,t,n,s,a,i,o){return bw(t&n|~t&s,e,t,a,i,o)}function Wo(e,t,n,s,a,i,o){return bw(t&s|n&~s,e,t,a,i,o)}function $o(e,t,n,s,a,i,o){return bw(t^n^s,e,t,a,i,o)}function Go(e,t,n,s,a,i,o){return bw(n^(t|~s),e,t,a,i,o)}function rV(e){var t,n=e.length,s=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Z2(s,x1e(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(Z2(s,a),t=0;t<16;t++)a[t]=0;return a[14]=8*n,Z2(s,a),s}function x1e(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}Qg=Sn.atob.bind(Sn),I5=Sn.btoa.bind(Sn);var lP="0123456789abcdef".split("");function v1e(e){for(var t="",n=0;n<4;n++)t+=lP[e>>8*n+4&15]+lP[e>>8*n&15];return t}function y1e(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function T5(e){return rV(e).map(y1e).join("")}var w1e=function(e){for(var t=0;t<e.length;t++)e[t]=v1e(e[t]);return e.join("")}(rV("hello"))!="5d41402abc4b2a76b9719d911017c592";function eh(e,t){if(w1e){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function k5(e,t){var n,s,a,i;if(e!==n){for(var o=(a=e,i=1+(256/e.length>>0),new Array(i+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var u=l[c];d=(d+u+o.charCodeAt(c))%256,l[c]=l[d],l[d]=u}n=e,s=l}else l=s;var f=t.length,v=0,g=0,w="";for(c=0;c<f;c++)g=(g+(u=l[v=(v+1)%256]))%256,l[v]=l[g],l[g]=u,o=l[(l[v]+l[g])%256],w+=String.fromCharCode(t.charCodeAt(c)^o);return w}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var cP={print:4,modify:8,copy:16,"annot-forms":32};function mm(e,t,n,s){this.v=1,this.r=2;var a=192;e.forEach(function(l){if(cP.perm!==void 0)throw new Error("Invalid permission: "+l);a+=cP[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=T5(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(s)).substr(0,5),this.U=k5(this.encryptionKey,this.padding)}function pm(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,s=0;s<n;s++){var a=e.charCodeAt(s);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[s]}return t}function dP(e){if(Ps(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,s,a){if(a=a||!1,typeof n!="string"||typeof s!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var i=Math.random().toString(35);return t[n][i]=[s,!!a],i},this.unsubscribe=function(n){for(var s in t)if(t[s][n])return delete t[s][n],Object.keys(t[s]).length===0&&delete t[s],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var s=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[n]){var o=t[n][i];try{o[0].apply(e,s)}catch(l){Sn.console&&ti.error("jsPDF PubSub Error",l.message,l)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function e1(e){if(!(this instanceof e1))return new e1(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function nV(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function rf(e,t,n,s,a){if(!(this instanceof rf))return new rf(e,t,n,s,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,nV.call(this,s,a)}function jm(e,t,n,s,a){if(!(this instanceof jm))return new jm(e,t,n,s,a);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,nV.call(this,s,a)}function gn(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",s=arguments[1],a=arguments[2],i=arguments[3],o=[],l=1,c=16,d="S",u=null;Ps(e=e||{})==="object"&&(n=e.orientation,s=e.unit||s,a=e.format||a,i=e.compress||e.compressPdf||i,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),d=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),s=s||"mm",n=(""+(n||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,v={},g={internal:{},__private__:{}};g.__private__.PubSub=dP;var w="1.3",y=g.__private__.getPdfVersion=function(){return w};g.__private__.setPdfVersion=function(O){w=O};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return b};var x=g.__private__.getPageFormat=function(O){return b[O]};a=a||"a4";var N={COMPAT:"compat",ADVANCED:"advanced"},S=N.COMPAT;function k(){this.saveGraphicsState(),je(new Rt(Ue,0,0,-Ue,0,xc()*Ue).toString()+" cm"),this.setFontSize(this.getFontSize()/Ue),d="n",S=N.ADVANCED}function F(){this.restoreGraphicsState(),d="S",S=N.COMPAT}var $=g.__private__.combineFontStyleAndFontWeight=function(O,pe){if(O=="bold"&&pe=="normal"||O=="bold"&&pe==400||O=="normal"&&pe=="italic"||O=="bold"&&pe=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return pe&&(O=pe==400||pe==="normal"?O==="italic"?"italic":"normal":pe!=700&&pe!=="bold"||O!=="normal"?(pe==700?"bold":pe)+""+O:"bold"),O};g.advancedAPI=function(O){var pe=S===N.COMPAT;return pe&&k.call(this),typeof O!="function"||(O(this),pe&&F.call(this)),this},g.compatAPI=function(O){var pe=S===N.ADVANCED;return pe&&F.call(this),typeof O!="function"||(O(this),pe&&k.call(this)),this},g.isAdvancedAPI=function(){return S===N.ADVANCED};var U,D=function(O){if(S!==N.ADVANCED)throw new Error(O+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},H=g.roundToPrecision=g.__private__.roundToPrecision=function(O,pe){var De=t||pe;if(isNaN(O)||isNaN(De))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return O.toFixed(De).replace(/0+$/,"")};U=g.hpf=g.__private__.hpf=typeof c=="number"?function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return H(O,c)}:c==="smart"?function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return H(O,O>-1&&O<1?16:5)}:function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return H(O,16)};var K=g.f2=g.__private__.f2=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.f2");return H(O,2)},B=g.__private__.f3=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.f3");return H(O,3)},R=g.scale=g.__private__.scale=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.scale");return S===N.COMPAT?O*Ue:S===N.ADVANCED?O:void 0},Z=function(O){return S===N.COMPAT?xc()-O:S===N.ADVANCED?O:void 0},te=function(O){return R(Z(O))};g.__private__.setPrecision=g.setPrecision=function(O){typeof parseInt(O,10)=="number"&&(t=parseInt(O,10))};var ye,de="00000000000000000000000000000000",le=g.__private__.getFileId=function(){return de},Q=g.__private__.setFileId=function(O){return de=O!==void 0&&/^[a-fA-F0-9]{32}$/.test(O)?O.toUpperCase():de.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(as=new mm(u.userPermissions,u.userPassword,u.ownerPassword,de)),de};g.setFileId=function(O){return Q(O),this},g.getFileId=function(){return le()};var oe=g.__private__.convertDateToPDFDate=function(O){var pe=O.getTimezoneOffset(),De=pe<0?"+":"-",qe=Math.floor(Math.abs(pe/60)),ft=Math.abs(pe%60),Dt=[De,q(qe),"'",q(ft),"'"].join("");return["D:",O.getFullYear(),q(O.getMonth()+1),q(O.getDate()),q(O.getHours()),q(O.getMinutes()),q(O.getSeconds()),Dt].join("")},ce=g.__private__.convertPDFDateToDate=function(O){var pe=parseInt(O.substr(2,4),10),De=parseInt(O.substr(6,2),10)-1,qe=parseInt(O.substr(8,2),10),ft=parseInt(O.substr(10,2),10),Dt=parseInt(O.substr(12,2),10),Zt=parseInt(O.substr(14,2),10);return new Date(pe,De,qe,ft,Dt,Zt,0)},ee=g.__private__.setCreationDate=function(O){var pe;if(O===void 0&&(O=new Date),O instanceof Date)pe=oe(O);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(O))throw new Error("Invalid argument passed to jsPDF.setCreationDate");pe=O}return ye=pe},M=g.__private__.getCreationDate=function(O){var pe=ye;return O==="jsDate"&&(pe=ce(ye)),pe};g.setCreationDate=function(O){return ee(O),this},g.getCreationDate=function(O){return M(O)};var E,q=g.__private__.padd2=function(O){return("0"+parseInt(O)).slice(-2)},se=g.__private__.padd2Hex=function(O){return("00"+(O=O.toString())).substr(O.length)},re=0,G=[],ue=[],ie=0,Ee=[],He=[],rt=!1,we=ue,Ve=function(){re=0,ie=0,ue=[],G=[],Ee=[],is=Gt(),en=Gt()};g.__private__.setCustomOutputDestination=function(O){rt=!0,we=O};var Re=function(O){rt||(we=O)};g.__private__.resetCustomOutputDestination=function(){rt=!1,we=ue};var je=g.__private__.out=function(O){return O=O.toString(),ie+=O.length+1,we.push(O),we},Mt=g.__private__.write=function(O){return je(arguments.length===1?O.toString():Array.prototype.join.call(arguments," "))},Bt=g.__private__.getArrayBuffer=function(O){for(var pe=O.length,De=new ArrayBuffer(pe),qe=new Uint8Array(De);pe--;)qe[pe]=O.charCodeAt(pe);return De},ct=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return ct};var vt=e.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(O){return vt=S===N.ADVANCED?O/Ue:O,this};var wt,Fe=g.__private__.getFontSize=g.getFontSize=function(){return S===N.COMPAT?vt:vt*Ue},Oe=e.R2L||!1;g.__private__.setR2L=g.setR2L=function(O){return Oe=O,this},g.__private__.getR2L=g.getR2L=function(){return Oe};var _e,nt=g.__private__.setZoomMode=function(O){var pe=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(O))wt=O;else if(isNaN(O)){if(pe.indexOf(O)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+O+'" is not recognized.');wt=O}else wt=parseInt(O,10)};g.__private__.getZoomMode=function(){return wt};var ut,jt=g.__private__.setPageMode=function(O){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(O)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+O+'" is not recognized.');_e=O};g.__private__.getPageMode=function(){return _e};var zt=g.__private__.setLayoutMode=function(O){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(O)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+O+'" is not recognized.');ut=O};g.__private__.getLayoutMode=function(){return ut},g.__private__.setDisplayMode=g.setDisplayMode=function(O,pe,De){return nt(O),zt(pe),jt(De),this};var Be={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(O){if(Object.keys(Be).indexOf(O)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Be[O]},g.__private__.getDocumentProperties=function(){return Be},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(O){for(var pe in Be)Be.hasOwnProperty(pe)&&O[pe]&&(Be[pe]=O[pe]);return this},g.__private__.setDocumentProperty=function(O,pe){if(Object.keys(Be).indexOf(O)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Be[O]=pe};var Ye,Ue,Lt,Et,hr,ur={},Cr={},Tr=[],fr={},dr={},Ke={},qt={},Ge=null,st=0,it=[],Pt=new dP(g),_r=e.hotfixes||[],ot={},dt={},er=[],Rt=function O(pe,De,qe,ft,Dt,Zt){if(!(this instanceof O))return new O(pe,De,qe,ft,Dt,Zt);isNaN(pe)&&(pe=1),isNaN(De)&&(De=0),isNaN(qe)&&(qe=0),isNaN(ft)&&(ft=1),isNaN(Dt)&&(Dt=0),isNaN(Zt)&&(Zt=0),this._matrix=[pe,De,qe,ft,Dt,Zt]};Object.defineProperty(Rt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(O){this._matrix[0]=O}}),Object.defineProperty(Rt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(O){this._matrix[1]=O}}),Object.defineProperty(Rt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(O){this._matrix[2]=O}}),Object.defineProperty(Rt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(O){this._matrix[3]=O}}),Object.defineProperty(Rt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(O){this._matrix[4]=O}}),Object.defineProperty(Rt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(O){this._matrix[5]=O}}),Object.defineProperty(Rt.prototype,"a",{get:function(){return this._matrix[0]},set:function(O){this._matrix[0]=O}}),Object.defineProperty(Rt.prototype,"b",{get:function(){return this._matrix[1]},set:function(O){this._matrix[1]=O}}),Object.defineProperty(Rt.prototype,"c",{get:function(){return this._matrix[2]},set:function(O){this._matrix[2]=O}}),Object.defineProperty(Rt.prototype,"d",{get:function(){return this._matrix[3]},set:function(O){this._matrix[3]=O}}),Object.defineProperty(Rt.prototype,"e",{get:function(){return this._matrix[4]},set:function(O){this._matrix[4]=O}}),Object.defineProperty(Rt.prototype,"f",{get:function(){return this._matrix[5]},set:function(O){this._matrix[5]=O}}),Object.defineProperty(Rt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Rt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Rt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Rt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Rt.prototype.join=function(O){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(U).join(O)},Rt.prototype.multiply=function(O){var pe=O.sx*this.sx+O.shy*this.shx,De=O.sx*this.shy+O.shy*this.sy,qe=O.shx*this.sx+O.sy*this.shx,ft=O.shx*this.shy+O.sy*this.sy,Dt=O.tx*this.sx+O.ty*this.shx+this.tx,Zt=O.tx*this.shy+O.ty*this.sy+this.ty;return new Rt(pe,De,qe,ft,Dt,Zt)},Rt.prototype.decompose=function(){var O=this.sx,pe=this.shy,De=this.shx,qe=this.sy,ft=this.tx,Dt=this.ty,Zt=Math.sqrt(O*O+pe*pe),Sr=(O/=Zt)*De+(pe/=Zt)*qe;De-=O*Sr,qe-=pe*Sr;var Or=Math.sqrt(De*De+qe*qe);return Sr/=Or,O*(qe/=Or)<pe*(De/=Or)&&(O=-O,pe=-pe,Sr=-Sr,Zt=-Zt),{scale:new Rt(Zt,0,0,Or,0,0),translate:new Rt(1,0,0,1,ft,Dt),rotate:new Rt(O,pe,-pe,O,0,0),skew:new Rt(1,0,Sr,1,0,0)}},Rt.prototype.toString=function(O){return this.join(" ")},Rt.prototype.inversed=function(){var O=this.sx,pe=this.shy,De=this.shx,qe=this.sy,ft=this.tx,Dt=this.ty,Zt=1/(O*qe-pe*De),Sr=qe*Zt,Or=-pe*Zt,Bn=-De*Zt,_n=O*Zt;return new Rt(Sr,Or,Bn,_n,-Sr*ft-Bn*Dt,-Or*ft-_n*Dt)},Rt.prototype.applyToPoint=function(O){var pe=O.x*this.sx+O.y*this.shx+this.tx,De=O.x*this.shy+O.y*this.sy+this.ty;return new sl(pe,De)},Rt.prototype.applyToRectangle=function(O){var pe=this.applyToPoint(O),De=this.applyToPoint(new sl(O.x+O.w,O.y+O.h));return new $a(pe.x,pe.y,De.x-pe.x,De.y-pe.y)},Rt.prototype.clone=function(){var O=this.sx,pe=this.shy,De=this.shx,qe=this.sy,ft=this.tx,Dt=this.ty;return new Rt(O,pe,De,qe,ft,Dt)},g.Matrix=Rt;var xn=g.matrixMult=function(O,pe){return pe.multiply(O)},qr=new Rt(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=qr;var vn=function(O,pe){if(!dr[O]){var De=(pe instanceof rf?"Sh":"P")+(Object.keys(fr).length+1).toString(10);pe.id=De,dr[O]=De,fr[De]=pe,Pt.publish("addPattern",pe)}};g.ShadingPattern=rf,g.TilingPattern=jm,g.addShadingPattern=function(O,pe){return D("addShadingPattern()"),vn(O,pe),this},g.beginTilingPattern=function(O){D("beginTilingPattern()"),ku(O.boundingBox[0],O.boundingBox[1],O.boundingBox[2]-O.boundingBox[0],O.boundingBox[3]-O.boundingBox[1],O.matrix)},g.endTilingPattern=function(O,pe){D("endTilingPattern()"),pe.stream=He[E].join(`
`),vn(O,pe),Pt.publish("endTilingPattern",pe),er.pop().restore()};var Er=g.__private__.newObject=function(){var O=Gt();return kn(O,!0),O},Gt=g.__private__.newObjectDeferred=function(){return re++,G[re]=function(){return ie},re},kn=function(O,pe){return pe=typeof pe=="boolean"&&pe,G[O]=ie,pe&&je(O+" 0 obj"),O},ps=g.__private__.newAdditionalObject=function(){var O={objId:Gt(),content:""};return Ee.push(O),O},is=Gt(),en=Gt(),ws=g.__private__.decodeColorString=function(O){var pe=O.split(" ");if(pe.length!==2||pe[1]!=="g"&&pe[1]!=="G")pe.length===5&&(pe[4]==="k"||pe[4]==="K")&&(pe=[(1-pe[0])*(1-pe[3]),(1-pe[1])*(1-pe[3]),(1-pe[2])*(1-pe[3]),"r"]);else{var De=parseFloat(pe[0]);pe=[De,De,De,"r"]}for(var qe="#",ft=0;ft<3;ft++)qe+=("0"+Math.floor(255*parseFloat(pe[ft])).toString(16)).slice(-2);return qe},Pn=g.__private__.encodeColorString=function(O){var pe;typeof O=="string"&&(O={ch1:O});var De=O.ch1,qe=O.ch2,ft=O.ch3,Dt=O.ch4,Zt=O.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof De=="string"&&De.charAt(0)!=="#"){var Sr=new tV(De);if(Sr.ok)De=Sr.toHex();else if(!/^\d*\.?\d*$/.test(De))throw new Error('Invalid color "'+De+'" passed to jsPDF.encodeColorString.')}if(typeof De=="string"&&/^#[0-9A-Fa-f]{3}$/.test(De)&&(De="#"+De[1]+De[1]+De[2]+De[2]+De[3]+De[3]),typeof De=="string"&&/^#[0-9A-Fa-f]{6}$/.test(De)){var Or=parseInt(De.substr(1),16);De=Or>>16&255,qe=Or>>8&255,ft=255&Or}if(qe===void 0||Dt===void 0&&De===qe&&qe===ft)if(typeof De=="string")pe=De+" "+Zt[0];else switch(O.precision){case 2:pe=K(De/255)+" "+Zt[0];break;case 3:default:pe=B(De/255)+" "+Zt[0]}else if(Dt===void 0||Ps(Dt)==="object"){if(Dt&&!isNaN(Dt.a)&&Dt.a===0)return pe=["1.","1.","1.",Zt[1]].join(" ");if(typeof De=="string")pe=[De,qe,ft,Zt[1]].join(" ");else switch(O.precision){case 2:pe=[K(De/255),K(qe/255),K(ft/255),Zt[1]].join(" ");break;default:case 3:pe=[B(De/255),B(qe/255),B(ft/255),Zt[1]].join(" ")}}else if(typeof De=="string")pe=[De,qe,ft,Dt,Zt[2]].join(" ");else switch(O.precision){case 2:pe=[K(De),K(qe),K(ft),K(Dt),Zt[2]].join(" ");break;case 3:default:pe=[B(De),B(qe),B(ft),B(Dt),Zt[2]].join(" ")}return pe},qn=g.__private__.getFilters=function(){return o},Zn=g.__private__.putStream=function(O){var pe=(O=O||{}).data||"",De=O.filters||qn(),qe=O.alreadyAppliedFilters||[],ft=O.addLength1||!1,Dt=pe.length,Zt=O.objectId,Sr=function(Ia){return Ia};if(u!==null&&Zt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Sr=as.encryptor(Zt,0));var Or={};De===!0&&(De=["FlateEncode"]);var Bn=O.additionalKeyValues||[],_n=(Or=gn.API.processDataByFilters!==void 0?gn.API.processDataByFilters(pe,De):{data:pe,reverseChain:[]}).reverseChain+(Array.isArray(qe)?qe.join(" "):qe.toString());if(Or.data.length!==0&&(Bn.push({key:"Length",value:Or.data.length}),ft===!0&&Bn.push({key:"Length1",value:Dt})),_n.length!=0)if(_n.split("/").length-1==1)Bn.push({key:"Filter",value:_n});else{Bn.push({key:"Filter",value:"["+_n+"]"});for(var es=0;es<Bn.length;es+=1)if(Bn[es].key==="DecodeParms"){for(var zs=[],$s=0;$s<Or.reverseChain.split("/").length-1;$s+=1)zs.push("null");zs.push(Bn[es].value),Bn[es].value="["+zs.join(" ")+"]"}}je("<<");for(var vi=0;vi<Bn.length;vi++)je("/"+Bn[vi].key+" "+Bn[vi].value);je(">>"),Or.data.length!==0&&(je("stream"),je(Sr(Or.data)),je("endstream"))},Ln=g.__private__.putPage=function(O){var pe=O.number,De=O.data,qe=O.objId,ft=O.contentsObjId;kn(qe,!0),je("<</Type /Page"),je("/Parent "+O.rootDictionaryObjId+" 0 R"),je("/Resources "+O.resourceDictionaryObjId+" 0 R"),je("/MediaBox ["+parseFloat(U(O.mediaBox.bottomLeftX))+" "+parseFloat(U(O.mediaBox.bottomLeftY))+" "+U(O.mediaBox.topRightX)+" "+U(O.mediaBox.topRightY)+"]"),O.cropBox!==null&&je("/CropBox ["+U(O.cropBox.bottomLeftX)+" "+U(O.cropBox.bottomLeftY)+" "+U(O.cropBox.topRightX)+" "+U(O.cropBox.topRightY)+"]"),O.bleedBox!==null&&je("/BleedBox ["+U(O.bleedBox.bottomLeftX)+" "+U(O.bleedBox.bottomLeftY)+" "+U(O.bleedBox.topRightX)+" "+U(O.bleedBox.topRightY)+"]"),O.trimBox!==null&&je("/TrimBox ["+U(O.trimBox.bottomLeftX)+" "+U(O.trimBox.bottomLeftY)+" "+U(O.trimBox.topRightX)+" "+U(O.trimBox.topRightY)+"]"),O.artBox!==null&&je("/ArtBox ["+U(O.artBox.bottomLeftX)+" "+U(O.artBox.bottomLeftY)+" "+U(O.artBox.topRightX)+" "+U(O.artBox.topRightY)+"]"),typeof O.userUnit=="number"&&O.userUnit!==1&&je("/UserUnit "+O.userUnit),Pt.publish("putPage",{objId:qe,pageContext:it[pe],pageNumber:pe,page:De}),je("/Contents "+ft+" 0 R"),je(">>"),je("endobj");var Dt=De.join(`
`);return S===N.ADVANCED&&(Dt+=`
Q`),kn(ft,!0),Zn({data:Dt,filters:qn(),objectId:ft}),je("endobj"),qe},wr=g.__private__.putPages=function(){var O,pe,De=[];for(O=1;O<=st;O++)it[O].objId=Gt(),it[O].contentsObjId=Gt();for(O=1;O<=st;O++)De.push(Ln({number:O,data:He[O],objId:it[O].objId,contentsObjId:it[O].contentsObjId,mediaBox:it[O].mediaBox,cropBox:it[O].cropBox,bleedBox:it[O].bleedBox,trimBox:it[O].trimBox,artBox:it[O].artBox,userUnit:it[O].userUnit,rootDictionaryObjId:is,resourceDictionaryObjId:en}));kn(is,!0),je("<</Type /Pages");var qe="/Kids [";for(pe=0;pe<st;pe++)qe+=De[pe]+" 0 R ";je(qe+"]"),je("/Count "+st),je(">>"),je("endobj"),Pt.publish("postPutPages")},We=function(O){Pt.publish("putFont",{font:O,out:je,newObject:Er,putStream:Zn}),O.isAlreadyPutted!==!0&&(O.objectNumber=Er(),je("<<"),je("/Type /Font"),je("/BaseFont /"+pm(O.postScriptName)),je("/Subtype /Type1"),typeof O.encoding=="string"&&je("/Encoding /"+O.encoding),je("/FirstChar 32"),je("/LastChar 255"),je(">>"),je("endobj"))},Ht=function(){for(var O in ur)ur.hasOwnProperty(O)&&(f===!1||f===!0&&v.hasOwnProperty(O))&&We(ur[O])},mr=function(O){O.objectNumber=Er();var pe=[];pe.push({key:"Type",value:"/XObject"}),pe.push({key:"Subtype",value:"/Form"}),pe.push({key:"BBox",value:"["+[U(O.x),U(O.y),U(O.x+O.width),U(O.y+O.height)].join(" ")+"]"}),pe.push({key:"Matrix",value:"["+O.matrix.toString()+"]"});var De=O.pages[1].join(`
`);Zn({data:De,additionalKeyValues:pe,objectId:O.objectNumber}),je("endobj")},jn=function(){for(var O in ot)ot.hasOwnProperty(O)&&mr(ot[O])},Un=function(O,pe){var De,qe=[],ft=1/(pe-1);for(De=0;De<1;De+=ft)qe.push(De);if(qe.push(1),O[0].offset!=0){var Dt={offset:0,color:O[0].color};O.unshift(Dt)}if(O[O.length-1].offset!=1){var Zt={offset:1,color:O[O.length-1].color};O.push(Zt)}for(var Sr="",Or=0,Bn=0;Bn<qe.length;Bn++){for(De=qe[Bn];De>O[Or+1].offset;)Or++;var _n=O[Or].offset,es=(De-_n)/(O[Or+1].offset-_n),zs=O[Or].color,$s=O[Or+1].color;Sr+=se(Math.round((1-es)*zs[0]+es*$s[0]).toString(16))+se(Math.round((1-es)*zs[1]+es*$s[1]).toString(16))+se(Math.round((1-es)*zs[2]+es*$s[2]).toString(16))}return Sr.trim()},Ur=function(O,pe){pe||(pe=21);var De=Er(),qe=Un(O.colors,pe),ft=[];ft.push({key:"FunctionType",value:"0"}),ft.push({key:"Domain",value:"[0.0 1.0]"}),ft.push({key:"Size",value:"["+pe+"]"}),ft.push({key:"BitsPerSample",value:"8"}),ft.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ft.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Zn({data:qe,additionalKeyValues:ft,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:De}),je("endobj"),O.objectNumber=Er(),je("<< /ShadingType "+O.type),je("/ColorSpace /DeviceRGB");var Dt="/Coords ["+U(parseFloat(O.coords[0]))+" "+U(parseFloat(O.coords[1]))+" ";O.type===2?Dt+=U(parseFloat(O.coords[2]))+" "+U(parseFloat(O.coords[3])):Dt+=U(parseFloat(O.coords[2]))+" "+U(parseFloat(O.coords[3]))+" "+U(parseFloat(O.coords[4]))+" "+U(parseFloat(O.coords[5])),je(Dt+="]"),O.matrix&&je("/Matrix ["+O.matrix.toString()+"]"),je("/Function "+De+" 0 R"),je("/Extend [true true]"),je(">>"),je("endobj")},Jr=function(O,pe){var De=Gt(),qe=Er();pe.push({resourcesOid:De,objectOid:qe}),O.objectNumber=qe;var ft=[];ft.push({key:"Type",value:"/Pattern"}),ft.push({key:"PatternType",value:"1"}),ft.push({key:"PaintType",value:"1"}),ft.push({key:"TilingType",value:"1"}),ft.push({key:"BBox",value:"["+O.boundingBox.map(U).join(" ")+"]"}),ft.push({key:"XStep",value:U(O.xStep)}),ft.push({key:"YStep",value:U(O.yStep)}),ft.push({key:"Resources",value:De+" 0 R"}),O.matrix&&ft.push({key:"Matrix",value:"["+O.matrix.toString()+"]"}),Zn({data:O.stream,additionalKeyValues:ft,objectId:O.objectNumber}),je("endobj")},Xn=function(O){var pe;for(pe in fr)fr.hasOwnProperty(pe)&&(fr[pe]instanceof rf?Ur(fr[pe]):fr[pe]instanceof jm&&Jr(fr[pe],O))},ds=function(O){for(var pe in O.objectNumber=Er(),je("<<"),O)switch(pe){case"opacity":je("/ca "+K(O[pe]));break;case"stroke-opacity":je("/CA "+K(O[pe]))}je(">>"),je("endobj")},Nn=function(){var O;for(O in Ke)Ke.hasOwnProperty(O)&&ds(Ke[O])},Te=function(){for(var O in je("/XObject <<"),ot)ot.hasOwnProperty(O)&&ot[O].objectNumber>=0&&je("/"+O+" "+ot[O].objectNumber+" 0 R");Pt.publish("putXobjectDict"),je(">>")},Nt=function(){as.oid=Er(),je("<<"),je("/Filter /Standard"),je("/V "+as.v),je("/R "+as.r),je("/U <"+as.toHexString(as.U)+">"),je("/O <"+as.toHexString(as.O)+">"),je("/P "+as.P),je(">>"),je("endobj")},Jt=function(){for(var O in je("/Font <<"),ur)ur.hasOwnProperty(O)&&(f===!1||f===!0&&v.hasOwnProperty(O))&&je("/"+O+" "+ur[O].objectNumber+" 0 R");je(">>")},Pr=function(){if(Object.keys(fr).length>0){for(var O in je("/Shading <<"),fr)fr.hasOwnProperty(O)&&fr[O]instanceof rf&&fr[O].objectNumber>=0&&je("/"+O+" "+fr[O].objectNumber+" 0 R");Pt.publish("putShadingPatternDict"),je(">>")}},Cn=function(O){if(Object.keys(fr).length>0){for(var pe in je("/Pattern <<"),fr)fr.hasOwnProperty(pe)&&fr[pe]instanceof g.TilingPattern&&fr[pe].objectNumber>=0&&fr[pe].objectNumber<O&&je("/"+pe+" "+fr[pe].objectNumber+" 0 R");Pt.publish("putTilingPatternDict"),je(">>")}},Kr=function(){if(Object.keys(Ke).length>0){var O;for(O in je("/ExtGState <<"),Ke)Ke.hasOwnProperty(O)&&Ke[O].objectNumber>=0&&je("/"+O+" "+Ke[O].objectNumber+" 0 R");Pt.publish("putGStateDict"),je(">>")}},Y=function(O){kn(O.resourcesOid,!0),je("<<"),je("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Jt(),Pr(),Cn(O.objectOid),Kr(),Te(),je(">>"),je("endobj")},Ls=function(){var O=[];Ht(),Nn(),jn(),Xn(O),Pt.publish("putResources"),O.forEach(Y),Y({resourcesOid:en,objectOid:Number.MAX_SAFE_INTEGER}),Pt.publish("postPutResources")},Qi=function(){Pt.publish("putAdditionalObjects");for(var O=0;O<Ee.length;O++){var pe=Ee[O];kn(pe.objId,!0),je(pe.content),je("endobj")}Pt.publish("postPutAdditionalObjects")},Qs=function(O){Cr[O.fontName]=Cr[O.fontName]||{},Cr[O.fontName][O.fontStyle]=O.id},gi=function(O,pe,De,qe,ft){var Dt={id:"F"+(Object.keys(ur).length+1).toString(10),postScriptName:O,fontName:pe,fontStyle:De,encoding:qe,isStandardFont:ft||!1,metadata:{}};return Pt.publish("addFont",{font:Dt,instance:this}),ur[Dt.id]=Dt,Qs(Dt),Dt.id},Wr=function(O){for(var pe=0,De=ct.length;pe<De;pe++){var qe=gi.call(this,O[pe][0],O[pe][1],O[pe][2],ct[pe][3],!0);f===!1&&(v[qe]=!0);var ft=O[pe][0].split("-");Qs({id:qe,fontName:ft[0],fontStyle:ft[1]||""})}Pt.publish("addFonts",{fonts:ur,dictionary:Cr})},wn=function(O){return O.foo=function(){try{return O.apply(this,arguments)}catch(qe){var pe=qe.stack||"";~pe.indexOf(" at ")&&(pe=pe.split(" at ")[1]);var De="Error in function "+pe.split(`
`)[0].split("<")[0]+": "+qe.message;if(!Sn.console)throw new Error(De);Sn.console.error(De,qe),Sn.alert&&alert(De)}},O.foo.bar=O,O.foo},Ni=function(O,pe){var De,qe,ft,Dt,Zt,Sr,Or,Bn,_n;if(ft=(pe=pe||{}).sourceEncoding||"Unicode",Zt=pe.outputEncoding,(pe.autoencode||Zt)&&ur[Ye].metadata&&ur[Ye].metadata[ft]&&ur[Ye].metadata[ft].encoding&&(Dt=ur[Ye].metadata[ft].encoding,!Zt&&ur[Ye].encoding&&(Zt=ur[Ye].encoding),!Zt&&Dt.codePages&&(Zt=Dt.codePages[0]),typeof Zt=="string"&&(Zt=Dt[Zt]),Zt)){for(Or=!1,Sr=[],De=0,qe=O.length;De<qe;De++)(Bn=Zt[O.charCodeAt(De)])?Sr.push(String.fromCharCode(Bn)):Sr.push(O[De]),Sr[De].charCodeAt(0)>>8&&(Or=!0);O=Sr.join("")}for(De=O.length;Or===void 0&&De!==0;)O.charCodeAt(De-1)>>8&&(Or=!0),De--;if(!Or)return O;for(Sr=pe.noBOM?[]:[254,255],De=0,qe=O.length;De<qe;De++){if((_n=(Bn=O.charCodeAt(De))>>8)>>8)throw new Error("Character at position "+De+" of string '"+O+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Sr.push(_n),Sr.push(Bn-(_n<<8))}return String.fromCharCode.apply(void 0,Sr)},Pe=g.__private__.pdfEscape=g.pdfEscape=function(O,pe){return Ni(O,pe).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ct=g.__private__.beginPage=function(O){He[++st]=[],it[st]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(O[0]),topRightY:Number(O[1])}},on(st),Re(He[E])},tr=function(O,pe){var De,qe,ft;switch(n=pe||n,typeof O=="string"&&(De=x(O.toLowerCase()),Array.isArray(De)&&(qe=De[0],ft=De[1])),Array.isArray(O)&&(qe=O[0]*Ue,ft=O[1]*Ue),isNaN(qe)&&(qe=a[0],ft=a[1]),(qe>14400||ft>14400)&&(ti.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),qe=Math.min(14400,qe),ft=Math.min(14400,ft)),a=[qe,ft],n.substr(0,1)){case"l":ft>qe&&(a=[ft,qe]);break;case"p":qe>ft&&(a=[ft,qe])}Ct(a),Ka(Va),je(Qn),Xl!==0&&je(Xl+" J"),Ea!==0&&je(Ea+" j"),Pt.publish("addPage",{pageNumber:st})},Hr=function(O){O>0&&O<=st&&(He.splice(O,1),it.splice(O,1),st--,E>st&&(E=st),this.setPage(E))},on=function(O){O>0&&O<=st&&(E=O)},nn=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return He.length-1},us=function(O,pe,De){var qe,ft=void 0;return De=De||{},O=O!==void 0?O:ur[Ye].fontName,pe=pe!==void 0?pe:ur[Ye].fontStyle,qe=O.toLowerCase(),Cr[qe]!==void 0&&Cr[qe][pe]!==void 0?ft=Cr[qe][pe]:Cr[O]!==void 0&&Cr[O][pe]!==void 0?ft=Cr[O][pe]:De.disableWarning===!1&&ti.warn("Unable to look up font label for font '"+O+"', '"+pe+"'. Refer to getFontList() for available fonts."),ft||De.noFallback||(ft=Cr.times[pe])==null&&(ft=Cr.times.normal),ft},fn=g.__private__.putInfo=function(){var O=Er(),pe=function(qe){return qe};for(var De in u!==null&&(pe=as.encryptor(O,0)),je("<<"),je("/Producer ("+Pe(pe("jsPDF "+gn.version))+")"),Be)Be.hasOwnProperty(De)&&Be[De]&&je("/"+De.substr(0,1).toUpperCase()+De.substr(1)+" ("+Pe(pe(Be[De]))+")");je("/CreationDate ("+Pe(pe(ye))+")"),je(">>"),je("endobj")},Hs=g.__private__.putCatalog=function(O){var pe=(O=O||{}).rootDictionaryObjId||is;switch(Er(),je("<<"),je("/Type /Catalog"),je("/Pages "+pe+" 0 R"),wt||(wt="fullwidth"),wt){case"fullwidth":je("/OpenAction [3 0 R /FitH null]");break;case"fullheight":je("/OpenAction [3 0 R /FitV null]");break;case"fullpage":je("/OpenAction [3 0 R /Fit]");break;case"original":je("/OpenAction [3 0 R /XYZ null null 1]");break;default:var De=""+wt;De.substr(De.length-1)==="%"&&(wt=parseInt(wt)/100),typeof wt=="number"&&je("/OpenAction [3 0 R /XYZ null null "+K(wt)+"]")}switch(ut||(ut="continuous"),ut){case"continuous":je("/PageLayout /OneColumn");break;case"single":je("/PageLayout /SinglePage");break;case"two":case"twoleft":je("/PageLayout /TwoColumnLeft");break;case"tworight":je("/PageLayout /TwoColumnRight")}_e&&je("/PageMode /"+_e),Pt.publish("putCatalog"),je(">>"),je("endobj")},Ci=g.__private__.putTrailer=function(){je("trailer"),je("<<"),je("/Size "+(re+1)),je("/Root "+re+" 0 R"),je("/Info "+(re-1)+" 0 R"),u!==null&&je("/Encrypt "+as.oid+" 0 R"),je("/ID [ <"+de+"> <"+de+"> ]"),je(">>")},Qa=g.__private__.putHeader=function(){je("%PDF-"+w),je("%")},go=g.__private__.putXRef=function(){var O="0000000000";je("xref"),je("0 "+(re+1)),je("0000000000 65535 f ");for(var pe=1;pe<=re;pe++)typeof G[pe]=="function"?je((O+G[pe]()).slice(-10)+" 00000 n "):G[pe]!==void 0?je((O+G[pe]).slice(-10)+" 00000 n "):je("0000000000 00000 n ")},na=g.__private__.buildDocument=function(){Ve(),Re(ue),Pt.publish("buildDocument"),Qa(),wr(),Qi(),Ls(),u!==null&&Nt(),fn(),Hs();var O=ie;return go(),Ci(),je("startxref"),je(""+O),je("%%EOF"),Re(He[E]),ue.join(`
`)},ni=g.__private__.getBlob=function(O){return new Blob([Bt(O)],{type:"application/pdf"})},_i=g.output=g.__private__.output=wn(function(O,pe){switch(typeof(pe=pe||{})=="string"?pe={filename:pe}:pe.filename=pe.filename||"generated.pdf",O){case void 0:return na();case"save":g.save(pe.filename);break;case"arraybuffer":return Bt(na());case"blob":return ni(na());case"bloburi":case"bloburl":if(Sn.URL!==void 0&&typeof Sn.URL.createObjectURL=="function")return Sn.URL&&Sn.URL.createObjectURL(ni(na()))||void 0;ti.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var De="",qe=na();try{De=I5(qe)}catch{De=I5(unescape(encodeURIComponent(qe)))}return"data:application/pdf;filename="+pe.filename+";base64,"+De;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Sn)==="[object Window]"){var ft="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Dt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';pe.pdfObjectUrl&&(ft=pe.pdfObjectUrl,Dt="");var Zt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ft+'"'+Dt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(pe)+");<\/script></body></html>",Sr=Sn.open();return Sr!==null&&Sr.document.write(Zt),Sr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Sn)==="[object Window]"){var Or='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(pe.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+pe.filename+'" width="500px" height="400px" /></body></html>',Bn=Sn.open();if(Bn!==null){Bn.document.write(Or);var _n=this;Bn.document.documentElement.querySelector("#pdfViewer").onload=function(){Bn.document.title=pe.filename,Bn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(_n.output("bloburl"))}}return Bn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Sn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var es='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",pe)+'"></iframe></body></html>',zs=Sn.open();if(zs!==null&&(zs.document.write(es),zs.document.title=pe.filename),zs||typeof safari>"u")return zs;break;case"datauri":case"dataurl":return Sn.document.location.href=this.output("datauristring",pe);default:return null}}),ro=function(O){return Array.isArray(_r)===!0&&_r.indexOf(O)>-1};switch(s){case"pt":Ue=1;break;case"mm":Ue=72/25.4;break;case"cm":Ue=72/2.54;break;case"in":Ue=72;break;case"px":Ue=ro("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ue=12;break;case"ex":Ue=6;break;default:if(typeof s!="number")throw new Error("Invalid unit: "+s);Ue=s}var as=null;ee(),Q();var Si=function(O){return u!==null?as.encryptor(O,0):function(pe){return pe}},Bi=g.__private__.getPageInfo=g.getPageInfo=function(O){if(isNaN(O)||O%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:it[O].objId,pageNumber:O,pageContext:it[O]}},sn=g.__private__.getPageInfoByObjId=function(O){if(isNaN(O)||O%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var pe in it)if(it[pe].objId===O)break;return Bi(pe)},ln=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:it[E].objId,pageNumber:E,pageContext:it[E]}};g.addPage=function(){return tr.apply(this,arguments),this},g.setPage=function(){return on.apply(this,arguments),Re.call(this,He[E]),this},g.insertPage=function(O){return this.addPage(),this.movePage(E,O),this},g.movePage=function(O,pe){var De,qe;if(O>pe){De=He[O],qe=it[O];for(var ft=O;ft>pe;ft--)He[ft]=He[ft-1],it[ft]=it[ft-1];He[pe]=De,it[pe]=qe,this.setPage(pe)}else if(O<pe){De=He[O],qe=it[O];for(var Dt=O;Dt<pe;Dt++)He[Dt]=He[Dt+1],it[Dt]=it[Dt+1];He[pe]=De,it[pe]=qe,this.setPage(pe)}return this},g.deletePage=function(){return Hr.apply(this,arguments),this},g.__private__.text=g.text=function(O,pe,De,qe,ft){var Dt,Zt,Sr,Or,Bn,_n,es,zs,$s,vi=(qe=qe||{}).scope||this;if(typeof O=="number"&&typeof pe=="number"&&(typeof De=="string"||Array.isArray(De))){var Ia=De;De=pe,pe=O,O=Ia}if(arguments[3]instanceof Rt?(D("The transform parameter of text() with a Matrix value"),$s=ft):(Sr=arguments[4],Or=arguments[5],Ps(es=arguments[3])==="object"&&es!==null||(typeof Sr=="string"&&(Or=Sr,Sr=null),typeof es=="string"&&(Or=es,es=null),typeof es=="number"&&(Sr=es,es=null),qe={flags:es,angle:Sr,align:Or})),isNaN(pe)||isNaN(De)||O==null)throw new Error("Invalid arguments passed to jsPDF.text");if(O.length===0)return vi;var Ei="",il=!1,Xs=typeof qe.lineHeightFactor=="number"?qe.lineHeightFactor:xi,ia=vi.internal.scaleFactor;function vc(_s){return _s=_s.split("	").join(Array(qe.TabLen||9).join(" ")),Pe(_s,es)}function xo(_s){for(var bs,ii=_s.concat(),Ss=[],ll=ii.length;ll--;)typeof(bs=ii.shift())=="string"?Ss.push(bs):Array.isArray(_s)&&(bs.length===1||bs[1]===void 0&&bs[2]===void 0)?Ss.push(bs[0]):Ss.push([bs[0],bs[1],bs[2]]);return Ss}function Hd(_s,bs){var ii;if(typeof _s=="string")ii=bs(_s)[0];else if(Array.isArray(_s)){for(var Ss,ll,Yc=_s.concat(),cl=[],Fu=Yc.length;Fu--;)typeof(Ss=Yc.shift())=="string"?cl.push(bs(Ss)[0]):Array.isArray(Ss)&&typeof Ss[0]=="string"&&(ll=bs(Ss[0],Ss[1],Ss[2]),cl.push([ll[0],ll[1],ll[2]]));ii=cl}return ii}var Do=!1,zd=!0;if(typeof O=="string")Do=!0;else if(Array.isArray(O)){var Bl=O.concat();Zt=[];for(var yc,Vs=Bl.length;Vs--;)(typeof(yc=Bl.shift())!="string"||Array.isArray(yc)&&typeof yc[0]!="string")&&(zd=!1);Do=zd}if(Do===!1)throw new Error('Type of text must be string or Array. "'+O+'" is not recognized.');typeof O=="string"&&(O=O.match(/[\r?\n]/)?O.split(/\r\n|\r|\n/g):[O]);var Vd=vt/vi.internal.scaleFactor,vo=Vd*(Xs-1);switch(qe.baseline){case"bottom":De-=vo;break;case"top":De+=Vd-vo;break;case"hanging":De+=Vd-2*vo;break;case"middle":De+=Vd/2-vo}if((_n=qe.maxWidth||0)>0&&(typeof O=="string"?O=vi.splitTextToSize(O,_n):Object.prototype.toString.call(O)==="[object Array]"&&(O=O.reduce(function(_s,bs){return _s.concat(vi.splitTextToSize(bs,_n))},[]))),Dt={text:O,x:pe,y:De,options:qe,mutex:{pdfEscape:Pe,activeFontKey:Ye,fonts:ur,activeFontSize:vt}},Pt.publish("preProcessText",Dt),O=Dt.text,Sr=(qe=Dt.options).angle,!($s instanceof Rt)&&Sr&&typeof Sr=="number"){Sr*=Math.PI/180,qe.rotationDirection===0&&(Sr=-Sr),S===N.ADVANCED&&(Sr=-Sr);var Zl=Math.cos(Sr),Kd=Math.sin(Sr);$s=new Rt(Zl,Kd,-Kd,Zl,0,0)}else Sr&&Sr instanceof Rt&&($s=Sr);S!==N.ADVANCED||$s||($s=qr),(Bn=qe.charSpace||sa)!==void 0&&(Ei+=U(R(Bn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(zs=qe.horizontalScale)!==void 0&&(Ei+=U(100*zs)+` Tz
`),qe.lang;var aa=-1,Gc=qe.renderingMode!==void 0?qe.renderingMode:qe.stroke,oa=vi.internal.getCurrentPageInfo().pageContext;switch(Gc){case 0:case!1:case"fill":aa=0;break;case 1:case!0:case"stroke":aa=1;break;case 2:case"fillThenStroke":aa=2;break;case 3:case"invisible":aa=3;break;case 4:case"fillAndAddForClipping":aa=4;break;case 5:case"strokeAndAddPathForClipping":aa=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":aa=6;break;case 7:case"addToPathForClipping":aa=7}var pA=oa.usedRenderingMode!==void 0?oa.usedRenderingMode:-1;aa!==-1?Ei+=aa+` Tr
`:pA!==-1&&(Ei+=`0 Tr
`),aa!==-1&&(oa.usedRenderingMode=aa),Or=qe.align||"left";var yi,Wd=vt*Xs,yo=vi.internal.pageSize.getWidth(),ec=ur[Ye];Bn=qe.charSpace||sa,_n=qe.maxWidth||0,es=Object.assign({autoencode:!0,noBOM:!0},qe.flags);var al=[],El=function(_s){return vi.getStringUnitWidth(_s,{font:ec,charSpace:Bn,fontSize:vt,doKerning:!1})*vt/ia};if(Object.prototype.toString.call(O)==="[object Array]"){var Vi;Zt=xo(O),Or!=="left"&&(yi=Zt.map(El));var Ki,ol=0;if(Or==="right"){pe-=yi[0],O=[],Vs=Zt.length;for(var io=0;io<Vs;io++)io===0?(Ki=me(pe),Vi=At(De)):(Ki=R(ol-yi[io]),Vi=-Wd),O.push([Zt[io],Ki,Vi]),ol=yi[io]}else if(Or==="center"){pe-=yi[0]/2,O=[],Vs=Zt.length;for(var Fo=0;Fo<Vs;Fo++)Fo===0?(Ki=me(pe),Vi=At(De)):(Ki=R((ol-yi[Fo])/2),Vi=-Wd),O.push([Zt[Fo],Ki,Vi]),ol=yi[Fo]}else if(Or==="left"){O=[],Vs=Zt.length;for(var wc=0;wc<Vs;wc++)O.push(Zt[wc])}else if(Or==="justify"&&ec.encoding==="Identity-H"){O=[],Vs=Zt.length,_n=_n!==0?_n:yo;for(var Il=0,gs=0;gs<Vs;gs++)if(Vi=gs===0?At(De):-Wd,Ki=gs===0?me(pe):Il,gs<Vs-1){var Lo=R((_n-yi[gs])/(Zt[gs].split(" ").length-1)),Ta=Zt[gs].split(" ");O.push([Ta[0]+" ",Ki,Vi]),Il=0;for(var ao=1;ao<Ta.length;ao++){var qc=(El(Ta[ao-1]+" "+Ta[ao])-El(Ta[ao]))*ia+Lo;ao==Ta.length-1?O.push([Ta[ao],qc,0]):O.push([Ta[ao]+" ",qc,0]),Il-=qc}}else O.push([Zt[gs],Ki,Vi]);O.push(["",Il,0])}else{if(Or!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(O=[],Vs=Zt.length,_n=_n!==0?_n:yo,gs=0;gs<Vs;gs++)Vi=gs===0?At(De):-Wd,Ki=gs===0?me(pe):0,gs<Vs-1?al.push(U(R((_n-yi[gs])/(Zt[gs].split(" ").length-1)))):al.push(0),O.push([Zt[gs],Ki,Vi])}}var $d=typeof qe.R2L=="boolean"?qe.R2L:Oe;$d===!0&&(O=Hd(O,function(_s,bs,ii){return[_s.split("").reverse().join(""),bs,ii]})),Dt={text:O,x:pe,y:De,options:qe,mutex:{pdfEscape:Pe,activeFontKey:Ye,fonts:ur,activeFontSize:vt}},Pt.publish("postProcessText",Dt),O=Dt.text,il=Dt.mutex.isHex||!1;var Jc=ur[Ye].encoding;Jc!=="WinAnsiEncoding"&&Jc!=="StandardEncoding"||(O=Hd(O,function(_s,bs,ii){return[vc(_s),bs,ii]})),Zt=xo(O),O=[];for(var ka,Tl,wo,Ro=0,kl=1,Pl=Array.isArray(Zt[0])?kl:Ro,tc="",Oo=function(_s,bs,ii){var Ss="";return ii instanceof Rt?(ii=typeof qe.angle=="number"?xn(ii,new Rt(1,0,0,1,_s,bs)):xn(new Rt(1,0,0,1,_s,bs),ii),S===N.ADVANCED&&(ii=xn(new Rt(1,0,0,-1,0,0),ii)),Ss=ii.join(" ")+` Tm
`):Ss=U(_s)+" "+U(bs)+` Td
`,Ss},la=0;la<Zt.length;la++){switch(tc="",Pl){case kl:wo=(il?"<":"(")+Zt[la][0]+(il?">":")"),ka=parseFloat(Zt[la][1]),Tl=parseFloat(Zt[la][2]);break;case Ro:wo=(il?"<":"(")+Zt[la]+(il?">":")"),ka=me(pe),Tl=At(De)}al!==void 0&&al[la]!==void 0&&(tc=al[la]+` Tw
`),la===0?O.push(tc+Oo(ka,Tl,$s)+wo):Pl===Ro?O.push(tc+wo):Pl===kl&&O.push(tc+Oo(ka,Tl,$s)+wo)}O=Pl===Ro?O.join(` Tj
T* `):O.join(` Tj
`),O+=` Tj
`;var Ii=`BT
/`;return Ii+=Ye+" "+vt+` Tf
`,Ii+=U(vt*Xs)+` TL
`,Ii+=In+`
`,Ii+=Ei,Ii+=O,je(Ii+="ET"),v[Ye]=!0,vi};var Ys=g.__private__.clip=g.clip=function(O){return je(O==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return Ys("evenodd")},g.__private__.discardPath=g.discardPath=function(){return je("n"),this};var Vn=g.__private__.isValidStyle=function(O){var pe=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(O)!==-1&&(pe=!0),pe};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(O){return Vn(O)&&(d=O),this};var Ba=g.__private__.getStyle=g.getStyle=function(O){var pe=d;switch(O){case"D":case"S":pe="S";break;case"F":pe="f";break;case"FD":case"DF":pe="B";break;case"f":case"f*":case"B":case"B*":pe=O}return pe},Ha=g.close=function(){return je("h"),this};g.stroke=function(){return je("S"),this},g.fill=function(O){return za("f",O),this},g.fillEvenOdd=function(O){return za("f*",O),this},g.fillStroke=function(O){return za("B",O),this},g.fillStrokeEvenOdd=function(O){return za("B*",O),this};var za=function(O,pe){Ps(pe)==="object"?he(pe,O):je(O)},Hi=function(O){O===null||S===N.ADVANCED&&O===void 0||(O=Ba(O),je(O))};function si(O,pe,De,qe,ft){var Dt=new jm(pe||this.boundingBox,De||this.xStep,qe||this.yStep,this.gState,ft||this.matrix);Dt.stream=this.stream;var Zt=O+"$$"+this.cloneIndex+++"$$";return vn(Zt,Dt),Dt}var he=function(O,pe){var De=dr[O.key],qe=fr[De];if(qe instanceof rf)je("q"),je(pt(pe)),qe.gState&&g.setGState(qe.gState),je(O.matrix.toString()+" cm"),je("/"+De+" sh"),je("Q");else if(qe instanceof jm){var ft=new Rt(1,0,0,-1,0,xc());O.matrix&&(ft=ft.multiply(O.matrix||qr),De=si.call(qe,O.key,O.boundingBox,O.xStep,O.yStep,ft).id),je("q"),je("/Pattern cs"),je("/"+De+" scn"),qe.gState&&g.setGState(qe.gState),je(pe),je("Q")}},pt=function(O){switch(O){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Wt=g.moveTo=function(O,pe){return je(U(R(O))+" "+U(te(pe))+" m"),this},Ar=g.lineTo=function(O,pe){return je(U(R(O))+" "+U(te(pe))+" l"),this},An=g.curveTo=function(O,pe,De,qe,ft,Dt){return je([U(R(O)),U(te(pe)),U(R(De)),U(te(qe)),U(R(ft)),U(te(Dt)),"c"].join(" ")),this};g.__private__.line=g.line=function(O,pe,De,qe,ft){if(isNaN(O)||isNaN(pe)||isNaN(De)||isNaN(qe)||!Vn(ft))throw new Error("Invalid arguments passed to jsPDF.line");return S===N.COMPAT?this.lines([[De-O,qe-pe]],O,pe,[1,1],ft||"S"):this.lines([[De-O,qe-pe]],O,pe,[1,1]).stroke()},g.__private__.lines=g.lines=function(O,pe,De,qe,ft,Dt){var Zt,Sr,Or,Bn,_n,es,zs,$s,vi,Ia,Ei,il;if(typeof O=="number"&&(il=De,De=pe,pe=O,O=il),qe=qe||[1,1],Dt=Dt||!1,isNaN(pe)||isNaN(De)||!Array.isArray(O)||!Array.isArray(qe)||!Vn(ft)||typeof Dt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Wt(pe,De),Zt=qe[0],Sr=qe[1],Bn=O.length,Ia=pe,Ei=De,Or=0;Or<Bn;Or++)(_n=O[Or]).length===2?(Ia=_n[0]*Zt+Ia,Ei=_n[1]*Sr+Ei,Ar(Ia,Ei)):(es=_n[0]*Zt+Ia,zs=_n[1]*Sr+Ei,$s=_n[2]*Zt+Ia,vi=_n[3]*Sr+Ei,Ia=_n[4]*Zt+Ia,Ei=_n[5]*Sr+Ei,An(es,zs,$s,vi,Ia,Ei));return Dt&&Ha(),Hi(ft),this},g.path=function(O){for(var pe=0;pe<O.length;pe++){var De=O[pe],qe=De.c;switch(De.op){case"m":Wt(qe[0],qe[1]);break;case"l":Ar(qe[0],qe[1]);break;case"c":An.apply(this,qe);break;case"h":Ha()}}return this},g.__private__.rect=g.rect=function(O,pe,De,qe,ft){if(isNaN(O)||isNaN(pe)||isNaN(De)||isNaN(qe)||!Vn(ft))throw new Error("Invalid arguments passed to jsPDF.rect");return S===N.COMPAT&&(qe=-qe),je([U(R(O)),U(te(pe)),U(R(De)),U(R(qe)),"re"].join(" ")),Hi(ft),this},g.__private__.triangle=g.triangle=function(O,pe,De,qe,ft,Dt,Zt){if(isNaN(O)||isNaN(pe)||isNaN(De)||isNaN(qe)||isNaN(ft)||isNaN(Dt)||!Vn(Zt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[De-O,qe-pe],[ft-De,Dt-qe],[O-ft,pe-Dt]],O,pe,[1,1],Zt,!0),this},g.__private__.roundedRect=g.roundedRect=function(O,pe,De,qe,ft,Dt,Zt){if(isNaN(O)||isNaN(pe)||isNaN(De)||isNaN(qe)||isNaN(ft)||isNaN(Dt)||!Vn(Zt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Sr=4/3*(Math.SQRT2-1);return ft=Math.min(ft,.5*De),Dt=Math.min(Dt,.5*qe),this.lines([[De-2*ft,0],[ft*Sr,0,ft,Dt-Dt*Sr,ft,Dt],[0,qe-2*Dt],[0,Dt*Sr,-ft*Sr,Dt,-ft,Dt],[2*ft-De,0],[-ft*Sr,0,-ft,-Dt*Sr,-ft,-Dt],[0,2*Dt-qe],[0,-Dt*Sr,ft*Sr,-Dt,ft,-Dt]],O+ft,pe,[1,1],Zt,!0),this},g.__private__.ellipse=g.ellipse=function(O,pe,De,qe,ft){if(isNaN(O)||isNaN(pe)||isNaN(De)||isNaN(qe)||!Vn(ft))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Dt=4/3*(Math.SQRT2-1)*De,Zt=4/3*(Math.SQRT2-1)*qe;return Wt(O+De,pe),An(O+De,pe-Zt,O+Dt,pe-qe,O,pe-qe),An(O-Dt,pe-qe,O-De,pe-Zt,O-De,pe),An(O-De,pe+Zt,O-Dt,pe+qe,O,pe+qe),An(O+Dt,pe+qe,O+De,pe+Zt,O+De,pe),Hi(ft),this},g.__private__.circle=g.circle=function(O,pe,De,qe){if(isNaN(O)||isNaN(pe)||isNaN(De)||!Vn(qe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(O,pe,De,De,qe)},g.setFont=function(O,pe,De){return De&&(pe=$(pe,De)),Ye=us(O,pe,{disableWarning:!1}),this};var tn=g.__private__.getFont=g.getFont=function(){return ur[us.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var O,pe,De={};for(O in Cr)if(Cr.hasOwnProperty(O))for(pe in De[O]=[],Cr[O])Cr[O].hasOwnProperty(pe)&&De[O].push(pe);return De},g.addFont=function(O,pe,De,qe,ft){var Dt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Dt.indexOf(arguments[3])!==-1?ft=arguments[3]:arguments[3]&&Dt.indexOf(arguments[3])==-1&&(De=$(De,qe)),ft=ft||"Identity-H",gi.call(this,O,pe,De,ft)};var xi,Va=e.lineWidth||.200025,ci=g.__private__.getLineWidth=g.getLineWidth=function(){return Va},Ka=g.__private__.setLineWidth=g.setLineWidth=function(O){return Va=O,je(U(R(O))+" w"),this};g.__private__.setLineDash=gn.API.setLineDash=gn.API.setLineDashPattern=function(O,pe){if(O=O||[],pe=pe||0,isNaN(pe)||!Array.isArray(O))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return O=O.map(function(De){return U(R(De))}).join(" "),pe=U(R(pe)),je("["+O+"] "+pe+" d"),this};var no=g.__private__.getLineHeight=g.getLineHeight=function(){return vt*xi};g.__private__.getLineHeight=g.getLineHeight=function(){return vt*xi};var Rn=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(O){return typeof(O=O||1.15)=="number"&&(xi=O),this},so=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return xi};Rn(e.lineHeight);var me=g.__private__.getHorizontalCoordinate=function(O){return R(O)},At=g.__private__.getVerticalCoordinate=function(O){return S===N.ADVANCED?O:it[E].mediaBox.topRightY-it[E].mediaBox.bottomLeftY-R(O)},lr=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(O){return U(me(O))},br=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(O){return U(At(O))},Qn=e.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return ws(Qn)},g.__private__.setStrokeColor=g.setDrawColor=function(O,pe,De,qe){return Qn=Pn({ch1:O,ch2:pe,ch3:De,ch4:qe,pdfColorType:"draw",precision:2}),je(Qn),this};var Vr=e.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return ws(Vr)},g.__private__.setFillColor=g.setFillColor=function(O,pe,De,qe){return Vr=Pn({ch1:O,ch2:pe,ch3:De,ch4:qe,pdfColorType:"fill",precision:2}),je(Vr),this};var In=e.textColor||"0 g",zi=g.__private__.getTextColor=g.getTextColor=function(){return ws(In)};g.__private__.setTextColor=g.setTextColor=function(O,pe,De,qe){return In=Pn({ch1:O,ch2:pe,ch3:De,ch4:qe,pdfColorType:"text",precision:3}),this};var sa=e.charSpace,Wa=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(sa||0)};g.__private__.setCharSpace=g.setCharSpace=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return sa=O,this};var Xl=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(O){var pe=g.CapJoinStyles[O];if(pe===void 0)throw new Error("Line cap style of '"+O+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xl=pe,je(pe+" J"),this};var Ea=0;g.__private__.setLineJoin=g.setLineJoin=function(O){var pe=g.CapJoinStyles[O];if(pe===void 0)throw new Error("Line join style of '"+O+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ea=pe,je(pe+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(O){if(O=O||0,isNaN(O))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return je(U(R(O))+" M"),this},g.GState=e1,g.setGState=function(O){(O=typeof O=="string"?Ke[qt[O]]:Md(null,O)).equals(Ge)||(je("/"+O.id+" gs"),Ge=O)};var Md=function(O,pe){if(!O||!qt[O]){var De=!1;for(var qe in Ke)if(Ke.hasOwnProperty(qe)&&Ke[qe].equals(pe)){De=!0;break}if(De)pe=Ke[qe];else{var ft="GS"+(Object.keys(Ke).length+1).toString(10);Ke[ft]=pe,pe.id=ft}return O&&(qt[O]=pe.id),Pt.publish("addGState",pe),pe}};g.addGState=function(O,pe){return Md(O,pe),this},g.saveGraphicsState=function(){return je("q"),Tr.push({key:Ye,size:vt,color:In}),this},g.restoreGraphicsState=function(){je("Q");var O=Tr.pop();return Ye=O.key,vt=O.size,In=O.color,Ge=null,this},g.setCurrentTransformationMatrix=function(O){return je(O.toString()+" cm"),this},g.comment=function(O){return je("#"+O),this};var sl=function(O,pe){var De=O||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return De},set:function(Dt){isNaN(Dt)||(De=parseFloat(Dt))}});var qe=pe||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return qe},set:function(Dt){isNaN(Dt)||(qe=parseFloat(Dt))}});var ft="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ft},set:function(Dt){ft=Dt.toString()}}),this},$a=function(O,pe,De,qe){sl.call(this,O,pe),this.type="rect";var ft=De||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ft},set:function(Zt){isNaN(Zt)||(ft=parseFloat(Zt))}});var Dt=qe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Dt},set:function(Zt){isNaN(Zt)||(Dt=parseFloat(Zt))}}),this},$c=function(){this.page=st,this.currentPage=E,this.pages=He.slice(0),this.pagesContext=it.slice(0),this.x=Lt,this.y=Et,this.matrix=hr,this.width=Sl(E),this.height=xc(E),this.outputDestination=we,this.id="",this.objectNumber=-1};$c.prototype.restore=function(){st=this.page,E=this.currentPage,it=this.pagesContext,He=this.pages,Lt=this.x,Et=this.y,hr=this.matrix,Qd(E,this.width),Du(E,this.height),we=this.outputDestination};var ku=function(O,pe,De,qe,ft){er.push(new $c),st=E=0,He=[],Lt=O,Et=pe,hr=ft,Ct([De,qe])},Pu=function(O){if(dt[O])er.pop().restore();else{var pe=new $c,De="Xo"+(Object.keys(ot).length+1).toString(10);pe.id=De,dt[O]=De,ot[De]=pe,Pt.publish("addFormObject",pe),er.pop().restore()}};for(var Ud in g.beginFormObject=function(O,pe,De,qe,ft){return ku(O,pe,De,qe,ft),this},g.endFormObject=function(O){return Pu(O),this},g.doFormObject=function(O,pe){var De=ot[dt[O]];return je("q"),je(pe.toString()+" cm"),je("/"+De.id+" Do"),je("Q"),this},g.getFormObject=function(O){var pe=ot[dt[O]];return{x:pe.x,y:pe.y,width:pe.width,height:pe.height,matrix:pe.matrix}},g.save=function(O,pe){return O=O||"generated.pdf",(pe=pe||{}).returnPromise=pe.returnPromise||!1,pe.returnPromise===!1?(Yh(ni(na()),O),typeof Yh.unload=="function"&&Sn.setTimeout&&setTimeout(Yh.unload,911),this):new Promise(function(De,qe){try{var ft=Yh(ni(na()),O);typeof Yh.unload=="function"&&Sn.setTimeout&&setTimeout(Yh.unload,911),De(ft)}catch(Dt){qe(Dt.message)}})},gn.API)gn.API.hasOwnProperty(Ud)&&(Ud==="events"&&gn.API.events.length?function(O,pe){var De,qe,ft;for(ft=pe.length-1;ft!==-1;ft--)De=pe[ft][0],qe=pe[ft][1],O.subscribe.apply(O,[De].concat(typeof qe=="function"?[qe]:qe))}(Pt,gn.API.events):g[Ud]=gn.API[Ud]);var Sl=g.getPageWidth=function(O){return(it[O=O||E].mediaBox.topRightX-it[O].mediaBox.bottomLeftX)/Ue},Qd=g.setPageWidth=function(O,pe){it[O].mediaBox.topRightX=pe*Ue+it[O].mediaBox.bottomLeftX},xc=g.getPageHeight=function(O){return(it[O=O||E].mediaBox.topRightY-it[O].mediaBox.bottomLeftY)/Ue},Du=g.setPageHeight=function(O,pe){it[O].mediaBox.topRightY=pe*Ue+it[O].mediaBox.bottomLeftY};return g.internal={pdfEscape:Pe,getStyle:Ba,getFont:tn,getFontSize:Fe,getCharSpace:Wa,getTextColor:zi,getLineHeight:no,getLineHeightFactor:so,getLineWidth:ci,write:Mt,getHorizontalCoordinate:me,getVerticalCoordinate:At,getCoordinateString:lr,getVerticalCoordinateString:br,collections:{},newObject:Er,newAdditionalObject:ps,newObjectDeferred:Gt,newObjectDeferredBegin:kn,getFilters:qn,putStream:Zn,events:Pt,scaleFactor:Ue,pageSize:{getWidth:function(){return Sl(E)},setWidth:function(O){Qd(E,O)},getHeight:function(){return xc(E)},setHeight:function(O){Du(E,O)}},encryptionOptions:u,encryption:as,getEncryptor:Si,output:_i,getNumberOfPages:nn,pages:He,out:je,f2:K,f3:B,getPageInfo:Bi,getPageInfoByObjId:sn,getCurrentPageInfo:ln,getPDFVersion:y,Point:sl,Rectangle:$a,Matrix:Rt,hasHotfix:ro},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return Sl(E)},set:function(O){Qd(E,O)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return xc(E)},set:function(O){Du(E,O)},enumerable:!0,configurable:!0}),Wr.call(g,ct),Ye="F1",tr(a,n),Pt.publish("initialized"),g}mm.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},mm.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},mm.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},mm.prototype.processOwnerPassword=function(e,t){return k5(T5(t).substr(0,5),e)},mm.prototype.encryptor=function(e,t){var n=T5(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(s){return k5(n,s)}},e1.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Ps(e)!==Ps(this))return!1;var s=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;s++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&s--;return s===0},gn.API={events:[]},gn.version="3.0.1";var qi=gn.API,xB=1,Nf=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},sm=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},zn=function(e){return e.toFixed(2)},RA=function(e){return e.toFixed(5)};qi.__acroform__={};var Jl=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},uP=function(e){return e*xB},nu=function(e){var t=new iV,n=Gr.internal.getHeight(e)||0,s=Gr.internal.getWidth(e)||0;return t.BBox=[0,0,Number(zn(s)),Number(zn(n))],t},b1e=qi.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},j1e=qi.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},N1e=qi.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(e&1<<t)==0?0:1},va=qi.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return N1e(e,t-1)},ya=qi.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return b1e(e,t-1)},wa=qi.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return j1e(e,t-1)},C1e=qi.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,s=t.internal.getVerticalCoordinate,a=e[0],i=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=n(a)||0,c.lowerLeft_Y=s(i+l)||0,c.upperRight_X=n(a+o)||0,c.upperRight_Y=s(i)||0,[Number(zn(c.lowerLeft_X)),Number(zn(c.lowerLeft_Y)),Number(zn(c.upperRight_X)),Number(zn(c.upperRight_Y))]},_1e=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,s=P5(e,n),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+zn(s.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=nu(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},P5=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,s={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(B){return B.split(`
`)}):a.map(function(B){return[B]});var i=n,o=Gr.internal.getHeight(e)||0;o=o<0?-o:o;var l=Gr.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(B,R,Z){if(B+1<a.length){var te=R+" "+a[B+1][0];return j0(te,e,Z).width<=l-4}return!1};i++;e:for(;i>0;){t="",i--;var d,u,f=j0("3",e,i).height,v=e.multiline?o-i:(o-f)/2,g=v+=2,w=0,y=0,b=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+j0(t,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var x="",N=0,S=0;S<a.length;S++)if(a.hasOwnProperty(S)){var k=!1;if(a[S].length!==1&&b!==a[S].length-1){if((f+2)*(N+2)+2>o)continue e;x+=a[S][b],k=!0,y=S,S--}else{x=(x+=a[S][b]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var F=parseInt(S),$=c(F,x,i),U=S>=a.length-1;if($&&!U){x+=" ",b=0;continue}if($||U){if(U)y=F;else if(e.multiline&&(f+2)*(N+2)+2>o)continue e}else{if(!e.multiline||(f+2)*(N+2)+2>o)continue e;y=F}}for(var D="",H=w;H<=y;H++){var K=a[H];if(e.multiline){if(H===y){D+=K[b]+" ",b=(b+1)%K.length;continue}if(H===w){D+=K[K.length-1]+" ";continue}}D+=K[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,u=j0(D,e,i).width,e.textAlign){case"right":d=l-u-2;break;case"center":d=(l-u)/2;break;case"left":default:d=2}t+=zn(d)+" "+zn(g)+` Td
`,t+="("+Nf(D)+`) Tj
`,t+=-zn(d)+` 0 Td
`,g=-(i+2),u=0,w=k?y:y+1,N++,x=""}break}return s.text=t,s.fontSize=i,s},j0=function(e,t,n){var s=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:s,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:s,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:a}},S1e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},B1e=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(s){return s.type===n.type&&s.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},E1e=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var s=n,a=e[n];t.internal.newObjectDeferredBegin(a.objId,!0),Ps(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[s]}},I1e=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Dd.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(S1e)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");xB=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new aV,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var s=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in s)if(s.hasOwnProperty(a)){var i=s[a];i.objId=void 0,i.hasAnnotation&&B1e(i,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(s,a){var i=!s;for(var o in s||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),s=s||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(s.hasOwnProperty(o)){var l=s[o],c=[],d=l.Rect;if(l.Rect&&(l.Rect=C1e(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Gr.createDefaultAppearanceStream(l),Ps(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var u=_1e(l);c.push({key:"AP",value:"<</N "+u+">>"}),a.internal.acroformPlugin.xForms.push(u)}if(l.appearanceStreamContent){var f="";for(var v in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(v)){var g=l.appearanceStreamContent[v];if(f+="/"+v+" ",f+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var o in g)if(g.hasOwnProperty(o)){var w=g[o];typeof w=="function"&&(w=w.call(a,l)),f+="/"+o+" "+w+" ",a.internal.acroformPlugin.xForms.indexOf(w)>=0||a.internal.acroformPlugin.xForms.push(w)}}else typeof(w=g)=="function"&&(w=w.call(a,l)),f+="/"+o+" "+w,a.internal.acroformPlugin.xForms.indexOf(w)>=0||a.internal.acroformPlugin.xForms.push(w);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}i&&E1e(a.internal.acroformPlugin.xForms,a)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},sV=qi.__acroform__.arrayToPdfArray=function(e,t,n){var s=function(o){return o};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),Ps(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&n&&(s=n.internal.getEncryptor(t)),a+="("+Nf(s(e[i].toString()))+")"):a+=e[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},ej=function(e,t,n){var s=function(a){return a};return t!==void 0&&n&&(s=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Nf(s(e))+")"},iu=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};iu.prototype.toString=function(){return this.objId+" 0 R"},iu.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},iu.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var s=t[n],a=this[s];a&&(Array.isArray(a)?e.push({key:s,value:sV(a,this.objId,this.scope)}):a instanceof iu?(a.scope=this.scope,e.push({key:s,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:s,value:a}))}return e};var iV=function(){iu.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};Jl(iV,iu);var aV=function(){iu.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(s){return s};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Nf(n(e))+")"}},set:function(n){e=n}})};Jl(aV,iu);var Dd=function e(){iu.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');t=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!va(t,3)},set:function(x){x?this.F=ya(t,3):this.F=wa(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');n=x}});var s=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(s.length!==0)return s},set:function(x){s=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[0])?0:s[0]},set:function(x){s[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[1])?0:s[1]},set:function(x){s[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[2])?0:s[2]},set:function(x){s[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[3])?0:s[3]},set:function(x){s[3]=x}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof t1)return;i="FieldObject"+e.FieldNum++}var x=function(N){return N};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+Nf(x(i))+")"},set:function(x){i=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(x){i=x}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(x){c=x}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/xB:d},set:function(x){d=x}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(x){u=x}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof t1||this instanceof Af))return ej(f,this.objId,this.scope)},set:function(x){x=x.toString(),f=x}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof mo?v:ej(v,this.objId,this.scope)},set:function(x){x=x.toString(),v=this instanceof mo?x:x.substr(0,1)==="("?sm(x.substr(1,x.length-2)):sm(x)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mo?sm(v.substr(1,v.length-1)):v},set:function(x){x=x.toString(),v=this instanceof mo?"/"+x:x}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof mo?g:ej(g,this.objId,this.scope)},set:function(x){x=x.toString(),g=this instanceof mo?x:x.substr(0,1)==="("?sm(x.substr(1,x.length-2)):sm(x)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mo?sm(g.substr(1,g.length-1)):g},set:function(x){x=x.toString(),g=this instanceof mo?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(x){x=!!x,y=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(w)return w},set:function(x){w=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,1)},set:function(x){x?this.Ff=ya(this.Ff,1):this.Ff=wa(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,2)},set:function(x){x?this.Ff=ya(this.Ff,2):this.Ff=wa(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,3)},set:function(x){x?this.Ff=ya(this.Ff,3):this.Ff=wa(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');b=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(b){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:b=2;break;case"center":case 1:b=1;break;case"left":case 0:default:b=0}}})};Jl(Dd,iu);var Tm=function(){Dd.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return sV(t,this.objId,this.scope)},set:function(n){var s,a;a=[],typeof(s=n)=="string"&&(a=function(i,o,l){l||(l=1);for(var c,d=[];c=o.exec(i);)d.push(c[l]);return d}(s,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,s){for(s=s||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),s!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,18)},set:function(n){n?this.Ff=ya(this.Ff,18):this.Ff=wa(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=ya(this.Ff,19):this.Ff=wa(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,20)},set:function(n){n?(this.Ff=ya(this.Ff,20),t.sort()):this.Ff=wa(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,22)},set:function(n){n?this.Ff=ya(this.Ff,22):this.Ff=wa(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,23)},set:function(n){n?this.Ff=ya(this.Ff,23):this.Ff=wa(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,27)},set:function(n){n?this.Ff=ya(this.Ff,27):this.Ff=wa(this.Ff,27)}}),this.hasAppearanceStream=!1};Jl(Tm,Dd);var km=function(){Tm.call(this),this.fontName="helvetica",this.combo=!1};Jl(km,Tm);var Pm=function(){km.call(this),this.combo=!0};Jl(Pm,km);var ay=function(){Pm.call(this),this.edit=!0};Jl(ay,Pm);var mo=function(){Dd.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,15)},set:function(n){n?this.Ff=ya(this.Ff,15):this.Ff=wa(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,16)},set:function(n){n?this.Ff=ya(this.Ff,16):this.Ff=wa(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,17)},set:function(n){n?this.Ff=ya(this.Ff,17):this.Ff=wa(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,26)},set:function(n){n?this.Ff=ya(this.Ff,26):this.Ff=wa(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(i){return i};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var s,a=[];for(s in a.push("<<"),t)a.push("/"+s+" ("+Nf(n(t[s]))+")");return a.push(">>"),a.join(`
`)}},set:function(n){Ps(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};Jl(mo,Dd);var oy=function(){mo.call(this),this.pushButton=!0};Jl(oy,mo);var Dm=function(){mo.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Jl(Dm,mo);var t1=function(){var e,t;Dd.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var n,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),s)o.push("/"+i+" ("+Nf(a(s[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){Ps(a)==="object"&&(s=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(a){typeof a=="string"&&(s.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(a){n="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Gr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Jl(t1,Dd),Dm.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Dm.prototype.createOption=function(e){var t=new t1;return t.Parent=this,t.optionName=e,this.Kids.push(t),T1e.call(this.scope,t),t};var ly=function(){mo.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Gr.CheckBox.createAppearanceStream()};Jl(ly,mo);var Af=function(){Dd.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,13)},set:function(t){t?this.Ff=ya(this.Ff,13):this.Ff=wa(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,21)},set:function(t){t?this.Ff=ya(this.Ff,21):this.Ff=wa(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,23)},set:function(t){t?this.Ff=ya(this.Ff,23):this.Ff=wa(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,24)},set:function(t){t?this.Ff=ya(this.Ff,24):this.Ff=wa(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,25)},set:function(t){t?this.Ff=ya(this.Ff,25):this.Ff=wa(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,26)},set:function(t){t?this.Ff=ya(this.Ff,26):this.Ff=wa(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Jl(Af,Dd);var cy=function(){Af.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,14)},set:function(e){e?this.Ff=ya(this.Ff,14):this.Ff=wa(this.Ff,14)}}),this.password=!0};Jl(cy,Af);var Gr={CheckBox:{createAppearanceStream:function(){return{N:{On:Gr.CheckBox.YesNormal},D:{On:Gr.CheckBox.YesPushDown,Off:Gr.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=nu(e);t.scope=e.scope;var n=[],s=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=P5(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+zn(Gr.internal.getWidth(e))+" "+zn(Gr.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+s+" "+zn(i.fontSize)+" Tf "+a),n.push("BT"),n.push(i.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=nu(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),a=[],i=Gr.internal.getHeight(e),o=Gr.internal.getWidth(e),l=P5(e,e.caption);return a.push("1 g"),a.push("0 0 "+zn(o)+" "+zn(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+zn(o-1)+" "+zn(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+n+" "+zn(l.fontSize)+" Tf "+s),a.push(l.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=nu(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+zn(Gr.internal.getWidth(e))+" "+zn(Gr.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Gr.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Gr.RadioButton.Circle.YesNormal,t.D[e]=Gr.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=nu(e);t.scope=e.scope;var n=[],s=Gr.internal.getWidth(e)<=Gr.internal.getHeight(e)?Gr.internal.getWidth(e)/4:Gr.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var a=Gr.internal.Bezier_C,i=Number((s*a).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+RA(Gr.internal.getWidth(e)/2)+" "+RA(Gr.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),n.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),n.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),n.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=nu(e);t.scope=e.scope;var n=[],s=Gr.internal.getWidth(e)<=Gr.internal.getHeight(e)?Gr.internal.getWidth(e)/4:Gr.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var a=Number((2*s).toFixed(5)),i=Number((a*Gr.internal.Bezier_C).toFixed(5)),o=Number((s*Gr.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+RA(Gr.internal.getWidth(e)/2)+" "+RA(Gr.internal.getHeight(e)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),n.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),n.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),n.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+RA(Gr.internal.getWidth(e)/2)+" "+RA(Gr.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),n.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),n.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),n.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=nu(e);t.scope=e.scope;var n=[],s=Gr.internal.getWidth(e)<=Gr.internal.getHeight(e)?Gr.internal.getWidth(e)/4:Gr.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var a=Number((2*s).toFixed(5)),i=Number((a*Gr.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+RA(Gr.internal.getWidth(e)/2)+" "+RA(Gr.internal.getHeight(e)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),n.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),n.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),n.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Gr.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Gr.RadioButton.Cross.YesNormal,t.D[e]=Gr.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=nu(e);t.scope=e.scope;var n=[],s=Gr.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+zn(Gr.internal.getWidth(e)-2)+" "+zn(Gr.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(zn(s.x1.x)+" "+zn(s.x1.y)+" m"),n.push(zn(s.x2.x)+" "+zn(s.x2.y)+" l"),n.push(zn(s.x4.x)+" "+zn(s.x4.y)+" m"),n.push(zn(s.x3.x)+" "+zn(s.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=nu(e);t.scope=e.scope;var n=Gr.internal.calculateCross(e),s=[];return s.push("0.749023 g"),s.push("0 0 "+zn(Gr.internal.getWidth(e))+" "+zn(Gr.internal.getHeight(e))+" re"),s.push("f"),s.push("q"),s.push("1 1 "+zn(Gr.internal.getWidth(e)-2)+" "+zn(Gr.internal.getHeight(e)-2)+" re"),s.push("W"),s.push("n"),s.push(zn(n.x1.x)+" "+zn(n.x1.y)+" m"),s.push(zn(n.x2.x)+" "+zn(n.x2.y)+" l"),s.push(zn(n.x4.x)+" "+zn(n.x4.y)+" m"),s.push(zn(n.x3.x)+" "+zn(n.x3.y)+" l"),s.push("s"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=nu(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+zn(Gr.internal.getWidth(e))+" "+zn(Gr.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Gr.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Gr.internal.getWidth(e),n=Gr.internal.getHeight(e),s=Math.min(t,n);return{x1:{x:(t-s)/2,y:(n-s)/2+s},x2:{x:(t-s)/2+s,y:(n-s)/2},x3:{x:(t-s)/2,y:(n-s)/2},x4:{x:(t-s)/2+s,y:(n-s)/2+s}}}},Gr.internal.getWidth=function(e){var t=0;return Ps(e)==="object"&&(t=uP(e.Rect[2])),t},Gr.internal.getHeight=function(e){var t=0;return Ps(e)==="object"&&(t=uP(e.Rect[3])),t};var T1e=qi.addField=function(e){if(I1e(this,e),!(e instanceof Dd))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};qi.AcroFormChoiceField=Tm,qi.AcroFormListBox=km,qi.AcroFormComboBox=Pm,qi.AcroFormEditBox=ay,qi.AcroFormButton=mo,qi.AcroFormPushButton=oy,qi.AcroFormRadioButton=Dm,qi.AcroFormCheckBox=ly,qi.AcroFormTextField=Af,qi.AcroFormPasswordField=cy,qi.AcroFormAppearance=Gr,qi.AcroForm={ChoiceField:Tm,ListBox:km,ComboBox:Pm,EditBox:ay,Button:mo,PushButton:oy,RadioButton:Dm,CheckBox:ly,TextField:Af,PasswordField:cy,Appearance:Gr},gn.AcroForm={ChoiceField:Tm,ListBox:km,ComboBox:Pm,EditBox:ay,Button:mo,PushButton:oy,RadioButton:Dm,CheckBox:ly,TextField:Af,PasswordField:cy,Appearance:Gr};gn.AcroForm;function oV(e){return e.reduce(function(t,n,s){return t[n]=s,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(B,R){var Z,te,ye,de,le,Q=t;if((R=R||t)==="RGBA"||B.data!==void 0&&B.data instanceof Uint8ClampedArray&&"height"in B&&"width"in B)return"RGBA";if($(B))for(le in n)for(ye=n[le],Z=0;Z<ye.length;Z+=1){for(de=!0,te=0;te<ye[Z].length;te+=1)if(ye[Z][te]!==void 0&&ye[Z][te]!==B[te]){de=!1;break}if(de===!0){Q=le;break}}else for(le in n)for(ye=n[le],Z=0;Z<ye.length;Z+=1){for(de=!0,te=0;te<ye[Z].length;te+=1)if(ye[Z][te]!==void 0&&ye[Z][te]!==B.charCodeAt(te)){de=!1;break}if(de===!0){Q=le;break}}return Q===t&&R!==t&&(Q=R),Q},a=function B(R){for(var Z=this.internal.write,te=this.internal.putStream,ye=(0,this.internal.getFilters)();ye.indexOf("FlateEncode")!==-1;)ye.splice(ye.indexOf("FlateEncode"),1);R.objectId=this.internal.newObject();var de=[];if(de.push({key:"Type",value:"/XObject"}),de.push({key:"Subtype",value:"/Image"}),de.push({key:"Width",value:R.width}),de.push({key:"Height",value:R.height}),R.colorSpace===b.INDEXED?de.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(R.palette.length/3-1)+" "+("sMask"in R&&R.sMask!==void 0?R.objectId+2:R.objectId+1)+" 0 R]"}):(de.push({key:"ColorSpace",value:"/"+R.colorSpace}),R.colorSpace===b.DEVICE_CMYK&&de.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),de.push({key:"BitsPerComponent",value:R.bitsPerComponent}),"decodeParameters"in R&&R.decodeParameters!==void 0&&de.push({key:"DecodeParms",value:"<<"+R.decodeParameters+">>"}),"transparency"in R&&Array.isArray(R.transparency)){for(var le="",Q=0,oe=R.transparency.length;Q<oe;Q++)le+=R.transparency[Q]+" "+R.transparency[Q]+" ";de.push({key:"Mask",value:"["+le+"]"})}R.sMask!==void 0&&de.push({key:"SMask",value:R.objectId+1+" 0 R"});var ce=R.filter!==void 0?["/"+R.filter]:void 0;if(te({data:R.data,additionalKeyValues:de,alreadyAppliedFilters:ce,objectId:R.objectId}),Z("endobj"),"sMask"in R&&R.sMask!==void 0){var ee="/Predictor "+R.predictor+" /Colors 1 /BitsPerComponent "+R.bitsPerComponent+" /Columns "+R.width,M={width:R.width,height:R.height,colorSpace:"DeviceGray",bitsPerComponent:R.bitsPerComponent,decodeParameters:ee,data:R.sMask};"filter"in R&&(M.filter=R.filter),B.call(this,M)}if(R.colorSpace===b.INDEXED){var E=this.internal.newObject();te({data:D(new Uint8Array(R.palette)),objectId:E}),Z("endobj")}},i=function(){var B=this.internal.collections.addImage_images;for(var R in B)a.call(this,B[R])},o=function(){var B,R=this.internal.collections.addImage_images,Z=this.internal.write;for(var te in R)Z("/I"+(B=R[te]).index,B.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var B=this.internal.collections.addImage_images;return l.call(this),B},d=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(B){return typeof e["process"+B.toUpperCase()]=="function"},f=function(B){return Ps(B)==="object"&&B.nodeType===1},v=function(B,R){if(B.nodeName==="IMG"&&B.hasAttribute("src")){var Z=""+B.getAttribute("src");if(Z.indexOf("data:image/")===0)return Qg(unescape(Z).split("base64,").pop());var te=e.loadFile(Z,!0);if(te!==void 0)return te}if(B.nodeName==="CANVAS"){if(B.width===0||B.height===0)throw new Error("Given canvas must have data. Canvas width: "+B.width+", height: "+B.height);var ye;switch(R){case"PNG":ye="image/png";break;case"WEBP":ye="image/webp";break;case"JPEG":case"JPG":default:ye="image/jpeg"}return Qg(B.toDataURL(ye,1).split("base64,").pop())}},g=function(B){var R=this.internal.collections.addImage_images;if(R){for(var Z in R)if(B===R[Z].alias)return R[Z]}},w=function(B,R,Z){return B||R||(B=-96,R=-96),B<0&&(B=-1*Z.width*72/B/this.internal.scaleFactor),R<0&&(R=-1*Z.height*72/R/this.internal.scaleFactor),B===0&&(B=R*Z.width/Z.height),R===0&&(R=B*Z.height/Z.width),[B,R]},y=function(B,R,Z,te,ye,de){var le=w.call(this,Z,te,ye),Q=this.internal.getCoordinateString,oe=this.internal.getVerticalCoordinateString,ce=c.call(this);if(Z=le[0],te=le[1],ce[ye.index]=ye,de){de*=Math.PI/180;var ee=Math.cos(de),M=Math.sin(de),E=function(se){return se.toFixed(4)},q=[E(ee),E(M),E(-1*M),E(ee),0,0,"cm"]}this.internal.write("q"),de?(this.internal.write([1,"0","0",1,Q(B),oe(R+te),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([Q(Z),"0","0",Q(te),"0","0","cm"].join(" "))):this.internal.write([Q(Z),"0","0",Q(te),Q(B),oe(R+te),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ye.index+" Do"),this.internal.write("Q")},b=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},N=e.__addimage__.sHashCode=function(B){var R,Z,te=0;if(typeof B=="string")for(Z=B.length,R=0;R<Z;R++)te=(te<<5)-te+B.charCodeAt(R),te|=0;else if($(B))for(Z=B.byteLength/2,R=0;R<Z;R++)te=(te<<5)-te+B[R],te|=0;return te},S=e.__addimage__.validateStringAsBase64=function(B){(B=B||"").toString().trim();var R=!0;return B.length===0&&(R=!1),B.length%4!=0&&(R=!1),/^[A-Za-z0-9+/]+$/.test(B.substr(0,B.length-2))===!1&&(R=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(B.substr(-2))===!1&&(R=!1),R},k=e.__addimage__.extractImageFromDataUrl=function(B){if(B==null||!(B=B.trim()).startsWith("data:"))return null;var R=B.indexOf(",");return R<0?null:B.substring(0,R).trim().endsWith("base64")?B.substring(R+1):null},F=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(B){return F()&&B instanceof ArrayBuffer};var $=e.__addimage__.isArrayBufferView=function(B){return F()&&typeof Uint32Array<"u"&&(B instanceof Int8Array||B instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&B instanceof Uint8ClampedArray||B instanceof Int16Array||B instanceof Uint16Array||B instanceof Int32Array||B instanceof Uint32Array||B instanceof Float32Array||B instanceof Float64Array)},U=e.__addimage__.binaryStringToUint8Array=function(B){for(var R=B.length,Z=new Uint8Array(R),te=0;te<R;te++)Z[te]=B.charCodeAt(te);return Z},D=e.__addimage__.arrayBufferToBinaryString=function(B){for(var R="",Z=$(B)?B:new Uint8Array(B),te=0;te<Z.length;te+=8192)R+=String.fromCharCode.apply(null,Z.subarray(te,te+8192));return R};e.addImage=function(){var B,R,Z,te,ye,de,le,Q,oe;if(typeof arguments[1]=="number"?(R=t,Z=arguments[1],te=arguments[2],ye=arguments[3],de=arguments[4],le=arguments[5],Q=arguments[6],oe=arguments[7]):(R=arguments[1],Z=arguments[2],te=arguments[3],ye=arguments[4],de=arguments[5],le=arguments[6],Q=arguments[7],oe=arguments[8]),Ps(B=arguments[0])==="object"&&!f(B)&&"imageData"in B){var ce=B;B=ce.imageData,R=ce.format||R||t,Z=ce.x||Z||0,te=ce.y||te||0,ye=ce.w||ce.width||ye,de=ce.h||ce.height||de,le=ce.alias||le,Q=ce.compression||Q,oe=ce.rotation||ce.angle||oe}var ee=this.internal.getFilters();if(Q===void 0&&ee.indexOf("FlateEncode")!==-1&&(Q="SLOW"),isNaN(Z)||isNaN(te))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var M=H.call(this,B,R,le,Q);return y.call(this,Z,te,ye,de,M,oe),this};var H=function(B,R,Z,te){var ye,de,le;if(typeof B=="string"&&s(B)===t){B=unescape(B);var Q=K(B,!1);(Q!==""||(Q=e.loadFile(B,!0))!==void 0)&&(B=Q)}if(f(B)&&(B=v(B,R)),R=s(B,R),!u(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(((le=Z)==null||le.length===0)&&(Z=function(oe){return typeof oe=="string"||$(oe)?N(oe):$(oe.data)?N(oe.data):null}(B)),(ye=g.call(this,Z))||(F()&&(B instanceof Uint8Array||R==="RGBA"||(de=B,B=U(B))),ye=this["process"+R.toUpperCase()](B,d.call(this),Z,function(oe){return oe&&typeof oe=="string"&&(oe=oe.toUpperCase()),oe in e.image_compression?oe:x.NONE}(te),de)),!ye)throw new Error("An unknown error occurred whilst processing the image.");return ye},K=e.__addimage__.convertBase64ToBinaryString=function(B,R){R=typeof R!="boolean"||R;var Z,te="";if(typeof B=="string"){var ye;Z=(ye=k(B))!==null&&ye!==void 0?ye:B;try{te=Qg(Z)}catch(de){if(R)throw S(Z)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+de.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return te};e.getImageProperties=function(B){var R,Z,te="";if(f(B)&&(B=v(B)),typeof B=="string"&&s(B)===t&&((te=K(B,!1))===""&&(te=e.loadFile(B)||""),B=te),Z=s(B),!u(Z))throw new Error("addImage does not support files of type '"+Z+"', please ensure that a plugin for '"+Z+"' support is added.");if(!F()||B instanceof Uint8Array||(B=U(B)),!(R=this["process"+Z.toUpperCase()](B)))throw new Error("An unknown error occurred whilst processing the image");return R.fileType=Z,R}})(gn.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};gn.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var s,a,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),d=n.pageContext.annotations,u=!1,f=0;f<d.length&&!u;f++)switch((s=d[f]).type){case"link":(t(s.options.url)||t(s.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var v=0;v<d.length;v++){s=d[v];var g=this.internal.pdfEscape,w=this.internal.getEncryptor(n.objId);switch(s.type){case"reference":this.internal.write(" "+s.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(y.objId),N=s.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(s.bounds.x)+" "+l(s.bounds.y+s.bounds.h)+" "+o(s.bounds.x+s.bounds.w)+" "+l(s.bounds.y)+"] ")+"/Contents ("+g(x(s.contents))+")",i+=" /Popup "+b.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+g(x(N))+") >>",y.content=i;var S=y.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(s.bounds.x+30)+" "+l(s.bounds.y+s.bounds.h)+" "+o(s.bounds.x+s.bounds.w+30)+" "+l(s.bounds.y)+"] ")+" /Parent "+S,s.open&&(i+=" /Open true"),i+=" >>",b.content=i,this.internal.write(y.objId,"0 R",b.objId,"0 R");break;case"freetext":a="/Rect ["+o(s.bounds.x)+" "+l(s.bounds.y)+" "+o(s.bounds.x+s.bounds.w)+" "+l(s.bounds.y+s.bounds.h)+"] ";var k=s.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+g(w(s.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(s.options.name){var F=this.annotations._nameMap[s.options.name];s.options.pageNumber=F.page,s.options.top=F.y}else s.options.top||(s.options.top=0);if(a="/Rect ["+s.finalBounds.x+" "+s.finalBounds.y+" "+s.finalBounds.w+" "+s.finalBounds.h+"] ",i="",s.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+g(w(s.options.url))+") >>";else if(s.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(s.options.pageNumber).objId+" 0 R",s.options.magFactor=s.options.magFactor||"XYZ",s.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+s.options.top+"]";break;case"FitV":s.options.left=s.options.left||0,i+=" /FitV "+s.options.left+"]";break;case"XYZ":default:var $=l(s.options.top);s.options.left=s.options.left||0,s.options.zoom===void 0&&(s.options.zoom=0),i+=" /XYZ "+s.options.left+" "+$+" "+s.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var s=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":s.pageContext.annotations.push(n)}},e.link=function(n,s,a,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(n),y:d(s),w:c(n+a),h:d(s+i)},options:o,type:"link"})},e.textWithLink=function(n,s,a,i){var o,l,c=this.getTextWidth(n),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var u=this.splitTextToSize(n,l).length;o=Math.ceil(d*u)}else l=c,o=d;return this.text(n,s,a,i),a+=.2*d,i.align==="center"&&(s-=c/2),i.align==="right"&&(s-=c),this.link(s,a-d,l,o,i),c},e.getTextWidth=function(n){var s=this.internal.getFontSize();return this.getStringUnitWidth(n)*s/this.internal.scaleFactor}}(gn.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},s={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(y){return t[y.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},l=e.__arabicParser__.isArabicEndLetter=function(y){return o(y)&&i(y)&&t[y.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(y){return o(y)&&a.indexOf(y.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return o(y)&&i(y)&&t[y.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(y){return o(y)&&i(y)&&t[y.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(y){return o(y)&&i(y)&&t[y.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(y){return o(y)&&i(y)&&t[y.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(y){var b=0,x=n,N="",S=0;for(b=0;b<y.length;b+=1)x[y.charCodeAt(b)]!==void 0?(S++,typeof(x=x[y.charCodeAt(b)])=="number"&&(N+=String.fromCharCode(x),x=n,S=0),b===y.length-1&&(x=n,N+=y.charAt(b-(S-1)),b-=S-1,S=0)):(x=n,N+=y.charAt(b-S),b-=S,S=0);return N};e.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&s[y.charCodeAt(0)]!==void 0};var v=e.__arabicParser__.getCorrectForm=function(y,b,x){return o(y)?i(y)===!1?-1:!d(y)||!o(b)&&!o(x)||!o(x)&&l(b)||l(y)&&!o(b)||l(y)&&c(b)||l(y)&&l(b)?0:u(y)&&o(b)&&!l(b)&&o(x)&&d(x)?3:l(y)||!o(x)?1:2:-1},g=function(y){var b=0,x=0,N=0,S="",k="",F="",$=(y=y||"").split("\\s+"),U=[];for(b=0;b<$.length;b+=1){for(U.push(""),x=0;x<$[b].length;x+=1)S=$[b][x],k=$[b][x-1],F=$[b][x+1],o(S)?(N=v(S,k,F),U[b]+=N!==-1?String.fromCharCode(t[S.charCodeAt(0)][N]):S):U[b]+=S;U[b]=f(U[b])}return U.join(" ")},w=e.__arabicParser__.processArabic=e.processArabic=function(){var y,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(b)){var N=0;for(x=[],N=0;N<b.length;N+=1)Array.isArray(b[N])?x.push([g(b[N][0]),b[N][1],b[N][2]]):x.push([g(b[N])]);y=x}else y=g(b);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};e.events.push(["preProcessText",w])}(gn.API),gn.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(l){n=l}});var s=150;Object.defineProperty(this,"width",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=s+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,s){var a;if((n=n||"2d")!=="2d")return null;for(a in s)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=s[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(gn.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,s=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(y){d=y}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var v=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return v},set:function(y){v=y}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(y){g=y}});var w=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return w},set:function(y){w=y}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return s.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,d){s.call(this);var u=(d=d||{}).fontSize||this.getFontSize(),f=d.font||this.getFont(),v=d.scaleFactor||this.internal.scaleFactor,g=0,w=0,y=0,b=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var x=d.maxWidth;x>0?typeof c=="string"?c=this.splitTextToSize(c,x):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(S,k){return S.concat(b.splitTextToSize(k,x))},[])):c=Array.isArray(c)?c:[c];for(var N=0;N<c.length;N++)g<(y=this.getStringUnitWidth(c[N],{font:f})*u)&&(g=y);return g!==0&&(w=c.length),{w:g/=v,h:Math.max((w*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/v,0)}},e.cellAddPage=function(){s.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),s.call(this);var d=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,v=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,g&&v&&(this.printHeaderRow(c.lineNumber,!0),c.y+=v[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-u,c.y+u,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+u,{align:"center",baseline:"top",maxWidth:c.width-u-u}):this.text(c.text,c.x+u,c.y+u,{align:"left",baseline:"top",maxWidth:c.width-u-u})),this.internal.__cell__.lastCell=c,this};e.table=function(c,d,u,f,v){if(s.call(this),!u)throw new Error("No data for PDF table.");var g,w,y,b,x=[],N=[],S=[],k={},F={},$=[],U=[],D=(v=v||{}).autoSize||!1,H=v.printHeaders!==!1,K=v.css&&v.css["font-size"]!==void 0?16*v.css["font-size"]:v.fontSize||12,B=v.margins||Object.assign({width:this.getPageWidth()},t),R=typeof v.padding=="number"?v.padding:3,Z=v.headerBackgroundColor||"#c8c8c8",te=v.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=H,this.internal.__cell__.margins=B,this.internal.__cell__.table_font_size=K,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=Z,this.internal.__cell__.headerTextColor=te,this.setFontSize(K),f==null)N=x=Object.keys(u[0]),S=x.map(function(){return"left"});else if(Array.isArray(f)&&Ps(f[0])==="object")for(x=f.map(function(ce){return ce.name}),N=f.map(function(ce){return ce.prompt||ce.name||""}),S=f.map(function(ce){return ce.align||"left"}),g=0;g<f.length;g+=1)F[f[g].name]=f[g].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(N=x=f,S=x.map(function(){return"left"}));if(D||Array.isArray(f)&&typeof f[0]=="string")for(g=0;g<x.length;g+=1){for(k[b=x[g]]=u.map(function(ce){return ce[b]}),this.setFont(void 0,"bold"),$.push(this.getTextDimensions(N[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),w=k[b],this.setFont(void 0,"normal"),y=0;y<w.length;y+=1)$.push(this.getTextDimensions(w[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);F[b]=Math.max.apply(null,$)+R+R,$=[]}if(H){var ye={};for(g=0;g<x.length;g+=1)ye[x[g]]={},ye[x[g]].text=N[g],ye[x[g]].align=S[g];var de=l.call(this,ye,F);U=x.map(function(ce){return new i(c,d,F[ce],de,ye[ce].text,void 0,ye[ce].align)}),this.setTableHeaderRow(U),this.printHeaderRow(1,!1)}var le=f.reduce(function(ce,ee){return ce[ee.name]=ee.align,ce},{});for(g=0;g<u.length;g+=1){"rowStart"in v&&v.rowStart instanceof Function&&v.rowStart({row:g,data:u[g]},this);var Q=l.call(this,u[g],F);for(y=0;y<x.length;y+=1){var oe=u[g][x[y]];"cellStart"in v&&v.cellStart instanceof Function&&v.cellStart({row:g,col:y,data:oe},this),o.call(this,new i(c,d,F[x[y]],Q,oe,g+2,le[x[y]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,v=this.internal.scaleFactor;return Object.keys(c).map(function(g){var w=c[g];return this.splitTextToSize(w.hasOwnProperty("text")?w.text:w,d[g]-u-u)},this).map(function(g){return this.getLineHeightFactor()*g.length*f/v+u+u},this).reduce(function(g,w){return Math.max(g,w)},0)};e.setTableHeaderRow=function(c){s.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,d){if(s.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var v=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){u=this.internal.__cell__.tableHeaderRow[g].clone(),d&&(u.y=this.internal.__cell__.margins.top||0,v.push(u)),u.lineNumber=c;var w=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(w)}v.length>0&&this.setTableHeaderRow(v),this.setFont(void 0,"normal"),n=!1}}(gn.API);var lV={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},cV=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],D5=oV(cV),dV=[100,200,300,400,500,600,700,800,900],k1e=oV(dV);function F5(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(i){return lV[i=i||"normal"]?i:"normal"}(e.style),s=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(i){return typeof D5[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:n,weight:s,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,n,s].join(" ")}}}function AP(e,t,n,s){var a;for(a=n;a>=0&&a<t.length;a+=s)if(e[t[a]])return e[t[a]];for(a=n;a>=0&&a<t.length;a-=s)if(e[t[a]])return e[t[a]]}var P1e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},hP={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function fP(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function D1e(e,t,n){for(var s=(n=n||{}).defaultFontFamily||"times",a=Object.assign({},P1e,n.genericFontFamilies||{}),i=null,o=null,l=0;l<t.length;++l)if(a[(i=F5(t[l])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){o=e[i.family];break}if(!(o=o||e[s]))throw new Error("Could not find a font-family for the rule '"+fP(i)+"' and default family '"+s+"'.");if(o=function(c,d){if(d[c])return d[c];var u=D5[c],f=u<=D5.normal?-1:1,v=AP(d,cV,u,f);if(!v)throw new Error("Could not find a matching font-stretch value for "+c);return v}(i.stretch,o),o=function(c,d){if(d[c])return d[c];for(var u=lV[c],f=0;f<u.length;++f)if(d[u[f]])return d[u[f]];throw new Error("Could not find a matching font-style for "+c)}(i.style,o),!(o=function(c,d){if(d[c])return d[c];if(c===400&&d[500])return d[500];if(c===500&&d[400])return d[400];var u=k1e[c],f=AP(d,dV,u,c<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+c);return f}(i.weight,o)))throw new Error("Failed to resolve a font for the rule '"+fP(i)+"'.");return o}function mP(e){return e.trimLeft()}function F1e(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function L1e(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var N0,pP,gP,tj=["times"];(function(e){var t,n,s,a,i,o,l,c,d,u=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new c,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new o,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new o,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,n=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new u}]);var f=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var E=M;Object.defineProperty(this,"pdf",{get:function(){return E}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(Re){q=!!Re}});var se=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return se},set:function(Re){se=!!Re}});var re=0;Object.defineProperty(this,"posX",{get:function(){return re},set:function(Re){isNaN(Re)||(re=Re)}});var G=0;Object.defineProperty(this,"posY",{get:function(){return G},set:function(Re){isNaN(Re)||(G=Re)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(Re){var je;typeof Re=="number"?je=[Re,Re,Re,Re]:((je=new Array(4))[0]=Re[0],je[1]=Re.length>=2?Re[1]:je[0],je[2]=Re.length>=3?Re[2]:je[0],je[3]=Re.length>=4?Re[3]:je[1]),d.margin=je}});var ue=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ue},set:function(Re){ue=Re}});var ie=0;Object.defineProperty(this,"lastBreak",{get:function(){return ie},set:function(Re){ie=Re}});var Ee=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ee},set:function(Re){Ee=Re}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(Re){Re instanceof u&&(d=Re)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(Re){d.path=Re}});var He=[];Object.defineProperty(this,"ctxStack",{get:function(){return He},set:function(Re){He=Re}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Re){var je;je=v(Re),this.ctx.fillStyle=je.style,this.ctx.isFillTransparent=je.a===0,this.ctx.fillOpacity=je.a,this.pdf.setFillColor(je.r,je.g,je.b,{a:je.a}),this.pdf.setTextColor(je.r,je.g,je.b,{a:je.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Re){var je=v(Re);this.ctx.strokeStyle=je.style,this.ctx.isStrokeTransparent=je.a===0,this.ctx.strokeOpacity=je.a,je.a===0?this.pdf.setDrawColor(255,255,255):(je.a,this.pdf.setDrawColor(je.r,je.g,je.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Re){["butt","round","square"].indexOf(Re)!==-1&&(this.ctx.lineCap=Re,this.pdf.setLineCap(Re))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Re){isNaN(Re)||(this.ctx.lineWidth=Re,this.pdf.setLineWidth(Re))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Re){["bevel","round","miter"].indexOf(Re)!==-1&&(this.ctx.lineJoin=Re,this.pdf.setLineJoin(Re))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Re){isNaN(Re)||(this.ctx.miterLimit=Re,this.pdf.setMiterLimit(Re))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Re){this.ctx.textBaseline=Re}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Re){["right","end","center","left","start"].indexOf(Re)!==-1&&(this.ctx.textAlign=Re)}});var rt=null;function we(Re,je){if(rt===null){var Mt=function(Bt){var ct=[];return Object.keys(Bt).forEach(function(vt){Bt[vt].forEach(function(wt){var Fe=null;switch(wt){case"bold":Fe={family:vt,weight:"bold"};break;case"italic":Fe={family:vt,style:"italic"};break;case"bolditalic":Fe={family:vt,weight:"bold",style:"italic"};break;case"":case"normal":Fe={family:vt}}Fe!==null&&(Fe.ref={name:vt,style:wt},ct.push(Fe))})}),ct}(Re.getFontList());rt=function(Bt){for(var ct={},vt=0;vt<Bt.length;++vt){var wt=F5(Bt[vt]),Fe=wt.family,Oe=wt.stretch,_e=wt.style,nt=wt.weight;ct[Fe]=ct[Fe]||{},ct[Fe][Oe]=ct[Fe][Oe]||{},ct[Fe][Oe][_e]=ct[Fe][Oe][_e]||{},ct[Fe][Oe][_e][nt]=wt}return ct}(Mt.concat(je))}return rt}var Ve=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ve},set:function(Re){rt=null,Ve=Re}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Re){var je;if(this.ctx.font=Re,(je=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Re))!==null){var Mt=je[1];je[2];var Bt=je[3],ct=je[4];je[5];var vt=je[6],wt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ct)[2];ct=Math.floor(wt==="px"?parseFloat(ct)*this.pdf.internal.scaleFactor:wt==="em"?parseFloat(ct)*this.pdf.getFontSize():parseFloat(ct)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ct);var Fe=function(Be){var Ye,Ue,Lt=[],Et=Be.trim();if(Et==="")return tj;if(Et in hP)return[hP[Et]];for(;Et!=="";){switch(Ue=null,Ye=(Et=mP(Et)).charAt(0)){case'"':case"'":Ue=F1e(Et.substring(1),Ye);break;default:Ue=L1e(Et)}if(Ue===null||(Lt.push(Ue[0]),(Et=mP(Ue[1]))!==""&&Et.charAt(0)!==","))return tj;Et=Et.replace(/^,/,"")}return Lt}(vt);if(this.fontFaces){var Oe=D1e(we(this.pdf,this.fontFaces),Fe.map(function(Be){return{family:Be,stretch:"normal",weight:Bt,style:Mt}}));this.pdf.setFont(Oe.ref.name,Oe.ref.style)}else{var _e="";(Bt==="bold"||parseInt(Bt,10)>=700||Mt==="bold")&&(_e="bold"),Mt==="italic"&&(_e+="italic"),_e.length===0&&(_e="normal");for(var nt="",ut={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},jt=0;jt<Fe.length;jt++){if(this.pdf.internal.getFont(Fe[jt],_e,{noFallback:!0,disableWarning:!0})!==void 0){nt=Fe[jt];break}if(_e==="bolditalic"&&this.pdf.internal.getFont(Fe[jt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)nt=Fe[jt],_e="bold";else if(this.pdf.internal.getFont(Fe[jt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){nt=Fe[jt],_e="normal";break}}if(nt===""){for(var zt=0;zt<Fe.length;zt++)if(ut[Fe[zt]]){nt=ut[Fe[zt]];break}}nt=nt===""?"Times":nt,this.pdf.setFont(nt,_e)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Re){this.ctx.globalCompositeOperation=Re}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Re){this.ctx.globalAlpha=Re}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Re){this.ctx.lineDashOffset=Re,ee.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Re){this.ctx.lineDash=Re,ee.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Re){this.ctx.ignoreClearRect=!!Re}})};f.prototype.setLineDash=function(M){this.lineDash=M},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){k.call(this,"fill",!1)},f.prototype.stroke=function(){k.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(M,E){if(isNaN(M)||isNaN(E))throw ti.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new o(M,E));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new o(M,E)},f.prototype.closePath=function(){var M=new o(0,0),E=0;for(E=this.path.length-1;E!==-1;E--)if(this.path[E].type==="begin"&&Ps(this.path[E+1])==="object"&&typeof this.path[E+1].x=="number"){M=new o(this.path[E+1].x,this.path[E+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(M.x,M.y)},f.prototype.lineTo=function(M,E){if(isNaN(M)||isNaN(E))throw ti.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new o(M,E));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new o(q.x,q.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},f.prototype.quadraticCurveTo=function(M,E,q,se){if(isNaN(q)||isNaN(se)||isNaN(M)||isNaN(E))throw ti.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var re=this.ctx.transform.applyToPoint(new o(q,se)),G=this.ctx.transform.applyToPoint(new o(M,E));this.path.push({type:"qct",x1:G.x,y1:G.y,x:re.x,y:re.y}),this.ctx.lastPoint=new o(re.x,re.y)},f.prototype.bezierCurveTo=function(M,E,q,se,re,G){if(isNaN(re)||isNaN(G)||isNaN(M)||isNaN(E)||isNaN(q)||isNaN(se))throw ti.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ue=this.ctx.transform.applyToPoint(new o(re,G)),ie=this.ctx.transform.applyToPoint(new o(M,E)),Ee=this.ctx.transform.applyToPoint(new o(q,se));this.path.push({type:"bct",x1:ie.x,y1:ie.y,x2:Ee.x,y2:Ee.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new o(ue.x,ue.y)},f.prototype.arc=function(M,E,q,se,re,G){if(isNaN(M)||isNaN(E)||isNaN(q)||isNaN(se)||isNaN(re))throw ti.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(G=!!G,!this.ctx.transform.isIdentity){var ue=this.ctx.transform.applyToPoint(new o(M,E));M=ue.x,E=ue.y;var ie=this.ctx.transform.applyToPoint(new o(0,q)),Ee=this.ctx.transform.applyToPoint(new o(0,0));q=Math.sqrt(Math.pow(ie.x-Ee.x,2)+Math.pow(ie.y-Ee.y,2))}Math.abs(re-se)>=2*Math.PI&&(se=0,re=2*Math.PI),this.path.push({type:"arc",x:M,y:E,radius:q,startAngle:se,endAngle:re,counterclockwise:G})},f.prototype.arcTo=function(M,E,q,se,re){throw new Error("arcTo not implemented.")},f.prototype.rect=function(M,E,q,se){if(isNaN(M)||isNaN(E)||isNaN(q)||isNaN(se))throw ti.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,E),this.lineTo(M+q,E),this.lineTo(M+q,E+se),this.lineTo(M,E+se),this.lineTo(M,E),this.lineTo(M+q,E),this.lineTo(M,E)},f.prototype.fillRect=function(M,E,q,se){if(isNaN(M)||isNaN(E)||isNaN(q)||isNaN(se))throw ti.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var re={};this.lineCap!=="butt"&&(re.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(re.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,E,q,se),this.fill(),re.hasOwnProperty("lineCap")&&(this.lineCap=re.lineCap),re.hasOwnProperty("lineJoin")&&(this.lineJoin=re.lineJoin)}},f.prototype.strokeRect=function(M,E,q,se){if(isNaN(M)||isNaN(E)||isNaN(q)||isNaN(se))throw ti.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");w.call(this)||(this.beginPath(),this.rect(M,E,q,se),this.stroke())},f.prototype.clearRect=function(M,E,q,se){if(isNaN(M)||isNaN(E)||isNaN(q)||isNaN(se))throw ti.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,E,q,se))},f.prototype.save=function(M){M=typeof M!="boolean"||M;for(var E=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(E),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var se=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=se}},f.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var E=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(E),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var v=function(M){var E,q,se,re;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))E=0,q=0,se=0,re=0;else{var G=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(G!==null)E=parseInt(G[1]),q=parseInt(G[2]),se=parseInt(G[3]),re=1;else if((G=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)E=parseInt(G[1]),q=parseInt(G[2]),se=parseInt(G[3]),re=parseFloat(G[4]);else{if(re=1,typeof M=="string"&&M.charAt(0)!=="#"){var ue=new tV(M);M=ue.ok?ue.toHex():"#000000"}M.length===4?(E=M.substring(1,2),E+=E,q=M.substring(2,3),q+=q,se=M.substring(3,4),se+=se):(E=M.substring(1,3),q=M.substring(3,5),se=M.substring(5,7)),E=parseInt(E,16),q=parseInt(q,16),se=parseInt(se,16)}}return{r:E,g:q,b:se,a:re,style:M}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},w=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(M,E,q,se){if(isNaN(E)||isNaN(q)||typeof M!="string")throw ti.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(se=isNaN(se)?void 0:se,!g.call(this)){var re=Q(this.ctx.transform.rotation),G=this.ctx.transform.scaleX;R.call(this,{text:M,x:E,y:q,scale:G,angle:re,align:this.textAlign,maxWidth:se})}},f.prototype.strokeText=function(M,E,q,se){if(isNaN(E)||isNaN(q)||typeof M!="string")throw ti.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!w.call(this)){se=isNaN(se)?void 0:se;var re=Q(this.ctx.transform.rotation),G=this.ctx.transform.scaleX;R.call(this,{text:M,x:E,y:q,scale:G,renderingMode:"stroke",angle:re,align:this.textAlign,maxWidth:se})}},f.prototype.measureText=function(M){if(typeof M!="string")throw ti.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var E=this.pdf,q=this.pdf.internal.scaleFactor,se=E.internal.getFontSize(),re=E.getStringUnitWidth(M)*se/E.internal.scaleFactor,G=function(ue){var ie=(ue=ue||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ie}}),this};return new G({width:re*=Math.round(96*q/72*1e4)/1e4})},f.prototype.scale=function(M,E){if(isNaN(M)||isNaN(E))throw ti.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new c(M,0,0,E,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},f.prototype.rotate=function(M){if(isNaN(M))throw ti.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var E=new c(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(E)},f.prototype.translate=function(M,E){if(isNaN(M)||isNaN(E))throw ti.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new c(1,0,0,1,M,E);this.ctx.transform=this.ctx.transform.multiply(q)},f.prototype.transform=function(M,E,q,se,re,G){if(isNaN(M)||isNaN(E)||isNaN(q)||isNaN(se)||isNaN(re)||isNaN(G))throw ti.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ue=new c(M,E,q,se,re,G);this.ctx.transform=this.ctx.transform.multiply(ue)},f.prototype.setTransform=function(M,E,q,se,re,G){M=isNaN(M)?1:M,E=isNaN(E)?0:E,q=isNaN(q)?0:q,se=isNaN(se)?1:se,re=isNaN(re)?0:re,G=isNaN(G)?0:G,this.ctx.transform=new c(M,E,q,se,re,G)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(M,E,q,se,re,G,ue,ie,Ee){var He=this.pdf.getImageProperties(M),rt=1,we=1,Ve=1,Re=1;se!==void 0&&ie!==void 0&&(Ve=ie/se,Re=Ee/re,rt=He.width/se*ie/se,we=He.height/re*Ee/re),G===void 0&&(G=E,ue=q,E=0,q=0),se!==void 0&&ie===void 0&&(ie=se,Ee=re),se===void 0&&ie===void 0&&(ie=He.width,Ee=He.height);for(var je,Mt=this.ctx.transform.decompose(),Bt=Q(Mt.rotate.shx),ct=new c,vt=(ct=(ct=(ct=ct.multiply(Mt.translate)).multiply(Mt.skew)).multiply(Mt.scale)).applyToRectangle(new l(G-E*Ve,ue-q*Re,se*rt,re*we)),wt=b.call(this,vt),Fe=[],Oe=0;Oe<wt.length;Oe+=1)Fe.indexOf(wt[Oe])===-1&&Fe.push(wt[Oe]);if(S(Fe),this.autoPaging)for(var _e=Fe[0],nt=Fe[Fe.length-1],ut=_e;ut<nt+1;ut++){this.pdf.setPage(ut);var jt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],zt=ut===1?this.posY+this.margin[0]:this.margin[0],Be=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ye=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ue=ut===1?0:Be+(ut-2)*Ye;if(this.ctx.clip_path.length!==0){var Lt=this.path;je=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(je,this.posX+this.margin[3],-Ue+zt+this.ctx.prevPageLastElemOffset),F.call(this,"fill",!0),this.path=Lt}var Et=JSON.parse(JSON.stringify(vt));Et=N([Et],this.posX+this.margin[3],-Ue+zt+this.ctx.prevPageLastElemOffset)[0];var hr=(ut>_e||ut<nt)&&y.call(this);hr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],jt,Ye,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",Et.x,Et.y,Et.w,Et.h,null,null,Bt),hr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",vt.x,vt.y,vt.w,vt.h,null,null,Bt)};var b=function(M,E,q){var se=[];E=E||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var re=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":se.push(Math.floor((M.y+re)/q)+1);break;case"arc":se.push(Math.floor((M.y+re-M.radius)/q)+1),se.push(Math.floor((M.y+re+M.radius)/q)+1);break;case"qct":var G=oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);se.push(Math.floor((G.y+re)/q)+1),se.push(Math.floor((G.y+G.h+re)/q)+1);break;case"bct":var ue=ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);se.push(Math.floor((ue.y+re)/q)+1),se.push(Math.floor((ue.y+ue.h+re)/q)+1);break;case"rect":se.push(Math.floor((M.y+re)/q)+1),se.push(Math.floor((M.y+M.h+re)/q)+1)}for(var ie=0;ie<se.length;ie+=1)for(;this.pdf.internal.getNumberOfPages()<se[ie];)x.call(this);return se},x=function(){var M=this.fillStyle,E=this.strokeStyle,q=this.font,se=this.lineCap,re=this.lineWidth,G=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=E,this.font=q,this.lineCap=se,this.lineWidth=re,this.lineJoin=G},N=function(M,E,q){for(var se=0;se<M.length;se++)switch(M[se].type){case"bct":M[se].x2+=E,M[se].y2+=q;case"qct":M[se].x1+=E,M[se].y1+=q;case"mt":case"lt":case"arc":default:M[se].x+=E,M[se].y+=q}return M},S=function(M){return M.sort(function(E,q){return E-q})},k=function(M,E){for(var q,se,re=this.fillStyle,G=this.strokeStyle,ue=this.lineCap,ie=this.lineWidth,Ee=Math.abs(ie*this.ctx.transform.scaleX),He=this.lineJoin,rt=JSON.parse(JSON.stringify(this.path)),we=JSON.parse(JSON.stringify(this.path)),Ve=[],Re=0;Re<we.length;Re++)if(we[Re].x!==void 0)for(var je=b.call(this,we[Re]),Mt=0;Mt<je.length;Mt+=1)Ve.indexOf(je[Mt])===-1&&Ve.push(je[Mt]);for(var Bt=0;Bt<Ve.length;Bt++)for(;this.pdf.internal.getNumberOfPages()<Ve[Bt];)x.call(this);if(S(Ve),this.autoPaging)for(var ct=Ve[0],vt=Ve[Ve.length-1],wt=ct;wt<vt+1;wt++){this.pdf.setPage(wt),this.fillStyle=re,this.strokeStyle=G,this.lineCap=ue,this.lineWidth=Ee,this.lineJoin=He;var Fe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Oe=wt===1?this.posY+this.margin[0]:this.margin[0],_e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ut=wt===1?0:_e+(wt-2)*nt;if(this.ctx.clip_path.length!==0){var jt=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(q,this.posX+this.margin[3],-ut+Oe+this.ctx.prevPageLastElemOffset),F.call(this,M,!0),this.path=jt}if(se=JSON.parse(JSON.stringify(rt)),this.path=N(se,this.posX+this.margin[3],-ut+Oe+this.ctx.prevPageLastElemOffset),E===!1||wt===0){var zt=(wt>ct||wt<vt)&&y.call(this);zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Fe,nt,null).clip().discardPath()),F.call(this,M,E),zt&&this.pdf.restoreGraphicsState()}this.lineWidth=ie}else this.lineWidth=Ee,F.call(this,M,E),this.lineWidth=ie;this.path=rt},F=function(M,E){if((M!=="stroke"||E||!w.call(this))&&(M==="stroke"||E||!g.call(this))){for(var q,se,re=[],G=this.path,ue=0;ue<G.length;ue++){var ie=G[ue];switch(ie.type){case"begin":re.push({begin:!0});break;case"close":re.push({close:!0});break;case"mt":re.push({start:ie,deltas:[],abs:[]});break;case"lt":var Ee=re.length;if(G[ue-1]&&!isNaN(G[ue-1].x)&&(q=[ie.x-G[ue-1].x,ie.y-G[ue-1].y],Ee>0)){for(;Ee>=0;Ee--)if(re[Ee-1].close!==!0&&re[Ee-1].begin!==!0){re[Ee-1].deltas.push(q),re[Ee-1].abs.push(ie);break}}break;case"bct":q=[ie.x1-G[ue-1].x,ie.y1-G[ue-1].y,ie.x2-G[ue-1].x,ie.y2-G[ue-1].y,ie.x-G[ue-1].x,ie.y-G[ue-1].y],re[re.length-1].deltas.push(q);break;case"qct":var He=G[ue-1].x+2/3*(ie.x1-G[ue-1].x),rt=G[ue-1].y+2/3*(ie.y1-G[ue-1].y),we=ie.x+2/3*(ie.x1-ie.x),Ve=ie.y+2/3*(ie.y1-ie.y),Re=ie.x,je=ie.y;q=[He-G[ue-1].x,rt-G[ue-1].y,we-G[ue-1].x,Ve-G[ue-1].y,Re-G[ue-1].x,je-G[ue-1].y],re[re.length-1].deltas.push(q);break;case"arc":re.push({deltas:[],abs:[],arc:!0}),Array.isArray(re[re.length-1].abs)&&re[re.length-1].abs.push(ie)}}se=E?null:M==="stroke"?"stroke":"fill";for(var Mt=!1,Bt=0;Bt<re.length;Bt++)if(re[Bt].arc)for(var ct=re[Bt].abs,vt=0;vt<ct.length;vt++){var wt=ct[vt];wt.type==="arc"?D.call(this,wt.x,wt.y,wt.radius,wt.startAngle,wt.endAngle,wt.counterclockwise,void 0,E,!Mt):Z.call(this,wt.x,wt.y),Mt=!0}else if(re[Bt].close===!0)this.pdf.internal.out("h"),Mt=!1;else if(re[Bt].begin!==!0){var Fe=re[Bt].start.x,Oe=re[Bt].start.y;te.call(this,re[Bt].deltas,Fe,Oe),Mt=!0}se&&H.call(this,se),E&&K.call(this)}},$=function(M){var E=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=E*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-q;case"top":return M+E-q;case"hanging":return M+E-2*q;case"middle":return M+E/2-q;case"ideographic":return M;case"alphabetic":default:return M}},U=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(E,q){this.colorStops.push([E,q])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(M,E,q,se,re,G,ue,ie,Ee){for(var He=de.call(this,q,se,re,G),rt=0;rt<He.length;rt++){var we=He[rt];rt===0&&(Ee?B.call(this,we.x1+M,we.y1+E):Z.call(this,we.x1+M,we.y1+E)),ye.call(this,M,E,we.x2,we.y2,we.x3,we.y3,we.x4,we.y4)}ie?K.call(this):H.call(this,ue)},H=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},K=function(){this.pdf.clip(),this.pdf.discardPath()},B=function(M,E){this.pdf.internal.out(n(M)+" "+s(E)+" m")},R=function(M){var E;switch(M.align){case"right":case"end":E="right";break;case"center":E="center";break;case"left":case"start":default:E="left"}var q=this.pdf.getTextDimensions(M.text),se=$.call(this,M.y),re=U.call(this,se)-q.h,G=this.ctx.transform.applyToPoint(new o(M.x,se)),ue=this.ctx.transform.decompose(),ie=new c;ie=(ie=(ie=ie.multiply(ue.translate)).multiply(ue.skew)).multiply(ue.scale);for(var Ee,He,rt,we=this.ctx.transform.applyToRectangle(new l(M.x,se,q.w,q.h)),Ve=ie.applyToRectangle(new l(M.x,re,q.w,q.h)),Re=b.call(this,Ve),je=[],Mt=0;Mt<Re.length;Mt+=1)je.indexOf(Re[Mt])===-1&&je.push(Re[Mt]);if(S(je),this.autoPaging)for(var Bt=je[0],ct=je[je.length-1],vt=Bt;vt<ct+1;vt++){this.pdf.setPage(vt);var wt=vt===1?this.posY+this.margin[0]:this.margin[0],Fe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Oe=this.pdf.internal.pageSize.height-this.margin[2],_e=Oe-this.margin[0],nt=this.pdf.internal.pageSize.width-this.margin[1],ut=nt-this.margin[3],jt=vt===1?0:Fe+(vt-2)*_e;if(this.ctx.clip_path.length!==0){var zt=this.path;Ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(Ee,this.posX+this.margin[3],-1*jt+wt),F.call(this,"fill",!0),this.path=zt}var Be=N([JSON.parse(JSON.stringify(Ve))],this.posX+this.margin[3],-jt+wt+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(He=this.pdf.internal.getFontSize(),this.pdf.setFontSize(He*M.scale),rt=this.lineWidth,this.lineWidth=rt*M.scale);var Ye=this.autoPaging!=="text";if(Ye||Be.y+Be.h<=Oe){if(Ye||Be.y>=wt&&Be.x<=nt){var Ue=Ye?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||nt-Be.x)[0],Lt=N([JSON.parse(JSON.stringify(we))],this.posX+this.margin[3],-jt+wt+this.ctx.prevPageLastElemOffset)[0],Et=Ye&&(vt>Bt||vt<ct)&&y.call(this);Et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ut,_e,null).clip().discardPath()),this.pdf.text(Ue,Lt.x,Lt.y,{angle:M.angle,align:E,renderingMode:M.renderingMode}),Et&&this.pdf.restoreGraphicsState()}}else Be.y<Oe&&(this.ctx.prevPageLastElemOffset+=Oe-Be.y);M.scale>=.01&&(this.pdf.setFontSize(He),this.lineWidth=rt)}else M.scale>=.01&&(He=this.pdf.internal.getFontSize(),this.pdf.setFontSize(He*M.scale),rt=this.lineWidth,this.lineWidth=rt*M.scale),this.pdf.text(M.text,G.x+this.posX,G.y+this.posY,{angle:M.angle,align:E,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(He),this.lineWidth=rt)},Z=function(M,E,q,se){q=q||0,se=se||0,this.pdf.internal.out(n(M+q)+" "+s(E+se)+" l")},te=function(M,E,q){return this.pdf.lines(M,E,q,null,null)},ye=function(M,E,q,se,re,G,ue,ie){this.pdf.internal.out([t(a(q+M)),t(i(se+E)),t(a(re+M)),t(i(G+E)),t(a(ue+M)),t(i(ie+E)),"c"].join(" "))},de=function(M,E,q,se){for(var re=2*Math.PI,G=Math.PI/2;E>q;)E-=re;var ue=Math.abs(q-E);ue<re&&se&&(ue=re-ue);for(var ie=[],Ee=se?-1:1,He=E;ue>1e-5;){var rt=He+Ee*Math.min(ue,G);ie.push(le.call(this,M,He,rt)),ue-=Math.abs(rt-He),He=rt}return ie},le=function(M,E,q){var se=(q-E)/2,re=M*Math.cos(se),G=M*Math.sin(se),ue=re,ie=-G,Ee=ue*ue+ie*ie,He=Ee+ue*re+ie*G,rt=4/3*(Math.sqrt(2*Ee*He)-He)/(ue*G-ie*re),we=ue-rt*ie,Ve=ie+rt*ue,Re=we,je=-Ve,Mt=se+E,Bt=Math.cos(Mt),ct=Math.sin(Mt);return{x1:M*Math.cos(E),y1:M*Math.sin(E),x2:we*Bt-Ve*ct,y2:we*ct+Ve*Bt,x3:Re*Bt-je*ct,y3:Re*ct+je*Bt,x4:M*Math.cos(q),y4:M*Math.sin(q)}},Q=function(M){return 180*M/Math.PI},oe=function(M,E,q,se,re,G){var ue=M+.5*(q-M),ie=E+.5*(se-E),Ee=re+.5*(q-re),He=G+.5*(se-G),rt=Math.min(M,re,ue,Ee),we=Math.max(M,re,ue,Ee),Ve=Math.min(E,G,ie,He),Re=Math.max(E,G,ie,He);return new l(rt,Ve,we-rt,Re-Ve)},ce=function(M,E,q,se,re,G,ue,ie){var Ee,He,rt,we,Ve,Re,je,Mt,Bt,ct,vt,wt,Fe,Oe,_e=q-M,nt=se-E,ut=re-q,jt=G-se,zt=ue-re,Be=ie-G;for(He=0;He<41;He++)Bt=(je=(rt=M+(Ee=He/40)*_e)+Ee*((Ve=q+Ee*ut)-rt))+Ee*(Ve+Ee*(re+Ee*zt-Ve)-je),ct=(Mt=(we=E+Ee*nt)+Ee*((Re=se+Ee*jt)-we))+Ee*(Re+Ee*(G+Ee*Be-Re)-Mt),He==0?(vt=Bt,wt=ct,Fe=Bt,Oe=ct):(vt=Math.min(vt,Bt),wt=Math.min(wt,ct),Fe=Math.max(Fe,Bt),Oe=Math.max(Oe,ct));return new l(Math.round(vt),Math.round(wt),Math.round(Fe-vt),Math.round(Oe-wt))},ee=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,E,q=(M=this.ctx.lineDash,E=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:E}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(gn.API),function(e){var t=function(i){var o,l,c,d,u,f,v,g,w,y;for(l=[],c=0,d=(i+=o="\0\0\0\0".slice(i.length%4||4)).length;d>c;c+=4)(u=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(f=(u=((u=((u=((u=(u-(y=u%85))/85)-(w=u%85))/85)-(g=u%85))/85)-(v=u%85))/85)%85,l.push(f+33,v+33,g+33,w+33,y+33)):l.push(122);return function(b,x){for(var N=x;N>0;N--)b.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},n=function(i){var o,l,c,d,u,f=String,v="length",g=255,w="charCodeAt",y="slice",b="replace";for(i[y](-2),i=i[y](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),c=[],d=0,u=(i+=o="uuuuu"[y](i[v]%5||5))[v];u>d;d+=5)l=52200625*(i[w](d)-33)+614125*(i[w](d+1)-33)+7225*(i[w](d+2)-33)+85*(i[w](d+3)-33)+(i[w](d+4)-33),c.push(g&l>>24,g&l>>16,g&l>>8,g&l);return function(x,N){for(var S=N;S>0;S--)x.pop()}(c,o[v]),f.fromCharCode.apply(f,c)},s=function(i){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),o.test(i)===!1)return"";for(var l="",c=0;c<i.length;c+=2)l+=String.fromCharCode("0x"+(i[c]+i[c+1]));return l},a=function(i){for(var o=new Uint8Array(i.length),l=i.length;l--;)o[l]=i.charCodeAt(l);return i=(o=E5(o)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};e.processDataByFilters=function(i,o){var l=0,c=i||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=s(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}}(gn.API),function(e){e.loadFile=function(t,n,s){return function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,d,u){var f=new XMLHttpRequest,v=0,g=function(w){var y=w.length,b=[],x=String.fromCharCode;for(v=0;v<y;v+=1)b.push(x(255&w.charCodeAt(v)));return b.join("")};if(f.open("GET",c,!d),f.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(f.onload=function(){f.status===200?u(g(this.responseText)):u(void 0)}),f.send(null),d&&f.status===200)return g(f.responseText)}(a,i,o)}catch{}return l}(t,n,s)},e.loadImageFile=e.loadFile}(gn.API),function(e){function t(){return(Sn.html2canvas?Promise.resolve(Sn.html2canvas):N5(()=>Promise.resolve().then(()=>e1e),[],import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(Sn.DOMPurify?Promise.resolve(Sn.DOMPurify):N5(()=>Promise.resolve().then(()=>rCe),void 0,import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var s=function(o){var l=Ps(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},a=function(o,l){var c=document.createElement(o);for(var d in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[d]=l.style[d];return c},i=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),c);return d=(d=d.setProgress(1,o,1,[o])).set(l)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(o,l){return o.__proto__=l||i.prototype,o},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(s(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(c){return this.set({src:a("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},i.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(d,u){for(var f=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),v=d.firstChild;v;v=v.nextSibling)u!==!0&&v.nodeType===1&&v.nodeName==="SCRIPT"||f.appendChild(c(v,u));return d.nodeType===1&&(d.nodeName==="CANVAS"?(f.width=d.width,f.height=d.height,f.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(f.value=d.value),f.addEventListener("load",function(){f.scrollTop=d.scrollTop,f.scrollLeft=d.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=this.opt.jsPDF,d=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var v=0;v<d.length;++v){var g=d[v],w=g.src.find(function(y){return y.format==="truetype"});w&&c.addFont(w.url,g.ref.name,g.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,c.context2d.save(!0),l(this.prop.container,f)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},i.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},i.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},i.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(o){if(s(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in i.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},i.prototype.get=function(o,l){return this.then(function(){var c=o in i.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},i.prototype.setMargin=function(o){return this.then(function(){switch(s(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},i.prototype.setPageSize=function(o){function l(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(o=o||gn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},i.prototype.setProgress=function(o,l,c,d){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(o,l,c,d){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},i.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(d,u){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(f){return c.updateProgress(null,d),f}).then(d,u).then(function(f){return c.updateProgress(1),f})})},i.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),l&&(l=l.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),u=c.call(d,o,l);return i.convert(u,this.__proto__)},i.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},i.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},i.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return i.convert(l,this)},i.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},i.prototype.error=function(o){return this.then(function(){throw new Error(o)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,gn.getPageSize=function(o,l,c){if(Ps(o)==="object"){var d=o;o=d.orientation,l=d.unit||l,c=d.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var u,f=(""+c).toLowerCase(),v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+l}var g,w=0,y=0;if(v.hasOwnProperty(f))w=v[f][1]/u,y=v[f][0]/u;else try{w=c[1],y=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",y>w&&(g=y,y=w,w=g);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",w>y&&(g=y,y=w,w=g)}return{width:y,height:w,unit:l,k:u,orientation:o}},e.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(F5):null;var c=new i(l);return l.worker?c:c.from(o).doCallback()}}(gn.API),gn.API.addJS=function(e){return gP=e,this.internal.events.subscribe("postPutResources",function(){N0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(N0+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),pP=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+gP+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){N0!==void 0&&pP!==void 0&&this.internal.out("/Names <</JavaScript "+N0+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,s=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=n.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],l=s.exec(o);if(l!=null){var c=l[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,u=[];for(i=0;i<d;i++){var f=n.internal.newObject();u.push(f);var v=n.internal.getPageInfo(i+1);n.internal.write("<< /D["+v.objId+" 0 R /XYZ null null null]>> endobj")}var g=n.internal.newObject();for(n.internal.write("<< /Names [ "),i=0;i<u.length;i++)n.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+g+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(s,a,i){var o={title:a,options:i,children:[]};return s==null&&(s=this.root),s.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(s){s.id=n.internal.newObjectDeferred();for(var a=0;a<s.children.length;a++)this.genIds_r(s.children[a])},n.outline.renderRoot=function(s){this.objStart(s),this.line("/Type /Outlines"),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1]))),this.line("/Count "+this.count_r({count:0},s)),this.objEnd()},n.outline.renderItems=function(s){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<s.children.length;i++){var o=s.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(s)),i>0&&this.line("/Prev "+this.makeRef(s.children[i-1])),i<s.children.length-1&&this.line("/Next "+this.makeRef(s.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<s.children.length;d++)this.renderItems(s.children[d])},n.outline.line=function(s){this.ctx.val+=s+`\r
`},n.outline.makeRef=function(s){return s.id+" 0 R"},n.outline.makeString=function(s){return"("+n.internal.pdfEscape(s)+")"},n.outline.objStart=function(s){this.ctx.val+=`\r
`+s.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(s,a){for(var i=0;i<a.children.length;i++)s.count++,this.count_r(s,a.children[i]);return s.count}}])}(gn.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,s,a,i,o,l){var c,d=this.decode.DCT_DECODE,u=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(c=function(f){for(var v,g=256*f.charCodeAt(4)+f.charCodeAt(5),w=f.length,y={width:0,height:0,numcomponents:1},b=4;b<w;b+=2){if(b+=g,t.indexOf(f.charCodeAt(b+1))!==-1){v=256*f.charCodeAt(b+5)+f.charCodeAt(b+6),y={width:256*f.charCodeAt(b+7)+f.charCodeAt(b+8),height:v,numcomponents:f.charCodeAt(b+9)};break}g=256*f.charCodeAt(b+2)+f.charCodeAt(b+3)}return y}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}u={data:n,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:s,alias:a}}return u}}(gn.API);var im,C0,xP,vP,yP,R1e=function(){var e,t,n;function s(i){var o,l,c,d,u,f,v,g,w,y,b,x,N,S;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(o=this.readUInt32(),w=(function(){var k,F;for(F=[],k=0;k<4;++k)F.push(String.fromCharCode(this.data[this.pos++]));return F}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),d=this.readUInt16()||100,f.delay=1e3*u/d,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(w==="fdAT"&&(this.pos+=4,o-=4),i=(f!=null?f.data:void 0)||this.imgData,x=0;0<=o?x<o:x>o;0<=o?++x:--x)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((y=c-this.transparency.indexed.length)>0)for(N=0;0<=y?N<y:N>y;0<=y?++N:--N)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":v=(b=this.read(o)).indexOf(0),g=String.fromCharCode.apply(String,b.slice(0,v)),this.text[g]=String.fromCharCode.apply(String,b.slice(v+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(S=this.colorType)===4||S===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}s.prototype.read=function(i){var o,l;for(l=[],o=0;0<=i?o<i:o>i;0<=i?++o:--o)l.push(this.data[this.pos++]);return l},s.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},s.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},s.prototype.decodePixels=function(i){var o=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*o),c=0,d=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function u(f,v,g,w){var y,b,x,N,S,k,F,$,U,D,H,K,B,R,Z,te,ye,de,le,Q,oe,ce=Math.ceil((d.width-f)/g),ee=Math.ceil((d.height-v)/w),M=d.width==ce&&d.height==ee;for(R=o*ce,K=M?l:new Uint8Array(R*ee),k=i.length,B=0,b=0;B<ee&&c<k;){switch(i[c++]){case 0:for(N=ye=0;ye<R;N=ye+=1)K[b++]=i[c++];break;case 1:for(N=de=0;de<R;N=de+=1)y=i[c++],S=N<o?0:K[b-o],K[b++]=(y+S)%256;break;case 2:for(N=le=0;le<R;N=le+=1)y=i[c++],x=(N-N%o)/o,Z=B&&K[(B-1)*R+x*o+N%o],K[b++]=(Z+y)%256;break;case 3:for(N=Q=0;Q<R;N=Q+=1)y=i[c++],x=(N-N%o)/o,S=N<o?0:K[b-o],Z=B&&K[(B-1)*R+x*o+N%o],K[b++]=(y+Math.floor((S+Z)/2))%256;break;case 4:for(N=oe=0;oe<R;N=oe+=1)y=i[c++],x=(N-N%o)/o,S=N<o?0:K[b-o],B===0?Z=te=0:(Z=K[(B-1)*R+x*o+N%o],te=x&&K[(B-1)*R+(x-1)*o+N%o]),F=S+Z-te,$=Math.abs(F-S),D=Math.abs(F-Z),H=Math.abs(F-te),U=$<=D&&$<=H?S:D<=H?Z:te,K[b++]=(y+U)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!M){var E=((v+B*w)*d.width+f)*o,q=B*R;for(N=0;N<ce;N+=1){for(var se=0;se<o;se+=1)l[E++]=K[q++];E+=(g-1)*o}}B++}}return i=m1e(i),d.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),l},s.prototype.decodePalette=function(){var i,o,l,c,d,u,f,v,g;for(l=this.palette,u=this.transparency.indexed||[],d=new Uint8Array((u.length||0)+l.length),c=0,i=0,o=f=0,v=l.length;f<v;o=f+=3)d[c++]=l[o],d[c++]=l[o+1],d[c++]=l[o+2],d[c++]=(g=u[i++])!=null?g:255;return d},s.prototype.copyToImageData=function(i,o){var l,c,d,u,f,v,g,w,y,b,x;if(c=this.colors,y=null,l=this.hasAlphaChannel,this.palette.length&&(y=(x=this._decodedPalette)!=null?x:this._decodedPalette=this.decodePalette(),c=4,l=!0),w=(d=i.data||i).length,f=y||o,u=v=0,c===1)for(;u<w;)g=y?4*o[u/4]:v,b=f[g++],d[u++]=b,d[u++]=b,d[u++]=b,d[u++]=l?f[g++]:255,v=g;else for(;u<w;)g=y?4*o[u/4]:v,d[u++]=f[g++],d[u++]=f[g++],d[u++]=f[g++],d[u++]=l?f[g++]:255,v=g},s.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(Sn)==="[object Window]"){try{t=Sn.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(i){var o;if(a()===!0)return n.width=i.width,n.height=i.height,n.clearRect(0,0,i.width,i.height),n.putImageData(i,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},s.prototype.decodeFrames=function(i){var o,l,c,d,u,f,v,g;if(this.animation){for(g=[],l=u=0,f=(v=this.animation.frames).length;u<f;l=++u)o=v[l],c=i.createImageData(o.width,o.height),d=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,d),o.imageData=c,g.push(o.image=e(c));return g}},s.prototype.renderFrame=function(i,o){var l,c,d;return l=(c=this.animation.frames)[o],d=c[o-1],o===0&&i.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?i.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&i.putImageData(d.imageData,d.xOffset,d.yOffset),l.blendOp===0&&i.clearRect(l.xOffset,l.yOffset,l.width,l.height),i.drawImage(l.image,l.xOffset,l.yOffset)},s.prototype.animate=function(i){var o,l,c,d,u,f,v=this;return l=0,f=this.animation,d=f.numFrames,c=f.frames,u=f.numPlays,(o=function(){var g,w;if(g=l++%d,w=c[g],v.renderFrame(i,g),d>1&&l/d<u)return v.animation._timeout=setTimeout(o,w.delay)})()},s.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},s.prototype.render=function(i){var o,l;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,o=i.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(l=o.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),o.putImageData(l,0,0))},s}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function O1e(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,s=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,o=1<<(7&a)+1;e[t++],e[t++];var l=null,c=null;i&&(l=t,c=o,t+=3*o);var d=!0,u=[],f=0,v=null,g=0,w=null;for(this.width=n,this.height=s;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,w=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((B=e[t++])>=0))throw Error("Invalid block size");if(B===0)break;t+=B}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var y=e[t++];f=e[t++]|e[t++]<<8,v=e[t++],(1&y)==0&&(v=null),g=y>>2&7,t++;break;case 254:for(;;){if(!((B=e[t++])>=0))throw Error("Invalid block size");if(B===0)break;t+=B}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var b=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,N=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,k=e[t++],F=k>>6&1,$=1<<(7&k)+1,U=l,D=c,H=!1;k>>7&&(H=!0,U=t,D=$,t+=3*$);var K=t;for(t++;;){var B;if(!((B=e[t++])>=0))throw Error("Invalid block size");if(B===0)break;t+=B}u.push({x:b,y:x,width:N,height:S,has_local_palette:H,palette_offset:U,palette_size:D,data_offset:K,data_length:t-K,transparent_index:v,interlaced:!!F,delay:f,disposal:g});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return w},this.frameInfo=function(R){if(R<0||R>=u.length)throw new Error("Frame index out of range.");return u[R]},this.decodeAndBlitFrameBGRA=function(R,Z){var te=this.frameInfo(R),ye=te.width*te.height,de=new Uint8Array(ye);wP(e,te.data_offset,de,ye);var le=te.palette_offset,Q=te.transparent_index;Q===null&&(Q=256);var oe=te.width,ce=n-oe,ee=oe,M=4*(te.y*n+te.x),E=4*((te.y+te.height)*n+te.x),q=M,se=4*ce;te.interlaced===!0&&(se+=4*n*7);for(var re=8,G=0,ue=de.length;G<ue;++G){var ie=de[G];if(ee===0&&(ee=oe,(q+=se)>=E&&(se=4*ce+4*n*(re-1),q=M+(oe+ce)*(re<<1),re>>=1)),ie===Q)q+=4;else{var Ee=e[le+3*ie],He=e[le+3*ie+1],rt=e[le+3*ie+2];Z[q++]=rt,Z[q++]=He,Z[q++]=Ee,Z[q++]=255}--ee}},this.decodeAndBlitFrameRGBA=function(R,Z){var te=this.frameInfo(R),ye=te.width*te.height,de=new Uint8Array(ye);wP(e,te.data_offset,de,ye);var le=te.palette_offset,Q=te.transparent_index;Q===null&&(Q=256);var oe=te.width,ce=n-oe,ee=oe,M=4*(te.y*n+te.x),E=4*((te.y+te.height)*n+te.x),q=M,se=4*ce;te.interlaced===!0&&(se+=4*n*7);for(var re=8,G=0,ue=de.length;G<ue;++G){var ie=de[G];if(ee===0&&(ee=oe,(q+=se)>=E&&(se=4*ce+4*n*(re-1),q=M+(oe+ce)*(re<<1),re>>=1)),ie===Q)q+=4;else{var Ee=e[le+3*ie],He=e[le+3*ie+1],rt=e[le+3*ie+2];Z[q++]=Ee,Z[q++]=He,Z[q++]=rt,Z[q++]=255}--ee}}}function wP(e,t,n,s){for(var a=e[t++],i=1<<a,o=i+1,l=o+1,c=a+1,d=(1<<c)-1,u=0,f=0,v=0,g=e[t++],w=new Int32Array(4096),y=null;;){for(;u<16&&g!==0;)f|=e[t++]<<u,u+=8,g===1?g=e[t++]:--g;if(u<c)break;var b=f&d;if(f>>=c,u-=c,b!==i){if(b===o)break;for(var x=b<l?b:y,N=0,S=x;S>i;)S=w[S]>>8,++N;var k=S;if(v+N+(x!==b?1:0)>s)return void ti.log("Warning, gif stream longer than expected.");n[v++]=k;var F=v+=N;for(x!==b&&(n[v++]=k),S=x;N--;)S=w[S],n[--F]=255&S,S>>=8;y!==null&&l<4096&&(w[l++]=y<<8|k,l>=d+1&&c<12&&(++c,d=d<<1|1)),y=b}else l=o+1,d=(1<<(c=a+1))-1,y=null}return v!==s&&ti.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function rj(e){var t,n,s,a,i,o=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(64),f=new Array(65535),v=new Array(65535),g=new Array(64),w=new Array(64),y=[],b=0,x=7,N=new Array(64),S=new Array(64),k=new Array(64),F=new Array(256),$=new Array(2048),U=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],B=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Z=[0,1,2,3,4,5,6,7,8,9,10,11],te=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ye=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function de(M,E){for(var q=0,se=0,re=new Array,G=1;G<=16;G++){for(var ue=1;ue<=M[G];ue++)re[E[se]]=[],re[E[se]][0]=q,re[E[se]][1]=G,se++,q++;q*=2}return re}function le(M){for(var E=M[0],q=M[1]-1;q>=0;)E&1<<q&&(b|=1<<x),q--,--x<0&&(b==255?(Q(255),Q(0)):Q(b),x=7,b=0)}function Q(M){y.push(M)}function oe(M){Q(M>>8&255),Q(255&M)}function ce(M,E,q,se,re){for(var G,ue=re[0],ie=re[240],Ee=function(ct,vt){var wt,Fe,Oe,_e,nt,ut,jt,zt,Be,Ye,Ue=0;for(Be=0;Be<8;++Be){wt=ct[Ue],Fe=ct[Ue+1],Oe=ct[Ue+2],_e=ct[Ue+3],nt=ct[Ue+4],ut=ct[Ue+5],jt=ct[Ue+6];var Lt=wt+(zt=ct[Ue+7]),Et=wt-zt,hr=Fe+jt,ur=Fe-jt,Cr=Oe+ut,Tr=Oe-ut,fr=_e+nt,dr=_e-nt,Ke=Lt+fr,qt=Lt-fr,Ge=hr+Cr,st=hr-Cr;ct[Ue]=Ke+Ge,ct[Ue+4]=Ke-Ge;var it=.707106781*(st+qt);ct[Ue+2]=qt+it,ct[Ue+6]=qt-it;var Pt=.382683433*((Ke=dr+Tr)-(st=ur+Et)),_r=.5411961*Ke+Pt,ot=1.306562965*st+Pt,dt=.707106781*(Ge=Tr+ur),er=Et+dt,Rt=Et-dt;ct[Ue+5]=Rt+_r,ct[Ue+3]=Rt-_r,ct[Ue+1]=er+ot,ct[Ue+7]=er-ot,Ue+=8}for(Ue=0,Be=0;Be<8;++Be){wt=ct[Ue],Fe=ct[Ue+8],Oe=ct[Ue+16],_e=ct[Ue+24],nt=ct[Ue+32],ut=ct[Ue+40],jt=ct[Ue+48];var xn=wt+(zt=ct[Ue+56]),qr=wt-zt,vn=Fe+jt,Er=Fe-jt,Gt=Oe+ut,kn=Oe-ut,ps=_e+nt,is=_e-nt,en=xn+ps,ws=xn-ps,Pn=vn+Gt,qn=vn-Gt;ct[Ue]=en+Pn,ct[Ue+32]=en-Pn;var Zn=.707106781*(qn+ws);ct[Ue+16]=ws+Zn,ct[Ue+48]=ws-Zn;var Ln=.382683433*((en=is+kn)-(qn=Er+qr)),wr=.5411961*en+Ln,We=1.306562965*qn+Ln,Ht=.707106781*(Pn=kn+Er),mr=qr+Ht,jn=qr-Ht;ct[Ue+40]=jn+wr,ct[Ue+24]=jn-wr,ct[Ue+8]=mr+We,ct[Ue+56]=mr-We,Ue++}for(Be=0;Be<64;++Be)Ye=ct[Be]*vt[Be],g[Be]=Ye>0?Ye+.5|0:Ye-.5|0;return g}(M,E),He=0;He<64;++He)w[U[He]]=Ee[He];var rt=w[0]-q;q=w[0],rt==0?le(se[0]):(le(se[v[G=32767+rt]]),le(f[G]));for(var we=63;we>0&&w[we]==0;)we--;if(we==0)return le(ue),q;for(var Ve,Re=1;Re<=we;){for(var je=Re;w[Re]==0&&Re<=we;)++Re;var Mt=Re-je;if(Mt>=16){Ve=Mt>>4;for(var Bt=1;Bt<=Ve;++Bt)le(ie);Mt&=15}G=32767+w[Re],le(re[(Mt<<4)+v[G]]),le(f[G]),Re++}return we!=63&&le(ue),q}function ee(M){M=Math.min(Math.max(M,1),100),i!=M&&(function(E){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],se=0;se<64;se++){var re=o((q[se]*E+50)/100);re=Math.min(Math.max(re,1),255),l[U[se]]=re}for(var G=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ue=0;ue<64;ue++){var ie=o((G[ue]*E+50)/100);ie=Math.min(Math.max(ie,1),255),c[U[ue]]=ie}for(var Ee=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],He=0,rt=0;rt<8;rt++)for(var we=0;we<8;we++)d[He]=1/(l[U[He]]*Ee[rt]*Ee[we]*8),u[He]=1/(c[U[He]]*Ee[rt]*Ee[we]*8),He++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),i=M)}this.encode=function(M,E){E&&ee(E),y=new Array,b=0,x=7,oe(65496),oe(65504),oe(16),Q(74),Q(70),Q(73),Q(70),Q(0),Q(1),Q(1),Q(0),oe(1),oe(1),Q(0),Q(0),function(){oe(65499),oe(132),Q(0);for(var Fe=0;Fe<64;Fe++)Q(l[Fe]);Q(1);for(var Oe=0;Oe<64;Oe++)Q(c[Oe])}(),function(Fe,Oe){oe(65472),oe(17),Q(8),oe(Oe),oe(Fe),Q(3),Q(1),Q(17),Q(0),Q(2),Q(17),Q(1),Q(3),Q(17),Q(1)}(M.width,M.height),function(){oe(65476),oe(418),Q(0);for(var Fe=0;Fe<16;Fe++)Q(D[Fe+1]);for(var Oe=0;Oe<=11;Oe++)Q(H[Oe]);Q(16);for(var _e=0;_e<16;_e++)Q(K[_e+1]);for(var nt=0;nt<=161;nt++)Q(B[nt]);Q(1);for(var ut=0;ut<16;ut++)Q(R[ut+1]);for(var jt=0;jt<=11;jt++)Q(Z[jt]);Q(17);for(var zt=0;zt<16;zt++)Q(te[zt+1]);for(var Be=0;Be<=161;Be++)Q(ye[Be])}(),oe(65498),oe(12),Q(3),Q(1),Q(0),Q(2),Q(17),Q(3),Q(17),Q(0),Q(63),Q(0);var q=0,se=0,re=0;b=0,x=7,this.encode.displayName="_encode_";for(var G,ue,ie,Ee,He,rt,we,Ve,Re,je=M.data,Mt=M.width,Bt=M.height,ct=4*Mt,vt=0;vt<Bt;){for(G=0;G<ct;){for(He=ct*vt+G,we=-1,Ve=0,Re=0;Re<64;Re++)rt=He+(Ve=Re>>3)*ct+(we=4*(7&Re)),vt+Ve>=Bt&&(rt-=ct*(vt+1+Ve-Bt)),G+we>=ct&&(rt-=G+we-ct+4),ue=je[rt++],ie=je[rt++],Ee=je[rt++],N[Re]=($[ue]+$[ie+256>>0]+$[Ee+512>>0]>>16)-128,S[Re]=($[ue+768>>0]+$[ie+1024>>0]+$[Ee+1280>>0]>>16)-128,k[Re]=($[ue+1280>>0]+$[ie+1536>>0]+$[Ee+1792>>0]>>16)-128;q=ce(N,d,q,t,s),se=ce(S,u,se,n,a),re=ce(k,u,re,n,a),G+=32}vt+=8}if(x>=0){var wt=[];wt[1]=x+1,wt[0]=(1<<x+1)-1,le(wt)}return oe(65497),new Uint8Array(y)},e=e||50,function(){for(var M=String.fromCharCode,E=0;E<256;E++)F[E]=M(E)}(),t=de(D,H),n=de(R,Z),s=de(K,B),a=de(te,ye),function(){for(var M=1,E=2,q=1;q<=15;q++){for(var se=M;se<E;se++)v[32767+se]=q,f[32767+se]=[],f[32767+se][1]=q,f[32767+se][0]=se;for(var re=-(E-1);re<=-M;re++)v[32767+re]=q,f[32767+re]=[],f[32767+re][1]=q,f[32767+re][0]=E-1+re;M<<=1,E<<=1}}(),function(){for(var M=0;M<256;M++)$[M]=19595*M,$[M+256>>0]=38470*M,$[M+512>>0]=7471*M+32768,$[M+768>>0]=-11059*M,$[M+1024>>0]=-21709*M,$[M+1280>>0]=32768*M+8421375,$[M+1536>>0]=-27439*M,$[M+1792>>0]=-5329*M}(),ee(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ad(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function bP(e){function t(D){if(!D)throw Error("assert :P")}function n(D,H,K){for(var B=0;4>B;B++)if(D[H+B]!=K.charCodeAt(B))return!0;return!1}function s(D,H,K,B,R){for(var Z=0;Z<R;Z++)D[H+Z]=K[B+Z]}function a(D,H,K,B){for(var R=0;R<B;R++)D[H+R]=K}function i(D){return new Int32Array(D)}function o(D,H){for(var K=[],B=0;B<D;B++)K.push(new H);return K}function l(D,H){var K=[];return function B(R,Z,te){for(var ye=te[Z],de=0;de<ye&&(R.push(te.length>Z+1?[]:new H),!(te.length<Z+1));de++)B(R[de],Z+1,te)}(K,0,D),K}var c=function(){var D=this;function H(_,P){for(var W=1<<P-1>>>0;_&W;)W>>>=1;return W?(_&W-1)+W:_}function K(_,P,W,ne,fe){t(!(ne%W));do _[P+(ne-=W)]=fe;while(0<ne)}function B(_,P,W,ne,fe){if(t(2328>=fe),512>=fe)var ge=i(512);else if((ge=i(fe))==null)return 0;return function(ve,Ne,Ce,Ie,Xe,gt){var xt,lt,Vt=Ne,Ft=1<<Ce,et=i(16),tt=i(16);for(t(Xe!=0),t(Ie!=null),t(ve!=null),t(0<Ce),lt=0;lt<Xe;++lt){if(15<Ie[lt])return 0;++et[Ie[lt]]}if(et[0]==Xe)return 0;for(tt[1]=0,xt=1;15>xt;++xt){if(et[xt]>1<<xt)return 0;tt[xt+1]=tt[xt]+et[xt]}for(lt=0;lt<Xe;++lt)xt=Ie[lt],0<Ie[lt]&&(gt[tt[xt]++]=lt);if(tt[15]==1)return(Ie=new R).g=0,Ie.value=gt[0],K(ve,Vt,1,Ft,Ie),Ft;var Ut,Ot=-1,Qt=Ft-1,Dr=0,Nr=1,cn=1,Br=1<<Ce;for(lt=0,xt=1,Xe=2;xt<=Ce;++xt,Xe<<=1){if(Nr+=cn<<=1,0>(cn-=et[xt]))return 0;for(;0<et[xt];--et[xt])(Ie=new R).g=xt,Ie.value=gt[lt++],K(ve,Vt+Dr,Xe,Br,Ie),Dr=H(Dr,xt)}for(xt=Ce+1,Xe=2;15>=xt;++xt,Xe<<=1){if(Nr+=cn<<=1,0>(cn-=et[xt]))return 0;for(;0<et[xt];--et[xt]){if(Ie=new R,(Dr&Qt)!=Ot){for(Vt+=Br,Ut=1<<(Ot=xt)-Ce;15>Ot&&!(0>=(Ut-=et[Ot]));)++Ot,Ut<<=1;Ft+=Br=1<<(Ut=Ot-Ce),ve[Ne+(Ot=Dr&Qt)].g=Ut+Ce,ve[Ne+Ot].value=Vt-Ne-Ot}Ie.g=xt-Ce,Ie.value=gt[lt++],K(ve,Vt+(Dr>>Ce),Xe,Br,Ie),Dr=H(Dr,xt)}}return Nr!=2*tt[15]-1?0:Ft}(_,P,W,ne,fe,ge)}function R(){this.value=this.g=0}function Z(){this.value=this.g=0}function te(){this.G=o(5,R),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Vs,Z)}function ye(_,P,W,ne){t(_!=null),t(P!=null),t(2147483648>ne),_.Ca=254,_.I=0,_.b=-8,_.Ka=0,_.oa=P,_.pa=W,_.Jd=P,_.Yc=W+ne,_.Zc=4<=ne?W+ne-4+1:W,G(_)}function de(_,P){for(var W=0;0<P--;)W|=ie(_,128)<<P;return W}function le(_,P){var W=de(_,P);return ue(_)?-W:W}function Q(_,P,W,ne){var fe,ge=0;for(t(_!=null),t(P!=null),t(4294967288>ne),_.Sb=ne,_.Ra=0,_.u=0,_.h=0,4<ne&&(ne=4),fe=0;fe<ne;++fe)ge+=P[W+fe]<<8*fe;_.Ra=ge,_.bb=ne,_.oa=P,_.pa=W}function oe(_){for(;8<=_.u&&_.bb<_.Sb;)_.Ra>>>=8,_.Ra+=_.oa[_.pa+_.bb]<<Zl-8>>>0,++_.bb,_.u-=8;q(_)&&(_.h=1,_.u=0)}function ce(_,P){if(t(0<=P),!_.h&&P<=vo){var W=E(_)&Vd[P];return _.u+=P,oe(_),W}return _.h=1,_.u=0}function ee(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function M(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function E(_){return _.Ra>>>(_.u&Zl-1)>>>0}function q(_){return t(_.bb<=_.Sb),_.h||_.bb==_.Sb&&_.u>Zl}function se(_,P){_.u=P,_.h=q(_)}function re(_){_.u>=Kd&&(t(_.u>=Kd),oe(_))}function G(_){t(_!=null&&_.oa!=null),_.pa<_.Zc?(_.I=(_.oa[_.pa++]|_.I<<8)>>>0,_.b+=8):(t(_!=null&&_.oa!=null),_.pa<_.Yc?(_.b+=8,_.I=_.oa[_.pa++]|_.I<<8):_.Ka?_.b=0:(_.I<<=8,_.b+=8,_.Ka=1))}function ue(_){return de(_,1)}function ie(_,P){var W=_.Ca;0>_.b&&G(_);var ne=_.b,fe=W*P>>>8,ge=(_.I>>>ne>fe)+0;for(ge?(W-=fe,_.I-=fe+1<<ne>>>0):W=fe+1,ne=W,fe=0;256<=ne;)fe+=8,ne>>=8;return ne=7^fe+aa[ne],_.b-=ne,_.Ca=(W<<ne)-1,ge}function Ee(_,P,W){_[P+0]=W>>24&255,_[P+1]=W>>16&255,_[P+2]=W>>8&255,_[P+3]=W>>0&255}function He(_,P){return _[P+0]<<0|_[P+1]<<8}function rt(_,P){return He(_,P)|_[P+2]<<16}function we(_,P){return He(_,P)|He(_,P+2)<<16}function Ve(_,P){var W=1<<P;return t(_!=null),t(0<P),_.X=i(W),_.X==null?0:(_.Mb=32-P,_.Xa=P,1)}function Re(_,P){t(_!=null),t(P!=null),t(_.Xa==P.Xa),s(P.X,0,_.X,0,1<<P.Xa)}function je(){this.X=[],this.Xa=this.Mb=0}function Mt(_,P,W,ne){t(W!=null),t(ne!=null);var fe=W[0],ge=ne[0];return fe==0&&(fe=(_*ge+P/2)/P),ge==0&&(ge=(P*fe+_/2)/_),0>=fe||0>=ge?0:(W[0]=fe,ne[0]=ge,1)}function Bt(_,P){return _+(1<<P)-1>>>P}function ct(_,P){return((4278255360&_)+(4278255360&P)>>>0&4278255360)+((16711935&_)+(16711935&P)>>>0&16711935)>>>0}function vt(_,P){D[P]=function(W,ne,fe,ge,ve,Ne,Ce){var Ie;for(Ie=0;Ie<ve;++Ie){var Xe=D[_](Ne[Ce+Ie-1],fe,ge+Ie);Ne[Ce+Ie]=ct(W[ne+Ie],Xe)}}}function wt(){this.ud=this.hd=this.jd=0}function Fe(_,P){return((4278124286&(_^P))>>>1)+(_&P)>>>0}function Oe(_){return 0<=_&&256>_?_:0>_?0:255<_?255:void 0}function _e(_,P){return Oe(_+(_-P+.5>>1))}function nt(_,P,W){return Math.abs(P-W)-Math.abs(_-W)}function ut(_,P,W,ne,fe,ge,ve){for(ne=ge[ve-1],W=0;W<fe;++W)ge[ve+W]=ne=ct(_[P+W],ne)}function jt(_,P,W,ne,fe){var ge;for(ge=0;ge<W;++ge){var ve=_[P+ge],Ne=ve>>8&255,Ce=16711935&(Ce=(Ce=16711935&ve)+((Ne<<16)+Ne));ne[fe+ge]=(4278255360&ve)+Ce>>>0}}function zt(_,P){P.jd=_>>0&255,P.hd=_>>8&255,P.ud=_>>16&255}function Be(_,P,W,ne,fe,ge){var ve;for(ve=0;ve<ne;++ve){var Ne=P[W+ve],Ce=Ne>>>8,Ie=Ne,Xe=255&(Xe=(Xe=Ne>>>16)+((_.jd<<24>>24)*(Ce<<24>>24)>>>5));Ie=255&(Ie=(Ie=Ie+((_.hd<<24>>24)*(Ce<<24>>24)>>>5))+((_.ud<<24>>24)*(Xe<<24>>24)>>>5)),fe[ge+ve]=(4278255360&Ne)+(Xe<<16)+Ie}}function Ye(_,P,W,ne,fe){D[P]=function(ge,ve,Ne,Ce,Ie,Xe,gt,xt,lt){for(Ce=gt;Ce<xt;++Ce)for(gt=0;gt<lt;++gt)Ie[Xe++]=fe(Ne[ne(ge[ve++])])},D[_]=function(ge,ve,Ne,Ce,Ie,Xe,gt){var xt=8>>ge.b,lt=ge.Ea,Vt=ge.K[0],Ft=ge.w;if(8>xt)for(ge=(1<<ge.b)-1,Ft=(1<<xt)-1;ve<Ne;++ve){var et,tt=0;for(et=0;et<lt;++et)et&ge||(tt=ne(Ce[Ie++])),Xe[gt++]=fe(Vt[tt&Ft]),tt>>=xt}else D["VP8LMapColor"+W](Ce,Ie,Vt,Ft,Xe,gt,ve,Ne,lt)}}function Ue(_,P,W,ne,fe){for(W=P+W;P<W;){var ge=_[P++];ne[fe++]=ge>>16&255,ne[fe++]=ge>>8&255,ne[fe++]=ge>>0&255}}function Lt(_,P,W,ne,fe){for(W=P+W;P<W;){var ge=_[P++];ne[fe++]=ge>>16&255,ne[fe++]=ge>>8&255,ne[fe++]=ge>>0&255,ne[fe++]=ge>>24&255}}function Et(_,P,W,ne,fe){for(W=P+W;P<W;){var ge=(ve=_[P++])>>16&240|ve>>12&15,ve=ve>>0&240|ve>>28&15;ne[fe++]=ge,ne[fe++]=ve}}function hr(_,P,W,ne,fe){for(W=P+W;P<W;){var ge=(ve=_[P++])>>16&248|ve>>13&7,ve=ve>>5&224|ve>>3&31;ne[fe++]=ge,ne[fe++]=ve}}function ur(_,P,W,ne,fe){for(W=P+W;P<W;){var ge=_[P++];ne[fe++]=ge>>0&255,ne[fe++]=ge>>8&255,ne[fe++]=ge>>16&255}}function Cr(_,P,W,ne,fe,ge){if(ge==0)for(W=P+W;P<W;)Ee(ne,((ge=_[P++])[0]>>24|ge[1]>>8&65280|ge[2]<<8&16711680|ge[3]<<24)>>>0),fe+=32;else s(ne,fe,_,P,W)}function Tr(_,P){D[P][0]=D[_+"0"],D[P][1]=D[_+"1"],D[P][2]=D[_+"2"],D[P][3]=D[_+"3"],D[P][4]=D[_+"4"],D[P][5]=D[_+"5"],D[P][6]=D[_+"6"],D[P][7]=D[_+"7"],D[P][8]=D[_+"8"],D[P][9]=D[_+"9"],D[P][10]=D[_+"10"],D[P][11]=D[_+"11"],D[P][12]=D[_+"12"],D[P][13]=D[_+"13"],D[P][14]=D[_+"0"],D[P][15]=D[_+"0"]}function fr(_){return _==Xc||_==bc||_==Lu||_==h}function dr(){this.eb=[],this.size=this.A=this.fb=0}function Ke(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function qt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new dr,this.f.kb=new Ke,this.sd=null}function Ge(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function st(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function it(_){return alert("todo:WebPSamplerProcessPlane"),_.T}function Pt(_,P){var W=_.T,ne=P.ba.f.RGBA,fe=ne.eb,ge=ne.fb+_.ka*ne.A,ve=da[P.ba.S],Ne=_.y,Ce=_.O,Ie=_.f,Xe=_.N,gt=_.ea,xt=_.W,lt=P.cc,Vt=P.dc,Ft=P.Mc,et=P.Nc,tt=_.ka,Ut=_.ka+_.T,Ot=_.U,Qt=Ot+1>>1;for(tt==0?ve(Ne,Ce,null,null,Ie,Xe,gt,xt,Ie,Xe,gt,xt,fe,ge,null,null,Ot):(ve(P.ec,P.fc,Ne,Ce,lt,Vt,Ft,et,Ie,Xe,gt,xt,fe,ge-ne.A,fe,ge,Ot),++W);tt+2<Ut;tt+=2)lt=Ie,Vt=Xe,Ft=gt,et=xt,Xe+=_.Rc,xt+=_.Rc,ge+=2*ne.A,ve(Ne,(Ce+=2*_.fa)-_.fa,Ne,Ce,lt,Vt,Ft,et,Ie,Xe,gt,xt,fe,ge-ne.A,fe,ge,Ot);return Ce+=_.fa,_.j+Ut<_.o?(s(P.ec,P.fc,Ne,Ce,Ot),s(P.cc,P.dc,Ie,Xe,Qt),s(P.Mc,P.Nc,gt,xt,Qt),W--):1&Ut||ve(Ne,Ce,null,null,Ie,Xe,gt,xt,Ie,Xe,gt,xt,fe,ge+ne.A,null,null,Ot),W}function _r(_,P,W){var ne=_.F,fe=[_.J];if(ne!=null){var ge=_.U,ve=P.ba.S,Ne=ve==qd||ve==Lu;P=P.ba.f.RGBA;var Ce=[0],Ie=_.ka;Ce[0]=_.T,_.Kb&&(Ie==0?--Ce[0]:(--Ie,fe[0]-=_.width),_.j+_.ka+_.T==_.o&&(Ce[0]=_.o-_.j-Ie));var Xe=P.eb;Ie=P.fb+Ie*P.A,_=bs(ne,fe[0],_.width,ge,Ce,Xe,Ie+(Ne?0:3),P.A),t(W==Ce),_&&fr(ve)&&Ii(Xe,Ie,Ne,ge,Ce,P.A)}return 0}function ot(_){var P=_.ma,W=P.ba.S,ne=11>W,fe=W==rc||W==Gd||W==qd||W==Bs||W==12||fr(W);if(P.memory=null,P.Ib=null,P.Jb=null,P.Nd=null,!zd(P.Oa,_,fe?11:12))return 0;if(fe&&fr(W)&&Zt(),_.da)alert("todo:use_scaling");else{if(ne){if(P.Ib=it,_.Kb){if(W=_.U+1>>1,P.memory=i(_.U+2*W),P.memory==null)return 0;P.ec=P.memory,P.fc=0,P.cc=P.ec,P.dc=P.fc+_.U,P.Mc=P.cc,P.Nc=P.dc+W,P.Ib=Pt,Zt()}}else alert("todo:EmitYUV");fe&&(P.Jb=_r,ne&&ft())}if(ne&&!Ja){for(_=0;256>_;++_)Uo[_]=89858*(_-128)+nc>>ed,Qo[_]=-22014*(_-128)+nc,vA[_]=-45773*(_-128),Ou[_]=113618*(_-128)+nc>>ed;for(_=Ds;_<Rs;++_)P=76283*(_-16)+nc>>ed,Ef[_-Ds]=Xs(P,255),iv[_-Ds]=Xs(P+8>>4,15);Ja=1}return 1}function dt(_){var P=_.ma,W=_.U,ne=_.T;return t(!(1&_.ka)),0>=W||0>=ne?0:(W=P.Ib(_,P),P.Jb!=null&&P.Jb(_,P,W),P.Dc+=W,1)}function er(_){_.ma.memory=null}function Rt(_,P,W,ne){return ce(_,8)!=47?0:(P[0]=ce(_,14)+1,W[0]=ce(_,14)+1,ne[0]=ce(_,1),ce(_,3)!=0?0:!_.h)}function xn(_,P){if(4>_)return _+1;var W=_-2>>1;return(2+(1&_)<<W)+ce(P,W)+1}function qr(_,P){return 120<P?P-120:1<=(W=((W=$e[P-1])>>4)*_+(8-(15&W)))?W:1;var W}function vn(_,P,W){var ne=E(W),fe=_[P+=255&ne].g-8;return 0<fe&&(se(W,W.u+8),ne=E(W),P+=_[P].value,P+=ne&(1<<fe)-1),se(W,W.u+_[P].g),_[P].value}function Er(_,P,W){return W.g+=_.g,W.value+=_.value<<P>>>0,t(8>=W.g),_.g}function Gt(_,P,W){var ne=_.xc;return t((P=ne==0?0:_.vc[_.md*(W>>ne)+(P>>ne)])<_.Wb),_.Ya[P]}function kn(_,P,W,ne){var fe=_.ab,ge=_.c*P,ve=_.C;P=ve+P;var Ne=W,Ce=ne;for(ne=_.Ta,W=_.Ua;0<fe--;){var Ie=_.gc[fe],Xe=ve,gt=P,xt=Ne,lt=Ce,Vt=(Ce=ne,Ne=W,Ie.Ea);switch(t(Xe<gt),t(gt<=Ie.nc),Ie.hc){case 2:pA(xt,lt,(gt-Xe)*Vt,Ce,Ne);break;case 0:var Ft=Xe,et=gt,tt=Ce,Ut=Ne,Ot=(Br=Ie).Ea;Ft==0&&(Gc(xt,lt,null,null,1,tt,Ut),ut(xt,lt+1,0,0,Ot-1,tt,Ut+1),lt+=Ot,Ut+=Ot,++Ft);for(var Qt=1<<Br.b,Dr=Qt-1,Nr=Bt(Ot,Br.b),cn=Br.K,Br=Br.w+(Ft>>Br.b)*Nr;Ft<et;){var js=cn,Ns=Br,As=1;for(oa(xt,lt,tt,Ut-Ot,1,tt,Ut);As<Ot;){var Kn=(As&~Dr)+Qt;Kn>Ot&&(Kn=Ot),(0,al[js[Ns++]>>8&15])(xt,lt+ +As,tt,Ut+As-Ot,Kn-As,tt,Ut+As),As=Kn}lt+=Ot,Ut+=Ot,++Ft&Dr||(Br+=Nr)}gt!=Ie.nc&&s(Ce,Ne-Vt,Ce,Ne+(gt-Xe-1)*Vt,Vt);break;case 1:for(Vt=xt,et=lt,Ot=(xt=Ie.Ea)-(Ut=xt&~(tt=(lt=1<<Ie.b)-1)),Ft=Bt(xt,Ie.b),Qt=Ie.K,Ie=Ie.w+(Xe>>Ie.b)*Ft;Xe<gt;){for(Dr=Qt,Nr=Ie,cn=new wt,Br=et+Ut,js=et+xt;et<Br;)zt(Dr[Nr++],cn),El(cn,Vt,et,lt,Ce,Ne),et+=lt,Ne+=lt;et<js&&(zt(Dr[Nr++],cn),El(cn,Vt,et,Ot,Ce,Ne),et+=Ot,Ne+=Ot),++Xe&tt||(Ie+=Ft)}break;case 3:if(xt==Ce&&lt==Ne&&0<Ie.b){for(et=Ce,xt=Vt=Ne+(gt-Xe)*Vt-(Ut=(gt-Xe)*Bt(Ie.Ea,Ie.b)),lt=Ce,tt=Ne,Ft=[],Ut=(Ot=Ut)-1;0<=Ut;--Ut)Ft[Ut]=lt[tt+Ut];for(Ut=Ot-1;0<=Ut;--Ut)et[xt+Ut]=Ft[Ut];yi(Ie,Xe,gt,Ce,Vt,Ce,Ne)}else yi(Ie,Xe,gt,xt,lt,Ce,Ne)}Ne=ne,Ce=W}Ce!=W&&s(ne,W,Ne,Ce,ge)}function ps(_,P){var W=_.V,ne=_.Ba+_.c*_.C,fe=P-_.C;if(t(P<=_.l.o),t(16>=fe),0<fe){var ge=_.l,ve=_.Ta,Ne=_.Ua,Ce=ge.width;if(kn(_,fe,W,ne),fe=Ne=[Ne],t((W=_.C)<(ne=P)),t(ge.v<ge.va),ne>ge.o&&(ne=ge.o),W<ge.j){var Ie=ge.j-W;W=ge.j,fe[0]+=Ie*Ce}if(W>=ne?W=0:(fe[0]+=4*ge.v,ge.ka=W-ge.j,ge.U=ge.va-ge.v,ge.T=ne-W,W=1),W){if(Ne=Ne[0],11>(W=_.ca).S){var Xe=W.f.RGBA,gt=(ne=W.S,fe=ge.U,ge=ge.T,Ie=Xe.eb,Xe.A),xt=ge;for(Xe=Xe.fb+_.Ma*Xe.A;0<xt--;){var lt=ve,Vt=Ne,Ft=fe,et=Ie,tt=Xe;switch(ne){case gA:Vi(lt,Vt,Ft,et,tt);break;case rc:Ki(lt,Vt,Ft,et,tt);break;case Xc:Ki(lt,Vt,Ft,et,tt),Ii(et,tt,0,Ft,1,0);break;case Th:Fo(lt,Vt,Ft,et,tt);break;case Gd:Cr(lt,Vt,Ft,et,tt,1);break;case bc:Cr(lt,Vt,Ft,et,tt,1),Ii(et,tt,0,Ft,1,0);break;case qd:Cr(lt,Vt,Ft,et,tt,0);break;case Lu:Cr(lt,Vt,Ft,et,tt,0),Ii(et,tt,1,Ft,1,0);break;case Bs:ol(lt,Vt,Ft,et,tt);break;case h:ol(lt,Vt,Ft,et,tt),_s(et,tt,Ft,1,0);break;case xA:io(lt,Vt,Ft,et,tt);break;default:t(0)}Ne+=Ce,Xe+=gt}_.Ma+=ge}else alert("todo:EmitRescaledRowsYUVA");t(_.Ma<=W.height)}}_.C=P,t(_.C<=_.i)}function is(_){var P;if(0<_.ua)return 0;for(P=0;P<_.Wb;++P){var W=_.Ya[P].G,ne=_.Ya[P].H;if(0<W[1][ne[1]+0].g||0<W[2][ne[2]+0].g||0<W[3][ne[3]+0].g)return 0}return 1}function en(_,P,W,ne,fe,ge){if(_.Z!=0){var ve=_.qd,Ne=_.rd;for(t(ts[_.Z]!=null);P<W;++P)ts[_.Z](ve,Ne,ne,fe,ne,fe,ge),ve=ne,Ne=fe,fe+=ge;_.qd=ve,_.rd=Ne}}function ws(_,P){var W=_.l.ma,ne=W.Z==0||W.Z==1?_.l.j:_.C;if(ne=_.C<ne?ne:_.C,t(P<=_.l.o),P>ne){var fe=_.l.width,ge=W.ca,ve=W.tb+fe*ne,Ne=_.V,Ce=_.Ba+_.c*ne,Ie=_.gc;t(_.ab==1),t(Ie[0].hc==3),yo(Ie[0],ne,P,Ne,Ce,ge,ve),en(W,ne,P,ge,ve,fe)}_.C=_.Ma=P}function Pn(_,P,W,ne,fe,ge,ve){var Ne=_.$/ne,Ce=_.$%ne,Ie=_.m,Xe=_.s,gt=W+_.$,xt=gt;fe=W+ne*fe;var lt=W+ne*ge,Vt=280+Xe.ua,Ft=_.Pb?Ne:16777216,et=0<Xe.ua?Xe.Wa:null,tt=Xe.wc,Ut=gt<lt?Gt(Xe,Ce,Ne):null;t(_.C<ge),t(lt<=fe);var Ot=!1;e:for(;;){for(;Ot||gt<lt;){var Qt=0;if(Ne>=Ft){var Dr=gt-W;t((Ft=_).Pb),Ft.wd=Ft.m,Ft.xd=Dr,0<Ft.s.ua&&Re(Ft.s.Wa,Ft.s.vb),Ft=Ne+St}if(Ce&tt||(Ut=Gt(Xe,Ce,Ne)),t(Ut!=null),Ut.Qb&&(P[gt]=Ut.qb,Ot=!0),!Ot)if(re(Ie),Ut.jc){Qt=Ie,Dr=P;var Nr=gt,cn=Ut.pd[E(Qt)&Vs-1];t(Ut.jc),256>cn.g?(se(Qt,Qt.u+cn.g),Dr[Nr]=cn.value,Qt=0):(se(Qt,Qt.u+cn.g-256),t(256<=cn.value),Qt=cn.value),Qt==0&&(Ot=!0)}else Qt=vn(Ut.G[0],Ut.H[0],Ie);if(Ie.h)break;if(Ot||256>Qt){if(!Ot)if(Ut.nd)P[gt]=(Ut.qb|Qt<<8)>>>0;else{if(re(Ie),Ot=vn(Ut.G[1],Ut.H[1],Ie),re(Ie),Dr=vn(Ut.G[2],Ut.H[2],Ie),Nr=vn(Ut.G[3],Ut.H[3],Ie),Ie.h)break;P[gt]=(Nr<<24|Ot<<16|Qt<<8|Dr)>>>0}if(Ot=!1,++gt,++Ce>=ne&&(Ce=0,++Ne,ve!=null&&Ne<=ge&&!(Ne%16)&&ve(_,Ne),et!=null))for(;xt<gt;)Qt=P[xt++],et.X[(506832829*Qt&4294967295)>>>et.Mb]=Qt}else if(280>Qt){if(Qt=xn(Qt-256,Ie),Dr=vn(Ut.G[4],Ut.H[4],Ie),re(Ie),Dr=qr(ne,Dr=xn(Dr,Ie)),Ie.h)break;if(gt-W<Dr||fe-gt<Qt)break e;for(Nr=0;Nr<Qt;++Nr)P[gt+Nr]=P[gt+Nr-Dr];for(gt+=Qt,Ce+=Qt;Ce>=ne;)Ce-=ne,++Ne,ve!=null&&Ne<=ge&&!(Ne%16)&&ve(_,Ne);if(t(gt<=fe),Ce&tt&&(Ut=Gt(Xe,Ce,Ne)),et!=null)for(;xt<gt;)Qt=P[xt++],et.X[(506832829*Qt&4294967295)>>>et.Mb]=Qt}else{if(!(Qt<Vt))break e;for(Ot=Qt-280,t(et!=null);xt<gt;)Qt=P[xt++],et.X[(506832829*Qt&4294967295)>>>et.Mb]=Qt;Qt=gt,t(!(Ot>>>(Dr=et).Xa)),P[Qt]=Dr.X[Ot],Ot=!0}Ot||t(Ie.h==q(Ie))}if(_.Pb&&Ie.h&&gt<fe)t(_.m.h),_.a=5,_.m=_.wd,_.$=_.xd,0<_.s.ua&&Re(_.s.vb,_.s.Wa);else{if(Ie.h)break e;ve!=null&&ve(_,Ne>ge?ge:Ne),_.a=0,_.$=gt-W}return 1}return _.a=3,0}function qn(_){t(_!=null),_.vc=null,_.yc=null,_.Ya=null;var P=_.Wa;P!=null&&(P.X=null),_.vb=null,t(_!=null)}function Zn(){var _=new Pu;return _==null?null:(_.a=0,_.xb=Zc,Tr("Predictor","VP8LPredictors"),Tr("Predictor","VP8LPredictors_C"),Tr("PredictorAdd","VP8LPredictorsAdd"),Tr("PredictorAdd","VP8LPredictorsAdd_C"),pA=jt,El=Be,Vi=Ue,Ki=Lt,ol=Et,io=hr,Fo=ur,D.VP8LMapColor32b=Wd,D.VP8LMapColor8b=ec,_)}function Ln(_,P,W,ne,fe){var ge=1,ve=[_],Ne=[P],Ce=ne.m,Ie=ne.s,Xe=null,gt=0;e:for(;;){if(W)for(;ge&&ce(Ce,1);){var xt=ve,lt=Ne,Vt=ne,Ft=1,et=Vt.m,tt=Vt.gc[Vt.ab],Ut=ce(et,2);if(Vt.Oc&1<<Ut)ge=0;else{switch(Vt.Oc|=1<<Ut,tt.hc=Ut,tt.Ea=xt[0],tt.nc=lt[0],tt.K=[null],++Vt.ab,t(4>=Vt.ab),Ut){case 0:case 1:tt.b=ce(et,3)+2,Ft=Ln(Bt(tt.Ea,tt.b),Bt(tt.nc,tt.b),0,Vt,tt.K),tt.K=tt.K[0];break;case 3:var Ot,Qt=ce(et,8)+1,Dr=16<Qt?0:4<Qt?1:2<Qt?2:3;if(xt[0]=Bt(tt.Ea,Dr),tt.b=Dr,Ot=Ft=Ln(Qt,1,0,Vt,tt.K)){var Nr,cn=Qt,Br=tt,js=1<<(8>>Br.b),Ns=i(js);if(Ns==null)Ot=0;else{var As=Br.K[0],Kn=Br.w;for(Ns[0]=Br.K[0][0],Nr=1;Nr<1*cn;++Nr)Ns[Nr]=ct(As[Kn+Nr],Ns[Nr-1]);for(;Nr<4*js;++Nr)Ns[Nr]=0;Br.K[0]=null,Br.K[0]=Ns,Ot=1}}Ft=Ot;break;case 2:break;default:t(0)}ge=Ft}}if(ve=ve[0],Ne=Ne[0],ge&&ce(Ce,1)&&!(ge=1<=(gt=ce(Ce,4))&&11>=gt)){ne.a=3;break e}var Fs;if(Fs=ge)t:{var Os,En,di,Co=ne,ki=ve,ua=Ne,Es=gt,lo=W,co=Co.m,ui=Co.s,Aa=[null],Ya=1,Ho=0,Ll=yt[Es];r:for(;;){if(lo&&ce(co,1)){var Ai=ce(co,3)+2,Wi=Bt(ki,Ai),dl=Bt(ua,Ai),Xd=Wi*dl;if(!Ln(Wi,dl,0,Co,Aa))break r;for(Aa=Aa[0],ui.xc=Ai,Os=0;Os<Xd;++Os){var rd=Aa[Os]>>8&65535;Aa[Os]=rd,rd>=Ya&&(Ya=rd+1)}}if(co.h)break r;for(En=0;5>En;++En){var Is=z[En];!En&&0<Es&&(Is+=1<<Es),Ho<Is&&(Ho=Is)}var _c=o(Ya*Ll,R),If=Ya,jp=o(If,te);if(jp==null)var Rl=null;else t(65536>=If),Rl=jp;var Ol=i(Ho);if(Rl==null||Ol==null||_c==null){Co.a=1;break r}var Uu=_c;for(Os=di=0;Os<Ya;++Os){var Ml=Rl[Os],nd=Ml.G,Qu=Ml.H,yA=0,ul=1,wA=0;for(En=0;5>En;++En){Is=z[En],nd[En]=Uu,Qu[En]=di,!En&&0<Es&&(Is+=1<<Es);s:{var Zd,sd=Is,bA=Co,Sc=Ol,ov=Uu,Np=di,Zs=0,sc=bA.m,Cp=ce(sc,1);if(a(Sc,0,0,sd),Cp){var _p=ce(sc,1)+1,Tf=ce(sc,1),kf=ce(sc,Tf==0?1:8);Sc[kf]=1,_p==2&&(Sc[kf=ce(sc,8)]=1);var Bc=1}else{var ai=i(19),$i=ce(sc,4)+4;if(19<$i){bA.a=3;var Pi=0;break s}for(Zd=0;Zd<$i;++Zd)ai[be[Zd]]=ce(sc,3);var jA=void 0,id=void 0,NA=bA,zw=ai,ha=sd,Pf=Sc,Dh=0,Ec=NA.m,ic=8,Al=o(128,R);n:for(;B(Al,0,7,zw,19);){if(ce(Ec,1)){var Fh=2+2*ce(Ec,3);if((jA=2+ce(Ec,Fh))>ha)break n}else jA=ha;for(id=0;id<ha&&jA--;){re(Ec);var Df=Al[0+(127&E(Ec))];se(Ec,Ec.u+Df.g);var eu=Df.value;if(16>eu)Pf[id++]=eu,eu!=0&&(ic=eu);else{var lv=eu==16,Sp=eu-16,cv=I[Sp],Bp=ce(Ec,j[Sp])+cv;if(id+Bp>ha)break n;for(var dv=lv?ic:0;0<Bp--;)Pf[id++]=dv}}Dh=1;break n}Dh||(NA.a=3),Bc=Dh}(Bc=Bc&&!sc.h)&&(Zs=B(ov,Np,8,Sc,sd)),Bc&&Zs!=0?Pi=Zs:(bA.a=3,Pi=0)}if(Pi==0)break r;if(ul&&ae[En]==1&&(ul=Uu[di].g==0),yA+=Uu[di].g,di+=Pi,3>=En){var CA,Ff=Ol[0];for(CA=1;CA<Is;++CA)Ol[CA]>Ff&&(Ff=Ol[CA]);wA+=Ff}}if(Ml.nd=ul,Ml.Qb=0,ul&&(Ml.qb=(nd[3][Qu[3]+0].value<<24|nd[1][Qu[1]+0].value<<16|nd[2][Qu[2]+0].value)>>>0,yA==0&&256>nd[0][Qu[0]+0].value&&(Ml.Qb=1,Ml.qb+=nd[0][Qu[0]+0].value<<8)),Ml.jc=!Ml.Qb&&6>wA,Ml.jc){var Lh,hl=Ml;for(Lh=0;Lh<Vs;++Lh){var ad=Lh,ac=hl.pd[ad],Hu=hl.G[0][hl.H[0]+ad];256<=Hu.value?(ac.g=Hu.g+256,ac.value=Hu.value):(ac.g=0,ac.value=0,ad>>=Er(Hu,8,ac),ad>>=Er(hl.G[1][hl.H[1]+ad],16,ac),ad>>=Er(hl.G[2][hl.H[2]+ad],0,ac),Er(hl.G[3][hl.H[3]+ad],24,ac))}}}ui.vc=Aa,ui.Wb=Ya,ui.Ya=Rl,ui.yc=_c,Fs=1;break t}Fs=0}if(!(ge=Fs)){ne.a=3;break e}if(0<gt){if(Ie.ua=1<<gt,!Ve(Ie.Wa,gt)){ne.a=1,ge=0;break e}}else Ie.ua=0;var Lf=ne,Rf=ve,uv=Ne,Of=Lf.s,Mf=Of.xc;if(Lf.c=Rf,Lf.i=uv,Of.md=Bt(Rf,Mf),Of.wc=Mf==0?-1:(1<<Mf)-1,W){ne.xb=Fl;break e}if((Xe=i(ve*Ne))==null){ne.a=1,ge=0;break e}ge=(ge=Pn(ne,Xe,0,ve,Ne,Ne,null))&&!Ce.h;break e}return ge?(fe!=null?fe[0]=Xe:(t(Xe==null),t(W)),ne.$=0,W||qn(Ie)):qn(Ie),ge}function wr(_,P){var W=_.c*_.i,ne=W+P+16*P;return t(_.c<=P),_.V=i(ne),_.V==null?(_.Ta=null,_.Ua=0,_.a=1,0):(_.Ta=_.V,_.Ua=_.Ba+W+P,1)}function We(_,P){var W=_.C,ne=P-W,fe=_.V,ge=_.Ba+_.c*W;for(t(P<=_.l.o);0<ne;){var ve=16<ne?16:ne,Ne=_.l.ma,Ce=_.l.width,Ie=Ce*ve,Xe=Ne.ca,gt=Ne.tb+Ce*W,xt=_.Ta,lt=_.Ua;kn(_,ve,fe,ge),ii(xt,lt,Xe,gt,Ie),en(Ne,W,W+ve,Xe,gt,Ce),ne-=ve,fe+=ve*_.c,W+=ve}t(W==P),_.C=_.Ma=P}function Ht(){this.ub=this.yd=this.td=this.Rb=0}function mr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function jn(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Un(){this.Yb=function(){var _=[];return function P(W,ne,fe){for(var ge=fe[ne],ve=0;ve<ge&&(W.push(fe.length>ne+1?[]:0),!(fe.length<ne+1));ve++)P(W[ve],ne+1,fe)}(_,0,[3,11]),_}()}function Ur(){this.jb=i(3),this.Wc=l([4,8],Un),this.Xc=l([4,17],Un)}function Jr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Xn(){this.ld=this.La=this.dd=this.tc=0}function ds(){this.Na=this.la=0}function Nn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Te(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Nt(){this.uc=this.M=this.Nb=0,this.wa=Array(new Xn),this.Y=0,this.ya=Array(new Te),this.aa=0,this.l=new Cn}function Jt(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Pr(){this.cb=this.a=0,this.sc="",this.m=new ee,this.Od=new Ht,this.Kc=new mr,this.ed=new Jr,this.Qa=new jn,this.Ic=this.$c=this.Aa=0,this.D=new Nt,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ee),this.ia=0,this.pb=o(4,Nn),this.Pa=new Ur,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Jt),this.Hd=0,this.rb=Array(new ds),this.sb=0,this.wa=Array(new Xn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Te),this.L=this.aa=0,this.gd=l([4,2],Xn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Cn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Kr(){var _=new Pr;return _!=null&&(_.a=0,_.sc="OK",_.cb=0,_.Xb=0,rn||(rn=Qs)),_}function Y(_,P,W){return _.a==0&&(_.a=P,_.sc=W,_.cb=0),0}function Ls(_,P,W){return 3<=W&&_[P+0]==157&&_[P+1]==1&&_[P+2]==42}function Qi(_,P){if(_==null)return 0;if(_.a=0,_.sc="OK",P==null)return Y(_,2,"null VP8Io passed to VP8GetHeaders()");var W=P.data,ne=P.w,fe=P.ha;if(4>fe)return Y(_,7,"Truncated header.");var ge=W[ne+0]|W[ne+1]<<8|W[ne+2]<<16,ve=_.Od;if(ve.Rb=!(1&ge),ve.td=ge>>1&7,ve.yd=ge>>4&1,ve.ub=ge>>5,3<ve.td)return Y(_,3,"Incorrect keyframe parameters.");if(!ve.yd)return Y(_,4,"Frame not displayable.");ne+=3,fe-=3;var Ne=_.Kc;if(ve.Rb){if(7>fe)return Y(_,7,"cannot parse picture header");if(!Ls(W,ne,fe))return Y(_,3,"Bad code word");Ne.c=16383&(W[ne+4]<<8|W[ne+3]),Ne.Td=W[ne+4]>>6,Ne.i=16383&(W[ne+6]<<8|W[ne+5]),Ne.Ud=W[ne+6]>>6,ne+=7,fe-=7,_.za=Ne.c+15>>4,_.Ub=Ne.i+15>>4,P.width=Ne.c,P.height=Ne.i,P.Da=0,P.j=0,P.v=0,P.va=P.width,P.o=P.height,P.da=0,P.ib=P.width,P.hb=P.height,P.U=P.width,P.T=P.height,a((ge=_.Pa).jb,0,255,ge.jb.length),t((ge=_.Qa)!=null),ge.Cb=0,ge.Bb=0,ge.Fb=1,a(ge.Zb,0,0,ge.Zb.length),a(ge.Lb,0,0,ge.Lb)}if(ve.ub>fe)return Y(_,7,"bad partition length");ye(ge=_.m,W,ne,ve.ub),ne+=ve.ub,fe-=ve.ub,ve.Rb&&(Ne.Ld=ue(ge),Ne.Kd=ue(ge)),Ne=_.Qa;var Ce,Ie=_.Pa;if(t(ge!=null),t(Ne!=null),Ne.Cb=ue(ge),Ne.Cb){if(Ne.Bb=ue(ge),ue(ge)){for(Ne.Fb=ue(ge),Ce=0;4>Ce;++Ce)Ne.Zb[Ce]=ue(ge)?le(ge,7):0;for(Ce=0;4>Ce;++Ce)Ne.Lb[Ce]=ue(ge)?le(ge,6):0}if(Ne.Bb)for(Ce=0;3>Ce;++Ce)Ie.jb[Ce]=ue(ge)?de(ge,8):255}else Ne.Bb=0;if(ge.Ka)return Y(_,3,"cannot parse segment header");if((Ne=_.ed).zd=ue(ge),Ne.Tb=de(ge,6),Ne.wb=de(ge,3),Ne.Pc=ue(ge),Ne.Pc&&ue(ge)){for(Ie=0;4>Ie;++Ie)ue(ge)&&(Ne.vd[Ie]=le(ge,6));for(Ie=0;4>Ie;++Ie)ue(ge)&&(Ne.od[Ie]=le(ge,6))}if(_.L=Ne.Tb==0?0:Ne.zd?1:2,ge.Ka)return Y(_,3,"cannot parse filter header");var Xe=fe;if(fe=Ce=ne,ne=Ce+Xe,Ne=Xe,_.Xb=(1<<de(_.m,2))-1,Xe<3*(Ie=_.Xb))W=7;else{for(Ce+=3*Ie,Ne-=3*Ie,Xe=0;Xe<Ie;++Xe){var gt=W[fe+0]|W[fe+1]<<8|W[fe+2]<<16;gt>Ne&&(gt=Ne),ye(_.Jc[+Xe],W,Ce,gt),Ce+=gt,Ne-=gt,fe+=3}ye(_.Jc[+Ie],W,Ce,Ne),W=Ce<ne?0:5}if(W!=0)return Y(_,W,"cannot parse partitions");for(W=de(Ce=_.m,7),fe=ue(Ce)?le(Ce,4):0,ne=ue(Ce)?le(Ce,4):0,Ne=ue(Ce)?le(Ce,4):0,Ie=ue(Ce)?le(Ce,4):0,Ce=ue(Ce)?le(Ce,4):0,Xe=_.Qa,gt=0;4>gt;++gt){if(Xe.Cb){var xt=Xe.Zb[gt];Xe.Fb||(xt+=W)}else{if(0<gt){_.pb[gt]=_.pb[0];continue}xt=W}var lt=_.pb[gt];lt.Sc[0]=$t[Xs(xt+fe,127)],lt.Sc[1]=Ir[Xs(xt+0,127)],lt.Eb[0]=2*$t[Xs(xt+ne,127)],lt.Eb[1]=101581*Ir[Xs(xt+Ne,127)]>>16,8>lt.Eb[1]&&(lt.Eb[1]=8),lt.Qc[0]=$t[Xs(xt+Ie,117)],lt.Qc[1]=Ir[Xs(xt+Ce,127)],lt.lc=xt+Ce}if(!ve.Rb)return Y(_,4,"Not a key frame.");for(ue(ge),ve=_.Pa,W=0;4>W;++W){for(fe=0;8>fe;++fe)for(ne=0;3>ne;++ne)for(Ne=0;11>Ne;++Ne)Ie=ie(ge,Jd[W][fe][ne][Ne])?de(ge,8):No[W][fe][ne][Ne],ve.Wc[W][fe].Yb[ne][Ne]=Ie;for(fe=0;17>fe;++fe)ve.Xc[W][fe]=ve.Wc[W][kh[fe]]}return _.kc=ue(ge),_.kc&&(_.Bd=de(ge,8)),_.cb=1}function Qs(_,P,W,ne,fe,ge,ve){var Ne=P[fe].Yb[W];for(W=0;16>fe;++fe){if(!ie(_,Ne[W+0]))return fe;for(;!ie(_,Ne[W+1]);)if(Ne=P[++fe].Yb[0],W=0,fe==16)return 16;var Ce=P[fe+1].Yb;if(ie(_,Ne[W+2])){var Ie=_,Xe=0;if(ie(Ie,(xt=Ne)[(gt=W)+3]))if(ie(Ie,xt[gt+6])){for(Ne=0,gt=2*(Xe=ie(Ie,xt[gt+8]))+(xt=ie(Ie,xt[gt+9+Xe])),Xe=0,xt=Hn[gt];xt[Ne];++Ne)Xe+=Xe+ie(Ie,xt[Ne]);Xe+=3+(8<<gt)}else ie(Ie,xt[gt+7])?(Xe=7+2*ie(Ie,165),Xe+=ie(Ie,145)):Xe=5+ie(Ie,159);else Xe=ie(Ie,xt[gt+4])?3+ie(Ie,xt[gt+5]):2;Ne=Ce[2]}else Xe=1,Ne=Ce[1];Ce=ve+ca[fe],0>(Ie=_).b&&G(Ie);var gt,xt=Ie.b,lt=(gt=Ie.Ca>>1)-(Ie.I>>xt)>>31;--Ie.b,Ie.Ca+=lt,Ie.Ca|=1,Ie.I-=(gt+1&lt)<<xt,ge[Ce]=((Xe^lt)-lt)*ne[(0<fe)+0]}return 16}function gi(_){var P=_.rb[_.sb-1];P.la=0,P.Na=0,a(_.zc,0,0,_.zc.length),_.ja=0}function Wr(_,P){if(_==null)return 0;if(P==null)return Y(_,2,"NULL VP8Io parameter in VP8Decode().");if(!_.cb&&!Qi(_,P))return 0;if(t(_.cb),P.ac==null||P.ac(P)){P.ob&&(_.L=0);var W=Mu[_.L];if(_.L==2?(_.yb=0,_.zb=0):(_.yb=P.v-W>>4,_.zb=P.j-W>>4,0>_.yb&&(_.yb=0),0>_.zb&&(_.zb=0)),_.Va=P.o+15+W>>4,_.Hb=P.va+15+W>>4,_.Hb>_.za&&(_.Hb=_.za),_.Va>_.Ub&&(_.Va=_.Ub),0<_.L){var ne=_.ed;for(W=0;4>W;++W){var fe;if(_.Qa.Cb){var ge=_.Qa.Lb[W];_.Qa.Fb||(ge+=ne.Tb)}else ge=ne.Tb;for(fe=0;1>=fe;++fe){var ve=_.gd[W][fe],Ne=ge;if(ne.Pc&&(Ne+=ne.vd[0],fe&&(Ne+=ne.od[0])),0<(Ne=0>Ne?0:63<Ne?63:Ne)){var Ce=Ne;0<ne.wb&&(Ce=4<ne.wb?Ce>>2:Ce>>1)>9-ne.wb&&(Ce=9-ne.wb),1>Ce&&(Ce=1),ve.dd=Ce,ve.tc=2*Ne+Ce,ve.ld=40<=Ne?2:15<=Ne?1:0}else ve.tc=0;ve.La=fe}}}W=0}else Y(_,6,"Frame setup failed"),W=_.a;if(W=W==0){if(W){_.$c=0,0<_.Aa||(_.Ic=td);e:{W=_.Ic,ne=4*(Ce=_.za);var Ie=32*Ce,Xe=Ce+1,gt=0<_.L?Ce*(0<_.Aa?2:1):0,xt=(_.Aa==2?2:1)*Ce;if((ve=ne+832+(fe=3*(16*W+Mu[_.L])/2*Ie)+(ge=_.Fa!=null&&0<_.Fa.length?_.Kc.c*_.Kc.i:0))!=ve)W=0;else{if(ve>_.Vb){if(_.Vb=0,_.Ec=i(ve),_.Fc=0,_.Ec==null){W=Y(_,1,"no memory during frame initialization.");break e}_.Vb=ve}ve=_.Ec,Ne=_.Fc,_.Ac=ve,_.Bc=Ne,Ne+=ne,_.Gd=o(Ie,Jt),_.Hd=0,_.rb=o(Xe+1,ds),_.sb=1,_.wa=gt?o(gt,Xn):null,_.Y=0,_.D.Nb=0,_.D.wa=_.wa,_.D.Y=_.Y,0<_.Aa&&(_.D.Y+=Ce),t(!0),_.oc=ve,_.pc=Ne,Ne+=832,_.ya=o(xt,Te),_.aa=0,_.D.ya=_.ya,_.D.aa=_.aa,_.Aa==2&&(_.D.aa+=Ce),_.R=16*Ce,_.B=8*Ce,Ce=(Ie=Mu[_.L])*_.R,Ie=Ie/2*_.B,_.sa=ve,_.ta=Ne+Ce,_.qa=_.sa,_.ra=_.ta+16*W*_.R+Ie,_.Ha=_.qa,_.Ia=_.ra+8*W*_.B+Ie,_.$c=0,Ne+=fe,_.mb=ge?ve:null,_.nb=ge?Ne:null,t(Ne+ge<=_.Fc+_.Vb),gi(_),a(_.Ac,_.Bc,0,ne),W=1}}if(W){if(P.ka=0,P.y=_.sa,P.O=_.ta,P.f=_.qa,P.N=_.ra,P.ea=_.Ha,P.Vd=_.Ia,P.fa=_.R,P.Rc=_.B,P.F=null,P.J=0,!Fu){for(W=-255;255>=W;++W)Ss[255+W]=0>W?-W:W;for(W=-1020;1020>=W;++W)ll[1020+W]=-128>W?-128:127<W?127:W;for(W=-112;112>=W;++W)Yc[112+W]=-16>W?-16:15<W?15:W;for(W=-255;510>=W;++W)cl[255+W]=0>W?0:255<W?255:W;Fu=1}wc=fn,Il=Hr,Lo=on,Ta=nn,ao=us,gs=tr,qc=Vr,$d=In,Jc=Wa,ka=Xl,Tl=zi,wo=sa,Ro=Ea,kl=Md,Pl=so,tc=me,Oo=At,la=lr,Mo[0]=Vn,Mo[1]=Ci,Mo[2]=ln,Mo[3]=Ys,Mo[4]=Ba,Mo[5]=za,Mo[6]=Ha,Mo[7]=Hi,Mo[8]=he,Mo[9]=si,Ga[0]=ro,Ga[1]=go,Ga[2]=na,Ga[3]=ni,Ga[4]=as,Ga[5]=Si,Ga[6]=Bi,qa[0]=An,qa[1]=Qa,qa[2]=pt,qa[3]=Wt,qa[4]=xi,qa[5]=tn,qa[6]=Va,W=1}else W=0}W&&(W=function(lt,Vt){for(lt.M=0;lt.M<lt.Va;++lt.M){var Ft,et=lt.Jc[lt.M&lt.Xb],tt=lt.m,Ut=lt;for(Ft=0;Ft<Ut.za;++Ft){var Ot=tt,Qt=Ut,Dr=Qt.Ac,Nr=Qt.Bc+4*Ft,cn=Qt.zc,Br=Qt.ya[Qt.aa+Ft];if(Qt.Qa.Bb?Br.$b=ie(Ot,Qt.Pa.jb[0])?2+ie(Ot,Qt.Pa.jb[2]):ie(Ot,Qt.Pa.jb[1]):Br.$b=0,Qt.kc&&(Br.Ad=ie(Ot,Qt.Bd)),Br.Za=!ie(Ot,145)+0,Br.Za){var js=Br.Ob,Ns=0;for(Qt=0;4>Qt;++Qt){var As,Kn=cn[0+Qt];for(As=0;4>As;++As){Kn=oo[Dr[Nr+As]][Kn];for(var Fs=Ti[ie(Ot,Kn[0])];0<Fs;)Fs=Ti[2*Fs+ie(Ot,Kn[Fs])];Kn=-Fs,Dr[Nr+As]=Kn}s(js,Ns,Dr,Nr,4),Ns+=4,cn[0+Qt]=Kn}}else Kn=ie(Ot,156)?ie(Ot,128)?1:3:ie(Ot,163)?2:0,Br.Ob[0]=Kn,a(Dr,Nr,Kn,4),a(cn,0,Kn,4);Br.Dd=ie(Ot,142)?ie(Ot,114)?ie(Ot,183)?1:3:2:0}if(Ut.m.Ka)return Y(lt,7,"Premature end-of-partition0 encountered.");for(;lt.ja<lt.za;++lt.ja){if(Ut=et,Ot=(tt=lt).rb[tt.sb-1],Dr=tt.rb[tt.sb+tt.ja],Ft=tt.ya[tt.aa+tt.ja],Nr=tt.kc?Ft.Ad:0)Ot.la=Dr.la=0,Ft.Za||(Ot.Na=Dr.Na=0),Ft.Hc=0,Ft.Gc=0,Ft.ia=0;else{var Os,En;if(Ot=Dr,Dr=Ut,Nr=tt.Pa.Xc,cn=tt.ya[tt.aa+tt.ja],Br=tt.pb[cn.$b],Qt=cn.ad,js=0,Ns=tt.rb[tt.sb-1],Kn=As=0,a(Qt,js,0,384),cn.Za)var di=0,Co=Nr[3];else{Fs=i(16);var ki=Ot.Na+Ns.Na;if(ki=rn(Dr,Nr[1],ki,Br.Eb,0,Fs,0),Ot.Na=Ns.Na=(0<ki)+0,1<ki)wc(Fs,0,Qt,js);else{var ua=Fs[0]+3>>3;for(Fs=0;256>Fs;Fs+=16)Qt[js+Fs]=ua}di=1,Co=Nr[0]}var Es=15&Ot.la,lo=15&Ns.la;for(Fs=0;4>Fs;++Fs){var co=1&lo;for(ua=En=0;4>ua;++ua)Es=Es>>1|(co=(ki=rn(Dr,Co,ki=co+(1&Es),Br.Sc,di,Qt,js))>di)<<7,En=En<<2|(3<ki?3:1<ki?2:Qt[js+0]!=0),js+=16;Es>>=4,lo=lo>>1|co<<7,As=(As<<8|En)>>>0}for(Co=Es,di=lo>>4,Os=0;4>Os;Os+=2){for(En=0,Es=Ot.la>>4+Os,lo=Ns.la>>4+Os,Fs=0;2>Fs;++Fs){for(co=1&lo,ua=0;2>ua;++ua)ki=co+(1&Es),Es=Es>>1|(co=0<(ki=rn(Dr,Nr[2],ki,Br.Qc,0,Qt,js)))<<3,En=En<<2|(3<ki?3:1<ki?2:Qt[js+0]!=0),js+=16;Es>>=2,lo=lo>>1|co<<5}Kn|=En<<4*Os,Co|=Es<<4<<Os,di|=(240&lo)<<Os}Ot.la=Co,Ns.la=di,cn.Hc=As,cn.Gc=Kn,cn.ia=43690&Kn?0:Br.ia,Nr=!(As|Kn)}if(0<tt.L&&(tt.wa[tt.Y+tt.ja]=tt.gd[Ft.$b][Ft.Za],tt.wa[tt.Y+tt.ja].La|=!Nr),Ut.Ka)return Y(lt,7,"Premature end-of-file encountered.")}if(gi(lt),tt=Vt,Ut=1,Ft=(et=lt).D,Ot=0<et.L&&et.M>=et.zb&&et.M<=et.Va,et.Aa==0)e:{if(Ft.M=et.M,Ft.uc=Ot,Hd(et,Ft),Ut=1,Ft=(En=et.D).Nb,Ot=(Kn=Mu[et.L])*et.R,Dr=Kn/2*et.B,Fs=16*Ft*et.R,ua=8*Ft*et.B,Nr=et.sa,cn=et.ta-Ot+Fs,Br=et.qa,Qt=et.ra-Dr+ua,js=et.Ha,Ns=et.Ia-Dr+ua,lo=(Es=En.M)==0,As=Es>=et.Va-1,et.Aa==2&&Hd(et,En),En.uc)for(co=(ki=et).D.M,t(ki.D.uc),En=ki.yb;En<ki.Hb;++En){di=En,Co=co;var ui=(Aa=(Is=ki).D).Nb;Os=Is.R;var Aa=Aa.wa[Aa.Y+di],Ya=Is.sa,Ho=Is.ta+16*ui*Os+16*di,Ll=Aa.dd,Ai=Aa.tc;if(Ai!=0)if(t(3<=Ai),Is.L==1)0<di&&tc(Ya,Ho,Os,Ai+4),Aa.La&&la(Ya,Ho,Os,Ai),0<Co&&Pl(Ya,Ho,Os,Ai+4),Aa.La&&Oo(Ya,Ho,Os,Ai);else{var Wi=Is.B,dl=Is.qa,Xd=Is.ra+8*ui*Wi+8*di,rd=Is.Ha,Is=Is.Ia+8*ui*Wi+8*di;ui=Aa.ld,0<di&&($d(Ya,Ho,Os,Ai+4,Ll,ui),ka(dl,Xd,rd,Is,Wi,Ai+4,Ll,ui)),Aa.La&&(wo(Ya,Ho,Os,Ai,Ll,ui),kl(dl,Xd,rd,Is,Wi,Ai,Ll,ui)),0<Co&&(qc(Ya,Ho,Os,Ai+4,Ll,ui),Jc(dl,Xd,rd,Is,Wi,Ai+4,Ll,ui)),Aa.La&&(Tl(Ya,Ho,Os,Ai,Ll,ui),Ro(dl,Xd,rd,Is,Wi,Ai,Ll,ui))}}if(et.ia&&alert("todo:DitherRow"),tt.put!=null){if(En=16*Es,Es=16*(Es+1),lo?(tt.y=et.sa,tt.O=et.ta+Fs,tt.f=et.qa,tt.N=et.ra+ua,tt.ea=et.Ha,tt.W=et.Ia+ua):(En-=Kn,tt.y=Nr,tt.O=cn,tt.f=Br,tt.N=Qt,tt.ea=js,tt.W=Ns),As||(Es-=Kn),Es>tt.o&&(Es=tt.o),tt.F=null,tt.J=null,et.Fa!=null&&0<et.Fa.length&&En<Es&&(tt.J=Du(et,tt,En,Es-En),tt.F=et.mb,tt.F==null&&tt.F.length==0)){Ut=Y(et,3,"Could not decode alpha data.");break e}En<tt.j&&(Kn=tt.j-En,En=tt.j,t(!(1&Kn)),tt.O+=et.R*Kn,tt.N+=et.B*(Kn>>1),tt.W+=et.B*(Kn>>1),tt.F!=null&&(tt.J+=tt.width*Kn)),En<Es&&(tt.O+=tt.v,tt.N+=tt.v>>1,tt.W+=tt.v>>1,tt.F!=null&&(tt.J+=tt.v),tt.ka=En-tt.j,tt.U=tt.va-tt.v,tt.T=Es-En,Ut=tt.put(tt))}Ft+1!=et.Ic||As||(s(et.sa,et.ta-Ot,Nr,cn+16*et.R,Ot),s(et.qa,et.ra-Dr,Br,Qt+8*et.B,Dr),s(et.Ha,et.Ia-Dr,js,Ns+8*et.B,Dr))}if(!Ut)return Y(lt,6,"Output aborted.")}return 1}(_,P)),P.bc!=null&&P.bc(P),W&=1}return W?(_.cb=0,W):0}function wn(_,P,W,ne,fe){fe=_[P+W+32*ne]+(fe>>3),_[P+W+32*ne]=-256&fe?0>fe?0:255:fe}function Ni(_,P,W,ne,fe,ge){wn(_,P,0,W,ne+fe),wn(_,P,1,W,ne+ge),wn(_,P,2,W,ne-ge),wn(_,P,3,W,ne-fe)}function Pe(_){return(20091*_>>16)+_}function Ct(_,P,W,ne){var fe,ge=0,ve=i(16);for(fe=0;4>fe;++fe){var Ne=_[P+0]+_[P+8],Ce=_[P+0]-_[P+8],Ie=(35468*_[P+4]>>16)-Pe(_[P+12]),Xe=Pe(_[P+4])+(35468*_[P+12]>>16);ve[ge+0]=Ne+Xe,ve[ge+1]=Ce+Ie,ve[ge+2]=Ce-Ie,ve[ge+3]=Ne-Xe,ge+=4,P++}for(fe=ge=0;4>fe;++fe)Ne=(_=ve[ge+0]+4)+ve[ge+8],Ce=_-ve[ge+8],Ie=(35468*ve[ge+4]>>16)-Pe(ve[ge+12]),wn(W,ne,0,0,Ne+(Xe=Pe(ve[ge+4])+(35468*ve[ge+12]>>16))),wn(W,ne,1,0,Ce+Ie),wn(W,ne,2,0,Ce-Ie),wn(W,ne,3,0,Ne-Xe),ge++,ne+=32}function tr(_,P,W,ne){var fe=_[P+0]+4,ge=35468*_[P+4]>>16,ve=Pe(_[P+4]),Ne=35468*_[P+1]>>16;Ni(W,ne,0,fe+ve,_=Pe(_[P+1]),Ne),Ni(W,ne,1,fe+ge,_,Ne),Ni(W,ne,2,fe-ge,_,Ne),Ni(W,ne,3,fe-ve,_,Ne)}function Hr(_,P,W,ne,fe){Ct(_,P,W,ne),fe&&Ct(_,P+16,W,ne+4)}function on(_,P,W,ne){Il(_,P+0,W,ne,1),Il(_,P+32,W,ne+128,1)}function nn(_,P,W,ne){var fe;for(_=_[P+0]+4,fe=0;4>fe;++fe)for(P=0;4>P;++P)wn(W,ne,P,fe,_)}function us(_,P,W,ne){_[P+0]&&Ta(_,P+0,W,ne),_[P+16]&&Ta(_,P+16,W,ne+4),_[P+32]&&Ta(_,P+32,W,ne+128),_[P+48]&&Ta(_,P+48,W,ne+128+4)}function fn(_,P,W,ne){var fe,ge=i(16);for(fe=0;4>fe;++fe){var ve=_[P+0+fe]+_[P+12+fe],Ne=_[P+4+fe]+_[P+8+fe],Ce=_[P+4+fe]-_[P+8+fe],Ie=_[P+0+fe]-_[P+12+fe];ge[0+fe]=ve+Ne,ge[8+fe]=ve-Ne,ge[4+fe]=Ie+Ce,ge[12+fe]=Ie-Ce}for(fe=0;4>fe;++fe)ve=(_=ge[0+4*fe]+3)+ge[3+4*fe],Ne=ge[1+4*fe]+ge[2+4*fe],Ce=ge[1+4*fe]-ge[2+4*fe],Ie=_-ge[3+4*fe],W[ne+0]=ve+Ne>>3,W[ne+16]=Ie+Ce>>3,W[ne+32]=ve-Ne>>3,W[ne+48]=Ie-Ce>>3,ne+=64}function Hs(_,P,W){var ne,fe=P-32,ge=Pa,ve=255-_[fe-1];for(ne=0;ne<W;++ne){var Ne,Ce=ge,Ie=ve+_[P-1];for(Ne=0;Ne<W;++Ne)_[P+Ne]=Ce[Ie+_[fe+Ne]];P+=32}}function Ci(_,P){Hs(_,P,4)}function Qa(_,P){Hs(_,P,8)}function go(_,P){Hs(_,P,16)}function na(_,P){var W;for(W=0;16>W;++W)s(_,P+32*W,_,P-32,16)}function ni(_,P){var W;for(W=16;0<W;--W)a(_,P,_[P-1],16),P+=32}function _i(_,P,W){var ne;for(ne=0;16>ne;++ne)a(P,W+32*ne,_,16)}function ro(_,P){var W,ne=16;for(W=0;16>W;++W)ne+=_[P-1+32*W]+_[P+W-32];_i(ne>>5,_,P)}function as(_,P){var W,ne=8;for(W=0;16>W;++W)ne+=_[P-1+32*W];_i(ne>>4,_,P)}function Si(_,P){var W,ne=8;for(W=0;16>W;++W)ne+=_[P+W-32];_i(ne>>4,_,P)}function Bi(_,P){_i(128,_,P)}function sn(_,P,W){return _+2*P+W+2>>2}function ln(_,P){var W,ne=P-32;for(ne=new Uint8Array([sn(_[ne-1],_[ne+0],_[ne+1]),sn(_[ne+0],_[ne+1],_[ne+2]),sn(_[ne+1],_[ne+2],_[ne+3]),sn(_[ne+2],_[ne+3],_[ne+4])]),W=0;4>W;++W)s(_,P+32*W,ne,0,ne.length)}function Ys(_,P){var W=_[P-1],ne=_[P-1+32],fe=_[P-1+64],ge=_[P-1+96];Ee(_,P+0,16843009*sn(_[P-1-32],W,ne)),Ee(_,P+32,16843009*sn(W,ne,fe)),Ee(_,P+64,16843009*sn(ne,fe,ge)),Ee(_,P+96,16843009*sn(fe,ge,ge))}function Vn(_,P){var W,ne=4;for(W=0;4>W;++W)ne+=_[P+W-32]+_[P-1+32*W];for(ne>>=3,W=0;4>W;++W)a(_,P+32*W,ne,4)}function Ba(_,P){var W=_[P-1+0],ne=_[P-1+32],fe=_[P-1+64],ge=_[P-1-32],ve=_[P+0-32],Ne=_[P+1-32],Ce=_[P+2-32],Ie=_[P+3-32];_[P+0+96]=sn(ne,fe,_[P-1+96]),_[P+1+96]=_[P+0+64]=sn(W,ne,fe),_[P+2+96]=_[P+1+64]=_[P+0+32]=sn(ge,W,ne),_[P+3+96]=_[P+2+64]=_[P+1+32]=_[P+0+0]=sn(ve,ge,W),_[P+3+64]=_[P+2+32]=_[P+1+0]=sn(Ne,ve,ge),_[P+3+32]=_[P+2+0]=sn(Ce,Ne,ve),_[P+3+0]=sn(Ie,Ce,Ne)}function Ha(_,P){var W=_[P+1-32],ne=_[P+2-32],fe=_[P+3-32],ge=_[P+4-32],ve=_[P+5-32],Ne=_[P+6-32],Ce=_[P+7-32];_[P+0+0]=sn(_[P+0-32],W,ne),_[P+1+0]=_[P+0+32]=sn(W,ne,fe),_[P+2+0]=_[P+1+32]=_[P+0+64]=sn(ne,fe,ge),_[P+3+0]=_[P+2+32]=_[P+1+64]=_[P+0+96]=sn(fe,ge,ve),_[P+3+32]=_[P+2+64]=_[P+1+96]=sn(ge,ve,Ne),_[P+3+64]=_[P+2+96]=sn(ve,Ne,Ce),_[P+3+96]=sn(Ne,Ce,Ce)}function za(_,P){var W=_[P-1+0],ne=_[P-1+32],fe=_[P-1+64],ge=_[P-1-32],ve=_[P+0-32],Ne=_[P+1-32],Ce=_[P+2-32],Ie=_[P+3-32];_[P+0+0]=_[P+1+64]=ge+ve+1>>1,_[P+1+0]=_[P+2+64]=ve+Ne+1>>1,_[P+2+0]=_[P+3+64]=Ne+Ce+1>>1,_[P+3+0]=Ce+Ie+1>>1,_[P+0+96]=sn(fe,ne,W),_[P+0+64]=sn(ne,W,ge),_[P+0+32]=_[P+1+96]=sn(W,ge,ve),_[P+1+32]=_[P+2+96]=sn(ge,ve,Ne),_[P+2+32]=_[P+3+96]=sn(ve,Ne,Ce),_[P+3+32]=sn(Ne,Ce,Ie)}function Hi(_,P){var W=_[P+0-32],ne=_[P+1-32],fe=_[P+2-32],ge=_[P+3-32],ve=_[P+4-32],Ne=_[P+5-32],Ce=_[P+6-32],Ie=_[P+7-32];_[P+0+0]=W+ne+1>>1,_[P+1+0]=_[P+0+64]=ne+fe+1>>1,_[P+2+0]=_[P+1+64]=fe+ge+1>>1,_[P+3+0]=_[P+2+64]=ge+ve+1>>1,_[P+0+32]=sn(W,ne,fe),_[P+1+32]=_[P+0+96]=sn(ne,fe,ge),_[P+2+32]=_[P+1+96]=sn(fe,ge,ve),_[P+3+32]=_[P+2+96]=sn(ge,ve,Ne),_[P+3+64]=sn(ve,Ne,Ce),_[P+3+96]=sn(Ne,Ce,Ie)}function si(_,P){var W=_[P-1+0],ne=_[P-1+32],fe=_[P-1+64],ge=_[P-1+96];_[P+0+0]=W+ne+1>>1,_[P+2+0]=_[P+0+32]=ne+fe+1>>1,_[P+2+32]=_[P+0+64]=fe+ge+1>>1,_[P+1+0]=sn(W,ne,fe),_[P+3+0]=_[P+1+32]=sn(ne,fe,ge),_[P+3+32]=_[P+1+64]=sn(fe,ge,ge),_[P+3+64]=_[P+2+64]=_[P+0+96]=_[P+1+96]=_[P+2+96]=_[P+3+96]=ge}function he(_,P){var W=_[P-1+0],ne=_[P-1+32],fe=_[P-1+64],ge=_[P-1+96],ve=_[P-1-32],Ne=_[P+0-32],Ce=_[P+1-32],Ie=_[P+2-32];_[P+0+0]=_[P+2+32]=W+ve+1>>1,_[P+0+32]=_[P+2+64]=ne+W+1>>1,_[P+0+64]=_[P+2+96]=fe+ne+1>>1,_[P+0+96]=ge+fe+1>>1,_[P+3+0]=sn(Ne,Ce,Ie),_[P+2+0]=sn(ve,Ne,Ce),_[P+1+0]=_[P+3+32]=sn(W,ve,Ne),_[P+1+32]=_[P+3+64]=sn(ne,W,ve),_[P+1+64]=_[P+3+96]=sn(fe,ne,W),_[P+1+96]=sn(ge,fe,ne)}function pt(_,P){var W;for(W=0;8>W;++W)s(_,P+32*W,_,P-32,8)}function Wt(_,P){var W;for(W=0;8>W;++W)a(_,P,_[P-1],8),P+=32}function Ar(_,P,W){var ne;for(ne=0;8>ne;++ne)a(P,W+32*ne,_,8)}function An(_,P){var W,ne=8;for(W=0;8>W;++W)ne+=_[P+W-32]+_[P-1+32*W];Ar(ne>>4,_,P)}function tn(_,P){var W,ne=4;for(W=0;8>W;++W)ne+=_[P+W-32];Ar(ne>>3,_,P)}function xi(_,P){var W,ne=4;for(W=0;8>W;++W)ne+=_[P-1+32*W];Ar(ne>>3,_,P)}function Va(_,P){Ar(128,_,P)}function ci(_,P,W){var ne=_[P-W],fe=_[P+0],ge=3*(fe-ne)+bo[1020+_[P-2*W]-_[P+W]],ve=Dl[112+(ge+4>>3)];_[P-W]=Pa[255+ne+Dl[112+(ge+3>>3)]],_[P+0]=Pa[255+fe-ve]}function Ka(_,P,W,ne){var fe=_[P+0],ge=_[P+W];return jo[255+_[P-2*W]-_[P-W]]>ne||jo[255+ge-fe]>ne}function no(_,P,W,ne){return 4*jo[255+_[P-W]-_[P+0]]+jo[255+_[P-2*W]-_[P+W]]<=ne}function Rn(_,P,W,ne,fe){var ge=_[P-3*W],ve=_[P-2*W],Ne=_[P-W],Ce=_[P+0],Ie=_[P+W],Xe=_[P+2*W],gt=_[P+3*W];return 4*jo[255+Ne-Ce]+jo[255+ve-Ie]>ne?0:jo[255+_[P-4*W]-ge]<=fe&&jo[255+ge-ve]<=fe&&jo[255+ve-Ne]<=fe&&jo[255+gt-Xe]<=fe&&jo[255+Xe-Ie]<=fe&&jo[255+Ie-Ce]<=fe}function so(_,P,W,ne){var fe=2*ne+1;for(ne=0;16>ne;++ne)no(_,P+ne,W,fe)&&ci(_,P+ne,W)}function me(_,P,W,ne){var fe=2*ne+1;for(ne=0;16>ne;++ne)no(_,P+ne*W,1,fe)&&ci(_,P+ne*W,1)}function At(_,P,W,ne){var fe;for(fe=3;0<fe;--fe)so(_,P+=4*W,W,ne)}function lr(_,P,W,ne){var fe;for(fe=3;0<fe;--fe)me(_,P+=4,W,ne)}function br(_,P,W,ne,fe,ge,ve,Ne){for(ge=2*ge+1;0<fe--;){if(Rn(_,P,W,ge,ve))if(Ka(_,P,W,Ne))ci(_,P,W);else{var Ce=_,Ie=P,Xe=W,gt=Ce[Ie-2*Xe],xt=Ce[Ie-Xe],lt=Ce[Ie+0],Vt=Ce[Ie+Xe],Ft=Ce[Ie+2*Xe],et=27*(Ut=bo[1020+3*(lt-xt)+bo[1020+gt-Vt]])+63>>7,tt=18*Ut+63>>7,Ut=9*Ut+63>>7;Ce[Ie-3*Xe]=Pa[255+Ce[Ie-3*Xe]+Ut],Ce[Ie-2*Xe]=Pa[255+gt+tt],Ce[Ie-Xe]=Pa[255+xt+et],Ce[Ie+0]=Pa[255+lt-et],Ce[Ie+Xe]=Pa[255+Vt-tt],Ce[Ie+2*Xe]=Pa[255+Ft-Ut]}P+=ne}}function Qn(_,P,W,ne,fe,ge,ve,Ne){for(ge=2*ge+1;0<fe--;){if(Rn(_,P,W,ge,ve))if(Ka(_,P,W,Ne))ci(_,P,W);else{var Ce=_,Ie=P,Xe=W,gt=Ce[Ie-Xe],xt=Ce[Ie+0],lt=Ce[Ie+Xe],Vt=Dl[112+((Ft=3*(xt-gt))+4>>3)],Ft=Dl[112+(Ft+3>>3)],et=Vt+1>>1;Ce[Ie-2*Xe]=Pa[255+Ce[Ie-2*Xe]+et],Ce[Ie-Xe]=Pa[255+gt+Ft],Ce[Ie+0]=Pa[255+xt-Vt],Ce[Ie+Xe]=Pa[255+lt-et]}P+=ne}}function Vr(_,P,W,ne,fe,ge){br(_,P,W,1,16,ne,fe,ge)}function In(_,P,W,ne,fe,ge){br(_,P,1,W,16,ne,fe,ge)}function zi(_,P,W,ne,fe,ge){var ve;for(ve=3;0<ve;--ve)Qn(_,P+=4*W,W,1,16,ne,fe,ge)}function sa(_,P,W,ne,fe,ge){var ve;for(ve=3;0<ve;--ve)Qn(_,P+=4,1,W,16,ne,fe,ge)}function Wa(_,P,W,ne,fe,ge,ve,Ne){br(_,P,fe,1,8,ge,ve,Ne),br(W,ne,fe,1,8,ge,ve,Ne)}function Xl(_,P,W,ne,fe,ge,ve,Ne){br(_,P,1,fe,8,ge,ve,Ne),br(W,ne,1,fe,8,ge,ve,Ne)}function Ea(_,P,W,ne,fe,ge,ve,Ne){Qn(_,P+4*fe,fe,1,8,ge,ve,Ne),Qn(W,ne+4*fe,fe,1,8,ge,ve,Ne)}function Md(_,P,W,ne,fe,ge,ve,Ne){Qn(_,P+4,1,fe,8,ge,ve,Ne),Qn(W,ne+4,1,fe,8,ge,ve,Ne)}function sl(){this.ba=new qt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new st,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function $a(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function $c(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ku(){this.ua=0,this.Wa=new je,this.vb=new je,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new te,this.yc=new R}function Pu(){this.xb=this.a=0,this.l=new Cn,this.ca=new qt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new M,this.Pb=0,this.wd=new M,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ku,this.ab=0,this.gc=o(4,$c),this.Oc=0}function Ud(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Cn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Sl(_,P,W,ne,fe,ge,ve){for(_=_==null?0:_[P+0],P=0;P<ve;++P)fe[ge+P]=_+W[ne+P]&255,_=fe[ge+P]}function Qd(_,P,W,ne,fe,ge,ve){var Ne;if(_==null)Sl(null,null,W,ne,fe,ge,ve);else for(Ne=0;Ne<ve;++Ne)fe[ge+Ne]=_[P+Ne]+W[ne+Ne]&255}function xc(_,P,W,ne,fe,ge,ve){if(_==null)Sl(null,null,W,ne,fe,ge,ve);else{var Ne,Ce=_[P+0],Ie=Ce,Xe=Ce;for(Ne=0;Ne<ve;++Ne)Ie=Xe+(Ce=_[P+Ne])-Ie,Xe=W[ne+Ne]+(-256&Ie?0>Ie?0:255:Ie)&255,Ie=Ce,fe[ge+Ne]=Xe}}function Du(_,P,W,ne){var fe=P.width,ge=P.o;if(t(_!=null&&P!=null),0>W||0>=ne||W+ne>ge)return null;if(!_.Cc){if(_.ga==null){var ve;if(_.ga=new Ud,(ve=_.ga==null)||(ve=P.width*P.o,t(_.Gb.length==0),_.Gb=i(ve),_.Uc=0,_.Gb==null?ve=0:(_.mb=_.Gb,_.nb=_.Uc,_.rc=null,ve=1),ve=!ve),!ve){ve=_.ga;var Ne=_.Fa,Ce=_.P,Ie=_.qc,Xe=_.mb,gt=_.nb,xt=Ce+1,lt=Ie-1,Vt=ve.l;if(t(Ne!=null&&Xe!=null&&P!=null),ts[0]=null,ts[1]=Sl,ts[2]=Qd,ts[3]=xc,ve.ca=Xe,ve.tb=gt,ve.c=P.width,ve.i=P.height,t(0<ve.c&&0<ve.i),1>=Ie)P=0;else if(ve.$a=Ne[Ce+0]>>0&3,ve.Z=Ne[Ce+0]>>2&3,ve.Lc=Ne[Ce+0]>>4&3,Ce=Ne[Ce+0]>>6&3,0>ve.$a||1<ve.$a||4<=ve.Z||1<ve.Lc||Ce)P=0;else if(Vt.put=dt,Vt.ac=ot,Vt.bc=er,Vt.ma=ve,Vt.width=P.width,Vt.height=P.height,Vt.Da=P.Da,Vt.v=P.v,Vt.va=P.va,Vt.j=P.j,Vt.o=P.o,ve.$a)e:{t(ve.$a==1),P=Zn();t:for(;;){if(P==null){P=0;break e}if(t(ve!=null),ve.mc=P,P.c=ve.c,P.i=ve.i,P.l=ve.l,P.l.ma=ve,P.l.width=ve.c,P.l.height=ve.i,P.a=0,Q(P.m,Ne,xt,lt),!Ln(ve.c,ve.i,1,P,null)||(P.ab==1&&P.gc[0].hc==3&&is(P.s)?(ve.ic=1,Ne=P.c*P.i,P.Ta=null,P.Ua=0,P.V=i(Ne),P.Ba=0,P.V==null?(P.a=1,P=0):P=1):(ve.ic=0,P=wr(P,ve.c)),!P))break t;P=1;break e}ve.mc=null,P=0}else P=lt>=ve.c*ve.i;ve=!P}if(ve)return null;_.ga.Lc!=1?_.Ga=0:ne=ge-W}t(_.ga!=null),t(W+ne<=ge);e:{if(P=(Ne=_.ga).c,ge=Ne.l.o,Ne.$a==0){if(xt=_.rc,lt=_.Vc,Vt=_.Fa,Ce=_.P+1+W*P,Ie=_.mb,Xe=_.nb+W*P,t(Ce<=_.P+_.qc),Ne.Z!=0)for(t(ts[Ne.Z]!=null),ve=0;ve<ne;++ve)ts[Ne.Z](xt,lt,Vt,Ce,Ie,Xe,P),xt=Ie,lt=Xe,Xe+=P,Ce+=P;else for(ve=0;ve<ne;++ve)s(Ie,Xe,Vt,Ce,P),xt=Ie,lt=Xe,Xe+=P,Ce+=P;_.rc=xt,_.Vc=lt}else{if(t(Ne.mc!=null),P=W+ne,t((ve=Ne.mc)!=null),t(P<=ve.i),ve.C>=P)P=1;else if(Ne.ic||ft(),Ne.ic){Ne=ve.V,xt=ve.Ba,lt=ve.c;var Ft=ve.i,et=(Vt=1,Ce=ve.$/lt,Ie=ve.$%lt,Xe=ve.m,gt=ve.s,ve.$),tt=lt*Ft,Ut=lt*P,Ot=gt.wc,Qt=et<Ut?Gt(gt,Ie,Ce):null;t(et<=tt),t(P<=Ft),t(is(gt));t:for(;;){for(;!Xe.h&&et<Ut;){if(Ie&Ot||(Qt=Gt(gt,Ie,Ce)),t(Qt!=null),re(Xe),256>(Ft=vn(Qt.G[0],Qt.H[0],Xe)))Ne[xt+et]=Ft,++et,++Ie>=lt&&(Ie=0,++Ce<=P&&!(Ce%16)&&ws(ve,Ce));else{if(!(280>Ft)){Vt=0;break t}Ft=xn(Ft-256,Xe);var Dr,Nr=vn(Qt.G[4],Qt.H[4],Xe);if(re(Xe),!(et>=(Nr=qr(lt,Nr=xn(Nr,Xe)))&&tt-et>=Ft)){Vt=0;break t}for(Dr=0;Dr<Ft;++Dr)Ne[xt+et+Dr]=Ne[xt+et+Dr-Nr];for(et+=Ft,Ie+=Ft;Ie>=lt;)Ie-=lt,++Ce<=P&&!(Ce%16)&&ws(ve,Ce);et<Ut&&Ie&Ot&&(Qt=Gt(gt,Ie,Ce))}t(Xe.h==q(Xe))}ws(ve,Ce>P?P:Ce);break t}!Vt||Xe.h&&et<tt?(Vt=0,ve.a=Xe.h?5:3):ve.$=et,P=Vt}else P=Pn(ve,ve.V,ve.Ba,ve.c,ve.i,P,We);if(!P){ne=0;break e}}W+ne>=ge&&(_.Cc=1),ne=1}if(!ne)return null;if(_.Cc&&((ne=_.ga)!=null&&(ne.mc=null),_.ga=null,0<_.Ga))return alert("todo:WebPDequantizeLevels"),null}return _.nb+W*fe}function O(_,P,W,ne,fe,ge){for(;0<fe--;){var ve,Ne=_,Ce=P+(W?1:0),Ie=_,Xe=P+(W?0:3);for(ve=0;ve<ne;++ve){var gt=Ie[Xe+4*ve];gt!=255&&(gt*=32897,Ne[Ce+4*ve+0]=Ne[Ce+4*ve+0]*gt>>23,Ne[Ce+4*ve+1]=Ne[Ce+4*ve+1]*gt>>23,Ne[Ce+4*ve+2]=Ne[Ce+4*ve+2]*gt>>23)}P+=ge}}function pe(_,P,W,ne,fe){for(;0<ne--;){var ge;for(ge=0;ge<W;++ge){var ve=_[P+2*ge+0],Ne=15&(Ie=_[P+2*ge+1]),Ce=4369*Ne,Ie=(240&Ie|Ie>>4)*Ce>>16;_[P+2*ge+0]=(240&ve|ve>>4)*Ce>>16&240|(15&ve|ve<<4)*Ce>>16>>4&15,_[P+2*ge+1]=240&Ie|Ne}P+=fe}}function De(_,P,W,ne,fe,ge,ve,Ne){var Ce,Ie,Xe=255;for(Ie=0;Ie<fe;++Ie){for(Ce=0;Ce<ne;++Ce){var gt=_[P+Ce];ge[ve+4*Ce]=gt,Xe&=gt}P+=W,ve+=Ne}return Xe!=255}function qe(_,P,W,ne,fe){var ge;for(ge=0;ge<fe;++ge)W[ne+ge]=_[P+ge]>>8}function ft(){Ii=O,_s=pe,bs=De,ii=qe}function Dt(_,P,W){D[_]=function(ne,fe,ge,ve,Ne,Ce,Ie,Xe,gt,xt,lt,Vt,Ft,et,tt,Ut,Ot){var Qt,Dr=Ot-1>>1,Nr=Ne[Ce+0]|Ie[Xe+0]<<16,cn=gt[xt+0]|lt[Vt+0]<<16;t(ne!=null);var Br=3*Nr+cn+131074>>2;for(P(ne[fe+0],255&Br,Br>>16,Ft,et),ge!=null&&(Br=3*cn+Nr+131074>>2,P(ge[ve+0],255&Br,Br>>16,tt,Ut)),Qt=1;Qt<=Dr;++Qt){var js=Ne[Ce+Qt]|Ie[Xe+Qt]<<16,Ns=gt[xt+Qt]|lt[Vt+Qt]<<16,As=Nr+js+cn+Ns+524296,Kn=As+2*(js+cn)>>3;Br=Kn+Nr>>1,Nr=(As=As+2*(Nr+Ns)>>3)+js>>1,P(ne[fe+2*Qt-1],255&Br,Br>>16,Ft,et+(2*Qt-1)*W),P(ne[fe+2*Qt-0],255&Nr,Nr>>16,Ft,et+(2*Qt-0)*W),ge!=null&&(Br=As+cn>>1,Nr=Kn+Ns>>1,P(ge[ve+2*Qt-1],255&Br,Br>>16,tt,Ut+(2*Qt-1)*W),P(ge[ve+2*Qt+0],255&Nr,Nr>>16,tt,Ut+(2*Qt+0)*W)),Nr=js,cn=Ns}1&Ot||(Br=3*Nr+cn+131074>>2,P(ne[fe+Ot-1],255&Br,Br>>16,Ft,et+(Ot-1)*W),ge!=null&&(Br=3*cn+Nr+131074>>2,P(ge[ve+Ot-1],255&Br,Br>>16,tt,Ut+(Ot-1)*W)))}}function Zt(){da[gA]=vp,da[rc]=jc,da[Th]=yp,da[Gd]=Nc,da[qd]=Cc,da[Bs]=Ru,da[xA]=wp,da[Xc]=jc,da[bc]=Nc,da[Lu]=Cc,da[h]=Ru}function Sr(_){return _&-16384?0>_?0:255:_>>Yd}function Or(_,P){return Sr((19077*_>>8)+(26149*P>>8)-14234)}function Bn(_,P,W){return Sr((19077*_>>8)-(6419*P>>8)-(13320*W>>8)+8708)}function _n(_,P){return Sr((19077*_>>8)+(33050*P>>8)-17685)}function es(_,P,W,ne,fe){ne[fe+0]=Or(_,W),ne[fe+1]=Bn(_,P,W),ne[fe+2]=_n(_,P)}function zs(_,P,W,ne,fe){ne[fe+0]=_n(_,P),ne[fe+1]=Bn(_,P,W),ne[fe+2]=Or(_,W)}function $s(_,P,W,ne,fe){var ge=Bn(_,P,W);P=ge<<3&224|_n(_,P)>>3,ne[fe+0]=248&Or(_,W)|ge>>5,ne[fe+1]=P}function vi(_,P,W,ne,fe){var ge=240&_n(_,P)|15;ne[fe+0]=240&Or(_,W)|Bn(_,P,W)>>4,ne[fe+1]=ge}function Ia(_,P,W,ne,fe){ne[fe+0]=255,es(_,P,W,ne,fe+1)}function Ei(_,P,W,ne,fe){zs(_,P,W,ne,fe),ne[fe+3]=255}function il(_,P,W,ne,fe){es(_,P,W,ne,fe),ne[fe+3]=255}function Xs(_,P){return 0>_?0:_>P?P:_}function ia(_,P,W){D[_]=function(ne,fe,ge,ve,Ne,Ce,Ie,Xe,gt){for(var xt=Xe+(-2&gt)*W;Xe!=xt;)P(ne[fe+0],ge[ve+0],Ne[Ce+0],Ie,Xe),P(ne[fe+1],ge[ve+0],Ne[Ce+0],Ie,Xe+W),fe+=2,++ve,++Ce,Xe+=2*W;1&gt&&P(ne[fe+0],ge[ve+0],Ne[Ce+0],Ie,Xe)}}function vc(_,P,W){return W==0?_==0?P==0?6:5:P==0?4:0:W}function xo(_,P,W,ne,fe){switch(_>>>30){case 3:Il(P,W,ne,fe,0);break;case 2:gs(P,W,ne,fe);break;case 1:Ta(P,W,ne,fe)}}function Hd(_,P){var W,ne,fe=P.M,ge=P.Nb,ve=_.oc,Ne=_.pc+40,Ce=_.oc,Ie=_.pc+584,Xe=_.oc,gt=_.pc+600;for(W=0;16>W;++W)ve[Ne+32*W-1]=129;for(W=0;8>W;++W)Ce[Ie+32*W-1]=129,Xe[gt+32*W-1]=129;for(0<fe?ve[Ne-1-32]=Ce[Ie-1-32]=Xe[gt-1-32]=129:(a(ve,Ne-32-1,127,21),a(Ce,Ie-32-1,127,9),a(Xe,gt-32-1,127,9)),ne=0;ne<_.za;++ne){var xt=P.ya[P.aa+ne];if(0<ne){for(W=-1;16>W;++W)s(ve,Ne+32*W-4,ve,Ne+32*W+12,4);for(W=-1;8>W;++W)s(Ce,Ie+32*W-4,Ce,Ie+32*W+4,4),s(Xe,gt+32*W-4,Xe,gt+32*W+4,4)}var lt=_.Gd,Vt=_.Hd+ne,Ft=xt.ad,et=xt.Hc;if(0<fe&&(s(ve,Ne-32,lt[Vt].y,0,16),s(Ce,Ie-32,lt[Vt].f,0,8),s(Xe,gt-32,lt[Vt].ea,0,8)),xt.Za){var tt=ve,Ut=Ne-32+16;for(0<fe&&(ne>=_.za-1?a(tt,Ut,lt[Vt].y[15],4):s(tt,Ut,lt[Vt+1].y,0,4)),W=0;4>W;W++)tt[Ut+128+W]=tt[Ut+256+W]=tt[Ut+384+W]=tt[Ut+0+W];for(W=0;16>W;++W,et<<=2)tt=ve,Ut=Ne+bp[W],Mo[xt.Ob[W]](tt,Ut),xo(et,Ft,16*+W,tt,Ut)}else if(tt=vc(ne,fe,xt.Ob[0]),Ga[tt](ve,Ne),et!=0)for(W=0;16>W;++W,et<<=2)xo(et,Ft,16*+W,ve,Ne+bp[W]);for(W=xt.Gc,tt=vc(ne,fe,xt.Dd),qa[tt](Ce,Ie),qa[tt](Xe,gt),et=Ft,tt=Ce,Ut=Ie,255&(xt=W>>0)&&(170&xt?Lo(et,256,tt,Ut):ao(et,256,tt,Ut)),xt=Xe,et=gt,255&(W>>=8)&&(170&W?Lo(Ft,320,xt,et):ao(Ft,320,xt,et)),fe<_.Ub-1&&(s(lt[Vt].y,0,ve,Ne+480,16),s(lt[Vt].f,0,Ce,Ie+224,8),s(lt[Vt].ea,0,Xe,gt+224,8)),W=8*ge*_.B,lt=_.sa,Vt=_.ta+16*ne+16*ge*_.R,Ft=_.qa,xt=_.ra+8*ne+W,et=_.Ha,tt=_.Ia+8*ne+W,W=0;16>W;++W)s(lt,Vt+W*_.R,ve,Ne+32*W,16);for(W=0;8>W;++W)s(Ft,xt+W*_.B,Ce,Ie+32*W,8),s(et,tt+W*_.B,Xe,gt+32*W,8)}}function Do(_,P,W,ne,fe,ge,ve,Ne,Ce){var Ie=[0],Xe=[0],gt=0,xt=Ce!=null?Ce.kd:0,lt=Ce??new $a;if(_==null||12>W)return 7;lt.data=_,lt.w=P,lt.ha=W,P=[P],W=[W],lt.gb=[lt.gb];e:{var Vt=P,Ft=W,et=lt.gb;if(t(_!=null),t(Ft!=null),t(et!=null),et[0]=0,12<=Ft[0]&&!n(_,Vt[0],"RIFF")){if(n(_,Vt[0]+8,"WEBP")){et=3;break e}var tt=we(_,Vt[0]+4);if(12>tt||4294967286<tt){et=3;break e}if(xt&&tt>Ft[0]-8){et=7;break e}et[0]=tt,Vt[0]+=12,Ft[0]-=12}et=0}if(et!=0)return et;for(tt=0<lt.gb[0],W=W[0];;){e:{var Ut=_;Ft=P,et=W;var Ot=Ie,Qt=Xe,Dr=Vt=[0];if((Br=gt=[gt])[0]=0,8>et[0])et=7;else{if(!n(Ut,Ft[0],"VP8X")){if(we(Ut,Ft[0]+4)!=10){et=3;break e}if(18>et[0]){et=7;break e}var Nr=we(Ut,Ft[0]+8),cn=1+rt(Ut,Ft[0]+12);if(2147483648<=cn*(Ut=1+rt(Ut,Ft[0]+15))){et=3;break e}Dr!=null&&(Dr[0]=Nr),Ot!=null&&(Ot[0]=cn),Qt!=null&&(Qt[0]=Ut),Ft[0]+=18,et[0]-=18,Br[0]=1}et=0}}if(gt=gt[0],Vt=Vt[0],et!=0)return et;if(Ft=!!(2&Vt),!tt&&gt)return 3;if(ge!=null&&(ge[0]=!!(16&Vt)),ve!=null&&(ve[0]=Ft),Ne!=null&&(Ne[0]=0),ve=Ie[0],Vt=Xe[0],gt&&Ft&&Ce==null){et=0;break}if(4>W){et=7;break}if(tt&&gt||!tt&&!gt&&!n(_,P[0],"ALPH")){W=[W],lt.na=[lt.na],lt.P=[lt.P],lt.Sa=[lt.Sa];e:{Nr=_,et=P,tt=W;var Br=lt.gb;Ot=lt.na,Qt=lt.P,Dr=lt.Sa,cn=22,t(Nr!=null),t(tt!=null),Ut=et[0];var js=tt[0];for(t(Ot!=null),t(Dr!=null),Ot[0]=null,Qt[0]=null,Dr[0]=0;;){if(et[0]=Ut,tt[0]=js,8>js){et=7;break e}var Ns=we(Nr,Ut+4);if(4294967286<Ns){et=3;break e}var As=8+Ns+1&-2;if(cn+=As,0<Br&&cn>Br){et=3;break e}if(!n(Nr,Ut,"VP8 ")||!n(Nr,Ut,"VP8L")){et=0;break e}if(js[0]<As){et=7;break e}n(Nr,Ut,"ALPH")||(Ot[0]=Nr,Qt[0]=Ut+8,Dr[0]=Ns),Ut+=As,js-=As}}if(W=W[0],lt.na=lt.na[0],lt.P=lt.P[0],lt.Sa=lt.Sa[0],et!=0)break}W=[W],lt.Ja=[lt.Ja],lt.xa=[lt.xa];e:if(Br=_,et=P,tt=W,Ot=lt.gb[0],Qt=lt.Ja,Dr=lt.xa,Nr=et[0],Ut=!n(Br,Nr,"VP8 "),cn=!n(Br,Nr,"VP8L"),t(Br!=null),t(tt!=null),t(Qt!=null),t(Dr!=null),8>tt[0])et=7;else{if(Ut||cn){if(Br=we(Br,Nr+4),12<=Ot&&Br>Ot-12){et=3;break e}if(xt&&Br>tt[0]-8){et=7;break e}Qt[0]=Br,et[0]+=8,tt[0]-=8,Dr[0]=cn}else Dr[0]=5<=tt[0]&&Br[Nr+0]==47&&!(Br[Nr+4]>>5),Qt[0]=tt[0];et=0}if(W=W[0],lt.Ja=lt.Ja[0],lt.xa=lt.xa[0],P=P[0],et!=0)break;if(4294967286<lt.Ja)return 3;if(Ne==null||Ft||(Ne[0]=lt.xa?2:1),ve=[ve],Vt=[Vt],lt.xa){if(5>W){et=7;break}Ne=ve,xt=Vt,Ft=ge,_==null||5>W?_=0:5<=W&&_[P+0]==47&&!(_[P+4]>>5)?(tt=[0],Br=[0],Ot=[0],Q(Qt=new M,_,P,W),Rt(Qt,tt,Br,Ot)?(Ne!=null&&(Ne[0]=tt[0]),xt!=null&&(xt[0]=Br[0]),Ft!=null&&(Ft[0]=Ot[0]),_=1):_=0):_=0}else{if(10>W){et=7;break}Ne=Vt,_==null||10>W||!Ls(_,P+3,W-3)?_=0:(xt=_[P+0]|_[P+1]<<8|_[P+2]<<16,Ft=16383&(_[P+7]<<8|_[P+6]),_=16383&(_[P+9]<<8|_[P+8]),1&xt||3<(xt>>1&7)||!(xt>>4&1)||xt>>5>=lt.Ja||!Ft||!_?_=0:(ve&&(ve[0]=Ft),Ne&&(Ne[0]=_),_=1))}if(!_||(ve=ve[0],Vt=Vt[0],gt&&(Ie[0]!=ve||Xe[0]!=Vt)))return 3;Ce!=null&&(Ce[0]=lt,Ce.offset=P-Ce.w,t(4294967286>P-Ce.w),t(Ce.offset==Ce.ha-W));break}return et==0||et==7&&gt&&Ce==null?(ge!=null&&(ge[0]|=lt.na!=null&&0<lt.na.length),ne!=null&&(ne[0]=ve),fe!=null&&(fe[0]=Vt),0):et}function zd(_,P,W){var ne=P.width,fe=P.height,ge=0,ve=0,Ne=ne,Ce=fe;if(P.Da=_!=null&&0<_.Da,P.Da&&(Ne=_.cd,Ce=_.bd,ge=_.v,ve=_.j,11>W||(ge&=-2,ve&=-2),0>ge||0>ve||0>=Ne||0>=Ce||ge+Ne>ne||ve+Ce>fe))return 0;if(P.v=ge,P.j=ve,P.va=ge+Ne,P.o=ve+Ce,P.U=Ne,P.T=Ce,P.da=_!=null&&0<_.da,P.da){if(!Mt(Ne,Ce,W=[_.ib],ge=[_.hb]))return 0;P.ib=W[0],P.hb=ge[0]}return P.ob=_!=null&&_.ob,P.Kb=_==null||!_.Sd,P.da&&(P.ob=P.ib<3*ne/4&&P.hb<3*fe/4,P.Kb=0),1}function Bl(_){if(_==null)return 2;if(11>_.S){var P=_.f.RGBA;P.fb+=(_.height-1)*P.A,P.A=-P.A}else P=_.f.kb,_=_.height,P.O+=(_-1)*P.fa,P.fa=-P.fa,P.N+=(_-1>>1)*P.Ab,P.Ab=-P.Ab,P.W+=(_-1>>1)*P.Db,P.Db=-P.Db,P.F!=null&&(P.J+=(_-1)*P.lb,P.lb=-P.lb);return 0}function yc(_,P,W,ne){if(ne==null||0>=_||0>=P)return 2;if(W!=null){if(W.Da){var fe=W.cd,ge=W.bd,ve=-2&W.v,Ne=-2&W.j;if(0>ve||0>Ne||0>=fe||0>=ge||ve+fe>_||Ne+ge>P)return 2;_=fe,P=ge}if(W.da){if(!Mt(_,P,fe=[W.ib],ge=[W.hb]))return 2;_=fe[0],P=ge[0]}}ne.width=_,ne.height=P;e:{var Ce=ne.width,Ie=ne.height;if(_=ne.S,0>=Ce||0>=Ie||!(_>=gA&&13>_))_=2;else{if(0>=ne.Rd&&ne.sd==null){ve=ge=fe=P=0;var Xe=(Ne=Ce*Ph[_])*Ie;if(11>_||(ge=(Ie+1)/2*(P=(Ce+1)/2),_==12&&(ve=(fe=Ce)*Ie)),(Ie=i(Xe+2*ge+ve))==null){_=1;break e}ne.sd=Ie,11>_?((Ce=ne.f.RGBA).eb=Ie,Ce.fb=0,Ce.A=Ne,Ce.size=Xe):((Ce=ne.f.kb).y=Ie,Ce.O=0,Ce.fa=Ne,Ce.Fd=Xe,Ce.f=Ie,Ce.N=0+Xe,Ce.Ab=P,Ce.Cd=ge,Ce.ea=Ie,Ce.W=0+Xe+ge,Ce.Db=P,Ce.Ed=ge,_==12&&(Ce.F=Ie,Ce.J=0+Xe+2*ge),Ce.Tc=ve,Ce.lb=fe)}if(P=1,fe=ne.S,ge=ne.width,ve=ne.height,fe>=gA&&13>fe)if(11>fe)_=ne.f.RGBA,P&=(Ne=Math.abs(_.A))*(ve-1)+ge<=_.size,P&=Ne>=ge*Ph[fe],P&=_.eb!=null;else{_=ne.f.kb,Ne=(ge+1)/2,Xe=(ve+1)/2,Ce=Math.abs(_.fa),Ie=Math.abs(_.Ab);var gt=Math.abs(_.Db),xt=Math.abs(_.lb),lt=xt*(ve-1)+ge;P&=Ce*(ve-1)+ge<=_.Fd,P&=Ie*(Xe-1)+Ne<=_.Cd,P=(P&=gt*(Xe-1)+Ne<=_.Ed)&Ce>=ge&Ie>=Ne&gt>=Ne,P&=_.y!=null,P&=_.f!=null,P&=_.ea!=null,fe==12&&(P&=xt>=ge,P&=lt<=_.Tc,P&=_.F!=null)}else P=0;_=P?0:2}}return _!=0||W!=null&&W.fd&&(_=Bl(ne)),_}var Vs=64,Vd=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],vo=24,Zl=32,Kd=8,aa=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];vt("Predictor0","PredictorAdd0"),D.Predictor0=function(){return 4278190080},D.Predictor1=function(_){return _},D.Predictor2=function(_,P,W){return P[W+0]},D.Predictor3=function(_,P,W){return P[W+1]},D.Predictor4=function(_,P,W){return P[W-1]},D.Predictor5=function(_,P,W){return Fe(Fe(_,P[W+1]),P[W+0])},D.Predictor6=function(_,P,W){return Fe(_,P[W-1])},D.Predictor7=function(_,P,W){return Fe(_,P[W+0])},D.Predictor8=function(_,P,W){return Fe(P[W-1],P[W+0])},D.Predictor9=function(_,P,W){return Fe(P[W+0],P[W+1])},D.Predictor10=function(_,P,W){return Fe(Fe(_,P[W-1]),Fe(P[W+0],P[W+1]))},D.Predictor11=function(_,P,W){var ne=P[W+0];return 0>=nt(ne>>24&255,_>>24&255,(P=P[W-1])>>24&255)+nt(ne>>16&255,_>>16&255,P>>16&255)+nt(ne>>8&255,_>>8&255,P>>8&255)+nt(255&ne,255&_,255&P)?ne:_},D.Predictor12=function(_,P,W){var ne=P[W+0];return(Oe((_>>24&255)+(ne>>24&255)-((P=P[W-1])>>24&255))<<24|Oe((_>>16&255)+(ne>>16&255)-(P>>16&255))<<16|Oe((_>>8&255)+(ne>>8&255)-(P>>8&255))<<8|Oe((255&_)+(255&ne)-(255&P)))>>>0},D.Predictor13=function(_,P,W){var ne=P[W-1];return(_e((_=Fe(_,P[W+0]))>>24&255,ne>>24&255)<<24|_e(_>>16&255,ne>>16&255)<<16|_e(_>>8&255,ne>>8&255)<<8|_e(_>>0&255,ne>>0&255))>>>0};var Gc=D.PredictorAdd0;D.PredictorAdd1=ut,vt("Predictor2","PredictorAdd2"),vt("Predictor3","PredictorAdd3"),vt("Predictor4","PredictorAdd4"),vt("Predictor5","PredictorAdd5"),vt("Predictor6","PredictorAdd6"),vt("Predictor7","PredictorAdd7"),vt("Predictor8","PredictorAdd8"),vt("Predictor9","PredictorAdd9"),vt("Predictor10","PredictorAdd10"),vt("Predictor11","PredictorAdd11"),vt("Predictor12","PredictorAdd12"),vt("Predictor13","PredictorAdd13");var oa=D.PredictorAdd2;Ye("ColorIndexInverseTransform","MapARGB","32b",function(_){return _>>8&255},function(_){return _}),Ye("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(_){return _},function(_){return _>>8&255});var pA,yi=D.ColorIndexInverseTransform,Wd=D.MapARGB,yo=D.VP8LColorIndexInverseTransformAlpha,ec=D.MapAlpha,al=D.VP8LPredictorsAdd=[];al.length=16,(D.VP8LPredictors=[]).length=16,(D.VP8LPredictorsAdd_C=[]).length=16,(D.VP8LPredictors_C=[]).length=16;var El,Vi,Ki,ol,io,Fo,wc,Il,gs,Lo,Ta,ao,qc,$d,Jc,ka,Tl,wo,Ro,kl,Pl,tc,Oo,la,Ii,_s,bs,ii,Ss=i(511),ll=i(2041),Yc=i(225),cl=i(767),Fu=0,bo=ll,Dl=Yc,Pa=cl,jo=Ss,gA=0,rc=1,Th=2,Gd=3,qd=4,Bs=5,xA=6,Xc=7,bc=8,Lu=9,h=10,j=[2,3,7],I=[3,3,11],z=[280,256,256,256,40],ae=[0,1,1,1,0],be=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],$e=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],yt=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],St=8,$t=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ir=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],rn=null,Hn=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ca=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ti=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],No=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],oo=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Jd=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],kh=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ga=[],Mo=[],qa=[],Fl=1,Zc=2,ts=[],da=[];Dt("UpsampleRgbLinePair",es,3),Dt("UpsampleBgrLinePair",zs,3),Dt("UpsampleRgbaLinePair",il,4),Dt("UpsampleBgraLinePair",Ei,4),Dt("UpsampleArgbLinePair",Ia,4),Dt("UpsampleRgba4444LinePair",vi,2),Dt("UpsampleRgb565LinePair",$s,2);var vp=D.UpsampleRgbLinePair,yp=D.UpsampleBgrLinePair,jc=D.UpsampleRgbaLinePair,Nc=D.UpsampleBgraLinePair,Cc=D.UpsampleArgbLinePair,Ru=D.UpsampleRgba4444LinePair,wp=D.UpsampleRgb565LinePair,ed=16,nc=1<<ed-1,Ds=-227,Rs=482,Yd=6,Ja=0,Uo=i(256),Ou=i(256),vA=i(256),Qo=i(256),Ef=i(Rs-Ds),iv=i(Rs-Ds);ia("YuvToRgbRow",es,3),ia("YuvToBgrRow",zs,3),ia("YuvToRgbaRow",il,4),ia("YuvToBgraRow",Ei,4),ia("YuvToArgbRow",Ia,4),ia("YuvToRgba4444Row",vi,2),ia("YuvToRgb565Row",$s,2);var bp=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Mu=[0,2,8],av=[8,7,6,4,4,2,2,2,1,1,1,1],td=1;this.WebPDecodeRGBA=function(_,P,W,ne,fe){var ge=rc,ve=new sl,Ne=new qt;ve.ba=Ne,Ne.S=ge,Ne.width=[Ne.width],Ne.height=[Ne.height];var Ce=Ne.width,Ie=Ne.height,Xe=new Ge;if(Xe==null||_==null)var gt=2;else t(Xe!=null),gt=Do(_,P,W,Xe.width,Xe.height,Xe.Pd,Xe.Qd,Xe.format,null);if(gt!=0?Ce=0:(Ce!=null&&(Ce[0]=Xe.width[0]),Ie!=null&&(Ie[0]=Xe.height[0]),Ce=1),Ce){Ne.width=Ne.width[0],Ne.height=Ne.height[0],ne!=null&&(ne[0]=Ne.width),fe!=null&&(fe[0]=Ne.height);e:{if(ne=new Cn,(fe=new $a).data=_,fe.w=P,fe.ha=W,fe.kd=1,P=[0],t(fe!=null),((_=Do(fe.data,fe.w,fe.ha,null,null,null,P,null,fe))==0||_==7)&&P[0]&&(_=4),(P=_)==0){if(t(ve!=null),ne.data=fe.data,ne.w=fe.w+fe.offset,ne.ha=fe.ha-fe.offset,ne.put=dt,ne.ac=ot,ne.bc=er,ne.ma=ve,fe.xa){if((_=Zn())==null){ve=1;break e}if(function(xt,lt){var Vt=[0],Ft=[0],et=[0];t:for(;;){if(xt==null)return 0;if(lt==null)return xt.a=2,0;if(xt.l=lt,xt.a=0,Q(xt.m,lt.data,lt.w,lt.ha),!Rt(xt.m,Vt,Ft,et)){xt.a=3;break t}if(xt.xb=Zc,lt.width=Vt[0],lt.height=Ft[0],!Ln(Vt[0],Ft[0],1,xt,null))break t;return 1}return t(xt.a!=0),0}(_,ne)){if(ne=(P=yc(ne.width,ne.height,ve.Oa,ve.ba))==0){t:{ne=_;r:for(;;){if(ne==null){ne=0;break t}if(t(ne.s.yc!=null),t(ne.s.Ya!=null),t(0<ne.s.Wb),t((W=ne.l)!=null),t((fe=W.ma)!=null),ne.xb!=0){if(ne.ca=fe.ba,ne.tb=fe.tb,t(ne.ca!=null),!zd(fe.Oa,W,Gd)){ne.a=2;break r}if(!wr(ne,W.width)||W.da)break r;if((W.da||fr(ne.ca.S))&&ft(),11>ne.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ne.ca.f.kb.F!=null&&ft()),ne.Pb&&0<ne.s.ua&&ne.s.vb.X==null&&!Ve(ne.s.vb,ne.s.Wa.Xa)){ne.a=1;break r}ne.xb=0}if(!Pn(ne,ne.V,ne.Ba,ne.c,ne.i,W.o,ps))break r;fe.Dc=ne.Ma,ne=1;break t}t(ne.a!=0),ne=0}ne=!ne}ne&&(P=_.a)}else P=_.a}else{if((_=new Kr)==null){ve=1;break e}if(_.Fa=fe.na,_.P=fe.P,_.qc=fe.Sa,Qi(_,ne)){if((P=yc(ne.width,ne.height,ve.Oa,ve.ba))==0){if(_.Aa=0,W=ve.Oa,t((fe=_)!=null),W!=null){if(0<(Ce=0>(Ce=W.Md)?0:100<Ce?255:255*Ce/100)){for(Ie=Xe=0;4>Ie;++Ie)12>(gt=fe.pb[Ie]).lc&&(gt.ia=Ce*av[0>gt.lc?0:gt.lc]>>3),Xe|=gt.ia;Xe&&(alert("todo:VP8InitRandom"),fe.ia=1)}fe.Ga=W.Id,100<fe.Ga?fe.Ga=100:0>fe.Ga&&(fe.Ga=0)}Wr(_,ne)||(P=_.a)}}else P=_.a}P==0&&ve.Oa!=null&&ve.Oa.fd&&(P=Bl(ve.ba))}ve=P}ge=ve!=0?null:11>ge?Ne.f.RGBA.eb:Ne.f.kb.y}else ge=null;return ge};var Ph=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(D,H){for(var K="",B=0;B<4;B++)K+=String.fromCharCode(D[H++]);return K}function u(D,H){return(D[H+0]<<0|D[H+1]<<8|D[H+2]<<16)>>>0}function f(D,H){return(D[H+0]<<0|D[H+1]<<8|D[H+2]<<16|D[H+3]<<24)>>>0}new c;var v=[0],g=[0],w=[],y=new c,b=e,x=function(D,H){var K={},B=0,R=!1,Z=0,te=0;if(K.frames=[],!function(E,q,se,re){for(var G=0;G<re;G++)if(E[q+G]!=se.charCodeAt(G))return!0;return!1}(D,H,"RIFF",4)){for(f(D,H+=4),H+=8;H<D.length;){var ye=d(D,H),de=f(D,H+=4);H+=4;var le=de+(1&de);switch(ye){case"VP8 ":case"VP8L":K.frames[B]===void 0&&(K.frames[B]={}),(ce=K.frames[B]).src_off=R?te:H-8,ce.src_size=Z+de+8,B++,R&&(R=!1,Z=0,te=0);break;case"VP8X":(ce=K.header={}).feature_flags=D[H];var Q=H+4;ce.canvas_width=1+u(D,Q),Q+=3,ce.canvas_height=1+u(D,Q),Q+=3;break;case"ALPH":R=!0,Z=le+8,te=H-8;break;case"ANIM":(ce=K.header).bgcolor=f(D,H),Q=H+4,ce.loop_count=(ee=D)[(M=Q)+0]<<0|ee[M+1]<<8,Q+=2;break;case"ANMF":var oe,ce;(ce=K.frames[B]={}).offset_x=2*u(D,H),H+=3,ce.offset_y=2*u(D,H),H+=3,ce.width=1+u(D,H),H+=3,ce.height=1+u(D,H),H+=3,ce.duration=u(D,H),H+=3,oe=D[H++],ce.dispose=1&oe,ce.blend=oe>>1&1}ye!="ANMF"&&(H+=le)}var ee,M;return K}}(b,0);x.response=b,x.rgbaoutput=!0,x.dataurl=!1;var N=x.header?x.header:null,S=x.frames?x.frames:null;if(N){N.loop_counter=N.loop_count,v=[N.canvas_height],g=[N.canvas_width];for(var k=0;k<S.length&&S[k].blend!=0;k++);}var F=S[0],$=y.WebPDecodeRGBA(b,F.src_off,F.src_size,g,v);F.rgba=$,F.imgwidth=g[0],F.imgheight=v[0];for(var U=0;U<g[0]*v[0]*4;U++)w[U]=$[U];return this.width=g,this.height=v,this.data=w,this}(function(e){var t=function(){return typeof E5=="function"},n=function(v,g,w,y){var b=4,x=o;switch(y){case e.image_compression.FAST:b=1,x=i;break;case e.image_compression.MEDIUM:b=6,x=l;break;case e.image_compression.SLOW:b=9,x=c}v=s(v,g,w,x);var N=E5(v,{level:b});return e.__addimage__.arrayBufferToBinaryString(N)},s=function(v,g,w,y){for(var b,x,N,S=v.length/g,k=new Uint8Array(v.length+S),F=u(),$=0;$<S;$+=1){if(N=$*g,b=v.subarray(N,N+g),y)k.set(y(b,w,x),N+$);else{for(var U,D=F.length,H=[];U<D;U+=1)H[U]=F[U](b,w,x);var K=f(H.concat());k.set(H[K],N+$)}x=b}return k},a=function(v){var g=Array.apply([],v);return g.unshift(0),g},i=function(v,g){var w,y=[],b=v.length;y[0]=1;for(var x=0;x<b;x+=1)w=v[x-g]||0,y[x+1]=v[x]-w+256&255;return y},o=function(v,g,w){var y,b=[],x=v.length;b[0]=2;for(var N=0;N<x;N+=1)y=w&&w[N]||0,b[N+1]=v[N]-y+256&255;return b},l=function(v,g,w){var y,b,x=[],N=v.length;x[0]=3;for(var S=0;S<N;S+=1)y=v[S-g]||0,b=w&&w[S]||0,x[S+1]=v[S]+256-(y+b>>>1)&255;return x},c=function(v,g,w){var y,b,x,N,S=[],k=v.length;S[0]=4;for(var F=0;F<k;F+=1)y=v[F-g]||0,b=w&&w[F]||0,x=w&&w[F-g]||0,N=d(y,b,x),S[F+1]=v[F]-N+256&255;return S},d=function(v,g,w){if(v===g&&g===w)return v;var y=Math.abs(g-w),b=Math.abs(v-w),x=Math.abs(v+g-w-w);return y<=b&&y<=x?v:b<=x?g:w},u=function(){return[a,i,o,l,c]},f=function(v){var g=v.map(function(w){return w.reduce(function(y,b){return y+Math.abs(b)},0)});return g.indexOf(Math.min.apply(null,g))};e.processPNG=function(v,g,w,y){var b,x,N,S,k,F,$,U,D,H,K,B,R,Z,te,ye=this.decode.FLATE_DECODE,de="";if(this.__addimage__.isArrayBuffer(v)&&(v=new Uint8Array(v)),this.__addimage__.isArrayBufferView(v)){if(v=(N=new R1e(v)).imgData,x=N.bits,b=N.colorSpace,k=N.colors,[4,6].indexOf(N.colorType)!==-1){if(N.bits===8){D=(U=N.pixelBitlength==32?new Uint32Array(N.decodePixels().buffer):N.pixelBitlength==16?new Uint16Array(N.decodePixels().buffer):new Uint8Array(N.decodePixels().buffer)).length,K=new Uint8Array(D*N.colors),H=new Uint8Array(D);var le,Q=N.pixelBitlength-N.bits;for(Z=0,te=0;Z<D;Z++){for(R=U[Z],le=0;le<Q;)K[te++]=R>>>le&255,le+=N.bits;H[Z]=R>>>le&255}}if(N.bits===16){D=(U=new Uint32Array(N.decodePixels().buffer)).length,K=new Uint8Array(D*(32/N.pixelBitlength)*N.colors),H=new Uint8Array(D*(32/N.pixelBitlength)),B=N.colors>1,Z=0,te=0;for(var oe=0;Z<D;)R=U[Z++],K[te++]=R>>>0&255,B&&(K[te++]=R>>>16&255,R=U[Z++],K[te++]=R>>>0&255),H[oe++]=R>>>16&255;x=8}y!==e.image_compression.NONE&&t()?(v=n(K,N.width*N.colors,N.colors,y),$=n(H,N.width,1,y)):(v=K,$=H,ye=void 0)}if(N.colorType===3&&(b=this.color_spaces.INDEXED,F=N.palette,N.transparency.indexed)){var ce=N.transparency.indexed,ee=0;for(Z=0,D=ce.length;Z<D;++Z)ee+=ce[Z];if((ee/=255)===D-1&&ce.indexOf(0)!==-1)S=[ce.indexOf(0)];else if(ee!==D){for(U=N.decodePixels(),H=new Uint8Array(U.length),Z=0,D=U.length;Z<D;Z++)H[Z]=ce[U[Z]];$=n(H,N.width,1)}}var M=function(E){var q;switch(E){case e.image_compression.FAST:q=11;break;case e.image_compression.MEDIUM:q=13;break;case e.image_compression.SLOW:q=14;break;default:q=12}return q}(y);return ye===this.decode.FLATE_DECODE&&(de="/Predictor "+M+" "),de+="/Colors "+k+" /BitsPerComponent "+x+" /Columns "+N.width,(this.__addimage__.isArrayBuffer(v)||this.__addimage__.isArrayBufferView(v))&&(v=this.__addimage__.arrayBufferToBinaryString(v)),($&&this.__addimage__.isArrayBuffer($)||this.__addimage__.isArrayBufferView($))&&($=this.__addimage__.arrayBufferToBinaryString($)),{alias:w,data:v,index:g,filter:ye,decodeParameters:de,transparency:S,palette:F,sMask:$,predictor:M,width:N.width,height:N.height,bitsPerComponent:x,colorSpace:b}}}})(gn.API),function(e){e.processGIF89A=function(t,n,s,a){var i=new O1e(t),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:o,height:l},u=new rj(100).encode(d,100);return e.processJPEG.call(this,u,n,s,a)},e.processGIF87A=e.processGIF89A}(gn.API),Ad.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:s,blue:n,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ad.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){ti.log("bit decode error:"+n)}},Ad.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var s=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=s*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}n!==0&&(this.pos+=4-n)}},Ad.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),o=s*this.width*4+2*a*4,l=i>>4,c=15&i,d=this.palette[l];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*a+1>=this.width)break;d=this.palette[c],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Ad.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var a=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+4*s;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Ad.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,d=i>>15?255:0,u=s*this.width*4+4*a;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=d}this.pos+=e}},Ad.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),s=this.height-1;s>=0;s--){for(var a=this.bottom_up?s:this.height-1-s,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&n)/n*255|0,d=(o>>11)/t*255|0,u=a*this.width*4+4*i;this.data[u]=d,this.data[u+1]=c,this.data[u+2]=l,this.data[u+3]=255}this.pos+=e}},Ad.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=s,this.data[o+3]=255}this.pos+=this.width%4}},Ad.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*n;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=s,this.data[l+3]=o}},Ad.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,s,a){var i=new Ad(t,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},d=new rj(100).encode(c,100);return e.processJPEG.call(this,d,n,s,a)}}(gn.API),bP.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,s,a){var i=new bP(t),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},d=new rj(100).encode(c,100);return e.processJPEG.call(this,d,n,s,a)}}(gn.API),gn.API.processRGBA=function(e,t,n){for(var s=e.data,a=s.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),l=0,c=0,d=0;d<a;d+=4){var u=s[d],f=s[d+1],v=s[d+2],g=s[d+3];i[l++]=u,i[l++]=f,i[l++]=v,o[c++]=g}var w=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:w,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},gn.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},im=gn.API,C0=im.getCharWidthsArray=function(e,t){var n,s,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,d=t.kerning?t.kerning:a.metadata.Unicode.kerning,u=d.fof?d.fof:1,f=t.doKerning!==!1,v=0,g=e.length,w=0,y=l[0]||c,b=[];for(n=0;n<g;n++)s=e.charCodeAt(n),typeof a.metadata.widthOfString=="function"?b.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(s))+o*(1e3/i)||0)/1e3):(v=f&&Ps(d[s])==="object"&&!isNaN(parseInt(d[s][w],10))?d[s][w]/u:0,b.push((l[s]||y)/c+v)),w=s;return b},xP=im.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),s=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return im.processArabic&&(e=im.processArabic(e)),typeof s.metadata.widthOfString=="function"?s.metadata.widthOfString(e,n,a)/n:C0.apply(this,arguments).reduce(function(i,o){return i+o},0)},vP=function(e,t,n,s){for(var a=[],i=0,o=e.length,l=0;i!==o&&l+t[i]<n;)l+=t[i],i++;a.push(e.slice(0,i));var c=i;for(l=0;i!==o;)l+t[i]>s&&(a.push(e.slice(c,i)),l=0,c=i),l+=t[i],i++;return c!==i&&a.push(e.slice(c,i)),a},yP=function(e,t,n){n||(n={});var s,a,i,o,l,c,d,u=[],f=[u],v=n.textIndent||0,g=0,w=0,y=e.split(" "),b=C0.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?y[0].length+2:n.lineIndent||0){var x=Array(c).join(" "),N=[];y.map(function(k){(k=k.split(/\s*\n/)).length>1?N=N.concat(k.map(function(F,$){return($&&F.length?`
`:"")+F})):N.push(k[0])}),y=N,c=xP.apply(this,[x,n])}for(i=0,o=y.length;i<o;i++){var S=0;if(s=y[i],c&&s[0]==`
`&&(s=s.substr(1),S=1),v+g+(w=(a=C0.apply(this,[s,n])).reduce(function(k,F){return k+F},0))>t||S){if(w>t){for(l=vP.apply(this,[s,a,t-(v+g),t]),u.push(l.shift()),u=[l.pop()];l.length;)f.push([l.shift()]);w=a.slice(s.length-(u[0]?u[0].length:0)).reduce(function(k,F){return k+F},0)}else u=[s];f.push(u),v=w+c,g=b}else u.push(s),v+=g+w,g=b}return d=c?function(k,F){return(F?x:"")+k.join(" ")}:function(k){return k.join(" ")},f.map(d)},im.splitTextToSize=function(e,t,n){var s,a=(n=n||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);s=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/a;i.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=n.lineIndent;var l,c,d=[];for(l=0,c=s.length;l<c;l++)d=d.concat(yP.apply(this,[s[l],o,i]));return d},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},s={},a=0;a<t.length;a++)n[t[a]]="0123456789abcdef"[a],s["0123456789abcdef"[a]]=t[a];var i=function(f){return"0x"+parseInt(f,10).toString(16)},o=e.__fontmetrics__.compress=function(f){var v,g,w,y,b=["{"];for(var x in f){if(v=f[x],isNaN(parseInt(x,10))?g="'"+x+"'":(x=parseInt(x,10),g=(g=i(x).slice(2)).slice(0,-1)+s[g.slice(-1)]),typeof v=="number")v<0?(w=i(v).slice(3),y="-"):(w=i(v).slice(2),y=""),w=y+w.slice(0,-1)+s[w.slice(-1)];else{if(Ps(v)!=="object")throw new Error("Don't know what to do with value type "+Ps(v)+".");w=o(v)}b.push(g+w)}return b.push("}"),b.join("")},l=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var v,g,w,y,b={},x=1,N=b,S=[],k="",F="",$=f.length-1,U=1;U<$;U+=1)(y=f[U])=="'"?v?(w=v.join(""),v=void 0):v=[]:v?v.push(y):y=="{"?(S.push([N,w]),N={},w=void 0):y=="}"?((g=S.pop())[0][g[1]]=N,w=void 0,N=g[0]):y=="-"?x=-1:w===void 0?n.hasOwnProperty(y)?(k+=n[y],w=parseInt(k,16)*x,x=1,k=""):k+=y:n.hasOwnProperty(y)?(F+=n[y],N[w]=parseInt(F,16)*x,x=1,w=void 0,F=""):F+=y;return b},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},u={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var v=f.font,g=u.Unicode[v.postScriptName];g&&(v.metadata.Unicode={},v.metadata.Unicode.widths=g.widths,v.metadata.Unicode.kerning=g.kerning);var w=d.Unicode[v.postScriptName];w&&(v.metadata.Unicode.encoding=w,v.encoding=w.codePages[0])}])}(gn.API),function(e){var t=function(n){for(var s=n.length,a=new Uint8Array(s),i=0;i<s;i++)a[i]=n.charCodeAt(i);return a};e.API.events.push(["addFont",function(n){var s=void 0,a=n.font,i=n.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(s=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(Qg(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,s)}}])}(gn),function(e){function t(){return(Sn.canvg?Promise.resolve(Sn.canvg):N5(()=>Promise.resolve().then(()=>l5e),void 0,import.meta.url)).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}gn.API.addSvgAsImage=function(n,s,a,i,o,l,c,d){if(isNaN(s)||isNaN(a))throw ti.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw ti.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=i,u.height=o;var f=u.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,u.width,u.height);var v={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return t().then(function(w){return w.fromString(f,n,v)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(w){return w.render(v)}).then(function(){g.addImage(u.toDataURL("image/jpeg",1),s,a,i,o,c,d)})}}(),gn.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var s=1;s<=this.internal.getNumberOfPages();s++)for(var a=0;a<this.internal.pages[s].length;a++)this.internal.pages[s][a]=this.internal.pages[s][a].replace(t,n);return this},gn.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var s,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],d=0,u=0,f=0;function v(w,y){var b,x=!1;for(b=0;b<w.length;b+=1)w[b]===y&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var g=l.length;for(f=0;f<g;f+=1)n[l[f]].value=n[l[f]].defaultValue,n[l[f]].explicitSet=!1}if(Ps(e)==="object"){for(a in e)if(i=e[a],v(l,a)&&i!==void 0){if(n[a].type==="boolean"&&typeof i=="boolean")n[a].value=i;else if(n[a].type==="name"&&v(n[a].valueSet,i))n[a].value=i;else if(n[a].type==="integer"&&Number.isInteger(i))n[a].value=i;else if(n[a].type==="array"){for(d=0;d<i.length;d+=1)if(s=!0,i[d].length===1&&typeof i[d][0]=="number")c.push(String(i[d]-1));else if(i[d].length>1){for(u=0;u<i[d].length;u+=1)typeof i[d][u]!="number"&&(s=!1);s===!0&&c.push([i[d][0]-1,i[d][1]-1].join(" "))}n[a].value="["+c.join(" ")+"]"}else n[a].value=n[a].defaultValue;n[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var w,y=[];for(w in n)n[w].explicitSet===!0&&(n[w].type==="name"?y.push("/"+w+" /"+n[w].value):y.push("/"+w+" "+n[w].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var s='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(s)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=i.length+o.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(s,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:s,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(gn.API),function(e){var t=e.API,n=t.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,d=["","0","00","000","0000"],u=[""],f=0,v=i.length;f<v;++f){if(l=o.metadata.characterToGlyph(i.charCodeAt(f)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(f),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return u.join("");l=l.toString(16),u.push(d[4-l.length],l)}return u.join("")},s=function(i){var o,l,c,d,u,f,v;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,v=(l=Object.keys(i).sort(function(g,w){return g-w})).length;f<v;f++)o=l[f],c.length>=100&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(d=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+d+">"));return c.length&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var f=l.metadata.Unicode.widths,v=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),g="",w=0;w<v.length;w++)g+=String.fromCharCode(v[w]);var y=d();u({data:g,addLength1:!0,objectId:y}),c("endobj");var b=d();u({data:s(l.metadata.toUnicode),addLength1:!0,objectId:b}),c("endobj");var x=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+pm(l.fontName)),c("/FontFile2 "+y+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var N=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+pm(l.fontName)),c("/FontDescriptor "+x+" 0 R"),c("/W "+e.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+b+" 0 R"),c("/BaseFont /"+pm(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+N+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var f=l.metadata.rawData,v="",g=0;g<f.length;g++)v+=String.fromCharCode(f[g]);var w=d();u({data:v,addLength1:!0,objectId:w}),c("endobj");var y=d();u({data:s(l.metadata.toUnicode),addLength1:!0,objectId:y}),c("endobj");var b=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+w+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+pm(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var x=0;x<l.metadata.hmtx.widths.length;x++)l.metadata.hmtx.widths[x]=parseInt(l.metadata.hmtx.widths[x]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+pm(l.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,l=i.text||"",c=i.x,d=i.y,u=i.options||{},f=i.mutex||{},v=f.pdfEscape,g=f.activeFontKey,w=f.fonts,y=g,b="",x=0,N="",S=w[y].encoding;if(w[y].encoding!=="Identity-H")return{text:l,x:c,y:d,options:u,mutex:f};for(N=l,y=g,Array.isArray(l)&&(N=l[0]),x=0;x<N.length;x+=1)w[y].metadata.hasOwnProperty("cmap")&&(o=w[y].metadata.cmap.unicode.codeMap[N[x].charCodeAt(0)]),o||N[x].charCodeAt(0)<256&&w[y].metadata.hasOwnProperty("Unicode")?b+=N[x]:b+="";var k="";return parseInt(y.slice(1))<14||S==="WinAnsiEncoding"?k=v(b,y).split("").map(function(F){return F.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(k=n(b,w[y])),f.isHex=!0,{text:k,x:c,y:d,options:u,mutex:f}};t.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?l.push([a(Object.assign({},c,{text:o[d][0]})).text,o[d][1],o[d][2]]):l.push(a(Object.assign({},c,{text:o[d]})).text);i.text=l}else i.text=a(Object.assign({},c,{text:o})).text}])}(gn),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,s){return t.call(this),this.internal.vFS[n]=s,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(gn.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(s){var a,i,o,l,c,d,u,f=t,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],w={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),N=!1,S=0;this.__bidiEngine__={};var k=function(B){var R=B.charCodeAt(),Z=R>>8,te=y[Z];return te!==void 0?f[256*te+(255&R)]:Z===252||Z===253?"AL":x.test(Z)?"L":Z===8?"R":"N"},F=function(B){for(var R,Z=0;Z<B.length;Z++){if((R=k(B.charAt(Z)))==="L")return!1;if(R==="R")return!0}return!1},$=function(B,R,Z,te){var ye,de,le,Q,oe=R[te];switch(oe){case"L":case"R":N=!1;break;case"N":case"AN":break;case"EN":N&&(oe="AN");break;case"AL":N=!0,oe="R";break;case"WS":oe="N";break;case"CS":te<1||te+1>=R.length||(ye=Z[te-1])!=="EN"&&ye!=="AN"||(de=R[te+1])!=="EN"&&de!=="AN"?oe="N":N&&(de="AN"),oe=de===ye?de:"N";break;case"ES":oe=(ye=te>0?Z[te-1]:"B")==="EN"&&te+1<R.length&&R[te+1]==="EN"?"EN":"N";break;case"ET":if(te>0&&Z[te-1]==="EN"){oe="EN";break}if(N){oe="N";break}for(le=te+1,Q=R.length;le<Q&&R[le]==="ET";)le++;oe=le<Q&&R[le]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(Q=R.length,le=te+1;le<Q&&R[le]==="NSM";)le++;if(le<Q){var ce=B[te],ee=ce>=1425&&ce<=2303||ce===64286;if(ye=R[le],ee&&(ye==="R"||ye==="AL")){oe="R";break}}}oe=te<1||(ye=R[te-1])==="B"?"N":Z[te-1];break;case"B":N=!1,a=!0,oe=S;break;case"S":i=!0,oe="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":N=!1;break;case"BN":oe="N"}return oe},U=function(B,R,Z){var te=B.split("");return Z&&D(te,Z,{hiLevel:S}),te.reverse(),R&&R.reverse(),te.join("")},D=function(B,R,Z){var te,ye,de,le,Q,oe=-1,ce=B.length,ee=0,M=[],E=S?g:v,q=[];for(N=!1,a=!1,i=!1,ye=0;ye<ce;ye++)q[ye]=k(B[ye]);for(de=0;de<ce;de++){if(Q=ee,M[de]=$(B,q,M,de),te=240&(ee=E[Q][w[M[de]]]),ee&=15,R[de]=le=E[ee][5],te>0)if(te===16){for(ye=oe;ye<de;ye++)R[ye]=1;oe=-1}else oe=-1;if(E[ee][6])oe===-1&&(oe=de);else if(oe>-1){for(ye=oe;ye<de;ye++)R[ye]=le;oe=-1}q[de]==="B"&&(R[de]=0),Z.hiLevel|=le}i&&function(se,re,G){for(var ue=0;ue<G;ue++)if(se[ue]==="S"){re[ue]=S;for(var ie=ue-1;ie>=0&&se[ie]==="WS";ie--)re[ie]=S}}(q,R,ce)},H=function(B,R,Z,te,ye){if(!(ye.hiLevel<B)){if(B===1&&S===1&&!a)return R.reverse(),void(Z&&Z.reverse());for(var de,le,Q,oe,ce=R.length,ee=0;ee<ce;){if(te[ee]>=B){for(Q=ee+1;Q<ce&&te[Q]>=B;)Q++;for(oe=ee,le=Q-1;oe<le;oe++,le--)de=R[oe],R[oe]=R[le],R[le]=de,Z&&(de=Z[oe],Z[oe]=Z[le],Z[le]=de);ee=Q}ee++}}},K=function(B,R,Z){var te=B.split(""),ye={hiLevel:S};return Z||(Z=[]),D(te,Z,ye),function(de,le,Q){if(Q.hiLevel!==0&&u)for(var oe,ce=0;ce<de.length;ce++)le[ce]===1&&(oe=b.indexOf(de[ce]))>=0&&(de[ce]=b[oe+1])}(te,Z,ye),H(2,te,R,Z,ye),H(1,te,R,Z,ye),te.join("")};return this.__bidiEngine__.doBidiReorder=function(B,R,Z){if(function(ye,de){if(de)for(var le=0;le<ye.length;le++)de[le]=le;l===void 0&&(l=F(ye)),d===void 0&&(d=F(ye))}(B,R),o||!c||d)if(o&&c&&l^d)S=l?1:0,B=U(B,R,Z);else if(!o&&c&&d)S=l?1:0,B=K(B,R,Z),B=U(B,R);else if(!o||l||c||d){if(o&&!c&&l^d)B=U(B,R),l?(S=0,B=K(B,R,Z)):(S=1,B=K(B,R,Z),B=U(B,R));else if(o&&l&&!c&&d)S=1,B=K(B,R,Z),B=U(B,R);else if(!o&&!c&&l^d){var te=u;l?(S=1,B=K(B,R,Z),S=0,u=!1,B=K(B,R,Z),u=te):(S=0,B=K(B,R,Z),B=U(B,R),S=1,u=!1,B=K(B,R,Z),u=te,B=U(B,R))}}else S=0,B=K(B,R,Z);else S=l?1:0,B=K(B,R,Z);return B},this.__bidiEngine__.setOptions=function(B){B&&(o=B.isInputVisual,c=B.isOutputVisual,l=B.isInputRtl,d=B.isOutputRtl,u=B.isSymmetricSwapping)},this.__bidiEngine__.setOptions(s),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(s){var a=s.text;s.x,s.y;var i=s.options||{};s.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,n.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(o=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?o.push([n.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):o.push([n.doBidiReorder(a[l])]);s.text=o}else s.text=n.doBidiReorder(a);n.setOptions({isInputVisual:!0})}])}(gn),gn.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new vh(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Z1e(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new M1e(this.contents),this.head=new Q1e(this),this.name=new W1e(this),this.cmap=new uV(this),this.toUnicode={},this.hhea=new H1e(this),this.maxp=new $1e(this),this.hmtx=new G1e(this),this.post=new V1e(this),this.os2=new z1e(this),this.loca=new X1e(this),this.glyf=new q1e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,s,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,d;for(d=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(s=255&(a=this.post.italic_angle),(32768&(n=a>>16))!=0&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+s)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,s){var a,i,o,l;for(o=0,i=0,l=(t=""+t).length;0<=l?i<l:i>l;i=0<=l?++i:--i)a=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+s*(1e3/n)||0;return o*(n/1e3)},e.prototype.lineHeight=function(t,n){var s;return n==null&&(n=!1),s=n?this.lineGap:0,(this.ascender+s-this.decender)/1e3*t},e}();var Fd,vh=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,s;for(s=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)s[n]=String.fromCharCode(this.readByte());return s.join("")},e.prototype.writeString=function(t){var n,s,a;for(a=[],n=0,s=t.length;0<=s?n<s:n>s;n=0<=s?++n:--n)a.push(this.writeByte(t.charCodeAt(n)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,s,a,i,o,l,c;return t=this.readByte(),n=this.readByte(),s=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^s)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*n+1099511627776*s+4294967296*a+16777216*i+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var n,s;return n=Math.floor(t/4294967296),s=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,s;for(n=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)n.push(this.readByte());return n},e.prototype.write=function(t){var n,s,a,i;for(i=[],s=0,a=t.length;s<a;s++)n=t[s],i.push(this.writeByte(n));return i},e}(),M1e=function(){var e;function t(n){var s,a,i;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)s={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[s.tag]=s}return t.prototype.encode=function(n){var s,a,i,o,l,c,d,u,f,v,g,w,y;for(y in g=Object.keys(n).length,c=Math.log(2),f=16*Math.floor(Math.log(g)/c),o=Math.floor(f/c),u=16*g-f,(a=new vh).writeInt(this.scalarType),a.writeShort(g),a.writeShort(f),a.writeShort(o),a.writeShort(u),i=16*g,d=a.pos+i,l=null,w=[],n)for(v=n[y],a.writeString(y),a.writeInt(e(v)),a.writeInt(d),a.writeInt(v.length),w=w.concat(v),y==="head"&&(l=d),d+=v.length;d%4;)w.push(0),d++;return a.write(w),s=2981146554-e(a.data),a.pos=l+8,a.writeUInt32(s),a.data},e=function(n){var s,a,i,o;for(n=AV.call(n);n.length%4;)n.push(0);for(i=new vh(n),a=0,s=0,o=n.length;s<o;s=s+=4)a+=i.readUInt32();return 4294967295&a},t}(),U1e={}.hasOwnProperty,Eu=function(e,t){for(var n in t)U1e.call(t,n)&&(e[n]=t[n]);function s(){this.constructor=e}return s.prototype=t.prototype,e.prototype=new s,e.__super__=t.prototype,e};Fd=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Q1e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Eu(t,Fd),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var s;return(s=new vh).writeInt(this.version),s.writeInt(this.revision),s.writeInt(this.checkSumAdjustment),s.writeInt(this.magicNumber),s.writeShort(this.flags),s.writeShort(this.unitsPerEm),s.writeLongLong(this.created),s.writeLongLong(this.modified),s.writeShort(this.xMin),s.writeShort(this.yMin),s.writeShort(this.xMax),s.writeShort(this.yMax),s.writeShort(this.macStyle),s.writeShort(this.lowestRecPPEM),s.writeShort(this.fontDirectionHint),s.writeShort(n),s.writeShort(this.glyphDataFormat),s.data},t}(),jP=function(){function e(t,n){var s,a,i,o,l,c,d,u,f,v,g,w,y,b,x,N,S;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(g=t.readUInt16(),v=g/2,t.pos+=6,i=function(){var k,F;for(F=[],c=k=0;0<=v?k<v:k>v;c=0<=v?++k:--k)F.push(t.readUInt16());return F}(),t.pos+=2,y=function(){var k,F;for(F=[],c=k=0;0<=v?k<v:k>v;c=0<=v?++k:--k)F.push(t.readUInt16());return F}(),d=function(){var k,F;for(F=[],c=k=0;0<=v?k<v:k>v;c=0<=v?++k:--k)F.push(t.readUInt16());return F}(),u=function(){var k,F;for(F=[],c=k=0;0<=v?k<v:k>v;c=0<=v?++k:--k)F.push(t.readUInt16());return F}(),a=(this.length-t.pos+this.offset)/2,l=function(){var k,F;for(F=[],c=k=0;0<=a?k<a:k>a;c=0<=a?++k:--k)F.push(t.readUInt16());return F}(),c=x=0,S=i.length;x<S;c=++x)for(b=i[c],s=N=w=y[c];w<=b?N<=b:N>=b;s=w<=b?++N:--N)u[c]===0?o=s+d[c]:(o=l[u[c]/2+(s-w)-(v-c)]||0)!==0&&(o+=d[c]),this.codeMap[s]=65535&o}t.pos=f}return e.encode=function(t,n){var s,a,i,o,l,c,d,u,f,v,g,w,y,b,x,N,S,k,F,$,U,D,H,K,B,R,Z,te,ye,de,le,Q,oe,ce,ee,M,E,q,se,re,G,ue,ie,Ee,He,rt;switch(te=new vh,o=Object.keys(t).sort(function(we,Ve){return we-Ve}),n){case"macroman":for(y=0,b=function(){var we=[];for(w=0;w<256;++w)we.push(0);return we}(),N={0:0},i={},ye=0,oe=o.length;ye<oe;ye++)N[ie=t[a=o[ye]]]==null&&(N[ie]=++y),i[a]={old:t[a],new:N[t[a]]},b[a]=N[t[a]];return te.writeUInt16(1),te.writeUInt16(0),te.writeUInt32(12),te.writeUInt16(0),te.writeUInt16(262),te.writeUInt16(0),te.write(b),{charMap:i,subtable:te.data,maxGlyphID:y+1};case"unicode":for(R=[],f=[],S=0,N={},s={},x=d=null,de=0,ce=o.length;de<ce;de++)N[F=t[a=o[de]]]==null&&(N[F]=++S),s[a]={old:F,new:N[F]},l=N[F]-a,x!=null&&l===d||(x&&f.push(x),R.push(a),d=l),x=a;for(x&&f.push(x),f.push(65535),R.push(65535),K=2*(H=R.length),D=2*Math.pow(Math.log(H)/Math.LN2,2),v=Math.log(D/2)/Math.LN2,U=2*H-D,c=[],$=[],g=[],w=le=0,ee=R.length;le<ee;w=++le){if(B=R[w],u=f[w],B===65535){c.push(0),$.push(0);break}if(B-(Z=s[B].new)>=32768)for(c.push(0),$.push(2*(g.length+H-w)),a=Q=B;B<=u?Q<=u:Q>=u;a=B<=u?++Q:--Q)g.push(s[a].new);else c.push(Z-B),$.push(0)}for(te.writeUInt16(3),te.writeUInt16(1),te.writeUInt32(12),te.writeUInt16(4),te.writeUInt16(16+8*H+2*g.length),te.writeUInt16(0),te.writeUInt16(K),te.writeUInt16(D),te.writeUInt16(v),te.writeUInt16(U),G=0,M=f.length;G<M;G++)a=f[G],te.writeUInt16(a);for(te.writeUInt16(0),ue=0,E=R.length;ue<E;ue++)a=R[ue],te.writeUInt16(a);for(Ee=0,q=c.length;Ee<q;Ee++)l=c[Ee],te.writeUInt16(l);for(He=0,se=$.length;He<se;He++)k=$[He],te.writeUInt16(k);for(rt=0,re=g.length;rt<re;rt++)y=g[rt],te.writeUInt16(y);return{charMap:s,subtable:te.data,maxGlyphID:S+1}}},e}(),uV=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Eu(t,Fd),t.prototype.tag="cmap",t.prototype.parse=function(n){var s,a,i;for(n.pos=this.offset,this.version=n.readUInt16(),i=n.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)s=new jP(n,this.offset),this.tables.push(s),s.isUnicode&&this.unicode==null&&(this.unicode=s);return!0},t.encode=function(n,s){var a,i;return s==null&&(s="macroman"),a=jP.encode(n,s),(i=new vh).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t}(),H1e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Eu(t,Fd),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),z1e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Eu(t,Fd),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var s,a;for(a=[],s=0;s<10;++s)a.push(n.readByte());return a}(),this.charRange=function(){var s,a;for(a=[],s=0;s<4;++s)a.push(n.readInt());return a}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var s,a;for(a=[],s=0;s<2;s=++s)a.push(n.readInt());return a}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),V1e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Eu(t,Fd),t.prototype.tag="post",t.prototype.parse=function(n){var s,a,i;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(a=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],i=[];n.pos<this.offset+this.length;)s=n.readByte(),i.push(this.names.push(n.readString(s)));return i;case 151552:return a=n.readUInt16(),this.offsets=n.read(a);case 196608:break;case 262144:return this.map=(function(){var l,c,d;for(d=[],o=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;o=0<=c?++l:--l)d.push(n.readUInt32());return d}).call(this)}},t}(),K1e=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},W1e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Eu(t,Fd),t.prototype.tag="name",t.prototype.parse=function(n){var s,a,i,o,l,c,d,u,f,v,g;for(n.pos=this.offset,n.readShort(),s=n.readShort(),c=n.readShort(),a=[],o=0;0<=s?o<s:o>s;o=0<=s?++o:--o)a.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+c+n.readShort()});for(d={},o=f=0,v=a.length;f<v;o=++f)i=a[o],n.pos=i.offset,u=n.readString(i.length),l=new K1e(u,i),d[g=i.nameID]==null&&(d[g]=[]),d[i.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},t}(),$1e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Eu(t,Fd),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),G1e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Eu(t,Fd),t.prototype.tag="hmtx",t.prototype.parse=function(n){var s,a,i,o,l,c,d;for(n.pos=this.offset,this.metrics=[],s=0,c=this.file.hhea.numberOfMetrics;0<=c?s<c:s>c;s=0<=c?++s:--s)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,f;for(f=[],s=u=0;0<=i?u<i:u>i;s=0<=i?++u:--u)f.push(n.readInt16());return f}(),this.widths=(function(){var u,f,v,g;for(g=[],u=0,f=(v=this.metrics).length;u<f;u++)o=v[u],g.push(o.advance);return g}).call(this),a=this.widths[this.widths.length-1],d=[],s=l=0;0<=i?l<i:l>i;s=0<=i?++l:--l)d.push(this.widths.push(a));return d},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),AV=[].slice,q1e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Eu(t,Fd),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var s,a,i,o,l,c,d,u,f,v;return n in this.cache?this.cache[n]:(o=this.file.loca,s=this.file.contents,a=o.indexOf(n),(i=o.lengthOf(n))===0?this.cache[n]=null:(s.pos=this.offset+a,l=(c=new vh(s.read(i))).readShort(),u=c.readShort(),v=c.readShort(),d=c.readShort(),f=c.readShort(),this.cache[n]=l===-1?new Y1e(c,u,v,d,f):new J1e(c,l,u,v,d,f),this.cache[n]))},t.prototype.encode=function(n,s,a){var i,o,l,c,d;for(l=[],o=[],c=0,d=s.length;c<d;c++)i=n[s[c]],o.push(l.length),i&&(l=l.concat(i.encode(a)));return o.push(l.length),{table:l,offsets:o}},t}(),J1e=function(){function e(t,n,s,a,i,o){this.raw=t,this.numberOfContours=n,this.xMin=s,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Y1e=function(){function e(t,n,s,a,i){var o,l;for(this.raw=t,this.xMin=n,this.yMin=s,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,n,s;for(n=new vh(AV.call(this.raw.data)),t=0,s=this.glyphIDs.length;t<s;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),X1e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Eu(t,Fd),t.prototype.tag="loca",t.prototype.parse=function(n){var s,a;return n.pos=this.offset,s=this.file.head.indexToLocFormat,this.offsets=s===0?(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=4)o.push(n.readUInt32());return o}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,s){for(var a=new Uint32Array(this.offsets.length),i=0,o=0,l=0;l<a.length;++l)if(a[l]=i,o<s.length&&s[o]==l){++o,a[l]=i;var c=this.offsets[l],d=this.offsets[l+1]-c;d>0&&(i+=d)}for(var u=new Array(4*a.length),f=0;f<a.length;++f)u[4*f+3]=255&a[f],u[4*f+2]=(65280&a[f])>>8,u[4*f+1]=(16711680&a[f])>>16,u[4*f]=(4278190080&a[f])>>24;return u},t}(),Z1e=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,s,a,i;for(n in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)s=i[n],t[n]=a[s];return t},e.prototype.glyphsFor=function(t){var n,s,a,i,o,l,c;for(a={},o=0,l=t.length;o<l;o++)a[i=t[o]]=this.font.glyf.glyphFor(i);for(i in n=[],a)(s=a[i])!=null&&s.compound&&n.push.apply(n,s.glyphIDs);if(n.length>0)for(i in c=this.glyphsFor(n))s=c[i],a[i]=s;return a},e.prototype.encode=function(t,n){var s,a,i,o,l,c,d,u,f,v,g,w,y,b,x;for(a in s=uV.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),g={0:0},x=s.charMap)g[(c=x[a]).old]=c.new;for(w in v=s.maxGlyphID,o)w in g||(g[w]=v++);return u=function(N){var S,k;for(S in k={},N)k[N[S]]=S;return k}(g),f=Object.keys(u).sort(function(N,S){return N-S}),y=function(){var N,S,k;for(k=[],N=0,S=f.length;N<S;N++)l=f[N],k.push(u[l]);return k}(),i=this.font.glyf.encode(o,y,g),d=this.font.loca.encode(i.offsets,y),b={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},e}();gn.API.PDFObject=function(){var e;function t(){}return e=function(n,s){return(Array(s+1).join("0")+n).slice(-s)},t.convert=function(n){var s,a,i,o;if(Array.isArray(n))return"["+function(){var l,c,d;for(d=[],l=0,c=n.length;l<c;l++)s=n[l],d.push(t.convert(s));return d}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(a in i=["<<"],n)o=n[a],i.push("/"+a+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+n},t}();const ewe=async e=>{try{if((await fetch(e,{method:"HEAD"})).ok)return e}catch{console.warn("Invalid URL:",e,"using fallback.")}return"https://placehold.co/600x400"};function twe(){const{toast:e}=ys(),[t,n]=m.useState(!1),{selectedLabel:s}=aS(),a=li(),{departmentData:i,warrant:o,webhookDump:l}=a.state||{};if(!i||!o)return r.jsx("div",{children:"No data available. Please navigate properly."});const c=m.useRef(null),[d,u]=m.useState(o);m.useEffect(()=>{(async()=>{const g=await ewe(o.photo);u(w=>({...w,photo:g}))})()},[o.photo]);const f=async()=>{if(c.current){n(!0);try{const v=c.current,g=new gn("p","mm","a4"),w=g.internal.pageSize.getWidth(),y=g.internal.pageSize.getHeight(),b=10;let x=b;const N=await vw(v,{scale:2,useCORS:!0}),S=N.toDataURL("image/jpeg",.92),k=190,F=N.height*k/N.width;x+F>y-b&&(g.addPage(),x=b),g.addImage(S,"JPEG",b,x,k,F);const $=g.output("blob"),U=new FormData;U.append("file",$,`Warrant_${d.id}.pdf`);const H=await(await fetch(l,{method:"POST",mode:"cors",body:U})).text(),K=ke("receivePDF",{data:H});K.success&&(n(!1),e({title:"Added to the queue",description:K.message}))}catch(v){n(!1),console.error("Error:",v)}}};return r.jsxs("div",{className:"flex w-full flex-col items-center justify-center",children:[r.jsx("div",{children:r.jsx("button",{onClick:()=>f(),disabled:t,style:{padding:"0.75rem 2rem",backgroundColor:"#3b82f6",color:"#fff",borderRadius:"0.5rem",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",fontSize:"1rem",fontWeight:"600",cursor:"pointer",transition:"background-color 0.3s ease"},onMouseOver:v=>v.target.style.backgroundColor="#2563eb",onMouseOut:v=>v.target.style.backgroundColor="#3b82f6",children:"Export Warrant"})}),r.jsx("div",{className:"flex w-full justify-center",children:r.jsxs("div",{ref:c,style:{width:"auto",height:"80vh",display:"flex",justifyContent:"center",alignItems:"center",position:"fixed",color:"black"},children:[r.jsx("img",{src:Ws(i==null?void 0:i.warrantTemplateUrl),style:{maxWidth:"100%",maxHeight:"100%"},alt:"Base"}),r.jsx("div",{style:{position:"absolute",top:"19%",left:"62%",transform:"translate(-50%, -50%)",fontSize:"2.7vh",fontFamily:"'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif",fontWeight:600,color:"red",textAlign:"center"},children:"ARREST WARRANT"}),r.jsx("b",{style:{position:"absolute",top:"29%",left:"6%",fontSize:"1.8vh",fontFamily:"'Courier New', Courier, monospace",fontWeight:600},children:"Warrant Details"}),r.jsxs("ul",{style:{position:"absolute",top:"31%",left:"5%",fontSize:"1.3vh",fontFamily:"'Courier New', Courier, monospace"},children:[r.jsxs("li",{children:["Warrant ID: ",d==null?void 0:d.id]}),r.jsxs("li",{children:["Issuing Date: ",d==null?void 0:d.issueDate]}),r.jsxs("li",{children:["Expiry Date: ",d==null?void 0:d.expiryDate]}),r.jsxs("li",{children:["Status: ",d==null?void 0:d.status]})]}),r.jsx("b",{style:{position:"absolute",top:"40.5%",left:"6%",fontSize:"1.8vh",fontFamily:"'Courier New', Courier, monospace",fontWeight:600},children:"Suspect Details"}),r.jsxs("ul",{style:{position:"absolute",top:"42.3%",left:"5%",fontSize:"1.3vh",fontFamily:"'Courier New', Courier, monospace"},children:[r.jsxs("li",{children:["Citizen ID: ",d==null?void 0:d.suspectId]}),r.jsxs("li",{children:["Suspect Name: ",d==null?void 0:d.name]})]}),r.jsx("img",{src:d==null?void 0:d.photo,style:{position:"absolute",top:"38%",left:"78%",transform:"translate(-50%, -50%)",maxWidth:"25%",maxHeight:"25%",border:"0.3vh solid black"},alt:"Suspect"}),r.jsx("b",{style:{position:"absolute",top:"50%",left:"6%",fontSize:"1.8vh",fontFamily:"'Courier New', Courier, monospace",fontWeight:600},children:"Charges"}),r.jsx("ul",{style:{position:"absolute",width:"95%",top:"52%",left:"5%",fontSize:"1.3vh",fontFamily:"'Courier New', Courier, monospace",columnCount:2},children:d&&Array.isArray(d==null?void 0:d.charges)&&((d==null?void 0:d.charges)||[]).map((v,g)=>r.jsxs("li",{children:[v.title," - ",v.count||1,"x"]}))}),r.jsx("b",{style:{position:"absolute",top:"70%",left:"6%",fontSize:"1.8vh",fontFamily:"'Courier New', Courier, monospace",fontWeight:600},children:"Description"}),r.jsx("div",{style:{position:"absolute",width:"85%",top:"73%",left:"6%",fontSize:"1.2vh",fontFamily:"'Courier New', Courier, monospace"},children:"The suspect is a known criminal and has been involved in multiple criminal activities. He is considered dangerous and should be approached with caution. If you have any information regarding the suspect, please contact the Los Santos Police Department immediately."})]})})]})}const rwe=async e=>{try{if((await fetch(e,{method:"HEAD"})).ok)return e}catch{console.warn("Invalid URL:",e,"using fallback.")}return"https://placehold.co/600x400"};function nwe(){const{toast:e}=ys(),[t,n]=m.useState(!1),s=li(),{departmentData:a,report:i,webhookDump:o}=s.state||{},l=m.useRef(null),[c,d]=m.useState(i);m.useEffect(()=>{(async()=>{const v=await rwe(i.photo);d(g=>({...g,photo:v}))})()},[i.photo]);const u=async()=>{if(l.current){n(!0);try{const f=l.current,v=new gn("p","mm","a4"),g=v.internal.pageSize.getWidth(),w=v.internal.pageSize.getHeight(),y=10;let b=y;const x=f.scrollTop;f.scrollTop=0;const N=f.querySelector("div[style*='overflow-y: auto']");if(!N)return console.error("Scrollable content not found");let S=0;const k=N.scrollHeight,F=N.clientHeight;for(;S<k;){N.scrollTop=S,await new Promise(R=>setTimeout(R,300));const D=await vw(f,{scale:2,useCORS:!0}),H=D.toDataURL("image/jpeg",.92),K=190,B=D.height*K/D.width;b+B>w-y&&(v.addPage(),b=y),v.addImage(H,"JPEG",y,b,K,B),b+=B,S+=Math.min(F,k-S)}f.scrollTop=x;const $=v.output("blob"),U=new FormData;U.append("file",$,`Report_${i.reportId}.pdf`),fetch(o,{method:"POST",mode:"cors",body:U}).then(D=>D.text()).then(D=>{const H=ke("receivePDF",{data:D});H.success&&(n(!1),e({title:"Added to the queue",description:H.message}))})}catch(f){n(!1),console.error("Error:",f)}}};return r.jsxs("div",{className:"flex w-full flex-col items-center justify-center",children:[r.jsx("button",{onClick:u,disabled:t,style:{padding:"0.75rem 2rem",backgroundColor:"#3b82f6",color:"#fff",borderRadius:"0.5rem",fontSize:"1rem",fontWeight:"600",cursor:"pointer",transition:"background-color 0.3s ease"},children:"Export Report as PDF"}),r.jsx("div",{className:"flex w-full justify-center",children:r.jsxs("div",{ref:l,style:{width:"auto",height:"80vh",display:"flex",justifyContent:"center",alignItems:"center",position:"fixed",color:"black"},children:[r.jsx("img",{src:Ws(a==null?void 0:a.warrantTemplateUrl),style:{maxWidth:"100%",maxHeight:"100%"},alt:"Base"}),r.jsx("div",{style:{position:"absolute",top:"17%",left:"41%",fontSize:"2.7vh",fontFamily:"'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif",fontWeight:600,color:"black",textAlign:"center"},children:"Incident File"}),r.jsxs("div",{style:{position:"absolute",height:"100%",maxHeight:"calc(100vh - 60%)",width:"93%",overflowY:"auto",top:"27%",left:"5%",fontFamily:"Courier New"},children:[r.jsx("b",{style:{padding:"1vh",fontSize:"1.8vh",fontFamily:"'Courier New', Courier, monospace",fontWeight:600},children:"Report Details"}),r.jsxs("ul",{children:[r.jsxs("li",{children:["Report ID: ",c.reportId]}),r.jsxs("li",{children:["Report Name: ",c.reportName]}),r.jsxs("li",{children:["Incident Location: ",c.location]}),r.jsxs("li",{children:["Date & Time: ",$n(c.dateTime)||"Invalid"]}),r.jsxs("li",{children:["Arresting Officer: ",c.officerId]})]}),r.jsx("span",{style:{marginTop:"2vh",marginBottom:"2vh"},children:r.jsx("b",{style:{padding:"1.5vh",fontSize:"1.8vh",fontFamily:"'Courier New', Courier, monospace",fontWeight:600},children:"Suspect Involved"})}),r.jsxs("table",{style:{maxWidth:"90%"},children:[r.jsx("thead",{style:{maxWidth:"30%"},children:r.jsxs("tr",{children:[r.jsx("th",{style:{border:"1px solid black",padding:"0.5vh",fontSize:"1.0vw"},children:"Suspect Name & Citizen ID"}),r.jsx("th",{style:{border:"1px solid black",padding:"0.5vh",fontSize:"1.0vw"},children:"Charges"})]})}),r.jsx("tbody",{children:c&&Array.isArray(c==null?void 0:c.peopleInvolved)&&((c==null?void 0:c.peopleInvolved)||[]).map((f,v)=>r.jsx(r.Fragment,{children:r.jsxs("tr",{children:[r.jsxs("td",{style:{border:"1px solid black",padding:"0.5vh"},children:[f.name," - ",f.citizenId]}),r.jsx("td",{style:{border:"1px solid black",padding:"0.5vh"},children:r.jsx("ul",{children:f&&Array.isArray(f==null?void 0:f.charges)&&((f==null?void 0:f.charges)||[]).map(g=>r.jsx("li",{children:r.jsx("p",{children:g.title})},g.id))})})]},v)}))})]}),r.jsx("span",{style:{marginTop:"2vh",marginBottom:"2vh"},children:r.jsx("b",{style:{padding:"1.5vh",fontSize:"1.8vh",fontFamily:"'Courier New', Courier, monospace",fontWeight:600},children:"Vehicles Involved"})}),r.jsxs("table",{style:{maxWidth:"90%",borderCollapse:"collapse"},children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{style:{border:"1px solid black",padding:"0.5vh"},children:"Plate Number"}),r.jsx("th",{style:{border:"1px solid black",padding:"0.5vh"},children:"Vehicle Model"})]})}),r.jsx("tbody",{children:c&&Array.isArray(c==null?void 0:c.vehiclesInvolved)&&((c==null?void 0:c.vehiclesInvolved)||[]).map((f,v)=>r.jsxs("tr",{children:[r.jsx("td",{style:{border:"1px solid black",padding:"0.5vh"},children:f.plate}),r.jsx("td",{style:{border:"1px solid black",padding:"0.5vh"},children:f.model})]}))})]}),r.jsx("div",{children:r.jsx("p",{style:{maxWidth:"95%"},dangerouslySetInnerHTML:{__html:c.description}})}),r.jsx("span",{style:{marginTop:"2vh",marginBottom:"2vh"},children:r.jsx("b",{style:{padding:"1.5vh",fontSize:"1.8vh",fontFamily:"'Courier New', Courier, monospace",fontWeight:600},children:"Evidences"})}),r.jsx("div",{children:c&&Array.isArray(c==null?void 0:c.evidences)&&((c==null?void 0:c.evidences)||[]).map(f=>r.jsxs("div",{style:{marginBottom:"1rem"},children:[r.jsx("p",{children:f.description}),f.url&&r.jsx("img",{src:f.url,style:{maxWidth:"100%",maxHeight:"100%"},alt:`Evidence ${f.id}`})]},f.id))})]})]})})]})}function hV(){return r.jsxs("div",{className:"flex w-full flex-col",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(Se,{className:"w-1 h-10"}),r.jsx(Se,{className:"h-8 w-32"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[r.jsxs(Le,{className:"md:col-span-1 bg-card/50  border-primary/20",children:[r.jsxs(mt,{className:"flex flex-row items-center justify-between",children:[r.jsx(Se,{className:"h-6 w-32"}),r.jsx(Se,{className:"h-8 w-8 rounded-full"})]}),r.jsx(Je,{children:r.jsx("div",{className:"space-y-4",children:[1,2,3].map(e=>r.jsxs("div",{className:"space-y-2",children:[r.jsx(Se,{className:"h-4 w-3/4"}),r.jsx(Se,{className:"h-12 w-full"}),r.jsx(Se,{className:"h-3 w-24"})]},e))})})]}),r.jsxs(Le,{className:"md:col-span-1 bg-card/50  border-primary/20",children:[r.jsx(mt,{children:r.jsx(Se,{className:"h-6 w-32"})}),r.jsx(Je,{children:r.jsx("div",{className:"space-y-4",children:[1,2,3].map(e=>r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx(Se,{className:"h-4 w-24"}),r.jsx(Se,{className:"h-4 w-12"})]}),r.jsx(Se,{className:"h-3 w-3/4"}),r.jsx(Se,{className:"h-3 w-1/2"})]},e))})})]}),r.jsxs(Le,{className:"md:col-span-1 bg-card/50  border-primary/20",children:[r.jsx(mt,{children:r.jsx(Se,{className:"h-6 w-32"})}),r.jsx(Je,{children:r.jsx("div",{className:"space-y-4",children:[1,2,3].map(e=>r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx(Se,{className:"h-4 w-24"}),r.jsx(Se,{className:"h-4 w-12"})]}),r.jsx(Se,{className:"h-3 w-3/4"}),r.jsx(Se,{className:"h-3 w-1/2"})]},e))})})]}),r.jsxs(Le,{className:"md:col-span-2 bg-card/50  border-primary/20",children:[r.jsxs(mt,{className:"flex flex-row items-center justify-between",children:[r.jsx(Se,{className:"h-6 w-24"}),r.jsx("div",{className:"flex space-x-4",children:[1,2,3].map(e=>r.jsxs("div",{className:"flex items-center",children:[r.jsx(Se,{className:"h-8 w-8 rounded-full mr-2"}),r.jsx(Se,{className:"h-4 w-4"})]},e))})]}),r.jsx(Je,{children:r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"grid grid-cols-6 gap-4",children:[1,2,3,4,5,6].map(e=>r.jsx(Se,{className:"h-4 w-full"},e))}),[1,2,3].map(e=>r.jsx("div",{className:"grid grid-cols-6 gap-4",children:[1,2,3,4,5,6].map(t=>r.jsx(Se,{className:"h-8 w-full"},t))},e))]})})]}),r.jsxs(Le,{className:"md:col-span-1 bg-card/50  border-primary/20",children:[r.jsx(mt,{children:r.jsx(Se,{className:"h-6 w-24"})}),r.jsx(Je,{children:r.jsx("div",{className:"space-y-4",children:[1,2,3].map(e=>r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx(Se,{className:"h-4 w-24"}),r.jsx(Se,{className:"h-4 w-12"})]}),r.jsx(Se,{className:"h-3 w-3/4"}),r.jsx(Se,{className:"h-3 w-1/2"})]},e))})})]})]})]})}const hd=5,hp=kr.createContext({saveScrollPosition:()=>{},getScrollPosition:()=>0}),swe=({children:e})=>{const t=m.useRef({}),n=m.useCallback((a,i)=>{t.current[a]=i},[]),s=m.useCallback(a=>t.current[a]||0,[]);return r.jsx(hp.Provider,{value:{saveScrollPosition:n,getScrollPosition:s},children:e})},iwe=kr.memo(({announcements:e,userPermissions:t,handleEditAnnouncement:n,handleDeleteAnnouncement:s,handleAddAnnouncement:a,newAnnouncement:i,setNewAnnouncement:o,user:l,loadMoreAnnouncements:c,isLoadingMore:d})=>{const{locale:u}=ir(),f=m.useRef(null),{saveScrollPosition:v,getScrollPosition:g}=kr.useContext(hp),w="bulletinBoard",{ref:y,inView:b}=Td({threshold:.1,triggerOnce:!1,rootMargin:"0px 0px 100px 0px"});m.useEffect(()=>{var S;const N=(S=f.current)==null?void 0:S.querySelector("[data-radix-scroll-area-viewport]");if(N){const k=g(w);N.scrollTop=k}},[g,w]);const x=m.useCallback(()=>{var S;const N=(S=f.current)==null?void 0:S.querySelector("[data-radix-scroll-area-viewport]");N&&v(w,N.scrollTop)},[v,w]);return m.useEffect(()=>{b&&!d&&c()},[b,d,c]),r.jsxs(Le,{className:"md:col-span-1 bg-card/50  border-primary/20",children:[r.jsxs(mt,{className:"flex flex-row items-center justify-between",children:[r.jsx(kt,{children:(u==null?void 0:u.text_bulletin_board)||"Bulletin Board"}),r.jsxs(gr,{children:[r.jsx(to,{asChild:!0,children:t.edit&&r.jsx(Ae,{children:r.jsx(Xr,{className:"h-4 w-4"})})}),r.jsxs(xr,{className:"sm:max-w-[425px]","aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:(u==null?void 0:u.text_create_new_announcement)||"Create New Announcement"})}),r.jsxs("div",{className:"grid gap-4 py-4",children:[r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Me,{htmlFor:"title",className:"text-right",children:(u==null?void 0:u.text_title)||"Title"}),r.jsx(ht,{id:"title",className:"col-span-3",value:i.title,onChange:N=>o({...i,title:N.target.value})})]}),r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Me,{htmlFor:"description",className:"text-right",children:(u==null?void 0:u.text_description)||"Description"}),r.jsx(ss,{id:"description",value:i.description,onChange:N=>o({...i,description:N.target.value}),className:"col-span-3"})]})]}),r.jsx(un,{children:r.jsx(Ae,{onClick:a,disabled:!i.title.trim()||!i.description.trim(),children:(u==null?void 0:u.text_create)||"Create"})})]})]})]}),r.jsx(Je,{children:r.jsxs(nr,{className:"h-[calc(40vh-100px)]",ref:f,onScrollCapture:x,children:[r.jsxs("div",{className:"space-y-4 w-full",children:[e&&Array.isArray(e)&&(e||[]).map(N=>r.jsxs(Le,{className:"p-4 w-full bg-background/50 hover:bg-primary/10 transition-colors flex flex-row justify-between",children:[r.jsxs("div",{className:"flex flex-col w-full",children:[r.jsx("h3",{className:"font-bold mb-2 break-all whitespace-normal",children:N.title}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2 flex-grow break-all whitespace-normal",dangerouslySetInnerHTML:{__html:N.description.replace(/\n/g,"<br />")}}),r.jsx("p",{className:"text-xs text-muted-foreground",children:$n(N.dateTime)})]}),r.jsxs("div",{className:"flex flex-row items-center gap-2",children:[t.edit&&r.jsx(Ae,{variant:"ghost",size:"sm",onClick:()=>n(N),children:r.jsx(ks,{className:"h-4 w-4"})}),t.edit&&(l==null?void 0:l.hasManagePermission)&&r.jsx(Ae,{variant:"ghost",size:"sm",onClick:()=>s(N.announcementId),children:r.jsx(ms,{className:"h-4 w-4"})})]})]},N.announcementId)),r.jsx("div",{ref:y,className:"py-4 h-12 flex items-center justify-center",children:d&&r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx(Ac,{className:"h-4 w-4 animate-spin mr-2"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"Loading more..."})]})})]}),r.jsx(Gl,{orientation:"vertical"})]})})]})}),awe=kr.memo(({recentReports:e,loadMoreReports:t,isLoadingMore:n})=>{const s=m.useRef(null),{saveScrollPosition:a,getScrollPosition:i}=kr.useContext(hp),o="recentReports",{locale:l}=ir(),{ref:c,inView:d}=Td({threshold:.1,triggerOnce:!1,rootMargin:"0px 0px 100px 0px"});m.useEffect(()=>{var v;const f=(v=s.current)==null?void 0:v.querySelector("[data-radix-scroll-area-viewport]");if(f){const g=i(o);f.scrollTop=g}},[i,o]);const u=m.useCallback(()=>{var v;const f=(v=s.current)==null?void 0:v.querySelector("[data-radix-scroll-area-viewport]");f&&a(o,f.scrollTop)},[a,o]);return m.useEffect(()=>{d&&!n&&t()},[d,n,t]),r.jsxs(Le,{className:"md:col-span-1 bg-card/50  border-primary/20",children:[r.jsx(mt,{children:r.jsx(kt,{children:(l==null?void 0:l.text_recent_reports)||"Recent Reports"})}),r.jsx(Je,{children:r.jsxs(nr,{className:"h-[calc(40vh-100px)]",ref:s,onScrollCapture:u,children:[r.jsxs("div",{className:"space-y-4 w-full",children:[e&&Array.isArray(e)&&(e||[]).map(f=>r.jsxs(Le,{className:"p-4 bg-background/50 hover:bg-primary/10 transition-colors max-w-full",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"font-bold mb-2 max-w-[10rem] truncate",children:f.reportName}),r.jsxs(ze,{variant:"secondary",className:"bg-emerald-500/20 text-emerald-300",children:["# ",f.reportId]})]}),r.jsxs("p",{className:"text-xs text-muted-foreground break-all whitespace-normal",children:[(l==null?void 0:l.text_location)||"Location",": ",f.location]}),r.jsxs("p",{className:"text-xs text-muted-foreground break-all whitespace-normal",children:[(l==null?void 0:l.text_date_time)||"Date Time",": ",$n(f.dateTime)]})]},f.reportId)),r.jsx("div",{ref:c,className:"py-4 h-12 flex items-center justify-center",children:n&&r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx(Ac,{className:"h-4 w-4 animate-spin mr-2"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"Loading more..."})]})})]}),r.jsx(Gl,{orientation:"vertical"})]})})]})}),owe=kr.memo(({warrants:e,loadMoreWarrants:t,isLoadingMore:n})=>{const s=m.useRef(null),{locale:a}=ir(),{saveScrollPosition:i,getScrollPosition:o}=kr.useContext(hp),l="warrants",{ref:c,inView:d}=Td({threshold:.1,triggerOnce:!1,rootMargin:"0px 0px 100px 0px"});m.useEffect(()=>{var v;const f=(v=s.current)==null?void 0:v.querySelector("[data-radix-scroll-area-viewport]");if(f){const g=o(l);f.scrollTop=g}},[o,l]);const u=m.useCallback(()=>{var v;const f=(v=s.current)==null?void 0:v.querySelector("[data-radix-scroll-area-viewport]");f&&i(l,f.scrollTop)},[i,l]);return m.useEffect(()=>{d&&!n&&t()},[d,n,t]),r.jsxs(Le,{className:"md:col-span-1 bg-card/50  border-primary/20",children:[r.jsx(mt,{children:r.jsx(kt,{children:(a==null?void 0:a.text_active_warrants)||"Active Warrants"})}),r.jsx(Je,{children:r.jsxs(nr,{className:"h-[calc(40vh-100px)]",ref:s,onScrollCapture:u,children:[r.jsxs("div",{className:"space-y-4 w-full",children:[e&&Array.isArray(e)&&(e||[]).map(f=>r.jsxs(Le,{className:"p-4 bg-background/50 hover:bg-primary/10 transition-colors ",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"font-bold mb-2",children:f.name}),r.jsxs(ze,{variant:"secondary",className:"bg-emerald-500/20 text-emerald-300",children:["# ",f.id]})]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[(a==null?void 0:a.text_issue_date)||"Issue Date",": ",f.issueDate]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[(a==null?void 0:a.text_expiry_date)||"Expiry Date",": ",f.expiryDate]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[(a==null?void 0:a.text_status)||"Status",": ",f.status]})]},f.id)),r.jsx("div",{ref:c,className:"py-4 h-12 flex items-center justify-center",children:n&&r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx(Ac,{className:"h-4 w-4 animate-spin mr-2"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"Loading more..."})]})})]}),r.jsx(Gl,{orientation:"vertical"})]})})]})}),lwe=kr.memo(({activeOfficers:e,jobCounts:t,logos:n,loadMoreOfficers:s,isLoadingMore:a})=>{const i=m.useRef(null),{saveScrollPosition:o,getScrollPosition:l}=kr.useContext(hp),c="units",{locale:d}=ir(),{ref:u,inView:f}=Td({threshold:.1,triggerOnce:!1,rootMargin:"0px 0px 100px 0px"});m.useEffect(()=>{var b;const y=(b=i.current)==null?void 0:b.querySelector("[data-radix-scroll-area-viewport]");if(y){const x=l(c);y.scrollTop=x}},[l,c]);const v=m.useCallback(()=>{var b;const y=(b=i.current)==null?void 0:b.querySelector("[data-radix-scroll-area-viewport]");y&&o(c,y.scrollTop)},[o,c]);m.useEffect(()=>{f&&!a&&s()},[f,a,s]);const g=y=>y==="clr"?(d==null?void 0:d.text_cleared)||"Cleared":y==="enr"?(d==null?void 0:d.text_enroute)||"En Route":y==="avl"?(d==null?void 0:d.text_available)||"Available":y==="busy"?(d==null?void 0:d.text_busy)||"Busy":(d==null?void 0:d.text_active)||"Active",w=y=>y==="clr"?"from-cyan-500 to-cyan-600":y==="enr"?"from-emerald-500 to-emerald-600":y==="avl"?"from-amber-500 to-amber-600":y==="busy"?"from-red-500 to-red-600":"from-green-500 to-green-600";return r.jsxs(Le,{className:"md:col-span-2 bg-card/50  border-primary/20",children:[r.jsxs(mt,{className:"flex flex-row items-center justify-between",children:[r.jsx(kt,{children:(d==null?void 0:d.text_units)||"Units"}),r.jsx("div",{className:"flex flex-row items-center gap-6",children:t&&Object.entries(t).map(([y,b])=>{const x=n.find(N=>N.type===y);return r.jsx("div",{className:"flex items-center",children:x?r.jsxs(r.Fragment,{children:[r.jsx("img",{src:Ws(x.logo)||"/placeholder.svg",alt:`${y} logo`,className:"h-8 w-8 mr-2"}),b]}):r.jsxs(r.Fragment,{children:[r.jsxs("strong",{children:[y,":"]})," ",b]})},y)})})]}),r.jsx(Je,{children:r.jsxs(nr,{className:"h-[calc(34vh-50px)]",ref:i,onScrollCapture:v,children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs(lp,{children:[r.jsx(cp,{children:r.jsxs(Xo,{children:[r.jsx(bi,{children:(d==null?void 0:d.text_callsign)||"Callsign"}),r.jsx(bi,{children:(d==null?void 0:d.text_name)||"Name"}),r.jsx(bi,{children:(d==null?void 0:d.text_rank)||"Rank"}),r.jsx(bi,{children:(d==null?void 0:d.text_department)||"Department"}),r.jsx(bi,{children:(d==null?void 0:d.text_status)||"Status"})]})}),r.jsx(dp,{children:e&&Array.isArray(e)&&(e||[]).map(y=>r.jsxs(Xo,{children:[r.jsx(fs,{children:y.callsign}),r.jsx(fs,{className:"truncate max-w-xs",children:y.name}),r.jsx(fs,{children:y.rank}),r.jsx(fs,{children:y.department}),r.jsx(fs,{children:r.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium text-white bg-gradient-to-r ${w(y.dutyStatus)}`,children:g(y.dutyStatus)})})]},y.id))})]}),r.jsx("div",{ref:u,className:"py-4 h-12 flex items-center justify-center",children:a&&r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx(Ac,{className:"h-4 w-4 animate-spin mr-2"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"Loading more..."})]})})]}),r.jsx(Gl,{orientation:"vertical"})]})})]})}),cwe=kr.memo(({vehicles:e,loadMoreVehicles:t,isLoadingMore:n})=>{const s=m.useRef(null),{locale:a}=ir(),{saveScrollPosition:i,getScrollPosition:o}=kr.useContext(hp),l="bolos",{ref:c,inView:d}=Td({threshold:.1,triggerOnce:!1,rootMargin:"0px 0px 100px 0px"});m.useEffect(()=>{var v;const f=(v=s.current)==null?void 0:v.querySelector("[data-radix-scroll-area-viewport]");if(f){const g=o(l);f.scrollTop=g}},[o,l]);const u=m.useCallback(()=>{var v;const f=(v=s.current)==null?void 0:v.querySelector("[data-radix-scroll-area-viewport]");f&&i(l,f.scrollTop)},[i,l]);return m.useEffect(()=>{d&&!n&&t()},[d,n,t]),r.jsxs(Le,{className:"md:col-span-1 bg-card/50  border-primary/20",children:[r.jsx(mt,{children:r.jsxs(kt,{children:[(a==null?void 0:a.text_bolos)||"BOLOs","  "]})}),r.jsx(Je,{children:r.jsxs(nr,{className:"h-[calc(40vh-100px)]",ref:s,onScrollCapture:u,children:[r.jsxs("div",{className:"space-y-4 w-full",children:[e&&Array.isArray(e)&&(e||[]).map(f=>r.jsxs(Le,{className:"p-4 bg-background/50 hover:bg-primary/10 transition-colors ",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"font-bold mb-2",children:f.owner}),r.jsx(ze,{variant:"secondary",className:"bg-emerald-500/20 text-emerald-300",children:f.plate})]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[(a==null?void 0:a.text_model)||"Model",": ",f.model]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[(a==null?void 0:a.text_status)||"Status",": ",f.status]})]},f.plate)),r.jsx("div",{ref:c,className:"py-4 h-12 flex items-center justify-center",children:n&&r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx(Ac,{className:"h-4 w-4 animate-spin mr-2"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"Loading more..."})]})})]}),r.jsx(Gl,{orientation:"vertical"})]})})]})}),NP={success:!0,announcements:Array(50).fill(null).map((e,t)=>({announcementId:`${t+1}`,title:`Bulletin Board ${t+1}`,description:`This is bulletin board ${t+1} with some description text.`,dateTime:new Date(Date.now()-t*864e5).toISOString()}))},CP={success:!0,reports:Array(50).fill(null).map((e,t)=>({reportId:`${t+1}`,reportName:`Report ${t+1}`,location:`Location ${t+1}`,dateTime:new Date(Date.now()-t*864e5).toISOString()}))},dwe=kr.memo(()=>{var _r;const{toast:e}=ys(),[t,n]=m.useState(!0),[s,a]=m.useState(!0),[i,o]=m.useState(!0),[l,c]=m.useState(!0),[d,u]=m.useState(!0),[f,v]=m.useState(!0),{user:g,setUser:w,logos:y}=Yn(),[b,x]=m.useState({}),{locale:N}=ir(),[S,k]=m.useState(1),[F,$]=m.useState(1),[U,D]=m.useState(1),[H,K]=m.useState(1),[B,R]=m.useState(1),[Z,te]=m.useState(!0),[ye,de]=m.useState(!0),[le,Q]=m.useState(!0),[oe,ce]=m.useState(!0),[ee,M]=m.useState(!0),[E,q]=m.useState(!1),[se,re]=m.useState(!1),[G,ue]=m.useState(!1),[ie,Ee]=m.useState(!1),[He,rt]=m.useState(!1),[we,Ve]=m.useState(!1),[Re,je]=m.useState([]),[Mt,Bt]=m.useState([]),[ct,vt]=m.useState([]),[wt,Fe]=m.useState([]),[Oe,_e]=m.useState({announcementId:"",title:"",description:"",dateTime:new Date().toISOString()}),[nt,ut]=m.useState(!1),jt=(_r=g==null?void 0:g.permissions)==null?void 0:_r.Pages.dashboard;if(!jt||!jt.view)return null;const zt=m.useCallback(async(ot=1)=>{try{const dt=await ke("fetchAnnouncements",{page:ot,limit:hd},{success:!0,announcements:NP.announcements.slice((ot-1)*hd,ot*hd),hasMore:ot*hd<NP.announcements.length});return dt.success&&(je(er=>ot===1?dt.announcements:[...er,...dt.announcements]),te(dt.hasMore)),dt}catch(dt){return console.error("Error fetching announcements:",dt),{success:!1,error:dt}}},[]),Be=m.useCallback(async(ot=1)=>{try{const dt=await ke("getRecentReports",{page:ot,limit:hd},{success:!0,reports:CP.reports.slice((ot-1)*hd,ot*hd),hasMore:ot*hd<CP.reports.length});return dt.success&&(Fe(er=>ot===1?dt.reports:[...er,...dt.reports]),de(dt.hasMore)),dt}catch(dt){return console.error("Error fetching reports:",dt),{success:!1,error:dt}}},[]),Ye=m.useCallback(async(ot=1)=>{try{const dt=await ke("fetchActiveWarrants",{page:ot,limit:hd});return dt.success&&(Bt(er=>ot===1?dt.warrantsData:[...er,...dt.warrantsData]),Q(dt.hasMore)),dt}catch(dt){return console.error("Error fetching warrants:",dt),{success:!1,error:dt}}},[]),Ue=m.useCallback(async(ot=1)=>{try{const dt=await ke("fetchWantedVehicles",{page:ot,limit:hd});return dt.success&&(vt(er=>ot===1?dt.vehiclesData:[...er,...dt.vehiclesData]),ce(dt.hasMore)),dt}catch(dt){return console.error("Error fetching vehicles:",dt),{success:!1,error:dt}}},[]),Lt=m.useCallback(async(ot=1)=>{try{const dt=await ke("fetchActiveUnits",{page:ot,limit:hd});return dt&&(w(er=>{if(er){const Rt=er.activeOfficers||[],xn=ot===1?dt.units:[...Rt,...dt.units];return{...er,activeOfficers:xn}}return null}),M(dt.hasMore)),dt}catch(dt){return console.error("Error fetching officers:",dt),{success:!1,error:dt}}},[w]),Et=m.useCallback(()=>{if(Z&&!E){q(!0);const ot=S+1;zt(ot).then(()=>{k(ot)}).finally(()=>{q(!1)})}},[S,zt,Z,E]),hr=m.useCallback(()=>{if(ye&&!se){re(!0);const ot=F+1;Be(ot).then(()=>{$(ot)}).finally(()=>{re(!1)})}},[F,Be,ye,se]),ur=m.useCallback(()=>{if(le&&!G){ue(!0);const ot=U+1;Ye(ot).then(()=>{D(ot)}).finally(()=>{ue(!1)})}},[U,Ye,le,G]),Cr=m.useCallback(()=>{if(oe&&!ie){Ee(!0);const ot=H+1;Ue(ot).then(()=>{K(ot)}).finally(()=>{Ee(!1)})}},[H,Ue,oe,ie]),Tr=m.useCallback(()=>{if(ee&&!He){rt(!0);const ot=B+1;Lt(ot).then(()=>{R(ot)}).finally(()=>{rt(!1)})}},[B,Lt,ee,He]);m.useEffect(()=>{let ot=!0;return(async()=>{n(!0),a(!0),o(!0),c(!0),u(!0),v(!0);try{await Promise.all([zt(1),Be(1),Ye(1),Ue(1),Lt(1)])}catch(er){console.error("Error loading initial data:",er)}finally{ot&&(n(!1),a(!1),o(!1),c(!1),u(!1),v(!1))}})(),()=>{ot=!1}},[zt,Be,Ye,Ue,Lt]);const fr=m.useCallback(ot=>{ke("deleteAnnouncement",{announcementId:ot}).then(dt=>{dt&&(je(er=>er.filter(Rt=>Rt.announcementId!==ot)),e({title:(N==null?void 0:N.text_announcement_deleted)||"Announcement Deleted",description:(N==null?void 0:N.text_announcement_deleted_description)||"The announcement has been successfully deleted."}))}).catch(dt=>console.error("Error:",dt))},[e]),dr=m.useCallback(ot=>{_e(ot),Ve(!0),ut(!0)},[]),Ke=m.useCallback(()=>{const ot={...Oe,announcementId:`A${Date.now()}`,dateTime:new Date().toISOString()};ke("addAnnouncement",{announcementToAdd:ot}).then(dt=>{dt.success&&(je(er=>[ot,...er]),_e({announcementId:"",title:"",description:"",dateTime:new Date().toISOString()}),e({title:(N==null?void 0:N.text_announcement_created)||"Announcement Created",description:(N==null?void 0:N.text_announcement_created_description)||"The announcement has been successfully created."}))}).catch(dt=>console.error("Error:",dt))},[Oe,e]),qt=m.useCallback(ot=>{const{name:dt,value:er}=ot.target;_e(Rt=>({...Rt,[dt]:er}))},[]),Ge=m.useCallback(ot=>{ot.preventDefault(),we&&ke("editAnnouncement",{edited:Oe}).then(dt=>{dt.success&&(je(er=>er.map(Rt=>Rt.announcementId===(Oe==null?void 0:Oe.announcementId)?{...Rt,...Oe}:Rt)),e({title:(N==null?void 0:N.text_announcement_edited)||"Announcement Edited",description:(N==null?void 0:N.text_announcement_edited_description)||"The announcement has been successfully edited."}),Ve(!1),ut(!1))}).catch(dt=>console.error("Error:",dt))},[we,Oe,e]),st=m.useCallback(()=>{_e({announcementId:"",title:"",description:"",dateTime:new Date().toISOString()}),Ve(!1),ut(!1)},[]);m.useEffect(()=>{we||_e({announcementId:"",title:"",description:"",dateTime:new Date().toISOString()})},[we]);const it=m.useCallback(ot=>!ot||ot.length===0?{}:ot.reduce((dt,er)=>{const Rt=er.job;return dt[Rt]=(dt[Rt]||0)+1,dt},{}),[]);m.useEffect(()=>{if(g!=null&&g.activeOfficers){const ot=it(g.activeOfficers);x(ot)}},[g==null?void 0:g.activeOfficers,it]);const Pt=m.useMemo(()=>(g==null?void 0:g.activeOfficers)||[],[g==null?void 0:g.activeOfficers]);return m.useEffect(()=>{const ot=document.createElement("style");return ot.innerHTML=`
      /* Style to prevent scroll jumps */
      [data-radix-scroll-area-viewport] {
        scroll-behavior: smooth !important;
        scrollbar-width: thin;
        -ms-overflow-style: none;
      }
      
      /* Don't show scrollbar in inView targets */
      .load-more-trigger::-webkit-scrollbar {
        display: none;
      }
    `,document.head.appendChild(ot),()=>{document.head.removeChild(ot)}},[]),r.jsx(swe,{children:r.jsxs("div",{className:"flex w-full flex-col",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("hr",{className:"w-1 h-10 bg-primary border-none rounded-full"}),r.jsx("h2",{className:"text-3xl font-bold",children:(N==null?void 0:N.text_dashboard_page_name)||"Dashboard"})]}),t?r.jsx(m.Suspense,{fallback:r.jsx("div",{children:(N==null?void 0:N.text_loading_more)||"Loading More..."}),children:r.jsx(hV,{})}):r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[s?r.jsx(Se,{className:"h-40"}):r.jsx(iwe,{announcements:Re,userPermissions:jt,handleEditAnnouncement:dr,handleDeleteAnnouncement:fr,handleAddAnnouncement:Ke,newAnnouncement:Oe,setNewAnnouncement:_e,user:g,loadMoreAnnouncements:Et,isLoadingMore:E}),i?r.jsx(Se,{className:"h-40"}):r.jsx(awe,{recentReports:wt,loadMoreReports:hr,isLoadingMore:se}),l?r.jsx(Se,{className:"h-40"}):r.jsx(owe,{warrants:Mt,loadMoreWarrants:ur,isLoadingMore:G}),d?r.jsx(Se,{className:"h-40"}):r.jsx(lwe,{activeOfficers:Pt,jobCounts:b,logos:y,loadMoreOfficers:Tr,isLoadingMore:He}),f?r.jsx(Se,{className:"h-40"}):r.jsx(cwe,{vehicles:ct,loadMoreVehicles:Cr,isLoadingMore:ie})]}),r.jsx(gr,{open:nt,onOpenChange:ut,children:r.jsxs(xr,{"aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:we?(N==null?void 0:N.text_edit_announcement)||"Edit Announcement":(N==null?void 0:N.text_create_announcement)||"Create Announcement"})}),r.jsxs("form",{onSubmit:Ge,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"title",children:(N==null?void 0:N.text_title)||"Title"}),r.jsx(ht,{id:"title",name:"title",value:Oe.title,onChange:qt,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"description",children:(N==null?void 0:N.text_description)||"Description"}),r.jsx(ss,{id:"description",name:"description",value:Oe.description,onChange:qt,required:!0})]}),r.jsxs(un,{children:[r.jsx(Ae,{type:"button",variant:"outline",onClick:st,children:(N==null?void 0:N.text_cancel)||"Cancel"}),r.jsx(Ae,{type:"submit",children:(N==null?void 0:N.text_save)||"Save"})]})]})]})})]})})}),uwe=({tabs:e,activeTabId:t,onTabChange:n,onAddTab:s,onRemoveTab:a})=>r.jsx(ea,{value:t.toString(),onValueChange:i=>n(Number(i)),className:"w-full",children:r.jsx(ta,{className:"flex items-center space-x-2 bg-transparent p-0 overflow-hidden",children:r.jsxs(nr,{className:"w-full whitespace-nowrap",children:[r.jsxs("div",{className:"flex items-center space-x-2 px-1",children:[e.map(i=>r.jsxs(Fr,{value:i.id.toString(),className:Tt("flex items-center gap-2 rounded-md px-2 py-1.5 text-sm font-medium transition-all","border border-white/20 bg-black/20 text-white","hover:bg-slate-700 hover:text-white","data-[state=active]:bg-gray-700 data-[state=active]:text-white data-[state=active]:border-white"),children:[r.jsx("span",{className:"truncate max-w-[100px]",children:i.label}),e.length>1&&r.jsx("button",{onClick:o=>{o.stopPropagation(),a(i.id)},className:"ml-1 rounded-full p-1 hover:bg-slate-600",children:r.jsx(mc,{className:"h-3 w-3"})})]},i.id)),r.jsx("button",{onClick:()=>s("Dashboard","/dashboard"),className:"flex items-center gap-1 rounded-md bg-slate-700 px-2 py-1 text-sm font-medium text-white hover:bg-slate-600 transition",children:r.jsx(Xr,{className:"h-4 w-4"})})]}),r.jsx(Gl,{orientation:"horizontal"})]})})});function Awe(){return r.jsxs("div",{className:"flex-1 space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(Se,{className:"w-1 h-10"}),r.jsx(Se,{className:"h-8 w-48"})]}),r.jsxs("div",{className:"grid grid-cols-6 gap-4 grid-rows-1 h-full",children:[r.jsxs(Le,{className:"col-span-4 row-span-1 bg-card/50  border-primary/20 max-h-[calc(95vh-200px)] overflow-hidden",children:[r.jsx(mt,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Se,{className:"h-6 w-32"}),r.jsx(Se,{className:"h-9 w-32"})]})}),r.jsxs(Je,{children:[r.jsxs("div",{className:"mb-4 flex items-center space-x-2",children:[r.jsx(Se,{className:"h-5 w-5"}),r.jsx(Se,{className:"h-10 w-full"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Se,{className:"h-10 w-full"}),r.jsx(Se,{className:"h-10 w-full"}),r.jsx(Se,{className:"h-10 w-full"}),r.jsx(Se,{className:"h-10 w-full"}),r.jsx(Se,{className:"h-10 w-full"})]}),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsx(Se,{className:"h-4 w-48"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Se,{className:"h-8 w-20"}),r.jsx(Se,{className:"h-8 w-20"})]})]})]})]}),r.jsxs(Le,{className:"col-span-2 row-span-1 bg-card/50  border-primary/20 max-h-[calc(95vh-200px)] overflow-hidden",children:[r.jsx(mt,{children:r.jsx(Se,{className:"h-6 w-32"})}),r.jsx(Je,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-center justify-center",children:r.jsx(Se,{className:"w-32 h-32 rounded-full"})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(Se,{className:"h-10 w-full"}),r.jsx(Se,{className:"h-10 w-full"}),r.jsx(Se,{className:"h-10 w-full"}),r.jsx(Se,{className:"h-10 w-full"}),r.jsx(Se,{className:"h-10 w-full"}),r.jsx(Se,{className:"h-10 w-full"})]}),r.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[r.jsx(Se,{className:"h-9 w-24"}),r.jsx(Se,{className:"h-9 w-24"})]})]})})]})]})]})}const _P={weapons:[],totalCount:0},_0=10;function hwe(){var Oe;const[e,t]=m.useState(""),[n,s]=m.useState(null),[a,i]=m.useState(!1),{tabs:o,setTabData:l}=ko(),[c,d]=m.useState([]),u=li(),[f,v]=m.useState(0),{data:g}=u.state||{},[w,y]=m.useState(e),[b,x]=m.useState(1),[N,S]=m.useState(!1),k=Math.ceil(f/_0);m.useRef(null);const[F,$]=m.useState(!1),[U,D]=m.useState(!1),{user:H,setUserField:K,setUser:B}=Yn(),[R,Z]=m.useState([]),[te,ye]=m.useState(""),[de,le]=m.useState(te),Q=(Oe=H==null?void 0:H.permissions)==null?void 0:Oe.Pages.citizens;if(!Q||!Q.view)return null;const[oe,ce]=m.useState({serialNumber:"",weaponName:"",citizenId:"",ownerName:"",registrationDate:new Date().toISOString().split("T")[0],image:""}),[ee,M]=m.useState(!1),[E,q]=m.useState(null),[se,re]=m.useState(!1),[G,ue]=m.useState((n==null?void 0:n.image)||""),{locale:ie}=ir(),Ee=()=>{if(oe.citizenId===""){lc({title:"Error",description:"Please select a citizen to add the weapon to.",variant:"destructive"});return}const _e={...oe,id:`W${c.length+1}`.padStart(4,"0")};ke("addWeapon",{weapon:_e}).then(nt=>{nt.success?(d([...c,_e]),lc({title:"Weapon Added",description:"The weapon has been successfully added."})):lc({title:"Error",description:"Failed to add the weapon. Please try again.",variant:"destructive"})}).catch(nt=>{console.error("Error adding weapon:",nt),lc({title:"Error",description:"An error occurred while adding the weapon.",variant:"destructive"})}),S(!1),ce({serialNumber:"",weaponName:"",ownerName:"",registrationDate:new Date().toISOString().split("T")[0],image:""})},He=()=>{D(!0)},rt=_e=>{_e.key==="Enter"&&y(e)};m.useEffect(()=>{if(g){i(!0),s(Array.isArray(g)||typeof g=="object"?g:JSON.parse(g||"[]"));const _e=setTimeout(()=>{i(!1)},1e3);return()=>clearTimeout(_e)}},[g]),m.useEffect(()=>{const _e=setTimeout(()=>{y(e)},500);return()=>{clearTimeout(_e)}},[e]);function we(_e,nt){ke("fetchWeapons",{page:_e,query:nt},_P).then(ut=>{ut&&(d(ut.weapons),v(ut.totalCount))}).catch(ut=>{console.error("Error fetching weapons:",ut),lc({title:"Error",description:"An error occurred while fetching weapons.",variant:"destructive"})})}m.useEffect(()=>{b!==1&&x(1)},[w]),m.useEffect(()=>{we(b,w)},[b,w]);const Ve=(_e,nt)=>ke("fetchWeaponDataBySerialNumber",{serialNumber:nt},_P).then(ut=>{if(ut){const jt={..._e};s(jt),l(jt,nt)}else console.error("No response received."),s(null)}).catch(ut=>{console.error("Error:",ut),s(null)}),Re=()=>{n&&(ke("updateWeapon",{weapon:n}).then(_e=>{_e&&_e.success?(d(c&&c.map(nt=>nt.id===n.id?n:nt)),lc({title:"Weapon Updated",description:"The weapon has been successfully updated."})):lc({title:"Error",description:"Failed to update the weapon. Please try again.",variant:"destructive"})}).catch(_e=>{console.error("Error updating weapon:",_e),lc({title:"Error",description:"An error occurred while updating the weapon.",variant:"destructive"})}),$(!1))},je=_e=>{ke("deleteWeapon",{id:_e}).then(nt=>{nt.success?(d(c.filter(ut=>ut.serialNumber!==_e)),(n==null?void 0:n.id)===_e&&s(null),lc({title:"Weapon Deleted",description:"The weapon has been successfully deleted."})):lc({title:"Error",description:"Failed to delete the weapon. Please try again.",variant:"destructive"})}).catch(nt=>{console.error("Error deleting weapon:",nt),lc({title:"Error",description:"An error occurred while deleting the weapon.",variant:"destructive"})}),M(!1),q(null)},Mt=_e=>{q(_e),M(!0)};m.useEffect(()=>{const _e=setTimeout(()=>{le(te)},500);return()=>{clearTimeout(_e)}},[te]),m.useEffect(()=>{Bt(1,de)},[de]);const Bt=(_e,nt)=>ke("fetchCitizens",{page:_e,query:nt}).then(ut=>{Z(ut.citizens)}).catch(ut=>{console.error("Error:",ut),Z([])}),ct=()=>{ue((n==null?void 0:n.image)||""),re(!0)},vt=()=>{re(!1)},wt=_e=>{ue(_e.target.value)},Fe=()=>{if(G&&n)return ke("updateWeaponImage",{photo:G,serialNumber:n==null?void 0:n.serialNumber}).then(_e=>{if(_e.success){const nt={...n,image:G};d(c&&c.map(ut=>ut.serialNumber===nt.serialNumber?nt:ut)),s(nt),lc({title:"Image URL updated",description:"The image URL has been successfully updated."})}ue("")}).catch(_e=>{console.error("Error:",_e)});re(!1)};return r.jsxs("div",{className:"flex-1 space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("hr",{className:"w-1 h-10 bg-primary border-none rounded-full"}),r.jsx("h2",{className:"text-3xl font-bold",children:(ie==null?void 0:ie.text_weapons_database)||"Weapons Database"})]}),a?r.jsx(Awe,{}):r.jsxs("div",{className:"grid grid-cols-6 gap-4 grid-rows-1 h-full",children:[r.jsxs(Le,{className:"col-span-4 row-span-1 bg-card/50  border-primary/20 max-h-[calc(95vh-200px)] overflow-hidden",children:[r.jsx(mt,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(kt,{children:(ie==null?void 0:ie.text_registered_weapons)||"Registered Weapons"}),r.jsx(Ae,{variant:"outline",onClick:()=>S(!0),children:(ie==null?void 0:ie.text_register_weapon)||"Register Weapon"})]})}),r.jsxs(Je,{children:[r.jsxs("div",{className:"mb-4 flex items-center space-x-2",children:[r.jsx(ls,{className:"h-5 w-5 text-muted-foreground"}),r.jsx(ht,{placeholder:(ie==null?void 0:ie.text_search_weapons)||"Search weapons...",className:"flex-1 bg-background/50 border-primary/20 focus:border-primary",value:e,onChange:_e=>t(_e.target.value),onKeyDown:rt})]}),r.jsx(nr,{className:"h-[calc(85vh-300px)]",children:r.jsxs(lp,{children:[r.jsx(cp,{children:r.jsxs(Xo,{children:[r.jsx(bi,{children:(ie==null?void 0:ie.text_serial_number)||"Serial Number"}),r.jsx(bi,{children:(ie==null?void 0:ie.text_weapon_name)||"Weapon Name"}),r.jsx(bi,{children:(ie==null?void 0:ie.text_owner)||"Owner"})]})}),r.jsx(dp,{children:r.jsx(Gn,{children:c&&Array.isArray(c)&&(c||[]).map(_e=>r.jsxs(Xt.tr,{className:"cursor-pointer hover:bg-primary/10",onClick:()=>Ve(_e,_e.serialNumber),initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:[r.jsx(fs,{children:_e.serialNumber}),r.jsx(fs,{children:_e.weaponName}),r.jsx(fs,{children:_e.ownerName})]},_e.serialNumber))})})]})}),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsxs("div",{children:[(ie==null?void 0:ie.text_showing)||"Showing"," ",b===1?1:(b-1)*_0+1," ",(ie==null?void 0:ie.text_to)||"to"," ",b*_0<f?b*_0:f," ",(ie==null?void 0:ie.text_of)||"of"," ",f," ",(ie==null?void 0:ie.text_weapons)||"weapons"]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>x(_e=>Math.max(1,_e-1)),disabled:b===1,children:(ie==null?void 0:ie.text_previous)||"Previous"}),r.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>x(_e=>Math.min(k,_e+1)),disabled:b==k||k==0,children:(ie==null?void 0:ie.text_next)||"Next"})]})]})]})]}),r.jsxs(Le,{className:"col-span-2 row-span-1 bg-card/50  border-primary/20 max-h-[calc(95vh-200px)] overflow-hidden",children:[r.jsx(mt,{children:r.jsx(kt,{children:(ie==null?void 0:ie.text_weapon_details)||"Weapon Details"})}),r.jsx(Je,{children:n?r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-center justify-center",children:n.image?r.jsxs("div",{className:"relative w-32 h-32 rounded-full overflow-hidden bg-primary/20  cursor-pointer",onClick:ct,children:[r.jsx("img",{src:n.image,alt:n.weaponName,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity duration-200 bg-black bg-opacity-50 rounded-full",children:r.jsx(ja,{className:"h-8 w-8 text-white"})})]}):r.jsx("div",{className:"relative w-32 h-32 rounded-full overflow-hidden bg-primary/20 holographic cursor-pointer",onClick:ct,children:r.jsx(ef,{className:"w-full h-full p-6 text-primary"})})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(eg,{label:(ie==null?void 0:ie.text_serial_number)||"Serial Number",value:n.serialNumber,isEditing:!1,onChange:_e=>s({...n,serialNumber:_e})}),r.jsx(eg,{label:(ie==null?void 0:ie.text_citizen_id)||"Citizen ID",value:n.citizenId,isEditing:!1}),r.jsx(eg,{label:(ie==null?void 0:ie.text_weapon_name)||"Weapon Name",value:n.weaponName,isEditing:!1,onChange:_e=>s({...n,weaponName:_e})}),r.jsx(eg,{label:(ie==null?void 0:ie.text_owner)||"Owner",value:n.ownerName,isEditing:!1,onChange:_e=>s({...n,ownerName:_e})}),r.jsx(eg,{label:(ie==null?void 0:ie.text_registration_date)||"Registration Date",value:new Date(n.registrationDate).toLocaleDateString(),isEditing:!1,onChange:_e=>s({...n,registrationDate:_e})})]}),r.jsx("div",{className:"flex justify-end space-x-2 mt-4",children:F?r.jsxs(r.Fragment,{children:[r.jsx(Ae,{variant:"outline",onClick:()=>$(!1),children:(ie==null?void 0:ie.text_cancel)||"Cancel"}),r.jsx(Ae,{onClick:Re,children:(ie==null?void 0:ie.text_save_changes)||"Save Changes"})]}):r.jsx(r.Fragment,{children:Q.edit&&r.jsx(r.Fragment,{children:Q.edit&&(H==null?void 0:H.hasManagePermission)&&r.jsx(Ae,{variant:"destructive",onClick:()=>Mt(n.serialNumber),children:(ie==null?void 0:ie.text_delete)||"Delete"})})})})]}):r.jsxs("div",{className:"flex flex-col items-center justify-center h-[400px] space-y-4",children:[r.jsx(ef,{className:"h-24 w-24 text-primary"}),r.jsx("p",{className:"text-lg text-muted-foreground",children:(ie==null?void 0:ie.text_select_weapon)||"Select Weapon"})]})})]})]}),r.jsx(gr,{open:N,onOpenChange:S,children:r.jsxs(xr,{"aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:(ie==null?void 0:ie.text_add_new_weapon)||"Add New Weapon"})}),r.jsxs("div",{className:"grid gap-4 py-4",children:[r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Me,{htmlFor:"serialNumber",className:"text-right",children:(ie==null?void 0:ie.text_serial_number)||"Serial Number"}),r.jsx(ht,{id:"serialNumber",value:oe.serialNumber,onChange:_e=>ce({...oe,serialNumber:_e.target.value}),className:"col-span-3"})]}),r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Me,{htmlFor:"weaponName",className:"text-right",children:(ie==null?void 0:ie.text_weapon_name)||"Weapon Name"}),r.jsx(ht,{id:"weaponName",value:oe.weaponName,onChange:_e=>ce({...oe,weaponName:_e.target.value}),className:"col-span-3"})]}),r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Me,{children:(ie==null?void 0:ie.text_search_person)||"Search Person"}),r.jsx(Ae,{variant:"outline",onClick:()=>He(),children:(ie==null?void 0:ie.text_select_person)||"Select Person"}),r.jsx(Xi,{isOpen:U,onClose:()=>D(!1),citizens:R,selectedCitizenId:oe.citizenId||"",onUpdatePerson:({citizenId:_e,name:nt})=>{ce({...oe,citizenId:_e,ownerName:nt})},onSearchQueryChange:_e=>{ye(_e)}})]}),r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Me,{htmlFor:"ownerName",className:"text-right",children:(ie==null?void 0:ie.text_owner)||"Owner"}),r.jsx(ht,{id:"ownerName",value:oe.ownerName||"",onChange:_e=>ce({...oe,ownerName:_e.target.value}),className:"col-span-3",disabled:!0})]}),r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Me,{htmlFor:"image",className:"text-right",children:(ie==null?void 0:ie.text_image_url)||"Image URL"}),r.jsx(ht,{id:"image",value:oe.image||"",onChange:_e=>ce({...oe,image:_e.target.value}),className:"col-span-3",placeholder:"https://example.com/image.jpg"})]})]}),r.jsxs(un,{children:[r.jsx(Ae,{variant:"outline",onClick:()=>S(!1),children:(ie==null?void 0:ie.text_cancel)||"Cancel"}),r.jsx(Ae,{onClick:Ee,disabled:!((oe==null?void 0:oe.serialNumber)??"").trim()||!((oe==null?void 0:oe.ownerName)??"").trim()||!((oe==null?void 0:oe.weaponName)??"").trim(),children:(ie==null?void 0:ie.text_add_weapon)||"Add Weapon"})]})]})}),r.jsx(gr,{open:ee,onOpenChange:M,children:r.jsxs(xr,{"aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:(ie==null?void 0:ie.text_confirm_deletion)||"Confirm Deletion"})}),r.jsx("div",{className:"py-4",children:r.jsx("p",{children:(ie==null?void 0:ie.text_confirm_delete_weapon)||"Are you sure you want to delete this weapon? This action cannot be undone."})}),r.jsxs(un,{className:"flex space-x-2 justify-end",children:[r.jsx(Ae,{variant:"outline",onClick:()=>M(!1),children:(ie==null?void 0:ie.text_cancel)||"Cancel"}),r.jsx(Ae,{variant:"destructive",onClick:()=>E&&je(E),children:(ie==null?void 0:ie.text_delete)||"Delete"})]})]})}),r.jsx(gr,{open:se,onOpenChange:re,children:r.jsxs(xr,{"aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:(ie==null?void 0:ie.text_set_image_url)||"Set Image URL"})}),r.jsxs("div",{className:"flex flex-col items-center gap-4",children:[r.jsx("img",{src:G,alt:"Weapon",className:"w-64 h-64 object-cover mb-4 border border-primary/20"}),r.jsx(ht,{type:"url",placeholder:(ie==null?void 0:ie.text_enter_image_url)||"Enter Image URL",value:G,onChange:wt,className:"mb-2"}),r.jsx(Ae,{variant:"outline",onClick:Fe,children:ie.text_change_image})]}),r.jsx(un,{children:r.jsx(Ae,{onClick:vt,children:ie.text_close})})]})})]})}function eg({label:e,value:t,isEditing:n,onChange:s,isSelect:a=!1,options:i=[]}){return r.jsxs("div",{className:"space-y-1",children:[r.jsx(Me,{children:e}),n?a?r.jsxs(On,{value:t,onValueChange:s,children:[r.jsx(Dn,{children:r.jsx(Mn,{placeholder:`Select ${e}`})}),r.jsx(Fn,{children:i&&Array.isArray(i)&&i.map(o=>r.jsx(Yt,{value:o,children:o},o))})]}):r.jsx(ht,{value:t,onChange:o=>s(o.target.value)}):r.jsx("p",{className:"text-sm text-muted-foreground",children:t})]})}const fwe={citizens:[{citizenid:"1",firstname:"John",lastname:"Doe",job:"Unemployed",gender:"male",photo:"https://kappa.lol/8ut4U",birthdate:"1990-01-01",bankAccount:"1234567890",phoneNumber:"123-456-7890",nationality:"American"},{citizenid:"1",firstname:"John",lastname:"Doe",job:"Unemployed",gender:"male",photo:"https://kappa.lol/8ut4U",birthdate:"1990-01-01",bankAccount:"1234567890",phoneNumber:"123-456-7890",nationality:"American"}]},mwe=[{id:1,plate:"ABC123",model:"Toyota Camry",owner:"John Doe",status:"active",photo:"https://kappa.lol/8ut4U"},{id:2,plate:"DEF456",model:"Honda Civic",owner:"Jane Smith",status:"active",photo:"https://kappa.lol/8ut4U"}],am={incidents:[{incidentId:"I001",title:"Traffic Accident",description:"Two-vehicle collision at intersection",location:"Main St & 5th Ave",status:"active",priority:"medium",dateTime:"2025-01-15T10:30:00Z",timeline:[{title:"Incident Created",timestamp:"2025-01-15T10:30:00Z",description:"Incident was created and assigned medium priority.",icon:"alert",iconBg:"bg-primary"},{title:"Units Assigned",timestamp:"2025-01-15T10:35:00Z",description:"Units ADAM-10, MARY-20 were assigned to the incident.",icon:"user",iconBg:"bg-blue-500"},{title:"Location Updated",timestamp:"2025-01-15T10:42:00Z",description:"Exact location confirmed at Main St & 5th Ave, north side.",icon:"map",iconBg:"bg-green-500"},{title:"Status Updates",timestamp:"2025-01-15T11:00:00Z",description:"Current status:",icon:"clock",iconBg:"bg-muted",badge:"ACTIVE",badgeClass:"bg-blue-500/10 text-blue-500"}],evidences:[{id:"1",type:"image",description:"This is a test evidence",url:"https://kappa.lol/8ut4U"},{id:"2",type:"video",description:"This is a test evidence",url:"https://kappa.lol/8ut4U"},{id:"3",type:"audio",description:"This is a test evidence",url:"https://kappa.lol/8ut4U"}],vehiclesInvolved:[{model:"Ford F150",plate:"ABC123",category:"Civilian",charges:[]}]},{incidentId:"I002",title:"Robbery in Progress",description:"Armed suspect at convenience store",location:"123 Oak St",status:"active",priority:"high",dateTime:"2025-01-15T11:15:00Z",timeline:[{title:"Incident Created",timestamp:"2025-01-15T11:15:00Z",description:"Incident was created and assigned high priority.",icon:"alert",iconBg:"bg-red-500"},{title:"Units Assigned",timestamp:"2025-01-15T11:16:00Z",description:"Unit LINCOLN-15 was assigned to the incident.",icon:"user",iconBg:"bg-blue-500"},{title:"Backup Requested",timestamp:"2025-01-15T11:22:00Z",description:"Officer requested additional units for support.",icon:"alert",iconBg:"bg-yellow-500"},{title:"Status Updates",timestamp:"2025-01-15T11:45:00Z",description:"Current status:",icon:"clock",iconBg:"bg-muted",badge:"ACTIVE",badgeClass:"bg-blue-500/10 text-blue-500"}]},{incidentId:"I003",title:"Noise Complaint",description:"Loud party reported by neighbors",location:"456 Elm St",status:"active",priority:"low",dateTime:"2025-01-15T22:45:00Z",timeline:[{title:"Incident Created",timestamp:"2025-01-15T22:45:00Z",description:"Incident was created and assigned low priority.",icon:"alert",iconBg:"bg-primary"},{title:"Additional Complaints",timestamp:"2025-01-15T23:00:00Z",description:"Two more neighbors called to report the noise disturbance.",icon:"alert",iconBg:"bg-yellow-500"},{title:"Status Updates",timestamp:"2025-01-15T23:15:00Z",description:"Current status:",icon:"clock",iconBg:"bg-muted",badge:"ACTIVE",badgeClass:"bg-blue-500/10 text-blue-500"}]}],totalCount:3},nj=10,S0=[0,5,10,15,20,25];function pwe(){var Ba,Ha,za,Hi,si;const{user:e,setUserField:t,setUser:n}=Yn(),[s,a]=m.useState(""),[i,o]=m.useState(null),[l,c]=m.useState([]),[d,u]=m.useState("Criminal"),[f,v]=m.useState(!1),[g,w]=m.useState(!1),[y,b]=m.useState(!1),{locale:x}=ir(),[N,S]=m.useState({title:"",description:"",location:"",status:"active",priority:"medium",dateTime:new Date().toISOString()}),{toast:k}=ys(),F=li(),{data:$}=F.state||{},[U,D]=m.useState(""),[H,K]=m.useState(""),[B,R]=m.useState(""),[Z,te]=m.useState("desc"),[ye,de]=m.useState(!1),[le,Q]=m.useState(!1),[oe,ce]=m.useState(!1),{tabs:ee,setTabData:M}=ko(),[E,q]=m.useState([]),[se,re]=m.useState(1),[G,ue]=m.useState(B),[ie,Ee]=m.useState(0),[He,rt]=m.useState(H),[we,Ve]=m.useState([]),[Re,je]=m.useState(U),[Mt,Bt]=m.useState(!1),[ct,vt]=m.useState({id:"",type:"image",url:"",description:""}),[wt,Fe]=m.useState(!1),[Oe,_e]=m.useState(""),[nt,ut]=m.useState(!1),[jt,zt]=m.useState(null),[Be,Ye]=m.useState(0),[Ue,Lt]=m.useState(!1),[Et,hr]=m.useState(null),[ur,Cr]=m.useState(0),[Tr,fr]=m.useState(!1),[dr,Ke]=m.useState([]),[qt,Ge]=m.useState(1),st=5,[it,Pt]=m.useState(""),[_r,ot]=m.useState(""),[dt,er]=m.useState(1),[Rt,xn]=m.useState(!1),{tabletData:qr}=jf(),vn=(qr==null?void 0:qr.hasCustomEvidence)||!1,{isCollaborating:Er,activeEditors:Gt,recentChanges:kn,startCollaborating:ps,stopCollaborating:is,sendChanges:en,applyChanges:ws,socket:Pn}=Z1((i==null?void 0:i.incidentId)||null,"incident","police"),[qn,Zn]=m.useState(!1),[Ln,wr]=m.useState(""),[We,Ht]=m.useState(!1),[mr,jn]=m.useState([]),Un=he=>{he&&!f?ps():!he&&f&&is(),v(he)};m.useEffect(()=>{if(qr!=null&&qr.CollaborationEditing&&(qr!=null&&qr.useWebsockets)&&Er&&Pn&&i!=null&&i.incidentId){const he=pt=>{try{const Wt=JSON.parse(pt);if(Wt.reportId!==(i==null?void 0:i.incidentId))return;if(Wt.action==="receiveUpdate"){const Ar=Wt.change,An=ws(i,Ar.changes,Ar.changeType);An&&o(An)}}catch(Wt){console.error("Error processing socket message:",Wt)}};return Pn.on("message",he),()=>{Pn.off("message",he)}}},[Er,Pn,i==null?void 0:i.incidentId,ws,i]),m.useEffect(()=>{if(qr!=null&&qr.CollaborationEditing&&!(qr!=null&&qr.useWebsockets)){const he=pt=>{const{data:Wt}=pt;if(Wt.type==="collabUpdate"&&i){const Ar=ws(i,Wt.changes,Wt.changeType);Ar&&o(Ar)}};return window.addEventListener("message",he),()=>window.removeEventListener("message",he)}},[i,ws]);const Ur=m.useCallback((he,pt)=>(xn(!0),ke("fetchEvidenceCases",{page:he,query:pt,limit:st}).then(Wt=>{Wt!=null&&Wt.success&&(Ke(Wt.cases),er(Wt.totalCount))}).catch(Wt=>{console.error("Error fetching cases:",Wt),Ke([]),er(0)}).finally(()=>{xn(!1)})),[]);m.useEffect(()=>{const he=setTimeout(()=>{ot(it)},500);return()=>clearTimeout(he)},[it]),m.useEffect(()=>{Tr&&Ur(qt,_r)},[qt,_r,Tr,Ur]);const Jr=(Ba=e==null?void 0:e.permissions)==null?void 0:Ba.Pages.incidents;if(!Jr||!Jr.view)return null;const Xn=()=>{const he={...N,dateTime:new Date().toISOString(),description:N.description||"",officerId:e==null?void 0:e.id,timeline:[{title:(x==null?void 0:x.text_incident_created)||"Incident Created",timestamp:new Date().toISOString(),description:(x==null?void 0:x.text_incident_was_created)||"Incident was created.",icon:"clock",iconBg:"bg-primary"}]};return ke("addNewIncident",{incidentToAdd:he},am).then(pt=>{pt&&pt.success?(Qa(se,G),S({title:"",description:"",location:"",status:"active",priority:"medium",dateTime:new Date().toISOString(),evidences:[],peopleInvolved:[],vehiclesInvolved:[],timeline:[]}),w(!1),k({title:(x==null?void 0:x.text_incident_created)||"Incident Created",description:(x==null?void 0:x.text_incident_created_description)||"The incident has been successfully created."})):console.error("No response received.")}).catch(pt=>{console.error("Error:",pt)})},ds=(he,pt,Wt="clock",Ar="bg-primary")=>{if(i){const An={title:he,timestamp:new Date().toISOString(),description:pt,icon:Wt,iconBg:Ar};o({...i,timeline:[...i.timeline||[],An]}),Er&&en({timeline:An},"addTimeline")}},Nn=he=>he.canAccessReport?(e==null?void 0:e.hasManagePermission)||!1:!0,[Te,Nt]=m.useState(null),Jt=(he,pt)=>{Nt(pt),de(!0)},Pr=()=>{if(i)return f&&ds((x==null?void 0:x.text_incident_updated)||"Incident Updated",(x==null?void 0:x.text_incident_updated_description)||"Incident details were updated.","clock","bg-blue-500"),ke("saveIncident",i,am).then(he=>{he?(c(l&&(l||[]).map(pt=>pt.incidentId===i.incidentId?i:pt)),o(i||[]),M(i,i==null?void 0:i.incidentId),Un(!1),k({title:(x==null?void 0:x.text_incident_updated)||"Incident Updated",description:(x==null?void 0:x.text_incident_updated_description_two)||"The incident has been successfully updated."})):console.error("No response received.")}).catch(he=>{console.error("Error:",he)})},Cn=he=>ke("deleteIncident",{incidentId:he},am).then(pt=>{pt.success?(c(l.filter(Wt=>Wt.incidentId!==he)),i&&i.incidentId===he&&o(null)):console.error("No response received.")}).catch(pt=>{console.error("Error:",pt)}),Kr=he=>{_e(he),Fe(!0)},Y=(he,pt)=>ke("fetchVehicles",{page:he,query:pt},mwe).then(Wt=>{Wt?Ve(Wt.vehiclesData):(console.error("No response received."),Ve([]))}).catch(Wt=>{console.error("Error:",Wt),Ve([])}),Ls=(he,pt,Wt)=>{if(i){const Ar={name:he||"",citizenId:pt||"",category:Wt||"Civilian",charges:[]};ds(`${Wt} ${(x==null?void 0:x.text_added)||"Added"}`,`${he} ${(x==null?void 0:x.text_was_added_to_the_incident_as)||"was added to the incident as"} ${Wt}.`,"user",Wt==="Officer"?"bg-blue-500":"bg-green-500"),o(An=>An&&{...An,peopleInvolved:[...An.peopleInvolved||[],Ar]}),Er&&en({person:Ar},"addPerson")}},Qi=he=>{he&&S(pt=>pt&&{...pt,description:he})},Qs=he=>{he&&(o(pt=>pt&&{...pt,description:he}),Er&&en({description:he},"reportDetails"))},gi=(he,pt)=>{let Wt;return ke("fetchIncidentDataByIncidentId",{incidentId:pt},am).then(Ar=>{if(Ar&&Ar.success){Ar=Ar==null?void 0:Ar.data;const An={...he,evidenceLockerNumber:(Ar==null?void 0:Ar.evidenceLockerNumber)||null,location:Ar.location||he.location||null,description:Ar.description||he.description||"",evidences:Array.isArray(Ar.evidences)?Ar.evidences:JSON.parse(Ar.evidences||"[]"),peopleInvolved:Array.isArray(Ar.peopleInvolved)?Ar.peopleInvolved:JSON.parse(Ar.peopleInvolved||"[]"),vehiclesInvolved:Array.isArray(Ar.vehiclesInvolved)?Ar.vehiclesInvolved:JSON.parse(Ar.vehiclesInvolved||"[]"),timeline:Array.isArray(Ar.timeline)?Ar.timeline:JSON.parse(Ar.timeline||"[]")};Wt=An==null?void 0:An.evidenceLockerNumber,jn(Ar.reportAccess||[]),M(An,pt),o(An),Wt&&ke("fetchLockerItems",{lockerNumber:Wt},am).then(tn=>{if(tn){const xi=Array.isArray(tn==null?void 0:tn.lockerItems)?tn==null?void 0:tn.lockerItems:JSON.parse((tn==null?void 0:tn.lockerItems)||"[]"),Va={...An,lockerItems:xi.map(ci=>({...ci,metadata:typeof ci.metadata=="string"?JSON.parse(ci.metadata):ci.metadata}))};M(Va,pt),o(Va)}else console.error("No response received for locker items.")}).catch(tn=>{console.error("Error:",tn)})}else k({title:"Error",description:(Ar==null?void 0:Ar.message)||"unable to open report"}),console.error(Ar.message||"No response received.")}).catch(Ar=>{console.error("Error:",Ar),o(null)})},Wr=(he,pt)=>{if(i){const Wt=[...(i==null?void 0:i.peopleInvolved)||[]];Wt[he]=pt,o({...i,peopleInvolved:Wt}),Er&&en({index:he,person:pt},"updatePerson")}},wn=he=>{if(i&&i.peopleInvolved){const pt=i.peopleInvolved[he],Wt=(i.peopleInvolved??[]).filter((Ar,An)=>An!==he);ds(`${pt.category} ${(x==null?void 0:x.text_removed)||"Removed"}`,`${pt.name} ${(x==null?void 0:x.text_was_removed_from_the_incident)||"was removed from the incident."}`,"user","bg-red-500"),o({...i,peopleInvolved:Wt}),Er&&en({index:he},"deletePerson")}},Ni=(he,pt)=>{if(i){const Wt={plate:he,model:pt};ds((x==null?void 0:x.text_vehicle_added)||"Vehicle Added",`${(x==null?void 0:x.text_vehicle)||"Vehicle"} ${pt} (${he}) ${(x==null?void 0:x.text_was_added_to_the_incident)||"was added to the incident."}`,"map","bg-yellow-500"),o({...i,vehiclesInvolved:[...i.vehiclesInvolved||[],Wt]}),Er&&en({vehicle:Wt},"addVehicle")}},Pe=he=>{if(i&&i.vehiclesInvolved){const pt=i.vehiclesInvolved[he],Wt=(i.vehiclesInvolved??[]).filter((Ar,An)=>An!==he);ds((x==null?void 0:x.text_vehicle_removed)||"Vehicle Removed",`${(x==null?void 0:x.text_vehicle)||"Vehicle"} ${pt.model} (${pt.plate}) ${(x==null?void 0:x.text_was_removed_from_the_incident)||"was removed from the incident."}`,"map","bg-red-500"),o({...i,vehiclesInvolved:Wt}),Er&&en({index:he},"deleteVehicle")}},Ct=()=>{var Ar;if(!i)return;const he=Date.now().toString(),pt={...ct,id:he},Wt=[...i.evidences||[],pt];((Ar=pt.url)==null?void 0:Ar.trim())==""&&(pt.type="text"),ds((x==null?void 0:x.text_evidence_added)||"Evidence Added",`${(x==null?void 0:x.text_new_evidence)||"New evidence"} (${pt.type}) ${(x==null?void 0:x.text_was_added_to_the_incident)||"was added to the incident."}`,"alert","bg-purple-500"),o({...i,evidences:Wt}),Er&&en({evidence:pt},"addEvidence"),vt({id:"",type:"image",url:"",description:""}),Bt(!1)},tr=he=>{if(i){const pt=(i.evidences??[]).filter((Wt,Ar)=>Ar!==he);o({...i,evidences:pt}),Er&&en({index:he},"deleteEvidence")}};m.useEffect(()=>{const he=setTimeout(()=>{je(U)},500);return()=>{clearTimeout(he)}},[U]),m.useEffect(()=>{Y(1,Re)},[Re]);const Hr=Math.ceil(ie/nj);m.useEffect(()=>{const he=setTimeout(()=>{rt(H)},500);return()=>{clearTimeout(he)}},[H]);const on=(he,pt)=>ke("fetchCitizens",{page:he,query:pt},fwe).then(Wt=>{q(Wt.citizens)}).catch(Wt=>{console.error("Error:",Wt),q([])});m.useEffect(()=>{on(1,He)},[He]),m.useEffect(()=>{const he=setTimeout(()=>{ue(B)},500);return()=>{clearTimeout(he)}},[B]);const nn=he=>{he.key==="Enter"&&ue(B)},us=i&&(i==null?void 0:i.peopleInvolved)&&Array.isArray(i==null?void 0:i.peopleInvolved)&&((Ha=i==null?void 0:i.peopleInvolved)==null?void 0:Ha.map((he,pt)=>({...he,index:pt})))||[],fn=us.filter(he=>he.category==="Criminal"),Hs=us.filter(he=>he.category==="Officer"),Ci=us.filter(he=>he.category==="Civilian"),Qa=(he,pt)=>(b(!0),ke("fetchIncidents",{page:he,query:pt},am).then(Wt=>{const{incidents:Ar,totalCount:An}=Wt;c(Ar.map(tn=>({...tn,peopleInvolved:Array.isArray(tn.peopleInvolved)?tn.peopleInvolved:JSON.parse(tn.peopleInvolved||"[]")}))),Ee(An)}).catch(Wt=>{console.error("Error:",Wt),c([])}).finally(()=>{b(!1)}));m.useEffect(()=>{se!==1&&re(1)},[G]),m.useEffect(()=>{Qa(se,G)},[se,G]),m.useEffect(()=>{if($){b(!0),o(Array.isArray($)||typeof $=="object"?$:JSON.parse($||"[]"));const he=setTimeout(()=>{b(!1)},1e3);return()=>clearTimeout(he)}},[$]);const go=he=>{switch(he){case"high":return"bg-red-500/10 text-red-500";case"medium":return"bg-yellow-500/10 text-yellow-500";case"low":return"bg-green-500/10 text-green-500";default:return"bg-blue-500/10 text-blue-500"}},na=he=>{switch(he){case"active":return"bg-blue-500/10 text-blue-500";case"resolved":return"bg-green-500/10 text-green-500";case"archived":return"bg-gray-500/10 text-gray-500";default:return"bg-blue-500/10 text-blue-500"}},ni=he=>he.split(" ").map(pt=>pt[0]).join("").toUpperCase(),_i=he=>{const pt=he.charges.reduce((tn,xi)=>tn+xi.sentence*(xi.count||1),0),Ar=he.charges.reduce((tn,xi)=>tn+xi.fine*(xi.count||1),0)*(1-(he.fineReduction??0)/100),An=Math.max(0,pt*(1-(he.jailReduction??0)/100));return{totalSentence:Number.parseFloat(An.toFixed(1)),totalFine:Number.parseFloat(Ar.toFixed(1))}},ro=he=>{const{totalSentence:pt}=_i(he);zt(he),Ye(pt),ut(!0)},as=he=>{const{totalFine:pt}=_i(he);hr(he),Cr(pt),Lt(!0)},Si=(he,pt)=>{const Wt={id:pt,name:he};jn([...mr,Wt]),ke("grantReportAccess",{reportId:i==null?void 0:i.incidentId,userId:pt,reportType:"incident",page:"police"},{}).then(Ar=>{Ar!=null&&Ar.success?k({title:(x==null?void 0:x.text_access_granted)||"Access Granted",description:`Access granted to ${he}`}):k({title:"Error",description:(Ar==null?void 0:Ar.message)||`unable to grant access to ${he}`})}).catch(Ar=>{console.error("Error granting access:",Ar)})},Bi=he=>{jn(mr.filter(pt=>pt.id!==he)),ke("revokeReportAccess",{reportId:i==null?void 0:i.incidentId,userId:he,reportType:"incident",page:"police"},{}).then(pt=>{pt!=null&&pt.success&&k({title:(x==null?void 0:x.text_access_revoked)||"Access Revoked",description:(x==null?void 0:x.text_accessRevokedDesc)||"User access has been revoked"})}).catch(pt=>{console.error("Error revoking access:",pt)})},sn=()=>{if(i&&Ln.trim()){const he={...i,isLocked:!0,lockReason:Ln.trim()};ke("lockReport",{reportId:i.incidentId,lockReason:Ln.trim(),reportType:"incident",page:"police"},{}).then(pt=>{pt!=null&&pt.success?(o(he),c(l.map(Wt=>Wt.incidentId===i.incidentId?he:Wt)),Zn(!1),wr(""),k({title:(x==null?void 0:x.text_report_locked)||"Report Locked",description:(x==null?void 0:x.text_report_locked_desc)||"The report has been successfully locked."})):k({title:"Error",description:(pt==null?void 0:pt.message)||"unable to lock report"})}).catch(pt=>{console.error("Error locking report:",pt)})}},ln=()=>{if(i){const he={...i,isLocked:!1,lockReason:void 0};ke("unlockReport",{reportId:i.incidentId,reportType:"incident",page:"police"},{}).then(pt=>{pt!=null&&pt.success?(o(he),c(l.map(Wt=>Wt.incidentId===i.incidentId?he:Wt)),k({title:(x==null?void 0:x.text_report_unlocked)||"Report Unlocked",description:(x==null?void 0:x.text_report_unlocked_desc)||"The report has been successfully unlocked."})):k({title:"Error",description:(pt==null?void 0:pt.message)||"unable to unlock report"})}).catch(pt=>{console.error("Error unlocking report:",pt)})}},Ys=()=>{if(jt&&i)return ke("jailPerson",{citizenId:jt.citizenId,jailSentence:Be},{}).then(he=>{if(he&&he.success){const pt=i&&(i==null?void 0:i.peopleInvolved)&&i.peopleInvolved.map(Wt=>Wt.citizenId===jt.citizenId?{...Wt,finalSentence:Be}:Wt);o({...i,peopleInvolved:pt}),ut(!1),k({title:(x==null?void 0:x.text_jail_sentence_executed)||"Jail Sentence Executed",description:(x==null?void 0:x.text_jail_sentence_executed_description)||"The jail sentence has been successfully executed."})}}).catch(he=>{console.error("Error fetching reports category:",he)})},Vn=()=>{if(Et&&i)return ke("finePerson",{citizenId:Et.citizenId,fineAmount:ur},{}).then(he=>{if(he&&he.success){const pt=i&&(i==null?void 0:i.peopleInvolved)&&(i==null?void 0:i.peopleInvolved.map(Wt=>Wt.citizenId===Et.citizenId?{...Wt,finalFine:ur}:Wt));o({...i,peopleInvolved:pt}),Lt(!1),k({title:(x==null?void 0:x.text_fine_issued)||"Fine Issued",description:(x==null?void 0:x.text_fine_issued_description)||"The fine has been successfully issued."})}}).catch(he=>{console.error("Error fetching reports category:",he)})};return r.jsxs("div",{className:"flex-1 space-y-4 w-full h-full",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("hr",{className:"w-1 h-10 bg-primary border-none rounded-full"}),r.jsx("h2",{className:"text-3xl font-bold",children:(x==null?void 0:x.text_incidents)||"Incidents"})]}),y?r.jsx(lw,{}):r.jsx("div",{className:"grid grid-cols-6 gap-4 grid-rows-1 h-full",children:r.jsx(Le,{className:"col-span-6 row-span-1 bg-card/50 border-primary/20 max-h-[calc(95vh-200px)] overflow-hidden text-white p-4",children:r.jsx(Gn,{mode:"wait",children:i?r.jsxs(Xt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Ae,{variant:"outline",size:"icon",onClick:()=>{o(null),f&&Un(!1)},className:"h-10 w-10",children:r.jsx(Oi,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[i==null?void 0:i.title,r.jsx(ze,{variant:"outline",className:`${go((i==null?void 0:i.priority)||"medium")}`,children:i==null?void 0:i.priority.toUpperCase()}),r.jsxs(ze,{variant:"outline",className:"bg-green-500/10 text-green-500",children:["#",i==null?void 0:i.incidentId]})]}),r.jsxs("p",{className:"text-muted-foreground",children:[i&&$n(i.dateTime)," "," ",i==null?void 0:i.location]})]}),r.jsx("div",{className:"ml-auto",children:f?r.jsxs("div",{className:"flex gap-2",children:[r.jsx(r.Fragment,{children:i&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(fh,{isCollaborating:Er,activeEditors:Gt,currentUserId:(e==null?void 0:e.id)||""}),Er&&r.jsx(mh,{recentChanges:kn,activeEditors:Gt})]})}),Jr.edit&&r.jsxs(Ae,{variant:"outline",onClick:()=>Ht(!0),children:[r.jsx(ba,{className:"mr-2 h-4 w-4"}),(x==null?void 0:x.text_manage_access)||"Manage Access"]}),(Jr==null?void 0:Jr.edit)&&(i!=null&&i.isLocked?r.jsxs(Ae,{variant:"outline",onClick:ln,children:[r.jsx(ns,{className:"mr-2 h-4 w-4"}),(x==null?void 0:x.text_unlock_report)||"Unlock Report"]}):r.jsxs(Ae,{variant:"outline",onClick:()=>Zn(!0),children:[r.jsx(ns,{className:"mr-2 h-4 w-4"}),(x==null?void 0:x.text_lock_report)||"Lock Report"]})),r.jsx(Ae,{variant:"outline",onClick:()=>Un(!1),children:(x==null?void 0:x.text_cancel)||"Cancel"}),r.jsx(Ae,{onClick:Pr,children:(x==null?void 0:x.text_save_changes)||"Save Changes"})]}):r.jsx(r.Fragment,{children:Jr.edit&&r.jsxs("div",{className:"flex gap-2",children:[r.jsx(r.Fragment,{children:i&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(fh,{isCollaborating:Er,activeEditors:Gt,currentUserId:(e==null?void 0:e.id)||""}),Er&&r.jsx(mh,{recentChanges:kn,activeEditors:Gt})]})}),r.jsxs(Ae,{variant:"outline",onClick:()=>Un(!0),children:[r.jsx(ks,{className:"h-4 w-4 mr-2"}),(x==null?void 0:x.text_edit)||"Edit"]}),e.hasManagePermission&&r.jsxs(Ae,{variant:"destructive",onClick:()=>{i&&Cn(i.incidentId)},children:[r.jsx(ms,{className:"h-4 w-4 mr-2"}),(x==null?void 0:x.text_delete)||"Delete"]})]})})})]}),r.jsxs(ea,{defaultValue:"overview",className:"w-full",children:[r.jsxs(ta,{className:"w-full grid grid-cols-7 bg-transparent border-2 border-primary/20",children:[r.jsx(Fr,{value:"overview",children:(x==null?void 0:x.text_overview)||"Overview"}),r.jsx(Fr,{value:"people",children:(x==null?void 0:x.text_people_involved)||"People Involved"}),r.jsx(Fr,{value:"vehicles",children:(x==null?void 0:x.text_vehicles)||"Vehicles"}),r.jsx(Fr,{value:"evidence",children:(x==null?void 0:x.text_evidence)||"Evidence"}),r.jsx(Fr,{value:"evidencelocker",children:(x==null?void 0:x.text_evidence_locker)||"Evidence Locker"}),r.jsx(Fr,{value:"timeline",children:(x==null?void 0:x.text_timeline)||"Timeline"}),r.jsx(Fr,{value:"access",children:(x==null?void 0:x.text_access_control)||"Access Control"})]}),r.jsx(Rr,{value:"overview",className:"mt-4 h-[calc(70vh-300px)]",children:r.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[r.jsx("div",{className:"col-span-2",children:r.jsxs(Le,{children:[r.jsx(mt,{children:r.jsx(kt,{children:(x==null?void 0:x.text_description)||"Description"})}),r.jsx(Je,{className:"h-[530px] overflow-y-auto p-5",children:r.jsx(vu,{initialContent:(i==null?void 0:i.description)||`<p>${(x==null?void 0:x.text_no_notes_available)||"No notes available"}</p>`,editable:f,onChange:Qs,placeholder:(x==null?void 0:x.text_start_typing)||"Start typing here..."})})]})}),r.jsxs("div",{className:"grid grid-cols-1 grid-rows-3 gap-1",children:[r.jsxs(Le,{className:"col-span-1 row-span-3",children:[r.jsx(mt,{className:"pb-2",children:r.jsx(kt,{children:(x==null?void 0:x.text_incident_information)||"Incident Information"})}),r.jsx(Je,{children:r.jsxs("div",{className:"space-y-2",children:[r.jsx(tg,{label:(x==null?void 0:x.text_incident_id)||"Incident ID",value:i?i.incidentId:"N/A",isEditing:!1}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx(tg,{label:(x==null?void 0:x.text_title)||"Title",value:i?i.title:"N/A",isEditing:f,onChange:he=>{o(pt=>pt&&{...pt,title:he}),Er&&en({title:he},"reportDetails")}}),r.jsx(tg,{label:(x==null?void 0:x.text_location)||"Location",value:i?i.location:"N/A",isEditing:f,onChange:he=>{o(pt=>pt&&{...pt,location:he}),Er&&en({location:he},"reportDetails")}}),vn?r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:(x==null?void 0:x.text_evidence_locker)||"Evidence Locker"}),r.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[r.jsx("p",{className:"font-medium truncate",children:(i==null?void 0:i.evidenceLockerNumber)||(x==null?void 0:x.text_not_assigned)||"Not Assigned"}),f&&r.jsxs(Ae,{variant:"outline",size:"sm",className:"h-7 px-2",onClick:()=>fr(!0),children:[r.jsx(oO,{className:"h-3.5 w-3.5 mr-1"}),(x==null?void 0:x.text_link)||"Link"]})]})]}):r.jsx(tg,{label:(x==null?void 0:x.text_evidence_locker)||"Evidence Locker",value:(i==null?void 0:i.evidenceLockerNumber)||(x==null?void 0:x.text_not_assigned)||"No Evidence Locker Assigned",isEditing:f,onChange:he=>{o(pt=>pt&&{...pt,evidenceLockerNumber:he}),Er&&en({evidenceLockerNumber:he},"reportDetails")}}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:(x==null?void 0:x.text_status)||"Status"}),f?r.jsxs(On,{value:i==null?void 0:i.status,onValueChange:he=>{o(pt=>pt&&{...pt,status:he}),Er&&en({status:he},"reportDetails")},children:[r.jsx(Dn,{children:r.jsx(Mn,{placeholder:(x==null?void 0:x.text_select_status)||"Select status"})}),r.jsxs(Fn,{children:[r.jsx(Yt,{value:"active",children:(x==null?void 0:x.text_active)||"Active"}),r.jsx(Yt,{value:"resolved",children:(x==null?void 0:x.text_resolved)||"Resolved"}),r.jsx(Yt,{value:"archived",children:(x==null?void 0:x.text_archived)||"Archived"})]})]}):r.jsx("p",{className:"font-medium",children:r.jsx(ze,{className:na((i==null?void 0:i.status)||"active"),children:i==null?void 0:i.status.toUpperCase()})})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:(x==null?void 0:x.text_priority)||"Priority"}),f?r.jsxs(On,{value:i==null?void 0:i.priority,onValueChange:he=>{o(pt=>pt&&{...pt,priority:he}),Er&&en({priority:he},"reportDetails")},children:[r.jsx(Dn,{children:r.jsx(Mn,{placeholder:(x==null?void 0:x.text_select_priority)||"Select priority"})}),r.jsxs(Fn,{children:[r.jsx(Yt,{value:"low",children:(x==null?void 0:x.text_low)||"Low"}),r.jsx(Yt,{value:"medium",children:(x==null?void 0:x.text_medium)||"Medium"}),r.jsx(Yt,{value:"high",children:(x==null?void 0:x.text_high)||"High"})]})]}):r.jsx("p",{className:"font-medium",children:r.jsx(ze,{className:go((i==null?void 0:i.priority)||"medium"),children:i==null?void 0:i.priority.toUpperCase()})})]})]}),r.jsx(tg,{label:(x==null?void 0:x.text_created_at)||"Created At",value:i?$n(i.dateTime):"N/A",isEditing:!1})]})})]}),r.jsxs(Le,{className:"col-span-1 row-span-1",children:[r.jsx(mt,{className:"pb-2",children:r.jsx(kt,{children:(x==null?void 0:x.text_quick_summary)||"Quick Summary"})}),r.jsx(Je,{children:r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[r.jsxs("div",{className:"bg-primary/5 rounded-lg p-3",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:(x==null?void 0:x.text_people)||"People"}),r.jsx("p",{className:"text-2xl font-bold",children:((za=i==null?void 0:i.peopleInvolved)==null?void 0:za.length)||0})]}),r.jsxs("div",{className:"bg-primary/5 rounded-lg p-3",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:(x==null?void 0:x.text_vehicles)||"Vehicles"}),r.jsx("p",{className:"text-2xl font-bold",children:((Hi=i==null?void 0:i.vehiclesInvolved)==null?void 0:Hi.length)||0})]}),Jr.edit&&f&&r.jsxs(r.Fragment,{children:[r.jsx(Ae,{className:"w-full",variant:"outline",onClick:()=>{i&&(ds((x==null?void 0:x.text_status_changed)||"Status Changed",(x==null?void 0:x.text_incident_status_archived)||"Incident status was changed to ARCHIVED.","clock","bg-gray-500"),o({...i,status:"archived"}),f||Pr())},children:(x==null?void 0:x.text_archive_incident)||"Archive Incident"}),r.jsx(Ae,{className:"w-full",variant:"outline",onClick:()=>{i&&(ds((x==null?void 0:x.text_status_changed)||"Status Changed",(x==null?void 0:x.text_incident_status_resolved)||"Incident status was changed to RESOLVED.","clock","bg-green-500"),o({...i,status:"resolved"}),f||Pr())},children:(x==null?void 0:x.text_mark_as_resolved)||"Mark as Resolved"})]})]})})]})]})]})}),r.jsx(Rr,{value:"people",className:"w-full mt-4  p-4",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:"text-lg font-semibold",children:(x==null?void 0:x.text_people_involved)||"People Involved"}),r.jsxs(ze,{variant:"outline",children:[((si=i==null?void 0:i.peopleInvolved)==null?void 0:si.length)||0," Total"]})]}),f&&Jr.edit&&r.jsxs(r.Fragment,{children:[r.jsxs(Ae,{variant:"outline",size:"sm",onClick:()=>ce(!0),children:[r.jsx(Xr,{className:"h-4 w-4 mr-2"}),(x==null?void 0:x.text_add)||"Add"," ",d]}),r.jsx(Xi,{isOpen:oe,onClose:()=>ce(!1),citizens:E,selectedCitizenId:"",selectedPeople:i==null?void 0:i.peopleInvolved,onUpdatePerson:({citizenId:he,name:pt})=>{Ls(pt,he,d)},onSearchQueryChange:he=>{K(he)}})]})]}),r.jsxs(ea,{value:d,onValueChange:u,className:"w-full",children:[r.jsxs(ta,{className:"grid w-full grid-cols-3",children:[r.jsxs(Fr,{value:"Criminal",className:"flex gap-2 items-center",children:[r.jsx(Lm,{className:"h-4 w-4"}),(x==null?void 0:x.text_criminals)||"Criminals",fn.length>0&&r.jsx(ze,{variant:"secondary",className:"ml-1",children:fn.length})]}),r.jsxs(Fr,{value:"Officer",className:"flex gap-2 items-center",children:[r.jsx(vl,{className:"h-4 w-4"}),(x==null?void 0:x.text_officers)||"Officers",Hs.length>0&&r.jsx(ze,{variant:"secondary",className:"ml-1",children:Hs.length})]}),r.jsxs(Fr,{value:"Civilian",className:"flex gap-2 items-center",children:[r.jsx(ba,{className:"h-4 w-4"}),(x==null?void 0:x.text_civilians)||"Civilians",Ci.length>0&&r.jsx(ze,{variant:"secondary",className:"ml-1",children:Ci.length})]})]}),r.jsx(Rr,{value:"Criminal",className:"mt-4 gap-4",children:fn.length>0?r.jsx("div",{className:"space-y-4 justify-center items-center w-full",children:r.jsx(nr,{className:"h-[500px] justify-center items-center w-full",children:r.jsx(Q9,{type:"single",collapsible:!0,className:"flex flex-col w-full gap-3",children:fn&&Array.isArray(fn)&&fn.map((he,pt)=>{var Wt,Ar,An;return r.jsx(aB,{value:he==null?void 0:he.index.toString(),className:"w-full",children:r.jsxs(Le,{className:"overflow-hidden w-full",children:[r.jsx(oB,{className:"w-full",children:r.jsxs(mt,{className:"p-4 pb-2 flex flex-row items-center justify-between w-full",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex w-full justify-between gap-2 mb-2",children:[r.jsxs("div",{children:[r.jsx(ze,{className:"bg-red-500/10 text-red-500",children:(x==null?void 0:x.text_criminal)||"Criminal"}),he.charges.length>0&&r.jsxs(ze,{variant:"outline",className:"bg-yellow-500/10 text-yellow-500",children:[he.charges.length," ",(x==null?void 0:x.text_charges)||"Charges"]})]}),he.charges.length>0&&f&&Jr.edit&&r.jsxs("div",{className:"flex flex-row gap-2",children:[r.jsxs(Ae,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>ro(he),children:[r.jsx(ns,{className:"h-3.5 w-3.5 mr-1"}),(x==null?void 0:x.text_jail)||"Jail"]}),r.jsxs(Ae,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>as(he),children:[r.jsx(Nm,{className:"h-3.5 w-3.5 mr-1"}),(x==null?void 0:x.text_fine)||"Fine"]})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{children:[r.jsx(kt,{className:"text-lg",children:he.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[(x==null?void 0:x.text_id)||"ID",": ",he.citizenId]})]}),he.charges.length>0&&r.jsxs("div",{className:"flex justify-center gap-4 ml-auto text-sm",children:[r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-muted-foreground",children:(x==null?void 0:x.text_total_fine)||"Total Fine"}),r.jsxs("p",{className:"font-medium",children:["$",_i(he).totalFine.toLocaleString(void 0,{minimumFractionDigits:1,maximumFractionDigits:1})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-muted-foreground",children:(x==null?void 0:x.text_sentence)||"Sentence"}),r.jsxs("p",{className:"font-medium",children:[" ",_i(he).totalSentence.toFixed(1),"m"]})]})]})]})]}),f&&Jr.edit&&r.jsxs("div",{className:"flex space-x-2 ml-4",children:[r.jsx(Ae,{variant:"ghost",size:"icon",onClick:()=>Jt(he.citizenId,he==null?void 0:he.index),className:"hover:bg-primary/10",children:r.jsx(fi,{className:"h-4 w-4"})}),r.jsx(Ae,{variant:"ghost",size:"icon",onClick:()=>wn((he==null?void 0:he.index)||0),className:"hover:bg-red-500/10 hover:text-red-500",children:r.jsx(ms,{className:"h-4 w-4"})}),r.jsx(XH,{isOpen:ye,onClose:()=>{de(!1),Nt(null)},selectedCharges:Te!==null&&((Wt=i==null?void 0:i.peopleInvolved[Te])==null?void 0:Wt.charges)||[],onUpdateCharges:tn=>{Te!==null&&i&&Wr(Te,{...i.peopleInvolved[Te],charges:tn})}})]})]})}),r.jsx(lB,{children:r.jsxs(Je,{className:"p-4 pt-0",children:[he.charges.length>0&&r.jsxs("div",{className:"mt-3",children:[r.jsxs("p",{className:"text-sm font-medium mb-2",children:[(x==null?void 0:x.text_charges)||"Charges",":"]}),r.jsx("div",{className:"space-y-2",children:r.jsx(nr,{className:"max-h-[400px] w-full overflow-y-auto",children:r.jsxs(lp,{className:"table-auto w-full",children:[r.jsx(cp,{children:r.jsxs(Xo,{className:"border-b border-[#2a2a2a]",children:[r.jsx(bi,{className:"text-white w-2/5",children:(x==null?void 0:x.text_charge)||"Charge"}),r.jsx(bi,{className:"text-white text-right w-1/5",children:(x==null?void 0:x.text_time)||"Time"}),r.jsx(bi,{className:"text-white text-right w-1/5",children:(x==null?void 0:x.text_fine)||"Fine"}),r.jsx(bi,{className:"text-white text-center w-1/10",children:(x==null?void 0:x.text_fined)||"Fined"}),r.jsx(bi,{className:"text-white text-center w-1/10",children:(x==null?void 0:x.text_guilty)||"Guilty"})]})}),r.jsxs(dp,{children:[he&&Array.isArray(he==null?void 0:he.charges)&&((he==null?void 0:he.charges)||[]).map((tn,xi)=>r.jsxs(Xo,{className:"border-b border-[#2a2a2a]",children:[r.jsxs(fs,{className:"text-gray-300 whitespace-normal break-words",children:[tn.title," x ",tn.count]}),r.jsxs(fs,{className:"text-gray-300 text-right whitespace-nowrap",children:[tn.sentence*(tn.count??1),"m"]}),r.jsxs(fs,{className:"text-gray-300 text-right whitespace-nowrap",children:["$",tn.fine*(tn.count??1)]}),r.jsx(fs,{className:"text-center",children:r.jsx(ux,{checked:tn.fined,disabled:!f,onCheckedChange:Va=>{const ci=he&&(he==null?void 0:he.charges.map((Ka,no)=>no===xi?{...Ka,fined:Va}:Ka));Wr(he==null?void 0:he.index,{...he,charges:ci})},className:"border-gray-500"})}),r.jsx(fs,{className:"text-center",children:r.jsx(ux,{checked:tn.guilty,disabled:!f,onCheckedChange:Va=>{const ci=he&&(he==null?void 0:he.charges.map((Ka,no)=>no===xi?{...Ka,guilty:Va}:Ka));Wr(he==null?void 0:he.index,{...he,charges:ci})},className:"border-gray-500"})})]},tn.id)),r.jsx(Xo,{children:r.jsxs(fs,{colSpan:5,className:"font-bold text-white",children:[(x==null?void 0:x.text_reduction_fine)||"Reduction: Fine",r.jsx("div",{className:"flex space-x-2 mt-2",children:S0&&((Ar=S0||[])==null?void 0:Ar.map(tn=>r.jsxs(Ae,{disabled:!f,variant:he.fineReduction===tn?"default":"outline",onClick:()=>Wr(he==null?void 0:he.index,{...he,fineReduction:tn}),className:"text-sm",children:[tn,"%"]},tn)))})]})}),r.jsx(Xo,{children:r.jsxs(fs,{colSpan:5,className:"font-bold text-white",children:[(x==null?void 0:x.text_reduction_time)||"Reduction: Time",r.jsx("div",{className:"flex space-x-2 mt-2",children:S0&&((An=S0||[])==null?void 0:An.map(tn=>r.jsxs(Ae,{disabled:!f,variant:he.jailReduction===tn?"default":"outline",onClick:()=>Wr(he==null?void 0:he.index,{...he,jailReduction:tn}),className:"text-sm",children:[tn,"%"]},tn)))})]})}),r.jsxs(Xo,{className:"border-t-2 border-[#2a2a2a]",children:[r.jsx(fs,{className:"font-bold text-white",children:(x==null?void 0:x.text_total)||"Total"}),r.jsxs(fs,{className:"font-bold text-white text-right",children:[Math.max(0,_i(he).totalSentence),"m"]}),r.jsxs(fs,{className:"font-bold text-white text-right",children:["$",Math.max(0,Number.parseFloat(_i(he).totalFine))]}),r.jsx(fs,{colSpan:2})]})]})]})})})]}),he.charges.length===0&&r.jsxs("div",{className:"text-center py-3 bg-muted/20 rounded-lg mt-2",children:[r.jsx("p",{className:"text-muted-foreground text-sm",children:(x==null?void 0:x.text_no_charges_filed)||"No charges filed"}),f&&Jr.edit&&r.jsxs(Ae,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>Jt(he.citizenId,he==null?void 0:he.index),children:[r.jsx(Xr,{className:"h-3 w-3 mr-1"}),(x==null?void 0:x.text_add_charges)||"Add Charges"]})]})]})})]},he==null?void 0:he.index)},he==null?void 0:he.index)})})})}):r.jsxs("div",{className:"text-center py-8 bg-muted/20 rounded-lg",children:[r.jsx("p",{className:"text-muted-foreground",children:(x==null?void 0:x.text_no_criminals_involved)||"No criminals involved in this report"}),f&&Jr.edit&&r.jsxs(r.Fragment,{children:[r.jsxs(Ae,{variant:"outline",className:"mt-2",onClick:()=>ce(!0),children:[r.jsx(Xr,{className:"h-4 w-4 mr-2"}),(x==null?void 0:x.text_add_criminal)||"Add Criminal"]}),r.jsx(Xi,{isOpen:oe,onClose:()=>ce(!1),citizens:E,selectedCitizenId:"",selectedPeople:i==null?void 0:i.peopleInvolved,onUpdatePerson:({citizenId:he,name:pt})=>{Ls(pt,he,"Criminal")},onSearchQueryChange:he=>{K(he)}})]})]})}),r.jsx(Rr,{value:"Officer",className:"mt-4",children:Hs&&Hs.length>0?r.jsx(Le,{children:r.jsx(Je,{className:"p-4",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:Hs&&Array.isArray(Hs)&&Hs.map((he,pt)=>r.jsxs("div",{className:"flex items-center gap-3 bg-primary/5 p-3 rounded-lg",children:[r.jsx(hn,{className:"h-10 w-10",children:r.jsx(yn,{className:"bg-blue-500/20 text-blue-500",children:ni(he.name)})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium truncate",children:he.name}),r.jsxs("p",{className:"text-xs text-muted-foreground truncate",children:["ID: ",he.citizenId]})]}),f&&Jr.edit&&r.jsx(Ae,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>(i==null?void 0:i.peopleInvolved)&&wn((he==null?void 0:he.index)||0),children:r.jsx(ms,{className:"h-4 w-4"})})]},pt))})})}):r.jsxs("div",{className:"text-center py-8 bg-muted/20 rounded-lg",children:[r.jsx("p",{className:"text-muted-foreground",children:(x==null?void 0:x.text_no_officers_involved)||"No officers involved in this report"}),f&&Jr.edit&&r.jsxs(r.Fragment,{children:[r.jsxs(Ae,{variant:"outline",className:"mt-2",onClick:()=>ce(!0),children:[r.jsx(Xr,{className:"h-4 w-4 mr-2"}),(x==null?void 0:x.text_add_officer)||"Add Officer"]}),r.jsx(Xi,{isOpen:oe,onClose:()=>ce(!1),citizens:E,selectedCitizenId:"",selectedPeople:i==null?void 0:i.peopleInvolved,onUpdatePerson:({citizenId:he,name:pt})=>{Ls(pt,he,"Officer")},onSearchQueryChange:he=>{K(he)}})]})]})}),r.jsx(Rr,{value:"Civilian",className:"mt-4",children:Ci.length>0?r.jsx(Le,{children:r.jsx(Je,{className:"p-4",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:Ci&&Array.isArray(Ci)&&Ci.map((he,pt)=>r.jsxs("div",{className:"flex items-center gap-3 bg-primary/5 p-3 rounded-lg",children:[r.jsx(hn,{className:"h-10 w-10",children:r.jsx(yn,{className:"bg-green-500/20 text-green-500",children:ni(he.name)})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium truncate",children:he.name}),r.jsxs("p",{className:"text-xs text-muted-foreground truncate",children:["ID: ",he.citizenId]})]}),f&&Jr.edit&&r.jsx(Ae,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>(i==null?void 0:i.peopleInvolved)&&wn((he==null?void 0:he.index)||0),children:r.jsx(ms,{className:"h-4 w-4"})})]},pt))})})}):r.jsxs("div",{className:"text-center py-8 bg-muted/20 rounded-lg",children:[r.jsx("p",{className:"text-muted-foreground",children:(x==null?void 0:x.text_no_civilians_involved)||"No civilians involved in this report"}),f&&Jr.edit&&r.jsxs(r.Fragment,{children:[r.jsxs(Ae,{variant:"outline",className:"mt-2",onClick:()=>ce(!0),children:[r.jsx(Xr,{className:"h-4 w-4 mr-2"}),(x==null?void 0:x.text_add_civilian)||"Add Civilian"]}),r.jsx(Xi,{isOpen:oe,onClose:()=>ce(!1),citizens:E,selectedCitizenId:"",selectedPeople:i==null?void 0:i.peopleInvolved,onUpdatePerson:({citizenId:he,name:pt})=>{Ls(pt,he,"Civilian")},onSearchQueryChange:he=>{K(he)}})]})]})})]})]})}),r.jsx(Rr,{value:"vehicles",className:"w-full mt-4 p-4",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-semibold",children:(x==null?void 0:x.text_vehicles_involved)||"Vehicles Involved"}),f&&Jr.edit&&r.jsxs(r.Fragment,{children:[r.jsxs(Ae,{variant:"outline",size:"sm",onClick:()=>Q(!0),children:[r.jsx(Xr,{className:"h-4 w-4 mr-2"}),(x==null?void 0:x.text_add_vehicle)||"Add Vehicle"]}),r.jsx(ph,{isOpen:le,onClose:()=>Q(!1),vehicles:we,selectedVehicles:i==null?void 0:i.vehiclesInvolved,selectedVehicle:"",onUpdateVehicle:he=>{Ni(he.plate,he.model)},onSearchQueryChange:he=>{D(he)}})]})]}),i!=null&&i.vehiclesInvolved&&i.vehiclesInvolved.length>0?r.jsx(nr,{className:"h-[50%] justify-center items-center w-full",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i&&(i==null?void 0:i.vehiclesInvolved)&&Array.isArray(i==null?void 0:i.vehiclesInvolved)&&i.vehiclesInvolved.map((he,pt)=>r.jsxs(Le,{children:[r.jsxs(mt,{className:"p-4 pb-2 flex flex-row items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(ze,{className:"bg-red-500/10 text-red-500",children:(x==null?void 0:x.text_criminal)||"Criminal"}),r.jsx(kt,{className:"text-lg mt-1",children:he.model})]}),f&&Jr.edit&&r.jsx(Ae,{variant:"ghost",size:"icon",onClick:()=>Pe(pt),children:r.jsx(ms,{className:"h-4 w-4"})})]}),r.jsx(Je,{className:"p-4 pt-0",children:r.jsx("div",{className:"grid grid-cols-1 gap-2",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:(x==null?void 0:x.text_license_plate)||"License Plate"}),r.jsx("p",{className:"font-medium",children:he.plate})]})})})]},pt))})}):r.jsxs("div",{className:"text-center py-8 bg-muted/20 rounded-lg",children:[r.jsx("p",{className:"text-muted-foreground",children:(x==null?void 0:x.text_no_vehicles_involved)||"No vehicles involved in this report"}),f&&Jr.edit&&r.jsxs(r.Fragment,{children:[r.jsxs(Ae,{variant:"outline",size:"sm",onClick:()=>Q(!0),children:[r.jsx(Xr,{className:"h-4 w-4 mr-2"}),(x==null?void 0:x.text_add_vehicle)||"Add Vehicle"]}),r.jsx(ph,{isOpen:le,onClose:()=>Q(!1),vehicles:we,selectedVehicles:i==null?void 0:i.vehiclesInvolved,selectedVehicle:"",onUpdateVehicle:he=>{Ni(he.plate,he.model)},onSearchQueryChange:he=>{D(he)}})]})]})]})}),r.jsx(Rr,{value:"evidence",className:"w-full mt-4 p-4",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-semibold",children:(x==null?void 0:x.text_evidence_items)||"Evidence Items"}),f&&Jr.edit&&r.jsxs(Ae,{variant:"outline",size:"sm",onClick:()=>Bt(!0),children:[r.jsx(Xr,{className:"h-4 w-4 mr-2"}),(x==null?void 0:x.text_add_evidence)||"Add Evidence"]})]}),i!=null&&i.evidences&&i.evidences.length>0?r.jsx(nr,{className:"h-[50vh] justify-center items-center w-full",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i&&(i==null?void 0:i.evidences)&&Array.isArray(i==null?void 0:i.evidences)&&i.evidences.map((he,pt)=>r.jsxs(Le,{className:"overflow-hidden relative max-h-[40vh] overflow-y-auto",children:[f&&Jr.edit&&r.jsx(Ae,{variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-8 w-8 rounded-full z-10",onClick:()=>tr(pt),children:r.jsx(ms,{className:"h-4 w-4"})}),he.type==="image"&&r.jsx("div",{className:"aspect-video bg-muted relative",children:r.jsx("img",{src:he.url||"/placeholder.svg?height=200&width=300",alt:he.description,className:"object-cover w-full h-full cursor-pointer",onClick:()=>Kr(he.url)})}),r.jsxs(Je,{className:"p-3",children:[r.jsxs("p",{className:"font-medium",children:[(x==null?void 0:x.text_evidence_number)||"Evidence #",he.id]}),r.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:he.description})]})]},he.id))})}):r.jsxs("div",{className:"text-center py-8 bg-muted/20 rounded-lg",children:[r.jsx("p",{className:"text-muted-foreground",children:(x==null?void 0:x.text_no_evidence_items)||"No evidence items attached to this report"}),f&&Jr.edit&&r.jsxs(Ae,{variant:"outline",className:"mt-2",onClick:()=>Bt(!0),children:[r.jsx(Xr,{className:"h-4 w-4 mr-2"}),(x==null?void 0:x.text_add_first_evidence)||"Add First Evidence Item"]})]})]})}),r.jsx(Rr,{value:"evidencelocker",className:"w-full mt-4 p-4",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex justify-between items-center",children:r.jsx("h3",{className:"text-lg font-semibold",children:(x==null?void 0:x.text_evidence_locker_items)||"Evidence Locker Items"})}),i!=null&&i.lockerItems&&(i==null?void 0:i.lockerItems.length)>0?r.jsx(nr,{className:"h-[50vh] justify-center items-center w-full",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 lg:grid-cols-8 gap-4",children:i&&(i==null?void 0:i.lockerItems)&&Array.isArray(i==null?void 0:i.lockerItems)&&(i==null?void 0:i.lockerItems.map((he,pt)=>r.jsxs(Le,{className:"overflow-hidden relative",children:[r.jsx("div",{className:"aspect-video bg-muted relative",children:r.jsx("img",{src:he.imageUrl||"/placeholder.svg?height=150&width=225",alt:he.description,className:"object-fit"})}),r.jsx(ze,{className:"absolute top-2 right-2 bg-green-500 text-green-50",children:(x==null?void 0:x.text_secured)||"Secured"}),r.jsxs(Je,{className:"p-2",children:[r.jsx("h3",{className:"text-md font-semibold",children:he.label}),r.jsx("p",{className:"text-xs text-muted-foreground whitespace-pre-wrap",children:he.description}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[(x==null?void 0:x.text_amount)||"Amount",": ",he.amount]}),(he==null?void 0:he.metadata)&&Object.keys(he==null?void 0:he.metadata).length>0&&r.jsxs(Je,{className:"p-2",children:[r.jsx("h3",{className:"text-md font-semibold",children:(x==null?void 0:x.text_additional_information)||"Additional Information"}),he&&(he==null?void 0:he.metadata)&&Object.keys(he==null?void 0:he.metadata).map((Wt,Ar)=>r.jsxs("p",{className:"text-xs text-muted-foreground whitespace-pre-wrap",children:[r.jsxs("span",{className:"font-bold",children:[Wt,":"]})," ",he==null?void 0:he.metadata[Wt]]},Ar))]})]})]},he.id)))})}):r.jsx("div",{className:"text-center py-8 bg-muted/20 rounded-lg",children:r.jsx("p",{className:"text-muted-foreground",children:(x==null?void 0:x.text_no_locker_items)||"No evidence items in the locker"})})]})}),r.jsx(Rr,{value:"timeline",className:"mt-4",children:r.jsxs(Le,{children:[r.jsx(mt,{children:r.jsx(kt,{children:(x==null?void 0:x.text_incident_timeline)||"Incident Timeline"})}),r.jsx(Je,{children:i!=null&&i.timeline?r.jsx(nr,{className:"h-[50vh] justify-center items-center w-full",children:r.jsx("div",{className:"relative pl-6 border-l-2 border-muted-foreground/20 space-y-6",children:i&&(i==null?void 0:i.timeline)&&Array.isArray(i==null?void 0:i.timeline)&&i.timeline.map((he,pt)=>r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:`absolute -left-[27px] h-6 w-6 rounded-full ${he.iconBg||"bg-primary"} flex items-center justify-center`,children:[he.icon==="alert"&&r.jsx(cs,{className:"h-3 w-3 text-primary-foreground"}),he.icon==="user"&&r.jsx(ri,{className:"h-3 w-3 text-primary-foreground"}),he.icon==="clock"&&r.jsx(Mi,{className:"h-3 w-3 text-muted-foreground"}),he.icon==="map"&&r.jsx(qs,{className:"h-3 w-3 text-primary-foreground"})]}),r.jsxs("div",{className:"mb-1 flex items-baseline",children:[r.jsx("h4",{className:"font-semibold",children:he.title}),r.jsx("span",{className:"ml-2 text-xs text-muted-foreground",children:$n(he.timestamp)})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:he.description}),he.badge&&r.jsx(ze,{className:he.badgeClass||"",variant:"outline",children:he.badge})]},pt))})}):r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-muted-foreground",children:(x==null?void 0:x.text_no_timeline_events)||"No timeline events available for this incident"})})})]})}),r.jsx(Rr,{value:"access",className:"w-full mt-4 p-4",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-semibold",children:(x==null?void 0:x.text_report_access)||"Report Access"}),f&&Jr.edit&&r.jsxs(Ae,{variant:"outline",size:"sm",onClick:()=>Ht(!0),children:[r.jsx(Xr,{className:"h-4 w-4 mr-2"}),(x==null?void 0:x.text_grant_access)||"Grant Access"]})]}),mr&&mr.length>0?r.jsx(Le,{children:r.jsx(Je,{className:"p-4",children:r.jsx("div",{className:"space-y-3",children:mr.map((he,pt)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-primary/5 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(hn,{className:"h-10 w-10",children:r.jsx(yn,{className:"bg-blue-500/20 text-blue-500",children:ni(he.name)})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:he.name}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["ID: ",he.id]})]})]}),r.jsx("div",{className:"flex items-center gap-2",children:f&&Jr.edit&&r.jsx(Ae,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-red-500/10 hover:text-red-500",onClick:()=>Bi(he.id),children:r.jsx(Lm,{className:"h-4 w-4"})})})]},he.id))})})}):r.jsxs("div",{className:"text-center py-8 bg-muted/20 rounded-lg",children:[r.jsx("p",{className:"text-muted-foreground",children:(x==null?void 0:x.text_no_access_granted)||"No additional access granted for this report"}),f&&Jr.edit&&r.jsxs(Ae,{variant:"outline",className:"mt-2 bg-transparent",onClick:()=>Ht(!0),children:[r.jsx(Xr,{className:"h-4 w-4 mr-2"}),(x==null?void 0:x.text_grant_first_access)||"Grant First Access"]})]})]})})]})]},"detail-view"):r.jsxs(Xt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-3xl font-bold",children:(x==null?void 0:x.text_incidents)||"Incidents"}),r.jsxs(gr,{open:g,onOpenChange:w,children:[r.jsx(to,{asChild:!0,children:r.jsxs(Ae,{onClick:()=>w(!0),children:[r.jsx(Xr,{className:"mr-2 h-4 w-4"}),(x==null?void 0:x.text_new_incident)||"New Incident"]})}),r.jsxs(xr,{className:"max-w-[60vw] w-full","aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:(x==null?void 0:x.text_create_new_incident)||"Create New Incident"})}),r.jsx("div",{className:"grid gap-4 py-4",children:r.jsx(nr,{className:"max-h-[500px] border rounded p-4",children:r.jsxs("div",{className:"grid gap-4 p-5",children:[r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Me,{htmlFor:"title",className:"text-right",children:(x==null?void 0:x.text_title)||"Title"}),r.jsx(ht,{id:"title",value:N.title,onChange:he=>S({...N,title:he.target.value}),className:"col-span-3"})]}),r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Me,{htmlFor:"location",className:"text-right",children:(x==null?void 0:x.text_location)||"Location"}),r.jsx(ht,{id:"location",value:N.location,onChange:he=>S({...N,location:he.target.value}),className:"col-span-3"})]}),r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Me,{htmlFor:"priority",className:"text-right",children:(x==null?void 0:x.text_priority)||"Priority"}),r.jsxs(On,{value:N.priority,onValueChange:he=>S({...N,priority:he}),children:[r.jsx(Dn,{className:"col-span-3",children:r.jsx(Mn,{placeholder:(x==null?void 0:x.text_select_priority)||"Select priority"})}),r.jsxs(Fn,{children:[r.jsx(Yt,{value:"low",children:(x==null?void 0:x.text_low)||"Low"}),r.jsx(Yt,{value:"medium",children:(x==null?void 0:x.text_medium)||"Medium"}),r.jsx(Yt,{value:"high",children:(x==null?void 0:x.text_high)||"High"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Me,{htmlFor:"description",className:"text-right",children:(x==null?void 0:x.text_description)||"Description"}),r.jsx("div",{className:"col-span-3 min-h-[200px] max-w-full w-full rounded border p-2 overflow-hidden break-words",children:r.jsx(vu,{initialContent:(N==null?void 0:N.description)||`<p>${(x==null?void 0:x.text_no_notes_available)||"No notes available"}</p>`,editable:!0,onChange:Qi,placeholder:(x==null?void 0:x.text_start_typing)||"Start typing here..."})})]})]})})}),r.jsx(un,{children:r.jsx(Ae,{onClick:Xn,disabled:!((N==null?void 0:N.title)??"").trim()||!((N==null?void 0:N.priority)??"").trim()||!((N==null?void 0:N.location)??"").trim(),children:(x==null?void 0:x.text_create_incident)||"Create Incident"})})]})]})]}),r.jsx("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center mt-4",children:r.jsxs("div",{className:"relative flex-1",children:[r.jsx(ls,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),r.jsx(ht,{placeholder:(x==null?void 0:x.text_search_incidents)||"Search incidents by title, ID, or location...",className:"pl-10 bg-background/50 border-primary/20 focus:border-primary",value:B,onChange:he=>R(he.target.value),onKeyDown:nn})]})}),r.jsx(nr,{className:"h-[calc(85vh-300px)] mt-4",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:r.jsx(Gn,{children:l&&Array.isArray(l)&&l.map(he=>{var pt,Wt,Ar;return r.jsx(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},layout:!0,children:r.jsxs(Le,{className:`overflow-hidden transition-all duration-200 border ${he.isLocked&&!Nn(he)?"opacity-75 cursor-not-allowed":"hover:shadow-lg cursor-pointer hover:border-primary/30"}`,onClick:()=>{if(he.isLocked&&!Nn(he)){k({title:(x==null?void 0:x.text_access_denied)||"Access Denied",description:(x==null?void 0:x.text_report_locked)||"This report is locked and you don't have permission to view it.",variant:"destructive"});return}gi(he,(he==null?void 0:he.incidentId)||""),Un(!1)},children:[r.jsxs(mt,{className:"p-4 pb-2",children:[r.jsxs("div",{className:"flex flex-wrap gap-2 items-start",children:[he.isLocked&&r.jsxs(ze,{variant:"outline",className:"bg-red-500/10 text-red-500",children:[r.jsx(ns,{className:"h-3 w-3 mr-1"}),(x==null?void 0:x.text_locked)||"Locked"]}),r.jsx(ze,{variant:"outline",className:`${go(he.priority)}`,children:(x==null?void 0:x[`text_${he.priority.toLowerCase()}`])||he.priority.toUpperCase()}),r.jsxs(ze,{variant:"outline",className:"bg-green-500/10 text-green-500",children:["#",he.incidentId]}),r.jsx(ze,{variant:"outline",className:`${na(he.status)}`,children:(x==null?void 0:x[`text_${he.status.toLowerCase()}`])||he.status.toUpperCase()})]}),r.jsx(kt,{className:`text-lg mt-2 line-clamp-1 ${he.isLocked&&!Nn(he)?"text-muted-foreground":""}`,children:he.isLocked&&!Nn(he)?"":he.title})]}),r.jsxs(Je,{className:"p-4 pt-0",children:[r.jsxs("div",{className:"flex items-center text-sm text-muted-foreground mb-2",children:[r.jsx(Ua,{className:"h-3.5 w-3.5 mr-1"}),r.jsx("span",{children:$n(he.dateTime)})]}),r.jsxs("div",{className:"flex items-center text-sm text-muted-foreground mb-2",children:[r.jsx(qs,{className:"h-3.5 w-3.5 mr-1"}),r.jsx("span",{className:"line-clamp-1",children:he.isLocked&&!Nn(he)?"":he.location})]}),r.jsxs("div",{className:"flex items-center text-sm text-muted-foreground mb-2",children:[r.jsx(ri,{className:"h-3.5 w-3.5 mr-1"}),r.jsx("span",{children:he.isLocked&&!Nn(he)?"":he==null?void 0:he.officerName})]}),r.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[r.jsx(ri,{className:"h-3.5 w-3.5 mr-1"}),r.jsxs("span",{children:[(x==null?void 0:x.text_units)||"Units",":"," ",he.isLocked&&!Nn(he)?"":((pt=he==null?void 0:he.peopleInvolved)==null?void 0:pt.filter(An=>An.category==="Officer").length)||(x==null?void 0:x.text_none)||"None"]})]}),he.isLocked&&he.lockReason&&r.jsxs("div",{className:"mt-2 p-2 bg-amber-500/10 border border-amber-500/20 rounded text-xs",children:[r.jsxs("div",{className:"flex items-center gap-1 text-amber-500",children:[r.jsx(xl,{className:"h-3 w-3"}),r.jsxs("span",{className:"font-medium",children:[(x==null?void 0:x.text_lock_reason)||"Lock Reason",":"]})]}),r.jsx("span",{className:"text-amber-600",children:he.lockReason})]})]}),r.jsxs(ju,{className:"p-4 pt-0 flex justify-between items-center",children:[he.isLocked&&!Nn(he)?r.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[r.jsx(ns,{className:"h-4 w-4"}),r.jsx("span",{className:"text-sm",children:(x==null?void 0:x.text_restricted_access)||"Restricted Access"})]}):r.jsxs("div",{className:"flex -space-x-2",children:[(Wt=he==null?void 0:he.peopleInvolved)==null?void 0:Wt.slice(0,3).map((An,tn)=>r.jsx(hn,{className:"border-2 border-background h-8 w-8",children:r.jsx(yn,{className:`text-xs ${An.category==="Criminal"?"bg-red-500/20 text-red-500":An.category==="Officer"?"bg-blue-500/20 text-blue-500":"bg-green-500/20 text-green-500"}`,children:ni(An.name)})},tn)),((Ar=he.peopleInvolved)==null?void 0:Ar.length)>3&&r.jsx(hn,{className:"border-2 border-background h-8 w-8",children:r.jsxs(yn,{className:"text-xs bg-primary/10",children:["+",he.peopleInvolved.length-3]})})]}),r.jsxs(Ae,{variant:"ghost",size:"sm",className:"gap-1",children:[he.isLocked&&!Nn(he)?r.jsx(ns,{className:"h-3.5 w-3.5"}):r.jsx(fi,{className:"h-3.5 w-3.5"}),r.jsx("span",{className:"sr-only",children:(x==null?void 0:x.text_view)||"View"})]})]})]})},he.incidentId)})})})}),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsxs("div",{children:[(x==null?void 0:x.text_showing)||"Showing"," ",(se-1)*nj+1," to"," ",Math.min(se*nj,ie)," ",(x==null?void 0:x.text_of)||"of"," ",ie," ",(x==null?void 0:x.text_incidents)||"incidents"]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>re(he=>Math.max(1,he-1)),disabled:se===1,children:(x==null?void 0:x.text_previous)||"Previous"}),r.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>re(he=>Math.min(Hr,he+1)),disabled:se==Hr||Hr==0,children:(x==null?void 0:x.text_next)||"Next"})]})]})]},"list-view")})})}),r.jsx(gr,{open:Mt,onOpenChange:Bt,children:r.jsxs(xr,{className:"sm:max-w-[500px]","aria-describedby":"",children:[r.jsxs(vr,{children:[r.jsx(yr,{children:(x==null?void 0:x.text_add_evidence)||"Add Evidence"}),r.jsx(nl,{children:(x==null?void 0:x.text_add_evidence_description)||"Add evidence to the report. Fill in the details below."})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Me,{htmlFor:"evidence-url",children:(x==null?void 0:x.text_url)||"URL"}),r.jsx(ht,{id:"evidence-url",placeholder:(x==null?void 0:x.text_enter_image_url)||"Enter image URL or upload file",value:ct.url,onChange:he=>vt({...ct,url:he.target.value})})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Me,{htmlFor:"evidence-description",children:(x==null?void 0:x.text_description)||"Description"}),r.jsx(ss,{id:"evidence-description",placeholder:(x==null?void 0:x.text_describe_evidence)||"Describe the evidence...",value:ct.description,onChange:he=>vt({...ct,description:he.target.value}),className:"min-h-[100px]"})]}),r.jsxs(un,{children:[r.jsx(Ae,{variant:"outline",onClick:()=>Bt(!1),children:(x==null?void 0:x.text_cancel)||"Cancel"}),r.jsx(Ae,{onClick:Ct,children:(x==null?void 0:x.text_add_evidence)||"Add Evidence"})]})]})}),r.jsx(tA,{open:nt,onOpenChange:ut,children:r.jsxs(cu,{className:"max-w-md",children:[r.jsxs(du,{children:[r.jsxs(Au,{className:"flex items-center gap-2",children:[r.jsx(ns,{className:"h-5 w-5"}),(x==null?void 0:x.text_process_jail_time)||"Process Jail Time"]}),r.jsxs(hu,{children:[(x==null?void 0:x.text_jail_time_description)||"You are about to process jail time for"," ",r.jsx("span",{className:"font-semibold",children:jt==null?void 0:jt.name}),"."," ",(x==null?void 0:x.text_review_sentence)||"Review and confirm the sentence details below."]})]}),r.jsxs("div",{className:"py-4 space-y-4",children:[r.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/20 rounded-md p-3",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(xl,{className:"h-4 w-4 text-amber-500"}),r.jsx("p",{className:"text-sm font-medium text-amber-500",children:(x==null?void 0:x.text_important_notice)||"Important Notice"})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:(x==null?void 0:x.text_jail_notice)||"Confirm that all charges have been properly reviewed and the criminal has been informed of their rights. This action will be logged in the system."})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"jail-sentence",children:(x==null?void 0:x.text_sentence_months)||"Sentence (months)"}),r.jsxs("div",{className:"flex items-center mt-1.5",children:[r.jsx(Mi,{className:"h-4 w-4 text-muted-foreground mr-2"}),r.jsx(ht,{id:"jail-sentence",type:"number",value:Be,onChange:he=>Ye(Number(he.target.value)),step:"0.1",min:"0",className:"flex-1"})]})]}),r.jsxs("div",{className:"pt-2",children:[r.jsx("p",{className:"text-sm font-medium mb-2",children:(x==null?void 0:x.text_charges_summary)||"Charges Summary:"}),r.jsx("div",{className:"max-h-32 overflow-y-auto bg-muted/50 rounded-md p-2 text-sm",children:jt&&(jt==null?void 0:jt.charges)&&Array.isArray(jt==null?void 0:jt.charges)&&(jt==null?void 0:jt.charges.map((he,pt)=>r.jsxs("div",{className:"flex justify-between py-1 border-b border-border/50 last:border-0",children:[r.jsxs("span",{children:[he.title," (x",he.count,")"]}),r.jsxs("span",{className:"text-muted-foreground",children:[he.sentence," months"]})]},pt)))})]})]})]}),r.jsxs(uu,{children:[r.jsx(dx,{children:"Cancel"}),r.jsxs(cx,{onClick:Ys,className:"bg-blue-500 hover:bg-blue-600",children:[r.jsx(ns,{className:"h-4 w-4 mr-2"}),(x==null?void 0:x.text_process_jail_time)||"Process Jail Time"]})]})]})}),r.jsx(tA,{open:Ue,onOpenChange:Lt,children:r.jsxs(cu,{className:"max-w-md",children:[r.jsxs(du,{children:[r.jsxs(Au,{className:"flex items-center gap-2",children:[r.jsx(Nm,{className:"h-5 w-5"}),(x==null?void 0:x.text_process_fine)||"Process Fine"]}),r.jsxs(hu,{children:[(x==null?void 0:x.text_fine_description)||"You are about to process a fine for"," ",r.jsx("span",{className:"font-semibold",children:Et==null?void 0:Et.name}),"."," ",(x==null?void 0:x.text_review_fine)||"Review and confirm the fine amount below."]})]}),r.jsxs("div",{className:"py-4 space-y-4",children:[r.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/20 rounded-md p-3",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(xl,{className:"h-4 w-4 text-amber-500"}),r.jsx("p",{className:"text-sm font-medium text-amber-500",children:(x==null?void 0:x.text_important_notice)||"Important Notice"})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:(x==null?void 0:x.text_fine_notice)||"Confirm that all charges have been properly reviewed and the criminal has been informed of their financial obligations. This action will be logged in the system."})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"fine-amount",children:(x==null?void 0:x.text_fine_amount_dollars)||"Fine Amount ($)"}),r.jsxs("div",{className:"flex items-center mt-1.5",children:[r.jsx(AS,{className:"h-4 w-4 text-muted-foreground mr-2"}),r.jsx(ht,{id:"fine-amount",type:"number",value:ur,onChange:he=>Cr(Number(he.target.value)),min:"0",className:"flex-1"})]})]}),r.jsxs("div",{className:"pt-2",children:[r.jsx("p",{className:"text-sm font-medium mb-2",children:"Charges Summary:"}),r.jsx("div",{className:"max-h-32 overflow-y-auto bg-muted/50 rounded-md p-2 text-sm",children:Et&&(Et==null?void 0:Et.charges)&&Array.isArray(Et==null?void 0:Et.charges)&&(Et==null?void 0:Et.charges.map((he,pt)=>r.jsxs("div",{className:"flex justify-between py-1 border-b border-border/50 last:border-0",children:[r.jsxs("span",{children:[he.title," (x",he.count,")"]}),r.jsxs("span",{className:"text-muted-foreground",children:["$",(he.fine*(he==null?void 0:he.count)).toLocaleString()]})]},pt)))})]})]})]}),r.jsxs(uu,{children:[r.jsx(dx,{children:"Cancel"}),r.jsxs(cx,{onClick:Vn,className:"bg-green-500 hover:bg-green-600",children:[r.jsx(Nm,{className:"h-4 w-4 mr-2"}),(x==null?void 0:x.text_process_fine)||"Process Fine"]})]})]})}),r.jsx(gr,{open:wt,onOpenChange:Fe,children:r.jsxs(xr,{"aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:(x==null?void 0:x.text_evidence_image)||"Evidence Image"})}),r.jsx("div",{className:"flex justify-center",children:r.jsx("img",{src:Oe||"/placeholder.svg",alt:"Full View",className:"max-w-full max-h-[80vh] object-contain"})})]})}),r.jsx(gr,{open:Tr,onOpenChange:fr,children:r.jsxs(xr,{className:"max-w-lg p-4",children:[r.jsxs(vr,{children:[r.jsx(yr,{children:(x==null?void 0:x.text_link_evidence_case)||"Link to Evidence Case"}),r.jsx(nl,{children:(x==null?void 0:x.text_select_evidence_case)||"Select an evidence case to link to this report. The case ID will be used as the evidence locker number."})]}),r.jsxs("div",{className:"py-4 space-y-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(ls,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),r.jsx(ht,{placeholder:(x==null?void 0:x.text_search_cases)||"Search cases by ID or name...",className:"pl-10",value:it,onChange:he=>Pt(he.target.value)})]}),r.jsxs("div",{className:"space-y-4 max-h-[300px] overflow-y-auto",children:[Rt?r.jsxs("div",{children:[r.jsx("div",{className:"p-3 border rounded-md h-10"}),r.jsx("div",{className:"p-3 border rounded-md h-10"}),r.jsx("div",{className:"p-3 border rounded-md h-10"})]}):dr&&Array.isArray(dr)&&dr.map(he=>r.jsx("div",{className:"p-3 border rounded-md hover:bg-accent cursor-pointer transition-colors",onClick:()=>{o(pt=>pt&&{...pt,evidenceLockerNumber:he.cs_id}),fr(!1),Pt("")},children:r.jsx("div",{className:"flex justify-between items-start",children:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"font-medium text-lg",children:he.name}),r.jsx("span",{className:"font-sm text-sm",children:he.cs_id}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:he.description})]})})},he==null?void 0:he.cs_id)),dr&&dr.length===0&&!Rt&&r.jsx("div",{className:"text-center py-8 bg-muted/20 rounded-lg",children:r.jsx("p",{className:"text-muted-foreground",children:(x==null?void 0:x.text_no_cases_match)||"No cases match your search"})})]}),dr&&dr.length>st&&r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>Ge(he=>Math.max(1,he-1)),disabled:qt===1,children:(x==null?void 0:x.text_previous)||"Previous"}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[(x==null?void 0:x.text_page)||"Page"," ",qt," ",(x==null?void 0:x.text_of)||"of"," ",Math.ceil((dr==null?void 0:dr.length)/dt)]}),r.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>Ge(he=>Math.min(Math.ceil((dr==null?void 0:dr.length)/st),he+1)),disabled:qt===Math.ceil((dr==null?void 0:dr.length)/st),children:(x==null?void 0:x.text_next)||"Next"})]})]})]})}),r.jsx(Xi,{isOpen:We,onClose:()=>Ht(!1),citizens:E,selectedCitizenId:"",selectedPeople:mr.map(he=>({citizenId:he.id,name:he.name,charges:[]})),onUpdatePerson:({citizenId:he,name:pt})=>{Si(pt,he),Ht(!1)},onSearchQueryChange:he=>{K(he)}}),r.jsx(gr,{open:qn,onOpenChange:Zn,children:r.jsxs(xr,{className:"sm:max-w-[500px]","aria-describedby":"",children:[r.jsxs(vr,{children:[r.jsxs(yr,{className:"flex items-center gap-2",children:[r.jsx(ns,{className:"h-5 w-5"}),(x==null?void 0:x.text_lock_report)||"Lock Report"]}),r.jsx(nl,{children:(x==null?void 0:x.text_lock_report_desc)||"Locking this report will restrict access to authorized personnel only. Please provide a reason for locking this report."})]}),r.jsxs("div",{className:"py-4 space-y-4",children:[r.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/20 rounded-md p-3",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(xl,{className:"h-4 w-4 text-amber-500"}),r.jsx("p",{className:"text-sm font-medium text-amber-500",children:(x==null?void 0:x.text_imp_notice)||"Important Notice"})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:(x==null?void 0:x.text_lock_notice)||"Once locked, only users with management permissions will be able to view and edit this report. This action can be reversed by unlocking the report."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"lock-reason",children:(x==null?void 0:x.text_lock_reason)||"Lock Reason"}),r.jsx(ss,{id:"lock-reason",placeholder:(x==null?void 0:x.text_enter_lock_reason)||"Enter the reason for locking this report...",value:Ln,onChange:he=>wr(he.target.value),className:"min-h-[100px]"})]})]}),r.jsxs(un,{children:[r.jsx(Ae,{variant:"outline",onClick:()=>{Zn(!1),wr("")},children:(x==null?void 0:x.text_cancel)||"Cancel"}),r.jsxs(Ae,{onClick:sn,disabled:!Ln.trim(),className:"bg-red-500 hover:bg-red-600",children:[r.jsx(ns,{className:"h-4 w-4 mr-2"}),(x==null?void 0:x.text_lock_report)||"Lock Report"]})]})]})})]})}function tg({label:e,value:t,isEditing:n,onChange:s}){return r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:e}),n?r.jsx(ht,{value:t,onChange:a=>s&&s(a.target.value),className:"w-full"}):r.jsx("p",{className:"font-medium",children:t})]})}const gwe=({rating:e})=>{const t=n=>n<=1?"from-red-500 to-red-600":n<=2?"from-orange-500 to-orange-600":n<=3?"from-yellow-500 to-yellow-600":n<=4?"from-blue-500 to-blue-600":"from-green-500 to-green-600";return r.jsxs("div",{className:"flex items-center space-x-1.5",children:[r.jsx("div",{className:"flex h-2 w-24 rounded-full bg-gray-200 overflow-hidden",children:r.jsx("div",{className:`h-full bg-gradient-to-r ${t(e)}`,style:{width:`${e/5*100}%`}})}),r.jsx("span",{className:"text-sm font-medium bg-gray-800 px-2 py-0.5 rounded-md",children:e?e.toFixed(1):"N/A"})]})},xwe=({status:e})=>{switch(e){case"approved":return r.jsxs(ze,{className:"bg-green-500 hover:bg-green-600",children:[r.jsx(jd,{className:"h-3 w-3 mr-1"})," Approved"]});case"rejected":return r.jsxs(ze,{className:"bg-red-500 hover:bg-red-600",children:[r.jsx(wh,{className:"h-3 w-3 mr-1"})," Rejected"]});case"pending":return r.jsxs(ze,{className:"bg-yellow-500 hover:bg-yellow-600",children:[r.jsx(Mi,{className:"h-3 w-3 mr-1"})," Pending"]});default:return r.jsx(ze,{children:e})}},vwe=({report:e,onClick:t})=>{const{locale:n}=ir();return r.jsx(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"h-full",children:r.jsxs(Le,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:t,children:[r.jsxs(mt,{className:"pb-2",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsx(kt,{className:"text-lg",children:e.traineeName}),r.jsx(xwe,{status:e.status})]}),r.jsxs(bx,{children:[(n==null?void 0:n.text_fto)||"FTO",": ",e.ftoName]})]}),r.jsx(Je,{className:"pb-2",children:r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[(n==null?void 0:n.text_date)||"Date",":"]})," ",e.date?m7(new Date(e.date),"MMM d, yyyy"):"N/A"]}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[(n==null?void 0:n.text_shift)||"Shift",":"]})," ",e.shift]}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[(n==null?void 0:n.text_phase)||"Phase",":"]})," ",e.phase]}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[(n==null?void 0:n.text_rating)||"Rating",":"]}),r.jsx("div",{className:"mt-1",children:r.jsx(gwe,{rating:e.overallPerformance})})]})]})})]},e.id)})};var fV=["PageUp","PageDown"],mV=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],pV={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},fp="Slider",[L5,ywe,wwe]=Zm(fp),[gV,_5e]=ji(fp,[wwe]),[bwe,jw]=gV(fp),xV=m.forwardRef((e,t)=>{const{name:n,min:s=0,max:a=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[s],value:u,onValueChange:f=()=>{},onValueCommit:v=()=>{},inverted:g=!1,form:w,...y}=e,b=m.useRef(new Set),x=m.useRef(0),S=o==="horizontal"?jwe:Nwe,[k=[],F]=To({prop:u,defaultProp:d,onChange:B=>{var Z;(Z=[...b.current][x.current])==null||Z.focus(),f(B)}}),$=m.useRef(k);function U(B){const R=Ewe(k,B);K(B,R)}function D(B){K(B,x.current)}function H(){const B=$.current[x.current];k[x.current]!==B&&v(k)}function K(B,R,{commit:Z}={commit:!1}){const te=Pwe(i),ye=Dwe(Math.round((B-s)/i)*i+s,te),de=Kg(ye,[s,a]);F((le=[])=>{const Q=Swe(le,de,R);if(kwe(Q,c*i)){x.current=Q.indexOf(de);const oe=String(Q)!==String(le);return oe&&Z&&v(Q),oe?Q:le}else return le})}return r.jsx(bwe,{scope:e.__scopeSlider,name:n,disabled:l,min:s,max:a,valueIndexToChangeRef:x,thumbs:b.current,values:k,orientation:o,form:w,children:r.jsx(L5.Provider,{scope:e.__scopeSlider,children:r.jsx(L5.Slot,{scope:e.__scopeSlider,children:r.jsx(S,{"aria-disabled":l,"data-disabled":l?"":void 0,...y,ref:t,onPointerDown:Kt(y.onPointerDown,()=>{l||($.current=k)}),min:s,max:a,inverted:g,onSlideStart:l?void 0:U,onSlideMove:l?void 0:D,onSlideEnd:l?void 0:H,onHomeKeyDown:()=>!l&&K(s,0,{commit:!0}),onEndKeyDown:()=>!l&&K(a,k.length-1,{commit:!0}),onStepKeyDown:({event:B,direction:R})=>{if(!l){const ye=fV.includes(B.key)||B.shiftKey&&mV.includes(B.key)?10:1,de=x.current,le=k[de],Q=i*ye*R;K(le+Q,de,{commit:!0})}}})})})})});xV.displayName=fp;var[vV,yV]=gV(fp,{startEdge:"left",endEdge:"right",size:"width",direction:1}),jwe=m.forwardRef((e,t)=>{const{min:n,max:s,dir:a,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...u}=e,[f,v]=m.useState(null),g=an(t,S=>v(S)),w=m.useRef(void 0),y=bh(a),b=y==="ltr",x=b&&!i||!b&&i;function N(S){const k=w.current||f.getBoundingClientRect(),F=[0,k.width],U=vB(F,x?[n,s]:[s,n]);return w.current=k,U(S-k.left)}return r.jsx(vV,{scope:e.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:r.jsx(wV,{dir:y,"data-orientation":"horizontal",...u,ref:g,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:S=>{const k=N(S.clientX);o==null||o(k)},onSlideMove:S=>{const k=N(S.clientX);l==null||l(k)},onSlideEnd:()=>{w.current=void 0,c==null||c()},onStepKeyDown:S=>{const F=pV[x?"from-left":"from-right"].includes(S.key);d==null||d({event:S,direction:F?-1:1})}})})}),Nwe=m.forwardRef((e,t)=>{const{min:n,max:s,inverted:a,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...d}=e,u=m.useRef(null),f=an(t,u),v=m.useRef(void 0),g=!a;function w(y){const b=v.current||u.current.getBoundingClientRect(),x=[0,b.height],S=vB(x,g?[s,n]:[n,s]);return v.current=b,S(y-b.top)}return r.jsx(vV,{scope:e.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:r.jsx(wV,{"data-orientation":"vertical",...d,ref:f,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:y=>{const b=w(y.clientY);i==null||i(b)},onSlideMove:y=>{const b=w(y.clientY);o==null||o(b)},onSlideEnd:()=>{v.current=void 0,l==null||l()},onStepKeyDown:y=>{const x=pV[g?"from-bottom":"from-top"].includes(y.key);c==null||c({event:y,direction:x?-1:1})}})})}),wV=m.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:s,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...d}=e,u=jw(fp,n);return r.jsx(jr.span,{...d,ref:t,onKeyDown:Kt(e.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):fV.concat(mV).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:Kt(e.onPointerDown,f=>{const v=f.target;v.setPointerCapture(f.pointerId),f.preventDefault(),u.thumbs.has(v)?v.focus():s(f)}),onPointerMove:Kt(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&a(f)}),onPointerUp:Kt(e.onPointerUp,f=>{const v=f.target;v.hasPointerCapture(f.pointerId)&&(v.releasePointerCapture(f.pointerId),i(f))})})}),bV="SliderTrack",jV=m.forwardRef((e,t)=>{const{__scopeSlider:n,...s}=e,a=jw(bV,n);return r.jsx(jr.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...s,ref:t})});jV.displayName=bV;var R5="SliderRange",NV=m.forwardRef((e,t)=>{const{__scopeSlider:n,...s}=e,a=jw(R5,n),i=yV(R5,n),o=m.useRef(null),l=an(t,o),c=a.values.length,d=a.values.map(v=>SV(v,a.min,a.max)),u=c>1?Math.min(...d):0,f=100-Math.max(...d);return r.jsx(jr.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...s,ref:l,style:{...e.style,[i.startEdge]:u+"%",[i.endEdge]:f+"%"}})});NV.displayName=R5;var O5="SliderThumb",CV=m.forwardRef((e,t)=>{const n=ywe(e.__scopeSlider),[s,a]=m.useState(null),i=an(t,l=>a(l)),o=m.useMemo(()=>s?n().findIndex(l=>l.ref.current===s):-1,[n,s]);return r.jsx(Cwe,{...e,ref:i,index:o})}),Cwe=m.forwardRef((e,t)=>{const{__scopeSlider:n,index:s,name:a,...i}=e,o=jw(O5,n),l=yV(O5,n),[c,d]=m.useState(null),u=an(t,N=>d(N)),f=c?o.form||!!c.closest("form"):!0,v=Ix(c),g=o.values[s],w=g===void 0?0:SV(g,o.min,o.max),y=Bwe(s,o.values.length),b=v==null?void 0:v[l.size],x=b?Iwe(b,w,l.direction):0;return m.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),r.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${w}% + ${x}px)`},children:[r.jsx(L5.ItemSlot,{scope:e.__scopeSlider,children:r.jsx(jr.span,{role:"slider","aria-label":e["aria-label"]||y,"aria-valuemin":o.min,"aria-valuenow":g,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:u,style:g===void 0?{display:"none"}:e.style,onFocus:Kt(e.onFocus,()=>{o.valueIndexToChangeRef.current=s})})}),f&&r.jsx(_V,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:g},s)]})});CV.displayName=O5;var _we="RadioBubbleInput",_V=m.forwardRef(({__scopeSlider:e,value:t,...n},s)=>{const a=m.useRef(null),i=an(a,s),o=Dx(t);return m.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&u){const f=new Event("input",{bubbles:!0});u.call(l,t),l.dispatchEvent(f)}},[o,t]),r.jsx(jr.input,{style:{display:"none"},...n,ref:i,defaultValue:t})});_V.displayName=_we;function Swe(e=[],t,n){const s=[...e];return s[n]=t,s.sort((a,i)=>a-i)}function SV(e,t,n){const i=100/(n-t)*(e-t);return Kg(i,[0,100])}function Bwe(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function Ewe(e,t){if(e.length===1)return 0;const n=e.map(a=>Math.abs(a-t)),s=Math.min(...n);return n.indexOf(s)}function Iwe(e,t,n){const s=e/2,i=vB([0,50],[0,s]);return(s-i(t)*n)*n}function Twe(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function kwe(e,t){if(t>0){const n=Twe(e);return Math.min(...n)>=t}return!0}function vB(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(n-e[0])}}function Pwe(e){return(String(e).split(".")[1]||"").length}function Dwe(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var BV=xV,Fwe=jV,Lwe=NV,Rwe=CV;const Ed=m.forwardRef(({className:e,...t},n)=>r.jsxs(BV,{ref:n,className:Tt("relative flex w-full touch-none select-none items-center",e),...t,children:[r.jsx(Fwe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:r.jsx(Lwe,{className:"absolute h-full bg-primary"})}),r.jsx(Rwe,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Ed.displayName=BV.displayName;const Owe=({status:e})=>{switch(e){case"approved":return r.jsxs(ze,{className:"bg-green-500 hover:bg-green-600",children:[r.jsx(jd,{className:"h-3 w-3 mr-1"})," Approved"]});case"rejected":return r.jsxs(ze,{className:"bg-red-500 hover:bg-red-600",children:[r.jsx(wh,{className:"h-3 w-3 mr-1"})," Rejected"]});case"pending":return r.jsxs(ze,{className:"bg-yellow-500 hover:bg-yellow-600",children:[r.jsx(Mi,{className:"h-3 w-3 mr-1"})," Pending"]});default:return r.jsx(ze,{children:e})}},Mwe=({rating:e,showLabel:t=!0})=>{const{locale:n}=ir(),a=(o=>o<=1?"from-red-500 to-red-600 text-red-600":o<=2?"from-orange-500 to-orange-600 text-orange-600":o<=3?"from-yellow-500 to-yellow-600 text-yellow-600":o<=4?"from-blue-500 to-blue-600 text-blue-600":"from-green-500 to-green-600 text-green-600")(e),i=e/5*100;return r.jsxs("div",{className:"flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t&&r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx("span",{className:`text-sm font-semibold ${a.split(" ").pop()}`,children:e<=1?(n==null?void 0:n.text_fto_report_poor)||"Poor":e<=2?(n==null?void 0:n.text_fto_report_needs_improvement)||"Needs Improvement":e<=3?(n==null?void 0:n.text_fto_report_satisfactory)||"Satisfactory":e<=4?(n==null?void 0:n.text_fto_report_good)||"Good":(n==null?void 0:n.text_fto_report_excellent)||"Excellent"})}),r.jsx("span",{className:`text-sm font-bold ${a.split(" ").pop()}`,children:(e??0).toFixed(1)})]}),r.jsx("div",{className:"relative h-3 w-full bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:r.jsx("div",{className:`absolute top-0 left-0 h-full bg-gradient-to-r ${a.split(" ").slice(0,2).join(" ")} transition-all duration-500 ease-in-out`,style:{width:`${i}%`}})})]})},Uwe=({rating:e})=>{const t=n=>n<=1?"from-red-500 to-red-600":n<=2?"from-orange-500 to-orange-600":n<=3?"from-yellow-500 to-yellow-600":n<=4?"from-blue-500 to-blue-600":"from-green-500 to-green-600";return r.jsxs("div",{className:"flex items-center space-x-1.5",children:[r.jsx("div",{className:"flex h-2 w-24 rounded-full bg-gray-200 overflow-hidden",children:r.jsx("div",{className:`h-full bg-gradient-to-r ${t(e)}`,style:{width:`${e/5*100}%`}})}),r.jsx("span",{className:"text-sm font-medium bg-gray-800 px-2 py-0.5 rounded-md",children:(e??0).toFixed(1)})]})},Qwe=({report:e,userPermissions:t,user:n,onClose:s})=>{Vc();const{toast:a}=ys(),[i,o]=m.useState(!1),[l,c]=m.useState(e),[d,u]=m.useState(e),[f,v]=m.useState(""),[g,w]=m.useState(!1),{locale:y}=ir();m.useEffect(()=>{U()},[l==null?void 0:l.categories]),m.useEffect(()=>{D()},[d==null?void 0:d.categories]);const b=async()=>{if(l)if(await ke("approveFTOReport",{reportId:l.id})){const B={...l,status:"approved"};c(B),a({title:"Report Approved",description:"The FTO report has been approved."})}else a({title:"Error",description:"Failed to approve the FTO report."})},x=K=>{o(K)},N=async()=>{l&&f&&(await ke("rejectFTOReport",{reportId:l.id,rejectionReason:f})?(c({...l,status:"rejected",rejectionReason:f}),w(!1),v(""),a({title:"Report Rejected",description:"The FTO report has been rejected with feedback."})):a({title:"Error",description:"Failed to reject the FTO report."}))};m.useEffect(()=>{c(e),u(e)},[e]);const S=K=>{const{name:B,value:R}=K.target;u(Z=>({...Z,[B]:R}))},k=(K,B,R)=>{u(Z=>{if(!Z||!Z.categories)return Z;const te=[...Z.categories],ye={...te[K],[B]:R};return te[K]=ye,{...Z,categories:te}})},F=K=>{u(B=>({...B,overallPerformance:Number.parseFloat(K[0].toFixed(1))}))},$=K=>{if(!Array.isArray(K)||K.length===0)return 0;const B=K.reduce((R,Z)=>R+Z.rating,0);return Math.round(B/K.length)},U=()=>{const K=$(l.categories);c(B=>({...B,overallPerformance:K}))},D=()=>{const K=$(d==null?void 0:d.categories);u(B=>({...B,overallPerformance:K}))},H=async()=>{try{await ke("saveFTOReport",{reportId:l==null?void 0:l.id,report:d})?(a({title:"Report created successfully"}),c(d),x(!1)):a({title:"Error",description:"Failed to save report",variant:"destructive"})}catch(K){console.error("Error saving report:",K),a({title:"Error",description:"Failed to save report",variant:"destructive"})}};return r.jsx(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"flex w-full ",children:r.jsxs("div",{className:"w-full",children:[r.jsx(mt,{className:"flex flex-row items-center justify-between w-full",children:r.jsxs("div",{className:"flex items-center gap-4 w-full justify-between",children:[r.jsx(Ae,{variant:"outline",size:"icon",onClick:s,className:"h-10 w-10",children:r.jsx(Oi,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[l==null?void 0:l.traineeName,"  - ",(y==null?void 0:y.text_phase)||"Phase"," ",l.phase,r.jsx(Owe,{status:l.status})]}),r.jsxs("p",{className:"text-muted-foreground",children:[(y==null?void 0:y.text_fto)||"FTO",": ",l&&(l==null?void 0:l.ftoName)," | ",(y==null?void 0:y.text_date)||"Date",": ",$n(l.date)," | ",(y==null?void 0:y.text_shift)||"Shift",": ",l.shift]}),r.jsx("p",{children:(l==null?void 0:l.status)=="rejected"&&r.jsxs("div",{className:"text-red-500",children:[r.jsxs("strong",{children:[(y==null?void 0:y.text_rejection_reason)||"Rejection Reason",":"]})," ",l.rejectionReason]})})]}),r.jsx("div",{className:"ml-auto",children:r.jsx("div",{className:"flex gap-2",children:(t==null?void 0:t.edit)&&r.jsx(r.Fragment,{children:(l==null?void 0:l.status)=="pending"&&r.jsxs(r.Fragment,{children:[r.jsxs(gr,{open:i,onOpenChange:o,children:[t.edit&&(n==null?void 0:n.hasManagePermission)&&r.jsx(to,{asChild:!0,children:r.jsxs(Ae,{variant:"outline",onClick:()=>o(!0),children:[r.jsx(ks,{className:"h-4 w-4"}),(y==null?void 0:y.text_edit)||"Edit"]})}),r.jsxs(xr,{className:"max-w-4xl max-h-[80vh] overflow-y-auto","aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:(y==null?void 0:y.text_edit_report)||"Edit Report"})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 py-4",children:[r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"traineeName",children:(y==null?void 0:y.text_fto_reports_trainee_name)||"Trainee Name"}),r.jsx(ht,{id:"traineeName",name:"traineeName",value:d==null?void 0:d.traineeName,onChange:S,placeholder:"Enter trainee name"})]}),r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"ftoName",children:(y==null?void 0:y.text_fto_reports_fto_name)||"FTO Name"}),r.jsx(ht,{id:"ftoName",name:"ftoName",value:d==null?void 0:d.ftoName,onChange:S,placeholder:"Enter FTO name"})]}),r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"date",children:(y==null?void 0:y.text_fto_reports_date)||"Date"}),r.jsx(ht,{id:"date",name:"date",type:"date",value:d==null?void 0:d.date,onChange:S})]}),r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"shift",children:(y==null?void 0:y.text_fto_reports_shift)||"Shift"}),r.jsxs(On,{value:d==null?void 0:d.shift,onValueChange:K=>u({...d,shift:K}),children:[r.jsx(Dn,{id:"shift",children:r.jsx(Mn,{placeholder:(y==null?void 0:y.text_fto_reports_select_shift)||"Select shift"})}),r.jsxs(Fn,{children:[r.jsx(Yt,{value:"Morning",children:(y==null?void 0:y.text_morning)||"Morning"}),r.jsx(Yt,{value:"Evening",children:(y==null?void 0:y.text_evening)||"Evening"}),r.jsx(Yt,{value:"Night",children:(y==null?void 0:y.text_night)||"Night"})]})]})]}),r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"phase",children:(y==null?void 0:y.text_training_phase)||"Training Phase"}),r.jsxs(On,{value:d==null?void 0:d.phase.toString(),onValueChange:K=>u({...d,phase:Number.parseInt(K)}),children:[r.jsx(Dn,{id:"phase",children:r.jsx(Mn,{placeholder:(y==null?void 0:y.text_select_phase)||"Select phase"})}),r.jsxs(Fn,{children:[r.jsx(Yt,{value:"1",children:(y==null?void 0:y.text_phase_1)||"Phase 1"}),r.jsx(Yt,{value:"2",children:(y==null?void 0:y.text_phase_2)||"Phase 2"}),r.jsx(Yt,{value:"3",children:(y==null?void 0:y.text_phase_3)||"Phase 3"}),r.jsx(Yt,{value:"4",children:(y==null?void 0:y.text_phase_4)||"Phase 4"})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"font-medium",children:(y==null?void 0:y.text_fto_reports_performance_categories)||"Performance Categories"}),d&&(d==null?void 0:d.categories)&&Array.isArray(d==null?void 0:d.categories)&&(d==null?void 0:d.categories.map((K,B)=>r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-center border-b pb-4",children:[r.jsx("div",{className:"md:col-span-1",children:r.jsx(Me,{children:K.name})}),r.jsx("div",{className:"md:col-span-1",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[r.jsx("span",{children:"1"}),r.jsx("span",{children:"2"}),r.jsx("span",{children:"3"}),r.jsx("span",{children:"4"}),r.jsx("span",{children:"5"})]}),r.jsx(Ed,{value:[K.rating],min:1,max:5,step:.5,onValueChange:R=>{k(B,"rating",R[0])},className:"flex-1"}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[r.jsx("span",{children:(y==null?void 0:y.text_fto_report_needs_improvement)||"Poor"}),r.jsx("span",{children:(y==null?void 0:y.text_fto_report_excellent)||"Excellent"})]})]})}),r.jsx("div",{className:"md:col-span-2",children:r.jsx(ss,{placeholder:`${(y==null?void 0:y.text_fto_reports_comments_on)||"Comments on"} ${K.name}...`,value:K.comments,onChange:R=>k(B,"comments",R.target.value)})})]},B)))]}),r.jsxs("div",{className:"space-y-4 mt-4",children:[r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"overallPerformance",className:"mb-2 block",children:(y==null?void 0:y.text_fto_reports_overall_performance)||"Overall Performance"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(Ed,{id:"overallPerformance",defaultValue:[d==null?void 0:d.overallPerformance],max:5,min:1,step:.5,disabled:!0,value:[d==null?void 0:d.overallPerformance],onValueChange:F,className:"flex-1"}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[r.jsx("span",{children:(y==null?void 0:y.text_fto_report_poor)||"Poor"}),r.jsx("span",{children:(y==null?void 0:y.text_fto_report_needs_improvement)||"Needs Improvement"}),r.jsx("span",{children:(y==null?void 0:y.text_fto_report_satisfactory)||"Satisfactory"}),r.jsx("span",{children:(y==null?void 0:y.text_fto_report_good)||"Good"}),r.jsx("span",{children:(y==null?void 0:y.text_fto_report_excellent)||"Excellent"})]})]})]}),r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"strengths",className:"mb-2 block",children:(y==null?void 0:y.text_fto_reports_strengths)||"Strengths"}),r.jsx(ss,{id:"strengths",name:"strengths",placeholder:(y==null?void 0:y.text_fto_reports_enter_strengths)||"Trainee's strengths...",value:d==null?void 0:d.strengths,onChange:S})]}),r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"areasForImprovement",className:"mb-2 block",children:(y==null?void 0:y.text_fto_reports_areas_for_improvement)||"Areas for Improvement"}),r.jsx(ss,{id:"areasForImprovement",name:"areasForImprovement",placeholder:(y==null?void 0:y.text_fto_reports_enter_areas_for_improvement)||"Areas that need improvement...",value:d==null?void 0:d.areasForImprovement,onChange:S})]}),r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"additionalComments",className:"mb-2 block",children:(y==null?void 0:y.text_fto_reports_additional_comments)||"Additional Comments"}),r.jsx(ss,{id:"additionalComments",name:"additionalComments",placeholder:(y==null?void 0:y.text_fto_reports_enter_additional_comments)||"Any additional comments or recommendations...",value:d==null?void 0:d.additionalComments,onChange:S})]})]}),r.jsx(un,{children:r.jsx(Ae,{onClick:H,children:(y==null?void 0:y.text_fto_reports_save)||"Save"})})]})]}),r.jsxs(Ae,{variant:"outline",className:"bg-red-600 hover:bg-red-700",onClick:()=>w(!0),children:[r.jsx(wh,{className:"h-4 w-4"}),(y==null?void 0:y.text_reject_report)||"Reject Report"]}),r.jsxs(Ae,{variant:"outline",className:"bg-green-600 hover:bg-green-700",onClick:()=>b(),children:[r.jsx(jd,{className:"h-4 w-4"}),(y==null?void 0:y.text_approve_report)||"Approve Report"]})]})})})})]})}),r.jsx(Je,{children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx("div",{className:"col-span-1",children:r.jsxs(Le,{className:"bg-transparent",children:[r.jsx(mt,{children:r.jsx(kt,{children:(y==null?void 0:y.text_performance_evaluation)||"Performance Evaluation"})}),r.jsx(Je,{children:r.jsx(nr,{className:"h-[50vh] pr-4",children:r.jsx("div",{className:"space-y-6",children:l&&(l==null?void 0:l.categories)&&Array.isArray(l==null?void 0:l.categories)&&(l==null?void 0:l.categories.map((K,B)=>r.jsxs("div",{className:"border-b pb-4 last:border-0",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("h3",{className:"font-medium",children:K.name}),r.jsx("div",{className:"w-32",children:r.jsx(Uwe,{rating:K.rating})})]}),r.jsx("p",{className:"text-sm text-gray-600",children:K.comments})]},B)))})})})]})}),r.jsxs("div",{className:"col-span-1",children:[r.jsxs(Le,{className:"bg-transparent",children:[r.jsx(mt,{children:r.jsx(kt,{children:(y==null?void 0:y.text_overall_assessment)||"Overall Assessment"})}),r.jsx(Je,{children:r.jsx(nr,{className:"h-[20vh] pr-4",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-2",children:(y==null?void 0:y.text_fto_reports_overall_performance)||"Overall Performance"}),r.jsx("div",{className:"w-full",children:r.jsx(Mwe,{rating:l.overallPerformance})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-2",children:(y==null?void 0:y.text_fto_reports_strengths)||"Strengths"}),r.jsx("p",{className:"text-sm",children:l.strengths})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-2",children:(y==null?void 0:y.text_fto_reports_areas_for_improvement)||"Areas for Improvement"}),r.jsx("p",{className:"text-sm",children:l.areasForImprovement})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-2",children:(y==null?void 0:y.text_fto_reports_additional_comments)||"Additional Comments"}),r.jsx("p",{className:"text-sm",children:l.additionalComments})]})]})})})]}),r.jsxs(Le,{className:"bg-transparent h-[28vh] mt-5",children:[r.jsx(mt,{children:r.jsx(kt,{children:(y==null?void 0:y.text_performance_visualization)||"Performance Visualization"})}),r.jsx(Je,{className:"flex justify-center",children:r.jsx("div",{className:"flex justify-center",children:r.jsx(Hwe,{categories:l.categories})})})]})]})]})}),r.jsx(gr,{open:g,onOpenChange:w,children:r.jsxs(xr,{children:[r.jsxs(vr,{children:[r.jsx(yr,{children:(y==null?void 0:y.text_fto_report_reject)||"Reject FTO Report"}),r.jsx(nl,{children:(y==null?void 0:y.text_fto_report_rejection_feedback)||"Please provide a reason for rejecting this report. This feedback will be visible to the report creator."})]}),r.jsxs("div",{className:"py-4",children:[r.jsx(Me,{htmlFor:"rejectionReason",className:"mb-2 block",children:(y==null?void 0:y.text_rejection_reason)||"Rejection Reason"}),r.jsx(ss,{id:"rejectionReason",value:f,onChange:K=>v(K.target.value),placeholder:"Enter reason for rejection...",className:"h-32"})]}),r.jsxs(un,{children:[r.jsx(Ae,{variant:"outline",onClick:()=>w(!1),children:(y==null?void 0:y.text_cancel)||"Cancel"}),r.jsx(Ae,{variant:"destructive",onClick:N,disabled:!f.trim(),children:(y==null?void 0:y.text_fto_report_reject)||"Reject Report"})]})]})})]})})},Hwe=({categories:e})=>{if(!e||e.length===0)return r.jsx("div",{children:"No categories to display."});const t=m.useRef(null);return m.useEffect(()=>{if(!t.current)return;const n=t.current,s=n.getContext("2d");if(!s)return;const a=200;n.width=a,n.height=a,s.clearRect(0,0,a,a);const i=a/2,o=a/2,l=a*.4;s.strokeStyle="#e5e7eb",s.lineWidth=1;for(let y=1;y<=5;y++)s.beginPath(),s.arc(i,o,l*(y/5),0,2*Math.PI),s.stroke();const c=e.length,d=2*Math.PI/c;for(let y=0;y<c;y++){const b=y*d-Math.PI/2,x=i+l*Math.cos(b),N=o+l*Math.sin(b);s.beginPath(),s.moveTo(i,o),s.lineTo(x,N),s.stroke();const S=i+(l+15)*Math.cos(b),k=o+(l+15)*Math.sin(b);s.fillStyle="#6b7280",s.font="8px sans-serif",s.textAlign="center",s.textBaseline="middle",s.fillText(e[y].name,S,k)}s.beginPath();for(let y=0;y<c;y++){const b=y*d-Math.PI/2,x=e[y].rating/5,N=i+l*x*Math.cos(b),S=o+l*x*Math.sin(b);y===0?s.moveTo(N,S):s.lineTo(N,S)}const u=-Math.PI/2,f=e[0].rating/5,v=i+l*f*Math.cos(u),g=i+l*f*Math.sin(u);s.lineTo(v,g);const w=s.createLinearGradient(0,0,0,a);w.addColorStop(0,"rgba(59, 130, 246, 0.2)"),w.addColorStop(1,"rgba(16, 185, 129, 0.2)"),s.fillStyle=w,s.fill(),s.strokeStyle="#3b82f6",s.lineWidth=2,s.stroke();for(let y=0;y<c;y++){const b=y*d-Math.PI/2,x=e[y].rating/5,N=i+l*x*Math.cos(b),S=o+l*x*Math.sin(b);s.beginPath(),s.arc(N,S,3,0,2*Math.PI),s.fillStyle="#3b82f6",s.fill(),s.strokeStyle="#ffffff",s.lineWidth=1,s.stroke()}},[e]),r.jsx("div",{className:"flex justify-center items-center p-4",children:r.jsx("canvas",{ref:t,className:"max-w-full"})})};function EV(){return r.jsxs("div",{className:"flex-1 space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(Se,{className:"w-1 h-10"}),r.jsx(Se,{className:"h-8 w-48"})]}),r.jsx("div",{className:"grid grid-cols-6 gap-4 grid-rows-1 h-full",children:r.jsxs(Le,{className:"col-span-6 row-span-1 bg-card/50  border-primary/20 max-h-[calc(95vh-200px)] overflow-hidden",children:[r.jsxs(mt,{className:"flex flex-row items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Se,{className:"h-5 w-5"}),r.jsx(Se,{className:"h-6 w-32"})]}),r.jsx(Se,{className:"h-9 w-28"})]}),r.jsxs(Je,{children:[r.jsx("div",{className:"relative mb-4",children:r.jsx(Se,{className:"h-10 w-full"})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[...Array(8)].map((e,t)=>r.jsxs(Le,{className:"overflow-hidden",children:[r.jsxs(mt,{className:"p-4 pb-2",children:[r.jsxs("div",{className:"flex justify-between items-start space-x-2",children:[r.jsx(Se,{className:"h-6 w-24"}),r.jsx(Se,{className:"h-6 w-20"})]}),r.jsx(Se,{className:"h-6 w-3/4 mt-2"})]}),r.jsxs(Je,{className:"p-4 pt-0",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Se,{className:"h-4 w-4"}),r.jsx(Se,{className:"h-4 w-24"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Se,{className:"h-4 w-4"}),r.jsx(Se,{className:"h-4 w-32"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Se,{className:"h-4 w-4"}),r.jsx(Se,{className:"h-4 w-28"})]})]}),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsx("div",{className:"flex -space-x-2",children:[...Array(3)].map((n,s)=>r.jsx(Se,{className:"h-8 w-8 rounded-full border-2 border-background"},s))}),r.jsx(Se,{className:"h-8 w-8"})]})]})]},t))}),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsx(Se,{className:"h-4 w-48"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Se,{className:"h-8 w-20"}),r.jsx(Se,{className:"h-8 w-20"})]})]})]})]})})]})}const zwe={ftoreports:[{id:1,traineeName:"Alex Johnson",traineeId:"officer-023",ftoName:"Sergeant Michael Rodriguez",date:"2025-03-25",shift:"Morning",phase:1,categories:[{name:"Appearance",rating:4,comments:"Uniform well maintained and professional"},{name:"Knowledge",rating:3,comments:"Good understanding of basic procedures, needs more work on complex situations"},{name:"Communication",rating:4,comments:"Clear radio communication, good interaction with public"},{name:"Officer Safety",rating:3,comments:"Generally aware of surroundings, occasional lapses in attention"},{name:"Control of Conflict",rating:3,comments:"Handles routine situations well, needs more confidence in tense scenarios"},{name:"Decision Making",rating:3,comments:"Makes sound decisions in standard situations"},{name:"Report Writing",rating:2,comments:"Reports need more detail and structure"}],overallPerformance:3,strengths:"Strong communication skills, professional demeanor, good with the public",areasForImprovement:"Report writing needs significant improvement. Should focus on including all relevant details and proper formatting.",additionalComments:"Officer Johnson shows promise and is receptive to feedback. With continued guidance on report writing and more exposure to complex scenarios, he should develop into a competent officer.",status:"approved",createdAt:"2025-03-25T14:30:00Z",rejectionReason:""},{id:2,traineeName:"Sarah Martinez",traineeId:"officer-045",ftoName:"Sergeant Michael Rodriguez",ftoId:"officer-007",date:"2025-03-26",shift:"Evening",phase:2,categories:[{name:"Appearance",rating:5,comments:"Exemplary uniform and appearance"},{name:"Knowledge",rating:4,comments:"Strong knowledge of procedures and laws"},{name:"Communication",rating:5,comments:"Excellent communication with all parties"},{name:"Officer Safety",rating:4,comments:"Very aware of surroundings and potential threats"},{name:"Control of Conflict",rating:4,comments:"De-escalates situations effectively"},{name:"Decision Making",rating:4,comments:"Makes sound decisions under pressure"},{name:"Report Writing",rating:3,comments:"Reports are adequate but could be more concise"}],overallPerformance:4,strengths:"Exceptional interpersonal skills, strong knowledge base, excellent at de-escalation",areasForImprovement:"Could improve efficiency in report writing and time management during high call volumes",additionalComments:"Officer Martinez is performing above expectations for Phase 2. She handles complex situations with confidence and shows natural leadership abilities.",status:"approved",createdAt:"2025-03-26T22:15:00Z",rejectionReason:""},{id:3,traineeName:"James Wilson",traineeId:"officer-037",ftoName:"Lieutenant David Chen",ftoId:"officer-012",date:"2025-03-27",shift:"Night",phase:3,categories:[{name:"Appearance",rating:4,comments:"Professional appearance"},{name:"Knowledge",rating:3,comments:"Good knowledge but hesitant on some procedures"},{name:"Communication",rating:2,comments:"Needs improvement in radio communication"},{name:"Officer Safety",rating:4,comments:"Very safety conscious"},{name:"Control of Conflict",rating:3,comments:"Handles most conflicts appropriately"},{name:"Decision Making",rating:3,comments:"Generally makes good decisions"},{name:"Report Writing",rating:4,comments:"Detailed and well-structured reports"}],overallPerformance:3,strengths:"Attention to detail, thorough investigations, good report writing",areasForImprovement:"Radio communication needs significant work. Should practice more with dispatch scenarios.",additionalComments:"Officer Wilson is progressing well in Phase 3 but needs focused training on radio procedures and codes.",status:"pending",createdAt:"2025-03-27T06:45:00Z",rejectionReason:""},{id:4,traineeName:"Emily Davis",traineeId:"officer-051",ftoName:"Sergeant Patricia Wong",ftoId:"officer-019",date:"2025-03-28",shift:"Morning",phase:1,categories:[{name:"Appearance",rating:3,comments:"Acceptable appearance, minor uniform issues"},{name:"Knowledge",rating:2,comments:"Struggling with department policies"},{name:"Communication",rating:3,comments:"Adequate communication skills"},{name:"Officer Safety",rating:2,comments:"Several safety concerns observed"},{name:"Control of Conflict",rating:2,comments:"Difficulty managing confrontational situations"},{name:"Decision Making",rating:2,comments:"Hesitant in decision making"},{name:"Report Writing",rating:3,comments:"Reports are adequate"}],overallPerformance:2,strengths:"Empathetic approach to victims, good interviewing techniques",areasForImprovement:"Officer safety is a significant concern. Needs immediate improvement in situational awareness and tactical positioning.",additionalComments:"Officer Davis requires additional training before advancing to Phase 2. Recommend extension of Phase 1 by two weeks with daily safety drills.",status:"rejected",createdAt:"2025-03-28T15:20:00Z",rejectionReason:"Safety concerns must be addressed before approval. Recommend additional training."},{id:5,traineeName:"Robert Thompson",traineeId:"officer-029",ftoName:"Lieutenant David Chen",ftoId:"officer-012",date:"2025-03-29",shift:"Evening",phase:4,categories:[{name:"Appearance",rating:5,comments:"Exemplary appearance"},{name:"Knowledge",rating:5,comments:"Excellent knowledge of all procedures"},{name:"Communication",rating:5,comments:"Outstanding communication skills"},{name:"Officer Safety",rating:5,comments:"Exceptional awareness and safety practices"},{name:"Control of Conflict",rating:5,comments:"Expert at conflict resolution"},{name:"Decision Making",rating:5,comments:"Makes excellent decisions under pressure"},{name:"Report Writing",rating:5,comments:"Reports are comprehensive and well-written"}],overallPerformance:5,strengths:"Exceptional in all areas of policing. Natural leader who sets an example for others.",areasForImprovement:"Ready for solo patrol. No significant areas for improvement noted.",additionalComments:"Officer Thompson has completed all phases of FTO training with distinction. Recommend immediate release to solo patrol duty.",status:"approved",createdAt:"2025-03-29T23:10:00Z",rejectionReason:""}],totalCount:5},Vwe=[{name:"Appearance",rating:3,comments:""},{name:"Knowledge",rating:3,comments:""},{name:"Communication",rating:3,comments:""},{name:"Officer Safety",rating:3,comments:""},{name:"Control of Conflict",rating:3,comments:""},{name:"Decision Making",rating:3,comments:""},{name:"Report Writing",rating:3,comments:""}],Kwe={id:1,traineeName:"Alex Johnson",ftoName:"Sergeant Michael Rodriguez",date:"2025-03-25",shift:"Morning",phase:1,categories:[{name:"Appearance",rating:4,comments:"Uniform well maintained and professional"},{name:"Knowledge",rating:3,comments:"Good understanding of basic procedures, needs more work on complex situations"},{name:"Communication",rating:4,comments:"Clear radio communication, good interaction with public"},{name:"Officer Safety",rating:3,comments:"Generally aware of surroundings, occasional lapses in attention"},{name:"Control of Conflict",rating:3,comments:"Handles routine situations well, needs more confidence in tense scenarios"},{name:"Decision Making",rating:3,comments:"Makes sound decisions in standard situations"},{name:"Report Writing",rating:2,comments:"Reports need more detail and structure"}],overallPerformance:3,strengths:"Strong communication skills, professional demeanor, good with the public",areasForImprovement:"Report writing needs significant improvement. Should focus on including all relevant details and proper formatting.",additionalComments:"Officer Johnson shows promise and is receptive to feedback. With continued guidance on report writing and more exposure to complex scenarios, he should develop into a competent officer.",status:"approved",createdAt:"2025-03-25T14:30:00Z",rejectionReason:""},sj=10;function Wwe(){var se;const[e,t]=m.useState(!1),{tabs:n,setTabData:s}=ko(),a=li(),{data:i}=a.state||{},{toast:o}=ys(),{user:l,setUserField:c}=Yn(),d=(se=l==null?void 0:l.permissions)==null?void 0:se.Pages.ftoreports;if(!d||!d.view)return null;const{locale:u}=ir(),[f,v]=m.useState([]),[g,w]=m.useState(""),[y,b]=m.useState(null),[x,N]=m.useState([]),[S,k]=m.useState(1),[F,$]=m.useState(!1),[U,D]=m.useState(g),[H,K]=m.useState(0),B={id:0,traineeName:"",ftoName:"",date:new Date().toISOString().split("T")[0],shift:"Morning",phase:1,categories:[...f],overallPerformance:3,strengths:"",areasForImprovement:"",additionalComments:"",status:"pending",createdAt:new Date().toISOString(),rejectionReason:""},[R,Z]=m.useState({...B});m.useEffect(()=>{Z(re=>({...re,categories:[...f]}))},[f]),m.useEffect(()=>{const re=setTimeout(()=>{D(g)},500);return()=>{clearTimeout(re)}},[g]);const te=re=>{re.key==="Enter"&&D(g)},ye=()=>ke("fetchFTOCategories",{},Vwe).then(re=>{re?v(re):console.error("No response received.")}).catch(re=>{console.error("Error:",re)});m.useEffect(()=>{ye()},[]);const de=re=>{const{name:G,value:ue}=re.target;Z(ie=>({...ie,[G]:ue}))},le=(re,G,ue)=>{const ie=[...R.categories];ie[re]={...ie[re],[G]:ue},Z(Ee=>({...Ee,categories:ie}))},Q=re=>{Z(G=>({...G,overallPerformance:Number.parseFloat(re[0].toFixed(1))}))},oe=re=>{if(re.length===0)return 0;const G=re.reduce((ue,ie)=>ue+ie.rating,0);return Math.round(G/re.length)},ce=()=>{const re=oe(R.categories);Z(G=>({...G,overallPerformance:re}))};m.useEffect(()=>{ce()},[R==null?void 0:R.categories]);const ee=async(re,G)=>{try{const ue=await ke("fetchFTOReports",{page:re,query:G},zwe);if(!ue||!ue.ftoreports)throw new Error("Invalid response structure");N(ue&&(ue==null?void 0:ue.ftoreports)&&ue.ftoreports.map(ie=>({...ie}))),K(ue.totalCount||0)}catch(ue){console.error("Error fetching ftoReports:",ue),N([])}};m.useEffect(()=>{S!==1&&k(1)},[U]),m.useEffect(()=>{ee(S,U)},[S,U]);const M=Math.ceil(H/sj),E=(re,G,ue)=>ke("fetchFTOReportDataByReportId",{ReportId:G},Kwe).then(ie=>{if(ie){const Ee={...re,categories:Array.isArray(ie==null?void 0:ie.categories)?ie==null?void 0:ie.categories:JSON.parse((ie==null?void 0:ie.categories)||"[]"),strengths:ie==null?void 0:ie.strengths,areasForImprovement:ie==null?void 0:ie.areasForImprovement,additionalComments:ie==null?void 0:ie.additionalComments,rejectionReason:(ie==null?void 0:ie.rejectionReason)||""};b(Ee),s(Ee,G)}else console.error("No response received."),b({})}).catch(ie=>{console.error("Error:",ie),b({})}),q=async()=>{try{await ke("createFTOReport",{report:R})?(o({title:"Report created successfully"}),$(!1),ee(S,U)):o({title:"Error",description:"Failed to save report",variant:"destructive"})}catch(re){console.error("Error saving report:",re),o({title:"Error",description:"Failed to save report",variant:"destructive"})}};return m.useEffect(()=>{if(i){t(!0),b(Array.isArray(i)||typeof i=="object"?i:JSON.parse(i||"[]"));const re=setTimeout(()=>{t(!1)},1e3);return()=>clearTimeout(re)}},[i]),r.jsxs("div",{className:"flex-1 space-y-4 w-full h-full",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("hr",{className:"w-1 h-10 bg-primary border-none rounded-full"}),r.jsx("h2",{className:"text-3xl font-bold",children:(u==null?void 0:u.text_fto_reports_title)||"FTO Reports"})]}),e?r.jsx(EV,{}):r.jsx("div",{className:"grid grid-cols-6 gap-4 grid-rows-1 h-full",children:r.jsx(Le,{className:"col-span-6 row-span-1 bg-card/50  border-primary/20 max-h-[calc(95vh-200px)] overflow-hidden",children:r.jsx(Gn,{mode:"wait",children:y?r.jsx(Xt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"flex w-full ",children:r.jsx(Qwe,{report:y,user:l,userPermissions:d,onClose:()=>{b(null),ee(S,U)}})},"list-view"):r.jsxs(Xt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:[r.jsxs(mt,{className:"flex flex-row items-center justify-between",children:[r.jsxs(kt,{className:"flex items-center",children:[r.jsx(nO,{className:"mr-2 h-5 w-5 text-primary"}),(u==null?void 0:u.text_reports_database)||"Reports Database"]}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsxs(gr,{open:F,onOpenChange:$,children:[d.edit&&(l==null?void 0:l.hasManagePermission)&&r.jsx(to,{asChild:!0,children:r.jsxs(Ae,{size:"sm",variant:"outline",children:[r.jsx(Xr,{className:"mr-2 h-4 w-4"}),(u==null?void 0:u.text_new_report)||"New Report"]})}),r.jsxs(xr,{className:"max-w-4xl max-h-[80vh] overflow-y-auto","aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:(u==null?void 0:u.text_add_new_report)||"Add New Report"})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 py-4",children:[r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"traineeName",children:(u==null?void 0:u.text_trainee_name)||"Trainee Name"}),r.jsx(ht,{id:"traineeName",name:"traineeName",value:R.traineeName,onChange:de,placeholder:(u==null?void 0:u.text_enter_trainee_name)||"Enter trainee name"})]}),r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"ftoName",children:(u==null?void 0:u.text_fto_name)||"FTO Name"}),r.jsx(ht,{id:"ftoName",name:"ftoName",value:R.ftoName,onChange:de,placeholder:(u==null?void 0:u.text_enter_fto_name)||"Enter FTO name"})]}),r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"date",children:(u==null?void 0:u.text_date)||"Date"}),r.jsx(ht,{id:"date",name:"date",type:"date",value:R.date,onChange:de})]}),r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"shift",children:(u==null?void 0:u.text_shift)||"Shift"}),r.jsxs(On,{value:R.shift,onValueChange:re=>Z({...R,shift:re}),children:[r.jsx(Dn,{id:"shift",children:r.jsx(Mn,{placeholder:(u==null?void 0:u.text_select_shift)||"Select shift"})}),r.jsxs(Fn,{children:[r.jsx(Yt,{value:"Morning",children:(u==null?void 0:u.text_morning)||"Morning"}),r.jsx(Yt,{value:"Evening",children:(u==null?void 0:u.text_evening)||"Evening"}),r.jsx(Yt,{value:"Night",children:(u==null?void 0:u.text_night)||"Night"})]})]})]}),r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"phase",children:(u==null?void 0:u.text_training_phase)||"Training Phase"}),r.jsxs(On,{value:R.phase.toString(),onValueChange:re=>Z({...R,phase:Number.parseInt(re)}),children:[r.jsx(Dn,{id:"phase",children:r.jsx(Mn,{placeholder:(u==null?void 0:u.text_select_phase)||"Select phase"})}),r.jsxs(Fn,{children:[r.jsx(Yt,{value:"1",children:(u==null?void 0:u.text_phase_1)||"Phase 1"}),r.jsx(Yt,{value:"2",children:(u==null?void 0:u.text_phase_2)||"Phase 2"}),r.jsx(Yt,{value:"3",children:(u==null?void 0:u.text_phase_3)||"Phase 3"}),r.jsx(Yt,{value:"4",children:(u==null?void 0:u.text_phase_4)||"Phase 4"})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"font-medium",children:(u==null?void 0:u.text_fto_reports_performance_categories)||"Performance Categories"}),R&&(R==null?void 0:R.categories)&&Array.isArray(R==null?void 0:R.categories)&&R.categories.map((re,G)=>r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-center border-b pb-4",children:[r.jsx("div",{className:"md:col-span-1",children:r.jsx(Me,{children:re.name})}),r.jsx("div",{className:"md:col-span-1",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[r.jsx("span",{children:"1"}),r.jsx("span",{children:"2"}),r.jsx("span",{children:"3"}),r.jsx("span",{children:"4"}),r.jsx("span",{children:"5"})]}),r.jsx(Ed,{value:[re.rating],min:1,max:5,step:.5,onValueChange:ue=>{le(G,"rating",ue[0])},className:"flex-1"}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[r.jsx("span",{children:(u==null?void 0:u.text_fto_report_needs_improvement)||"Poor"}),r.jsx("span",{children:(u==null?void 0:u.text_fto_report_excellent)||"Excellent"})]})]})}),r.jsx("div",{className:"md:col-span-2",children:r.jsx(ss,{placeholder:`${(u==null?void 0:u.text_fto_reports_comments_on)||"Comments on"} ${re.name}...`,value:re.comments,onChange:ue=>le(G,"comments",ue.target.value)})})]},G))]}),r.jsxs("div",{className:"space-y-4 mt-4",children:[r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"overallPerformance",className:"mb-2 block",children:(u==null?void 0:u.text_fto_reports_overall_performance)||"Overall Performance"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(Ed,{id:"overallPerformance",defaultValue:[R.overallPerformance],max:5,min:1,step:.5,disabled:!0,value:[R.overallPerformance],onValueChange:Q,className:"flex-1"}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[r.jsx("span",{children:(u==null?void 0:u.text_fto_report_poor)||"Poor"}),r.jsx("span",{children:(u==null?void 0:u.text_fto_report_needs_improvement)||"Needs Improvement"}),r.jsx("span",{children:(u==null?void 0:u.text_fto_report_satisfactory)||"Satisfactory"}),r.jsx("span",{children:(u==null?void 0:u.text_fto_report_good)||"Good"}),r.jsx("span",{children:(u==null?void 0:u.text_fto_report_excellent)||"Excellent"})]})]})]}),r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"strengths",className:"mb-2 block",children:(u==null?void 0:u.text_fto_reports_strengths)||"Strengths"}),r.jsx(ss,{id:"strengths",name:"strengths",placeholder:(u==null?void 0:u.text_fto_reports_enter_strengths)||"Trainee's strengths...",value:R.strengths,onChange:de})]}),r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"areasForImprovement",className:"mb-2 block",children:(u==null?void 0:u.text_fto_reports_areas_for_improvement)||"Areas for Improvement"}),r.jsx(ss,{id:"areasForImprovement",name:"areasForImprovement",placeholder:(u==null?void 0:u.text_fto_reports_enter_areas_for_improvement)||"Areas that need improvement...",value:R.areasForImprovement,onChange:de})]}),r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"additionalComments",className:"mb-2 block",children:(u==null?void 0:u.text_fto_reports_additional_comments)||"Additional Comments"}),r.jsx(ss,{id:"additionalComments",name:"additionalComments",placeholder:(u==null?void 0:u.text_fto_reports_enter_additional_comments)||"Any additional comments or recommendations...",value:R.additionalComments,onChange:de})]})]}),r.jsx(un,{children:r.jsx(Ae,{onClick:q,disabled:!R.traineeName.trim()||!R.ftoName.trim(),children:(u==null?void 0:u.text_fto_reports_save)||"Save"})})]})]})})]}),r.jsxs(Je,{children:[r.jsxs("div",{className:"relative mb-2",children:[r.jsx(ls,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),r.jsx(ht,{placeholder:(u==null?void 0:u.text_fto_reports_search)||"Search FTO Reports...",className:"pl-10 bg-background/50 border-primary/20 focus:border-primary",value:g,onChange:re=>w(re.target.value),onKeyDown:te})]}),r.jsx(nr,{className:"h-[calc(85vh-300px)]",children:r.jsx("div",{className:"items-stretch grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:r.jsx(Gn,{children:x&&Array.isArray(x)&&(x||[]).map(re=>r.jsx(Xt.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"cursor-pointer hover:bg-primary/10",children:r.jsx(vwe,{report:re,onClick:()=>{E(re,re==null?void 0:re.id),ee(S,U)}})},re==null?void 0:re.id))})})}),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsxs("div",{children:[(u==null?void 0:u.text_citizen_showing)||"Showing"," ",(S-1)*sj+1," to ",Math.min(S*sj,H)," ",(u==null?void 0:u.text_of)||"of"," ",H," ",(u==null?void 0:u.text_fto_reports)||"FTO Reports"]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>k(re=>Math.max(1,re-1)),disabled:S===1,children:(u==null?void 0:u.text_previous)||"Previous"}),r.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>k(re=>Math.min(M,re+1)),disabled:S==M||M==0,children:(u==null?void 0:u.text_next)||"Next"})]})]})]})]},"list-view")})})})]})}const $we=({rating:e})=>{const{locale:t}=ir(),n=s=>s<=1?"from-red-500 to-red-600":s<=2?"from-orange-500 to-orange-600":s<=3?"from-yellow-500 to-yellow-600":s<=4?"from-blue-500 to-blue-600":"from-green-500 to-green-600";return r.jsxs("div",{className:"flex items-center space-x-1.5",children:[r.jsx("div",{className:"flex h-2 w-24 rounded-full bg-gray-200 overflow-hidden",children:r.jsx("div",{className:`h-full bg-gradient-to-r ${n(e)}`,style:{width:`${e/5*100}%`}})}),r.jsx("span",{className:"text-sm font-medium bg-gray-800 px-2 py-0.5 rounded-md",children:e?e.toFixed(1):t==null?void 0:t.text_fto_report_na})]})},Gwe=({status:e})=>{const{locale:t}=ir();switch(e){case"approved":return r.jsxs(ze,{className:"bg-green-500 hover:bg-green-600",children:[r.jsx(jd,{className:"h-3 w-3 mr-1"})," ",t==null?void 0:t.text_fto_report_status_approved]});case"rejected":return r.jsxs(ze,{className:"bg-red-500 hover:bg-red-600",children:[r.jsx(wh,{className:"h-3 w-3 mr-1"})," ",t==null?void 0:t.text_fto_report_status_rejected]});case"pending":return r.jsxs(ze,{className:"bg-yellow-500 hover:bg-yellow-600",children:[r.jsx(Mi,{className:"h-3 w-3 mr-1"})," ",t==null?void 0:t.text_fto_report_status_pending]});default:return r.jsx(ze,{children:e})}},qwe=({report:e,onClick:t})=>{const{locale:n}=ir();return r.jsx(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"h-full",children:r.jsxs(Le,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:t,children:[r.jsxs(mt,{className:"pb-2",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsx(kt,{className:"text-lg",children:e.traineeName}),r.jsx(Gwe,{status:e.status})]}),r.jsxs(bx,{children:[n==null?void 0:n.text_fto_report_fto,": ",e.ftoName]})]}),r.jsx(Je,{className:"pb-2",children:r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[n==null?void 0:n.text_fto_report_date,":"]})," ",e.date?m7(new Date(e.date),"MMM d, yyyy"):n==null?void 0:n.text_fto_report_na]}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[n==null?void 0:n.text_fto_report_shift,":"]})," ",e.shift]}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[n==null?void 0:n.text_fto_report_phase,":"]})," ",e.phase]}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[n==null?void 0:n.text_fto_report_rating,":"]}),r.jsx("div",{className:"mt-1",children:r.jsx($we,{rating:e.overallPerformance})})]})]})})]},e.id)})},Jwe=({status:e})=>{const{locale:t}=ir();switch(e){case"approved":return r.jsxs(ze,{className:"bg-green-500 hover:bg-green-600",children:[r.jsx(jd,{className:"h-3 w-3 mr-1"})," ",t==null?void 0:t.text_fto_report_approved]});case"rejected":return r.jsxs(ze,{className:"bg-red-500 hover:bg-red-600",children:[r.jsx(wh,{className:"h-3 w-3 mr-1"})," ",t==null?void 0:t.text_fto_report_rejected]});case"pending":return r.jsxs(ze,{className:"bg-yellow-500 hover:bg-yellow-600",children:[r.jsx(Mi,{className:"h-3 w-3 mr-1"})," ",t==null?void 0:t.text_fto_report_pending]});default:return r.jsx(ze,{children:e})}},Ywe=({rating:e,showLabel:t=!0})=>{const{locale:n}=ir(),a=(o=>o<=1?"from-red-500 to-red-600 text-red-600":o<=2?"from-orange-500 to-orange-600 text-orange-600":o<=3?"from-yellow-500 to-yellow-600 text-yellow-600":o<=4?"from-blue-500 to-blue-600 text-blue-600":"from-green-500 to-green-600 text-green-600")(e),i=e/5*100;return r.jsxs("div",{className:"flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t&&r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx("span",{className:`text-sm font-semibold ${a.split(" ").pop()}`,children:e<=1?n==null?void 0:n.text_fto_report_poor:e<=2?n==null?void 0:n.text_fto_report_needs_improvement:e<=3?n==null?void 0:n.text_fto_report_satisfactory:e<=4?n==null?void 0:n.text_fto_report_good:n==null?void 0:n.text_fto_report_excellent})}),r.jsx("span",{className:`text-sm font-bold ${a.split(" ").pop()}`,children:(e??0).toFixed(1)})]}),r.jsx("div",{className:"relative h-3 w-full bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:r.jsx("div",{className:`absolute top-0 left-0 h-full bg-gradient-to-r ${a.split(" ").slice(0,2).join(" ")} transition-all duration-500 ease-in-out`,style:{width:`${i}%`}})})]})},Xwe=({rating:e})=>{const t=n=>n<=1?"from-red-500 to-red-600":n<=2?"from-orange-500 to-orange-600":n<=3?"from-yellow-500 to-yellow-600":n<=4?"from-blue-500 to-blue-600":"from-green-500 to-green-600";return r.jsxs("div",{className:"flex items-center space-x-1.5",children:[r.jsx("div",{className:"flex h-2 w-24 rounded-full bg-gray-200 overflow-hidden",children:r.jsx("div",{className:`h-full bg-gradient-to-r ${t(e)}`,style:{width:`${e/5*100}%`}})}),r.jsx("span",{className:"text-sm font-medium bg-gray-800 px-2 py-0.5 rounded-md",children:(e??0).toFixed(1)})]})},Zwe=({report:e,userPermissions:t,user:n,onClose:s})=>{Vc();const{toast:a}=ys(),{locale:i}=ir(),[o,l]=m.useState(!1),[c,d]=m.useState(e),[u,f]=m.useState(e),[v,g]=m.useState(""),[w,y]=m.useState(!1);m.useEffect(()=>{$()},[c==null?void 0:c.categories]),m.useEffect(()=>{U()},[u==null?void 0:u.categories]);const b=async()=>{if(c)if(await ke("approveEMSFTOReport",{reportId:c.id})){const K={...c,status:"approved"};d(K),a({title:i==null?void 0:i.text_fto_report_approved_message,description:i==null?void 0:i.text_fto_report_approved_description})}else a({title:i==null?void 0:i.text_fto_report_error,description:i==null?void 0:i.text_fto_report_approve_error})},x=async()=>{c&&v&&(await ke("rejectEMSFTOReport",{reportId:c.id,rejectionReason:v})?(d({...c,status:"rejected",rejectionReason:v}),y(!1),g(""),a({title:i==null?void 0:i.text_fto_report_rejected_message,description:i==null?void 0:i.text_fto_report_rejected_description})):a({title:i==null?void 0:i.text_fto_report_error,description:i==null?void 0:i.text_fto_report_reject_error}))};m.useEffect(()=>{d(e),f(e)},[e]);const N=H=>{const{name:K,value:B}=H.target;f(R=>({...R,[K]:B}))},S=(H,K,B)=>{const R=[...u==null?void 0:u.categories];R[H]={...R[H],[K]:B},f(Z=>({...Z,categories:R}))},k=H=>{f(K=>({...K,overallPerformance:Number.parseFloat(H[0].toFixed(1))}))},F=H=>{if(!Array.isArray(H)||H.length===0)return 0;const K=H.reduce((B,R)=>B+R.rating,0);return Math.round(K/H.length)},$=()=>{const H=F(c.categories);d(K=>({...K,overallPerformance:H}))},U=()=>{const H=F(u==null?void 0:u.categories);f(K=>({...K,overallPerformance:H}))},D=async()=>{try{await ke("saveEMSFTOReport",{reportId:c==null?void 0:c.id,report:u})?(a({title:i==null?void 0:i.text_fto_report_save_success}),d(u),l(!1)):a({title:i==null?void 0:i.text_fto_report_error,description:i==null?void 0:i.text_fto_report_save_error,variant:"destructive"})}catch(H){console.error("Error saving report:",H),a({title:i==null?void 0:i.text_fto_report_error,description:i==null?void 0:i.text_fto_report_save_error,variant:"destructive"})}};return r.jsx(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"flex w-full ",children:r.jsxs("div",{className:"w-full",children:[r.jsx(mt,{className:"flex flex-row items-center justify-between w-full",children:r.jsxs("div",{className:"flex items-center gap-4 w-full justify-between",children:[r.jsx(Ae,{variant:"outline",size:"icon",onClick:s,className:"h-10 w-10",children:r.jsx(Oi,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[c==null?void 0:c.traineeName,"  - ",(i==null?void 0:i.text_phase)||"Phase"," ",c.phase,r.jsx(Jwe,{status:c.status})]}),r.jsxs("p",{className:"text-muted-foreground",children:[(i==null?void 0:i.text_fto)||"FTO",": ",c&&(c==null?void 0:c.ftoName)," | ",(i==null?void 0:i.text_date)||"Date",": ",$n(c.date)," | ",(i==null?void 0:i.text_shift)||"Shift",": ",c.shift]}),r.jsx("p",{children:(c==null?void 0:c.status)=="rejected"&&r.jsxs("div",{className:"text-red-500",children:[r.jsxs("strong",{children:[(i==null?void 0:i.text_rejection_reason)||"Rejection Reason",":"]})," ",c.rejectionReason]})})]}),r.jsx("div",{className:"ml-auto",children:r.jsx("div",{className:"flex gap-2",children:(t==null?void 0:t.edit)&&r.jsx(r.Fragment,{children:(c==null?void 0:c.status)=="pending"&&r.jsxs(r.Fragment,{children:[r.jsxs(gr,{open:o,onOpenChange:l,children:[t.edit&&(n==null?void 0:n.hasManagePermission)&&r.jsx(to,{asChild:!0,children:r.jsxs(Ae,{variant:"outline",onClick:()=>l(!0),children:[r.jsx(ks,{className:"h-4 w-4"}),(i==null?void 0:i.text_edit)||"Edit"]})}),r.jsxs(xr,{className:"max-w-4xl max-h-[80vh] overflow-y-auto","aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:(i==null?void 0:i.text_edit_report)||"Edit Report"})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 py-4",children:[r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"traineeName",children:(i==null?void 0:i.text_fto_reports_trainee_name)||"Trainee Name"}),r.jsx(ht,{id:"traineeName",name:"traineeName",value:u==null?void 0:u.traineeName,onChange:N,placeholder:"Enter trainee name"})]}),r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"ftoName",children:(i==null?void 0:i.text_fto_reports_fto_name)||"FTO Name"}),r.jsx(ht,{id:"ftoName",name:"ftoName",value:u==null?void 0:u.ftoName,onChange:N,placeholder:"Enter FTO name"})]}),r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"date",children:(i==null?void 0:i.text_fto_reports_date)||"Date"}),r.jsx(ht,{id:"date",name:"date",type:"date",value:u==null?void 0:u.date,onChange:N})]}),r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"shift",children:(i==null?void 0:i.text_fto_reports_shift)||"Shift"}),r.jsxs(On,{value:u==null?void 0:u.shift,onValueChange:H=>f({...u,shift:H}),children:[r.jsx(Dn,{id:"shift",children:r.jsx(Mn,{placeholder:(i==null?void 0:i.text_fto_reports_select_shift)||"Select shift"})}),r.jsxs(Fn,{children:[r.jsx(Yt,{value:"Morning",children:(i==null?void 0:i.text_morning)||"Morning"}),r.jsx(Yt,{value:"Evening",children:(i==null?void 0:i.text_evening)||"Evening"}),r.jsx(Yt,{value:"Night",children:(i==null?void 0:i.text_night)||"Night"})]})]})]}),r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"phase",children:(i==null?void 0:i.text_training_phase)||"Training Phase"}),r.jsxs(On,{value:u==null?void 0:u.phase.toString(),onValueChange:H=>f({...u,phase:Number.parseInt(H)}),children:[r.jsx(Dn,{id:"phase",children:r.jsx(Mn,{placeholder:(i==null?void 0:i.text_select_phase)||"Select phase"})}),r.jsxs(Fn,{children:[r.jsx(Yt,{value:"1",children:(i==null?void 0:i.text_phase_1)||"Phase 1"}),r.jsx(Yt,{value:"2",children:(i==null?void 0:i.text_phase_2)||"Phase 2"}),r.jsx(Yt,{value:"3",children:(i==null?void 0:i.text_phase_3)||"Phase 3"}),r.jsx(Yt,{value:"4",children:(i==null?void 0:i.text_phase_4)||"Phase 4"})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"font-medium",children:(i==null?void 0:i.text_fto_reports_performance_categories)||"Performance Categories"}),u&&(u==null?void 0:u.categories)&&Array.isArray(u==null?void 0:u.categories)&&(u==null?void 0:u.categories.map((H,K)=>r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-center border-b pb-4",children:[r.jsx("div",{className:"md:col-span-1",children:r.jsx(Me,{children:H.name})}),r.jsx("div",{className:"md:col-span-1",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[r.jsx("span",{children:"1"}),r.jsx("span",{children:"2"}),r.jsx("span",{children:"3"}),r.jsx("span",{children:"4"}),r.jsx("span",{children:"5"})]}),r.jsx(Ed,{value:[H.rating],min:1,max:5,step:.5,onValueChange:B=>{S(K,"rating",B[0])},className:"flex-1"}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[r.jsx("span",{children:(i==null?void 0:i.text_fto_report_needs_improvement)||"Poor"}),r.jsx("span",{children:(i==null?void 0:i.text_fto_report_excellent)||"Excellent"})]})]})}),r.jsx("div",{className:"md:col-span-2",children:r.jsx(ss,{placeholder:`${(i==null?void 0:i.text_fto_reports_comments_on)||"Comments on"} ${H.name}...`,value:H.comments,onChange:B=>S(K,"comments",B.target.value)})})]},K)))]}),r.jsxs("div",{className:"space-y-4 mt-4",children:[r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"overallPerformance",className:"mb-2 block",children:(i==null?void 0:i.text_fto_reports_overall_performance)||"Overall Performance"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(Ed,{id:"overallPerformance",defaultValue:[u==null?void 0:u.overallPerformance],max:5,min:1,step:.5,disabled:!0,value:[u==null?void 0:u.overallPerformance],onValueChange:k,className:"flex-1"}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[r.jsx("span",{children:(i==null?void 0:i.text_fto_report_poor)||"Poor"}),r.jsx("span",{children:(i==null?void 0:i.text_fto_report_needs_improvement)||"Needs Improvement"}),r.jsx("span",{children:(i==null?void 0:i.text_fto_report_satisfactory)||"Satisfactory"}),r.jsx("span",{children:(i==null?void 0:i.text_fto_report_good)||"Good"}),r.jsx("span",{children:(i==null?void 0:i.text_fto_report_excellent)||"Excellent"})]})]})]}),r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"strengths",className:"mb-2 block",children:(i==null?void 0:i.text_fto_reports_strengths)||"Strengths"}),r.jsx(ss,{id:"strengths",name:"strengths",placeholder:(i==null?void 0:i.text_fto_reports_enter_strengths)||"Trainee's strengths...",value:u==null?void 0:u.strengths,onChange:N})]}),r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"areasForImprovement",className:"mb-2 block",children:(i==null?void 0:i.text_fto_reports_areas_for_improvement)||"Areas for Improvement"}),r.jsx(ss,{id:"areasForImprovement",name:"areasForImprovement",placeholder:(i==null?void 0:i.text_fto_reports_enter_areas_for_improvement)||"Areas that need improvement...",value:u==null?void 0:u.areasForImprovement,onChange:N})]}),r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"additionalComments",className:"mb-2 block",children:(i==null?void 0:i.text_fto_reports_additional_comments)||"Additional Comments"}),r.jsx(ss,{id:"additionalComments",name:"additionalComments",placeholder:(i==null?void 0:i.text_fto_reports_enter_additional_comments)||"Any additional comments or recommendations...",value:u==null?void 0:u.additionalComments,onChange:N})]})]}),r.jsx(un,{children:r.jsx(Ae,{onClick:D,children:(i==null?void 0:i.text_fto_reports_save)||"Save"})})]})]}),r.jsxs(Ae,{variant:"outline",className:"bg-red-600 hover:bg-red-700",onClick:()=>y(!0),children:[r.jsx(wh,{className:"h-4 w-4"}),(i==null?void 0:i.text_reject_report)||"Reject Report"]}),r.jsxs(Ae,{variant:"outline",className:"bg-green-600 hover:bg-green-700",onClick:()=>b(),children:[r.jsx(jd,{className:"h-4 w-4"}),(i==null?void 0:i.text_approve_report)||"Approve Report"]})]})})})})]})}),r.jsx(Je,{children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx("div",{className:"col-span-1",children:r.jsxs(Le,{className:"bg-transparent",children:[r.jsx(mt,{children:r.jsx(kt,{children:(i==null?void 0:i.text_performance_evaluation)||"Performance Evaluation"})}),r.jsx(Je,{children:r.jsx(nr,{className:"h-[50vh] pr-4",children:r.jsx("div",{className:"space-y-6",children:c&&(c==null?void 0:c.categories)&&Array.isArray(c==null?void 0:c.categories)&&(c==null?void 0:c.categories.map((H,K)=>r.jsxs("div",{className:"border-b pb-4 last:border-0",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("h3",{className:"font-medium",children:H.name}),r.jsx("div",{className:"w-32",children:r.jsx(Xwe,{rating:H.rating})})]}),r.jsx("p",{className:"text-sm text-gray-600",children:H.comments})]},K)))})})})]})}),r.jsxs("div",{className:"col-span-1",children:[r.jsxs(Le,{className:"bg-transparent",children:[r.jsx(mt,{children:r.jsx(kt,{children:(i==null?void 0:i.text_overall_assessment)||"Overall Assessment"})}),r.jsx(Je,{children:r.jsx(nr,{className:"h-[20vh] pr-4",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-2",children:(i==null?void 0:i.text_fto_reports_overall_performance)||"Overall Performance"}),r.jsx("div",{className:"w-full",children:r.jsx(Ywe,{rating:c.overallPerformance})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-2",children:(i==null?void 0:i.text_fto_reports_strengths)||"Strengths"}),r.jsx("p",{className:"text-sm",children:c.strengths})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-2",children:(i==null?void 0:i.text_fto_reports_areas_for_improvement)||"Areas for Improvement"}),r.jsx("p",{className:"text-sm",children:c.areasForImprovement})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-2",children:(i==null?void 0:i.text_fto_reports_additional_comments)||"Additional Comments"}),r.jsx("p",{className:"text-sm",children:c.additionalComments})]})]})})})]}),r.jsxs(Le,{className:"bg-transparent h-[28vh] mt-5",children:[r.jsx(mt,{children:r.jsx(kt,{children:(i==null?void 0:i.text_performance_visualization)||"Performance Visualization"})}),r.jsx(Je,{className:"flex justify-center",children:r.jsx("div",{className:"flex justify-center",children:r.jsx(ebe,{categories:c.categories})})})]})]})]})}),r.jsx(gr,{open:w,onOpenChange:y,children:r.jsxs(xr,{children:[r.jsxs(vr,{children:[r.jsx(yr,{children:(i==null?void 0:i.text_fto_report_reject)||"Reject FTO Report"}),r.jsx(nl,{children:(i==null?void 0:i.text_fto_report_rejection_feedback)||"Please provide a reason for rejecting this report. This feedback will be visible to the report creator."})]}),r.jsxs("div",{className:"py-4",children:[r.jsx(Me,{htmlFor:"rejectionReason",className:"mb-2 block",children:(i==null?void 0:i.text_rejection_reason)||"Rejection Reason"}),r.jsx(ss,{id:"rejectionReason",value:v,onChange:H=>g(H.target.value),placeholder:"Enter reason for rejection...",className:"h-32"})]}),r.jsxs(un,{children:[r.jsx(Ae,{variant:"outline",onClick:()=>y(!1),children:(i==null?void 0:i.text_cancel)||"Cancel"}),r.jsx(Ae,{variant:"destructive",onClick:x,disabled:!v.trim(),children:(i==null?void 0:i.text_fto_report_reject)||"Reject Report"})]})]})})]})})},ebe=({categories:e})=>{if(!e||e.length===0)return r.jsx("div",{children:"No categories to display."});const t=m.useRef(null);return m.useEffect(()=>{if(!t.current)return;const n=t.current,s=n.getContext("2d");if(!s)return;const a=200;n.width=a,n.height=a,s.clearRect(0,0,a,a);const i=a/2,o=a/2,l=a*.4;s.strokeStyle="#e5e7eb",s.lineWidth=1;for(let y=1;y<=5;y++)s.beginPath(),s.arc(i,o,l*(y/5),0,2*Math.PI),s.stroke();const c=e.length,d=2*Math.PI/c;for(let y=0;y<c;y++){const b=y*d-Math.PI/2,x=i+l*Math.cos(b),N=o+l*Math.sin(b);s.beginPath(),s.moveTo(i,o),s.lineTo(x,N),s.stroke();const S=i+(l+15)*Math.cos(b),k=o+(l+15)*Math.sin(b);s.fillStyle="#6b7280",s.font="8px sans-serif",s.textAlign="center",s.textBaseline="middle",s.fillText(e[y].name,S,k)}s.beginPath();for(let y=0;y<c;y++){const b=y*d-Math.PI/2,x=e[y].rating/5,N=i+l*x*Math.cos(b),S=o+l*x*Math.sin(b);y===0?s.moveTo(N,S):s.lineTo(N,S)}const u=-Math.PI/2,f=e[0].rating/5,v=i+l*f*Math.cos(u),g=o+l*f*Math.sin(u);s.lineTo(v,g);const w=s.createLinearGradient(0,0,0,a);w.addColorStop(0,"rgba(59, 130, 246, 0.2)"),w.addColorStop(1,"rgba(16, 185, 129, 0.2)"),s.fillStyle=w,s.fill(),s.strokeStyle="#3b82f6",s.lineWidth=2,s.stroke();for(let y=0;y<c;y++){const b=y*d-Math.PI/2,x=e[y].rating/5,N=i+l*x*Math.cos(b),S=o+l*x*Math.sin(b);s.beginPath(),s.arc(N,S,3,0,2*Math.PI),s.fillStyle="#3b82f6",s.fill(),s.strokeStyle="#ffffff",s.lineWidth=1,s.stroke()}},[e]),r.jsx("div",{className:"flex justify-center items-center p-4",children:r.jsx("canvas",{ref:t,className:"max-w-full"})})},tbe={ftoreports:[{id:1,traineeName:"Alex Johnson",traineeId:"officer-023",ftoName:"Sergeant Michael Rodriguez",date:"2025-03-25",shift:"Morning",phase:1,categories:[{name:"Appearance",rating:4,comments:"Uniform well maintained and professional"},{name:"Knowledge",rating:3,comments:"Good understanding of basic procedures, needs more work on complex situations"},{name:"Communication",rating:4,comments:"Clear radio communication, good interaction with public"},{name:"Officer Safety",rating:3,comments:"Generally aware of surroundings, occasional lapses in attention"},{name:"Control of Conflict",rating:3,comments:"Handles routine situations well, needs more confidence in tense scenarios"},{name:"Decision Making",rating:3,comments:"Makes sound decisions in standard situations"},{name:"Report Writing",rating:2,comments:"Reports need more detail and structure"}],overallPerformance:3,strengths:"Strong communication skills, professional demeanor, good with the public",areasForImprovement:"Report writing needs significant improvement. Should focus on including all relevant details and proper formatting.",additionalComments:"Officer Johnson shows promise and is receptive to feedback. With continued guidance on report writing and more exposure to complex scenarios, he should develop into a competent officer.",status:"approved",createdAt:"2025-03-25T14:30:00Z",rejectionReason:""},{id:2,traineeName:"Sarah Martinez",traineeId:"officer-045",ftoName:"Sergeant Michael Rodriguez",ftoId:"officer-007",date:"2025-03-26",shift:"Evening",phase:2,categories:[{name:"Appearance",rating:5,comments:"Exemplary uniform and appearance"},{name:"Knowledge",rating:4,comments:"Strong knowledge of procedures and laws"},{name:"Communication",rating:5,comments:"Excellent communication with all parties"},{name:"Officer Safety",rating:4,comments:"Very aware of surroundings and potential threats"},{name:"Control of Conflict",rating:4,comments:"De-escalates situations effectively"},{name:"Decision Making",rating:4,comments:"Makes sound decisions under pressure"},{name:"Report Writing",rating:3,comments:"Reports are adequate but could be more concise"}],overallPerformance:4,strengths:"Exceptional interpersonal skills, strong knowledge base, excellent at de-escalation",areasForImprovement:"Could improve efficiency in report writing and time management during high call volumes",additionalComments:"Officer Martinez is performing above expectations for Phase 2. She handles complex situations with confidence and shows natural leadership abilities.",status:"approved",createdAt:"2025-03-26T22:15:00Z",rejectionReason:""},{id:3,traineeName:"James Wilson",traineeId:"officer-037",ftoName:"Lieutenant David Chen",ftoId:"officer-012",date:"2025-03-27",shift:"Night",phase:3,categories:[{name:"Appearance",rating:4,comments:"Professional appearance"},{name:"Knowledge",rating:3,comments:"Good knowledge but hesitant on some procedures"},{name:"Communication",rating:2,comments:"Needs improvement in radio communication"},{name:"Officer Safety",rating:4,comments:"Very safety conscious"},{name:"Control of Conflict",rating:3,comments:"Handles most conflicts appropriately"},{name:"Decision Making",rating:3,comments:"Generally makes good decisions"},{name:"Report Writing",rating:4,comments:"Detailed and well-structured reports"}],overallPerformance:3,strengths:"Attention to detail, thorough investigations, good report writing",areasForImprovement:"Radio communication needs significant work. Should practice more with dispatch scenarios.",additionalComments:"Officer Wilson is progressing well in Phase 3 but needs focused training on radio procedures and codes.",status:"pending",createdAt:"2025-03-27T06:45:00Z",rejectionReason:""},{id:4,traineeName:"Emily Davis",traineeId:"officer-051",ftoName:"Sergeant Patricia Wong",ftoId:"officer-019",date:"2025-03-28",shift:"Morning",phase:1,categories:[{name:"Appearance",rating:3,comments:"Acceptable appearance, minor uniform issues"},{name:"Knowledge",rating:2,comments:"Struggling with department policies"},{name:"Communication",rating:3,comments:"Adequate communication skills"},{name:"Officer Safety",rating:2,comments:"Several safety concerns observed"},{name:"Control of Conflict",rating:2,comments:"Difficulty managing confrontational situations"},{name:"Decision Making",rating:2,comments:"Hesitant in decision making"},{name:"Report Writing",rating:3,comments:"Reports are adequate"}],overallPerformance:2,strengths:"Empathetic approach to victims, good interviewing techniques",areasForImprovement:"Officer safety is a significant concern. Needs immediate improvement in situational awareness and tactical positioning.",additionalComments:"Officer Davis requires additional training before advancing to Phase 2. Recommend extension of Phase 1 by two weeks with daily safety drills.",status:"rejected",createdAt:"2025-03-28T15:20:00Z",rejectionReason:"Safety concerns must be addressed before approval. Recommend additional training."},{id:5,traineeName:"Robert Thompson",traineeId:"officer-029",ftoName:"Lieutenant David Chen",ftoId:"officer-012",date:"2025-03-29",shift:"Evening",phase:4,categories:[{name:"Appearance",rating:5,comments:"Exemplary appearance"},{name:"Knowledge",rating:5,comments:"Excellent knowledge of all procedures"},{name:"Communication",rating:5,comments:"Outstanding communication skills"},{name:"Officer Safety",rating:5,comments:"Exceptional awareness and safety practices"},{name:"Control of Conflict",rating:5,comments:"Expert at conflict resolution"},{name:"Decision Making",rating:5,comments:"Makes excellent decisions under pressure"},{name:"Report Writing",rating:5,comments:"Reports are comprehensive and well-written"}],overallPerformance:5,strengths:"Exceptional in all areas of policing. Natural leader who sets an example for others.",areasForImprovement:"Ready for solo patrol. No significant areas for improvement noted.",additionalComments:"Officer Thompson has completed all phases of FTO training with distinction. Recommend immediate release to solo patrol duty.",status:"approved",createdAt:"2025-03-29T23:10:00Z",rejectionReason:""}],totalCount:5},rbe=[{name:"Appearance",rating:3,comments:""},{name:"Knowledge",rating:3,comments:""},{name:"Communication",rating:3,comments:""},{name:"Officer Safety",rating:3,comments:""},{name:"Control of Conflict",rating:3,comments:""},{name:"Decision Making",rating:3,comments:""},{name:"Report Writing",rating:3,comments:""}],nbe={id:1,traineeName:"Alex Johnson",ftoName:"Sergeant Michael Rodriguez",date:"2025-03-25",shift:"Morning",phase:1,categories:[{name:"Appearance",rating:4,comments:"Uniform well maintained and professional"},{name:"Knowledge",rating:3,comments:"Good understanding of basic procedures, needs more work on complex situations"},{name:"Communication",rating:4,comments:"Clear radio communication, good interaction with public"},{name:"Officer Safety",rating:3,comments:"Generally aware of surroundings, occasional lapses in attention"},{name:"Control of Conflict",rating:3,comments:"Handles routine situations well, needs more confidence in tense scenarios"},{name:"Decision Making",rating:3,comments:"Makes sound decisions in standard situations"},{name:"Report Writing",rating:2,comments:"Reports need more detail and structure"}],overallPerformance:3,strengths:"Strong communication skills, professional demeanor, good with the public",areasForImprovement:"Report writing needs significant improvement. Should focus on including all relevant details and proper formatting.",additionalComments:"Officer Johnson shows promise and is receptive to feedback. With continued guidance on report writing and more exposure to complex scenarios, he should develop into a competent officer.",status:"approved",createdAt:"2025-03-25T14:30:00Z",rejectionReason:""},ij=10;function sbe(){var se;const[e,t]=m.useState(!1),{tabs:n,setTabData:s}=ko(),a=li(),{data:i}=a.state||{},{toast:o}=ys(),{user:l,setUserField:c}=Yn(),d=(se=l==null?void 0:l.permissions)==null?void 0:se.Pages.emsftoreports;if(!d||!d.view)return null;const{locale:u}=ir(),[f,v]=m.useState([]),[g,w]=m.useState(""),[y,b]=m.useState(null),[x,N]=m.useState([]),[S,k]=m.useState(1),[F,$]=m.useState(!1),[U,D]=m.useState(g),[H,K]=m.useState(0),B={id:0,traineeName:"",ftoName:"",date:new Date().toISOString().split("T")[0],shift:"Morning",phase:1,categories:[...f],overallPerformance:3,strengths:"",areasForImprovement:"",additionalComments:"",status:"pending",createdAt:new Date().toISOString(),rejectionReason:""},[R,Z]=m.useState({...B});m.useEffect(()=>{Z(re=>({...re,categories:[...f]}))},[f]),m.useEffect(()=>{const re=setTimeout(()=>{D(g)},500);return()=>{clearTimeout(re)}},[g]);const te=re=>{re.key==="Enter"&&D(g)},ye=()=>ke("fetchFTOCategories",{},rbe).then(re=>{re?v(re):console.error("No response received.")}).catch(re=>{console.error("Error:",re)});m.useEffect(()=>{ye()},[]);const de=re=>{const{name:G,value:ue}=re.target;Z(ie=>({...ie,[G]:ue}))},le=(re,G,ue)=>{const ie=[...R.categories];ie[re]={...ie[re],[G]:ue},Z(Ee=>({...Ee,categories:ie}))},Q=re=>{Z(G=>({...G,overallPerformance:Number.parseFloat(re[0].toFixed(1))}))},oe=re=>{if(re.length===0)return 0;const G=re.reduce((ue,ie)=>ue+ie.rating,0);return Math.round(G/re.length)},ce=()=>{const re=oe(R.categories);Z(G=>({...G,overallPerformance:re}))};m.useEffect(()=>{ce()},[R==null?void 0:R.categories]);const ee=async(re,G)=>{try{const ue=await ke("fetchEMSFTOReports",{page:re,query:G},tbe);if(!ue||!ue.ftoreports)throw new Error("Invalid response structure");N(ue&&(ue==null?void 0:ue.ftoreports)&&ue.ftoreports.map(ie=>({...ie}))),K(ue.totalCount||0)}catch(ue){console.error("Error fetching ftoReports:",ue),N([])}};m.useEffect(()=>{S!==1&&k(1)},[U]),m.useEffect(()=>{ee(S,U)},[S,U]);const M=Math.ceil(H/ij),E=(re,G,ue)=>ke("fetchEMSFTOReportDataByReportId",{ReportId:G},nbe).then(ie=>{if(ie){const Ee={...re,categories:Array.isArray(ie==null?void 0:ie.categories)?ie==null?void 0:ie.categories:JSON.parse((ie==null?void 0:ie.categories)||"[]"),strengths:ie==null?void 0:ie.strengths,areasForImprovement:ie==null?void 0:ie.areasForImprovement,additionalComments:ie==null?void 0:ie.additionalComments,rejectionReason:(ie==null?void 0:ie.rejectionReason)||""};b(Ee),s(Ee,G)}else console.error("No response received."),b({})}).catch(ie=>{console.error("Error:",ie),b({})}),q=async()=>{try{await ke("createEMSFTOReport",{report:R})?(o({title:u==null?void 0:u.text_fto_reports_created_success}),$(!1),ee(S,U)):o({title:u==null?void 0:u.text_fto_reports_error,description:u==null?void 0:u.text_fto_reports_save_error,variant:"destructive"})}catch(re){console.error("Error saving report:",re),o({title:u==null?void 0:u.text_fto_reports_error,description:u==null?void 0:u.text_fto_reports_save_error,variant:"destructive"})}};return m.useEffect(()=>{if(i){t(!0),b(Array.isArray(i)||typeof i=="object"?i:JSON.parse(i||"[]"));const re=setTimeout(()=>{t(!1)},1e3);return()=>clearTimeout(re)}},[i]),r.jsxs("div",{className:"flex-1 space-y-4 w-full h-full",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("hr",{className:"w-1 h-10 bg-primary border-none rounded-full"}),r.jsx("h2",{className:"text-3xl font-bold",children:(u==null?void 0:u.text_fto_reports_title)||"FTO Reports"})]}),e?r.jsx(EV,{}):r.jsx("div",{className:"grid grid-cols-6 gap-4 grid-rows-1 h-full",children:r.jsx(Le,{className:"col-span-6 row-span-1 bg-card/50  border-primary/20 max-h-[calc(95vh-200px)] overflow-hidden",children:r.jsx(Gn,{mode:"wait",children:y?r.jsx(Xt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"flex w-full ",children:r.jsx(Zwe,{report:y,user:l,userPermissions:d,onClose:()=>{b(null),ee(S,U)}})},"list-view"):r.jsxs(Xt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:[r.jsxs(mt,{className:"flex flex-row items-center justify-between",children:[r.jsxs(kt,{className:"flex items-center",children:[r.jsx(nO,{className:"mr-2 h-5 w-5 text-primary"}),(u==null?void 0:u.text_reports_database)||"Reports Database"]}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsxs(gr,{open:F,onOpenChange:$,children:[d.edit&&(l==null?void 0:l.hasManagePermission)&&r.jsx(to,{asChild:!0,children:r.jsxs(Ae,{size:"sm",variant:"outline",children:[r.jsx(Xr,{className:"mr-2 h-4 w-4"}),(u==null?void 0:u.text_new_report)||"New Report"]})}),r.jsxs(xr,{className:"max-w-4xl max-h-[80vh] overflow-y-auto","aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:(u==null?void 0:u.text_add_new_report)||"Add New Report"})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 py-4",children:[r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"traineeName",children:(u==null?void 0:u.text_trainee_name)||"Trainee Name"}),r.jsx(ht,{id:"traineeName",name:"traineeName",value:R.traineeName,onChange:de,placeholder:(u==null?void 0:u.text_enter_trainee_name)||"Enter trainee name"})]}),r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"ftoName",children:(u==null?void 0:u.text_fto_name)||"FTO Name"}),r.jsx(ht,{id:"ftoName",name:"ftoName",value:R.ftoName,onChange:de,placeholder:(u==null?void 0:u.text_enter_fto_name)||"Enter FTO name"})]}),r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"date",children:(u==null?void 0:u.text_date)||"Date"}),r.jsx(ht,{id:"date",name:"date",type:"date",value:R.date,onChange:de})]}),r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"shift",children:(u==null?void 0:u.text_shift)||"Shift"}),r.jsxs(On,{value:R.shift,onValueChange:re=>Z({...R,shift:re}),children:[r.jsx(Dn,{id:"shift",children:r.jsx(Mn,{placeholder:(u==null?void 0:u.text_select_shift)||"Select shift"})}),r.jsxs(Fn,{children:[r.jsx(Yt,{value:"Morning",children:(u==null?void 0:u.text_morning)||"Morning"}),r.jsx(Yt,{value:"Evening",children:(u==null?void 0:u.text_evening)||"Evening"}),r.jsx(Yt,{value:"Night",children:(u==null?void 0:u.text_night)||"Night"})]})]})]}),r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"phase",children:(u==null?void 0:u.text_training_phase)||"Training Phase"}),r.jsxs(On,{value:R.phase.toString(),onValueChange:re=>Z({...R,phase:Number.parseInt(re)}),children:[r.jsx(Dn,{id:"phase",children:r.jsx(Mn,{placeholder:(u==null?void 0:u.text_select_phase)||"Select phase"})}),r.jsxs(Fn,{children:[r.jsx(Yt,{value:"1",children:(u==null?void 0:u.text_phase_1)||"Phase 1"}),r.jsx(Yt,{value:"2",children:(u==null?void 0:u.text_phase_2)||"Phase 2"}),r.jsx(Yt,{value:"3",children:(u==null?void 0:u.text_phase_3)||"Phase 3"}),r.jsx(Yt,{value:"4",children:(u==null?void 0:u.text_phase_4)||"Phase 4"})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"font-medium",children:(u==null?void 0:u.text_fto_reports_performance_categories)||"Performance Categories"}),"                            ",R&&(R==null?void 0:R.categories)&&Array.isArray(R==null?void 0:R.categories)&&R.categories.map((re,G)=>r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-center border-b pb-4",children:[r.jsx("div",{className:"md:col-span-1",children:r.jsx(Me,{children:re.name})}),r.jsx("div",{className:"md:col-span-1",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[r.jsx("span",{children:"1"}),r.jsx("span",{children:"2"}),r.jsx("span",{children:"3"}),r.jsx("span",{children:"4"}),r.jsx("span",{children:"5"})]}),r.jsx(Ed,{value:[re.rating],min:1,max:5,step:.5,onValueChange:ue=>{le(G,"rating",ue[0])},className:"flex-1"}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[r.jsx("span",{children:(u==null?void 0:u.text_fto_report_needs_improvement)||"Poor"}),r.jsx("span",{children:(u==null?void 0:u.text_fto_report_excellent)||"Excellent"})]})]})}),r.jsx("div",{className:"md:col-span-2",children:r.jsx(ss,{placeholder:`${(u==null?void 0:u.text_fto_reports_comments_on)||"Comments on"} ${re.name}...`,value:re.comments,onChange:ue=>le(G,"comments",ue.target.value)})})]},G))]}),r.jsxs("div",{className:"space-y-4 mt-4",children:[r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"overallPerformance",className:"mb-2 block",children:(u==null?void 0:u.text_fto_reports_overall_performance)||"Overall Performance"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(Ed,{id:"overallPerformance",defaultValue:[R.overallPerformance],max:5,min:1,step:.5,disabled:!0,value:[R.overallPerformance],onValueChange:Q,className:"flex-1"}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[r.jsx("span",{children:(u==null?void 0:u.text_fto_report_poor)||"Poor"}),r.jsx("span",{children:(u==null?void 0:u.text_fto_report_needs_improvement)||"Needs Improvement"}),r.jsx("span",{children:(u==null?void 0:u.text_fto_report_satisfactory)||"Satisfactory"}),r.jsx("span",{children:(u==null?void 0:u.text_fto_report_good)||"Good"}),r.jsx("span",{children:(u==null?void 0:u.text_fto_report_excellent)||"Excellent"})]})]})]}),r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"strengths",className:"mb-2 block",children:(u==null?void 0:u.text_fto_reports_strengths)||"Strengths"}),r.jsx(ss,{id:"strengths",name:"strengths",placeholder:(u==null?void 0:u.text_fto_reports_enter_strengths)||"Trainee's strengths...",value:R.strengths,onChange:de})]}),r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"areasForImprovement",className:"mb-2 block",children:(u==null?void 0:u.text_fto_reports_areas_for_improvement)||"Areas for Improvement"}),r.jsx(ss,{id:"areasForImprovement",name:"areasForImprovement",placeholder:(u==null?void 0:u.text_fto_reports_enter_areas_for_improvement)||"Areas that need improvement...",value:R.areasForImprovement,onChange:de})]}),r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"additionalComments",className:"mb-2 block",children:(u==null?void 0:u.text_fto_reports_additional_comments)||"Additional Comments"}),r.jsx(ss,{id:"additionalComments",name:"additionalComments",placeholder:(u==null?void 0:u.text_fto_reports_enter_additional_comments)||"Any additional comments or recommendations...",value:R.additionalComments,onChange:de})]})]}),r.jsx(un,{children:r.jsx(Ae,{onClick:q,disabled:!R.traineeName.trim()||!R.ftoName.trim(),children:(u==null?void 0:u.text_fto_reports_save)||"Save"})})]})]})})]}),r.jsxs(Je,{children:[r.jsxs("div",{className:"relative mb-2",children:[r.jsx(ls,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),r.jsx(ht,{placeholder:(u==null?void 0:u.text_fto_reports_search)||"Search FTO Reports...",className:"pl-10 bg-background/50 border-primary/20 focus:border-primary",value:g,onChange:re=>w(re.target.value),onKeyDown:te})]}),r.jsx(nr,{className:"h-[calc(85vh-300px)]",children:r.jsx("div",{className:"items-stretch grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:r.jsx(Gn,{children:x&&Array.isArray(x)&&(x||[]).map(re=>r.jsx(Xt.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"cursor-pointer hover:bg-primary/10",children:r.jsx(qwe,{report:re,onClick:()=>{E(re,re==null?void 0:re.id),ee(S,U)}})},re==null?void 0:re.id))})})}),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsxs("div",{children:[u==null?void 0:u.text_fto_reports_showing," ",(S-1)*ij+1," ",u==null?void 0:u.text_fto_reports_to," ",Math.min(S*ij,H)," ",u==null?void 0:u.text_fto_reports_of," ",H," ",u==null?void 0:u.text_fto_reports_title]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>k(re=>Math.max(1,re-1)),disabled:S===1,children:(u==null?void 0:u.text_fto_reports_previous)||"Previous"}),r.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>k(re=>Math.min(M,re+1)),disabled:S==M||M==0,children:(u==null?void 0:u.text_fto_reports_next)||"Next"})]})]})]})]},"list-view")})})})]})}const fd=5,mp=kr.createContext({saveScrollPosition:()=>{},getScrollPosition:()=>0}),ibe=({children:e})=>{const t=m.useRef({}),n=m.useCallback((a,i)=>{t.current[a]=i},[]),s=m.useCallback(a=>t.current[a]||0,[]);return r.jsx(mp.Provider,{value:{saveScrollPosition:n,getScrollPosition:s},children:e})},abe=kr.memo(({announcements:e,userPermissions:t,handleEditAnnouncement:n,handleDeleteAnnouncement:s,handleAddAnnouncement:a,newAnnouncement:i,setNewAnnouncement:o,user:l,loadMoreAnnouncements:c,isLoadingMore:d})=>{const u=m.useRef(null),{saveScrollPosition:f,getScrollPosition:v}=kr.useContext(mp),g="bulletinBoard",{locale:w}=ir(),{ref:y,inView:b}=Td({threshold:.1,triggerOnce:!1,rootMargin:"0px 0px 100px 0px"});m.useEffect(()=>{var S;const N=(S=u.current)==null?void 0:S.querySelector("[data-radix-scroll-area-viewport]");if(N){const k=v(g);N.scrollTop=k}},[v,g]);const x=m.useCallback(()=>{var S;const N=(S=u.current)==null?void 0:S.querySelector("[data-radix-scroll-area-viewport]");N&&f(g,N.scrollTop)},[f,g]);return m.useEffect(()=>{b&&!d&&c()},[b,d,c]),r.jsxs(Le,{className:"md:col-span-1 bg-card/50  border-primary/20",children:[r.jsxs(mt,{className:"flex flex-row items-center justify-between",children:[r.jsx(kt,{children:(w==null?void 0:w.text_bulletin_board)||"Bulletin Board"}),r.jsxs(gr,{children:[r.jsx(to,{asChild:!0,children:t.edit&&r.jsx(Ae,{children:r.jsx(Xr,{className:"h-4 w-4"})})}),r.jsxs(xr,{className:"sm:max-w-[425px]","aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:(w==null?void 0:w.text_create_new_announcement)||"Create New Announcement"})}),r.jsxs("div",{className:"grid gap-4 py-4",children:[r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Me,{htmlFor:"title",className:"text-right",children:"Title"}),r.jsx(ht,{id:"title",className:"col-span-3",value:i.title,onChange:N=>o({...i,title:N.target.value})})]}),r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Me,{htmlFor:"description",className:"text-right",children:(w==null?void 0:w.text_description)||"Description"}),r.jsx(ss,{id:"description",value:i.description,onChange:N=>o({...i,description:N.target.value}),className:"col-span-3"})]})]}),r.jsx(un,{children:r.jsx(Ae,{onClick:a,disabled:!i.title.trim()||!i.description.trim(),children:(w==null?void 0:w.text_create)||"Create"})})]})]})]}),r.jsx(Je,{children:r.jsxs(nr,{className:"h-[calc(40vh-100px)]",ref:u,onScrollCapture:x,children:[r.jsxs("div",{className:"space-y-4 w-full",children:[e&&Array.isArray(e)&&(e||[]).map(N=>r.jsxs(Le,{className:"p-4 w-full bg-background/50 hover:bg-primary/10 transition-colors flex flex-row justify-between",children:[r.jsxs("div",{className:"flex flex-col w-full",children:[r.jsx("h3",{className:"font-bold mb-2 break-all whitespace-normal",children:N.title}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2 flex-grow break-all whitespace-normal",children:N.description}),r.jsx("p",{className:"text-xs text-muted-foreground",children:$n(N.dateTime)})]}),r.jsxs("div",{className:"flex flex-row items-center gap-2",children:[t.edit&&r.jsx(Ae,{variant:"ghost",size:"sm",onClick:()=>n(N),children:r.jsx(ks,{className:"h-4 w-4"})}),t.edit&&(l==null?void 0:l.hasManagePermission)&&r.jsx(Ae,{variant:"ghost",size:"sm",onClick:()=>s(N.announcementId),children:r.jsx(ms,{className:"h-4 w-4"})})]})]},N.announcementId)),r.jsx("div",{ref:y,className:"py-4 h-12 flex items-center justify-center",children:d&&r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx(Ac,{className:"h-4 w-4 animate-spin mr-2"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"Loading more..."})]})})]}),r.jsx(Gl,{orientation:"vertical"})]})})]})}),obe=kr.memo(({recentReports:e,loadMoreReports:t,isLoadingMore:n})=>{const s=m.useRef(null),{saveScrollPosition:a,getScrollPosition:i}=kr.useContext(mp),o="recentReports",{locale:l}=ir(),{ref:c,inView:d}=Td({threshold:.1,triggerOnce:!1,rootMargin:"0px 0px 100px 0px"});m.useEffect(()=>{var v;const f=(v=s.current)==null?void 0:v.querySelector("[data-radix-scroll-area-viewport]");if(f){const g=i(o);f.scrollTop=g}},[i,o]);const u=m.useCallback(()=>{var v;const f=(v=s.current)==null?void 0:v.querySelector("[data-radix-scroll-area-viewport]");f&&a(o,f.scrollTop)},[a,o]);return m.useEffect(()=>{d&&!n&&t()},[d,n,t]),r.jsxs(Le,{className:"md:col-span-1 bg-card/50  border-primary/20",children:[r.jsx(mt,{children:r.jsx(kt,{children:(l==null?void 0:l.text_recent_reports)||"Recent Reports"})}),r.jsx(Je,{children:r.jsxs(nr,{className:"h-[calc(40vh-100px)]",ref:s,onScrollCapture:u,children:[r.jsxs("div",{className:"space-y-4 w-full",children:[e&&Array.isArray(e)&&(e||[]).map(f=>r.jsxs(Le,{className:"p-4 bg-background/50 hover:bg-primary/10 transition-colors max-w-full",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"font-bold mb-2 max-w-[10rem] truncate",children:f.reportName}),r.jsxs(ze,{variant:"secondary",className:"bg-emerald-500/20 text-emerald-300",children:["# ",f.reportId]})]}),r.jsxs("p",{className:"text-xs text-muted-foreground break-all whitespace-normal",children:[(l==null?void 0:l.text_location)||"Location",": ",f.location]}),r.jsxs("p",{className:"text-xs text-muted-foreground break-all whitespace-normal",children:[(l==null?void 0:l.text_date_time)||"Date Time",": ",$n(f.dateTime)]})]},f.reportId)),r.jsx("div",{ref:c,className:"py-4 h-12 flex items-center justify-center",children:n&&r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx(Ac,{className:"h-4 w-4 animate-spin mr-2"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"Loading more..."})]})})]}),r.jsx(Gl,{orientation:"vertical"})]})})]})}),lbe=kr.memo(({warrants:e,loadMoreWarrants:t,isLoadingMore:n})=>{const s=m.useRef(null),{saveScrollPosition:a,getScrollPosition:i}=kr.useContext(mp),o="warrants",{locale:l}=ir(),{ref:c,inView:d}=Td({threshold:.1,triggerOnce:!1,rootMargin:"0px 0px 100px 0px"});m.useEffect(()=>{var v;const f=(v=s.current)==null?void 0:v.querySelector("[data-radix-scroll-area-viewport]");if(f){const g=i(o);f.scrollTop=g}},[i,o]);const u=m.useCallback(()=>{var v;const f=(v=s.current)==null?void 0:v.querySelector("[data-radix-scroll-area-viewport]");f&&a(o,f.scrollTop)},[a,o]);return m.useEffect(()=>{d&&!n&&t()},[d,n,t]),r.jsxs(Le,{className:"md:col-span-1 bg-card/50  border-primary/20",children:[r.jsx(mt,{children:r.jsx(kt,{children:(l==null?void 0:l.text_active_warrants)||"Active Warrants"})}),r.jsx(Je,{children:r.jsxs(nr,{className:"h-[calc(40vh-100px)]",ref:s,onScrollCapture:u,children:[r.jsxs("div",{className:"space-y-4 w-full",children:[e&&Array.isArray(e)&&(e||[]).map(f=>r.jsxs(Le,{className:"p-4 bg-background/50 hover:bg-primary/10 transition-colors ",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"font-bold mb-2",children:f.name}),r.jsxs(ze,{variant:"secondary",className:"bg-emerald-500/20 text-emerald-300",children:["# ",f.id]})]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[(l==null?void 0:l.text_issue_date)||"Issue Date",": ",f.issueDate]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[(l==null?void 0:l.text_expiry_date)||"Expiry Date",": ",f.expiryDate]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[(l==null?void 0:l.text_status)||"Status",": ",f.status]})]},f.id)),r.jsx("div",{ref:c,className:"py-4 h-12 flex items-center justify-center",children:n&&r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx(Ac,{className:"h-4 w-4 animate-spin mr-2"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"Loading more..."})]})})]}),r.jsx(Gl,{orientation:"vertical"})]})})]})}),cbe=kr.memo(({activeOfficers:e,jobCounts:t,logos:n,loadMoreOfficers:s,isLoadingMore:a})=>{const i=m.useRef(null),{saveScrollPosition:o,getScrollPosition:l}=kr.useContext(mp),c="units",{locale:d}=ir(),{ref:u,inView:f}=Td({threshold:.1,triggerOnce:!1,rootMargin:"0px 0px 100px 0px"}),v=y=>y==="clr"?(d==null?void 0:d.text_cleared)||"Cleared":y==="enr"?(d==null?void 0:d.text_enroute)||"En Route":y==="avl"?(d==null?void 0:d.text_available)||"Available":y==="busy"?(d==null?void 0:d.text_busy)||"Busy":(d==null?void 0:d.text_active)||"Active",g=y=>y==="clr"?"from-cyan-500 to-cyan-600":y==="enr"?"from-emerald-500 to-emerald-600":y==="avl"?"from-amber-500 to-amber-600":y==="busy"?"from-red-500 to-red-600":"from-green-500 to-green-600";m.useEffect(()=>{var b;const y=(b=i.current)==null?void 0:b.querySelector("[data-radix-scroll-area-viewport]");if(y){const x=l(c);y.scrollTop=x}},[l,c]);const w=m.useCallback(()=>{var b;const y=(b=i.current)==null?void 0:b.querySelector("[data-radix-scroll-area-viewport]");y&&o(c,y.scrollTop)},[o,c]);return m.useEffect(()=>{f&&!a&&s()},[f,a,s]),r.jsxs(Le,{className:"md:col-span-2 bg-card/50  border-primary/20",children:[r.jsxs(mt,{className:"flex flex-row items-center justify-between",children:[r.jsx(kt,{children:(d==null?void 0:d.text_units)||"Units"}),r.jsx("div",{className:"flex flex-row items-center gap-6",children:t&&Object.entries(t).map(([y,b])=>{const x=n.find(N=>N.type===y);return r.jsx("div",{className:"flex items-center",children:x?r.jsxs(r.Fragment,{children:[r.jsx("img",{src:Ws(x.logo)||"/placeholder.svg",alt:`${y} logo`,className:"h-8 w-8 mr-2"}),b]}):r.jsxs(r.Fragment,{children:[r.jsxs("strong",{children:[y,":"]})," ",b]})},y)})})]}),r.jsx(Je,{children:r.jsxs(nr,{className:"h-[calc(34vh-50px)]",ref:i,onScrollCapture:w,children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs(lp,{children:[r.jsx(cp,{children:r.jsxs(Xo,{children:[r.jsx(bi,{children:(d==null?void 0:d.text_callsign)||"Callsign"}),r.jsx(bi,{children:(d==null?void 0:d.text_name)||"Name"}),r.jsx(bi,{children:(d==null?void 0:d.text_rank)||"Rank"}),r.jsx(bi,{children:(d==null?void 0:d.text_department)||"Department"}),r.jsx(bi,{children:(d==null?void 0:d.text_status)||"Status"})]})}),r.jsx(dp,{children:e&&Array.isArray(e)&&(e||[]).map(y=>r.jsxs(Xo,{children:[r.jsx(fs,{children:y.callsign}),r.jsx(fs,{className:"truncate max-w-xs",children:y.name}),r.jsx(fs,{children:y.rank}),r.jsx(fs,{children:y.department}),r.jsx(fs,{children:r.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium text-white bg-gradient-to-r ${g(y.dutyStatus)}`,children:v(y.dutyStatus)})})]},y.id))})]}),r.jsx("div",{ref:u,className:"py-4 h-12 flex items-center justify-center",children:a&&r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx(Ac,{className:"h-4 w-4 animate-spin mr-2"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"Loading more..."})]})})]}),r.jsx(Gl,{orientation:"vertical"})]})})]})}),dbe=kr.memo(({vehicles:e,loadMoreVehicles:t,isLoadingMore:n})=>{const s=m.useRef(null),{saveScrollPosition:a,getScrollPosition:i}=kr.useContext(mp),o="bolos",{locale:l}=ir(),{ref:c,inView:d}=Td({threshold:.1,triggerOnce:!1,rootMargin:"0px 0px 100px 0px"});m.useEffect(()=>{var v;const f=(v=s.current)==null?void 0:v.querySelector("[data-radix-scroll-area-viewport]");if(f){const g=i(o);f.scrollTop=g}},[i,o]);const u=m.useCallback(()=>{var v;const f=(v=s.current)==null?void 0:v.querySelector("[data-radix-scroll-area-viewport]");f&&a(o,f.scrollTop)},[a,o]);return m.useEffect(()=>{d&&!n&&t()},[d,n,t]),r.jsxs(Le,{className:"md:col-span-1 bg-card/50  border-primary/20",children:[r.jsx(mt,{children:r.jsxs(kt,{children:[(l==null?void 0:l.text_bolos)||"BOLOs","  "]})}),r.jsx(Je,{children:r.jsxs(nr,{className:"h-[calc(40vh-100px)]",ref:s,onScrollCapture:u,children:[r.jsxs("div",{className:"space-y-4 w-full",children:[e&&Array.isArray(e)&&(e||[]).map(f=>r.jsxs(Le,{className:"p-4 bg-background/50 hover:bg-primary/10 transition-colors ",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"font-bold mb-2",children:f.owner}),r.jsx(ze,{variant:"secondary",className:"bg-emerald-500/20 text-emerald-300",children:f.plate})]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[(l==null?void 0:l.text_model)||"Model",": ",f.model]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[(l==null?void 0:l.text_status)||"Status",": ",f.status]})]},f.plate)),r.jsx("div",{ref:c,className:"py-4 h-12 flex items-center justify-center",children:n&&r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx(Ac,{className:"h-4 w-4 animate-spin mr-2"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"Loading more..."})]})})]}),r.jsx(Gl,{orientation:"vertical"})]})})]})}),SP={success:!0,announcements:Array(50).fill(null).map((e,t)=>({announcementId:`${t+1}`,title:`Bulletin Board ${t+1}`,description:`This is bulletin board ${t+1} with some description text.`,dateTime:new Date(Date.now()-t*864e5).toISOString()}))},BP={success:!0,reports:Array(50).fill(null).map((e,t)=>({reportId:`${t+1}`,reportName:`Report ${t+1}`,location:`Location ${t+1}`,dateTime:new Date(Date.now()-t*864e5).toISOString()}))},ube=kr.memo(()=>{var _r;const{toast:e}=ys(),{locale:t}=ir(),[n,s]=m.useState(!0),[a,i]=m.useState(!0),[o,l]=m.useState(!0),[c,d]=m.useState(!0),[u,f]=m.useState(!0),[v,g]=m.useState(!0),{user:w,setUser:y,logos:b}=Yn(),[x,N]=m.useState({}),[S,k]=m.useState(1),[F,$]=m.useState(1),[U,D]=m.useState(1),[H,K]=m.useState(1),[B,R]=m.useState(1),[Z,te]=m.useState(!0),[ye,de]=m.useState(!0),[le,Q]=m.useState(!0),[oe,ce]=m.useState(!0),[ee,M]=m.useState(!0),[E,q]=m.useState(!1),[se,re]=m.useState(!1),[G,ue]=m.useState(!1),[ie,Ee]=m.useState(!1),[He,rt]=m.useState(!1),[we,Ve]=m.useState(!1),[Re,je]=m.useState([]),[Mt,Bt]=m.useState([]),[ct,vt]=m.useState([]),[wt,Fe]=m.useState([]),[Oe,_e]=m.useState({announcementId:"",title:"",description:"",dateTime:new Date().toISOString()}),[nt,ut]=m.useState(!1),jt=(_r=w==null?void 0:w.permissions)==null?void 0:_r.Pages.dashboardems;if(!jt||!jt.view)return null;const zt=m.useCallback(async(ot=1)=>{try{const dt=await ke("fetchEMSAnnouncements",{page:ot,limit:fd},{success:!0,announcements:SP.announcements.slice((ot-1)*fd,ot*fd),hasMore:ot*fd<SP.announcements.length});return dt.success&&(je(er=>ot===1?dt.announcements:[...er,...dt.announcements]),te(dt.hasMore)),dt}catch(dt){return console.error("Error fetching announcements:",dt),{success:!1,error:dt}}},[]),Be=m.useCallback(async(ot=1)=>{try{const dt=await ke("getRecentEMSReports",{page:ot,limit:fd},{success:!0,reports:BP.reports.slice((ot-1)*fd,ot*fd),hasMore:ot*fd<BP.reports.length});return dt.success&&(Fe(er=>ot===1?dt.reports:[...er,...dt.reports]),de(dt.hasMore)),dt}catch(dt){return console.error("Error fetching reports:",dt),{success:!1,error:dt}}},[]),Ye=m.useCallback(async(ot=1)=>{try{const dt=await ke("fetchActiveWarrants",{page:ot,limit:fd});return dt.success&&(Bt(er=>ot===1?dt.warrantsData:[...er,...dt.warrantsData]),Q(dt.hasMore)),dt}catch(dt){return console.error("Error fetching warrants:",dt),{success:!1,error:dt}}},[]),Ue=m.useCallback(async(ot=1)=>{try{const dt=await ke("fetchWantedVehicles",{page:ot,limit:fd});return dt.success&&(vt(er=>ot===1?dt.vehiclesData:[...er,...dt.vehiclesData]),ce(dt.hasMore)),dt}catch(dt){return console.error("Error fetching vehicles:",dt),{success:!1,error:dt}}},[]),Lt=m.useCallback(async(ot=1)=>{try{const dt=await ke("fetchActiveUnits",{page:ot,limit:fd});return dt&&(y(er=>{if(er){const Rt=er.activeOfficers||[],xn=ot===1?dt.units:[...Rt,...dt.units];return{...er,activeOfficers:xn}}return null}),M(dt.hasMore)),dt}catch(dt){return console.error("Error fetching officers:",dt),{success:!1,error:dt}}},[y]),Et=m.useCallback(()=>{if(Z&&!E){q(!0);const ot=S+1;zt(ot).then(()=>{k(ot)}).finally(()=>{q(!1)})}},[S,zt,Z,E]),hr=m.useCallback(()=>{if(ye&&!se){re(!0);const ot=F+1;Be(ot).then(()=>{$(ot)}).finally(()=>{re(!1)})}},[F,Be,ye,se]),ur=m.useCallback(()=>{if(le&&!G){ue(!0);const ot=U+1;Ye(ot).then(()=>{D(ot)}).finally(()=>{ue(!1)})}},[U,Ye,le,G]),Cr=m.useCallback(()=>{if(oe&&!ie){Ee(!0);const ot=H+1;Ue(ot).then(()=>{K(ot)}).finally(()=>{Ee(!1)})}},[H,Ue,oe,ie]),Tr=m.useCallback(()=>{if(ee&&!He){rt(!0);const ot=B+1;Lt(ot).then(()=>{R(ot)}).finally(()=>{rt(!1)})}},[B,Lt,ee,He]);m.useEffect(()=>{let ot=!0;return(async()=>{s(!0),i(!0),l(!0),d(!0),f(!0),g(!0);try{await Promise.all([zt(1),Be(1),Ye(1),Ue(1),Lt(1)])}catch(er){console.error("Error loading initial data:",er)}finally{ot&&(s(!1),i(!1),l(!1),d(!1),f(!1),g(!1))}})(),()=>{ot=!1}},[zt,Be,Ye,Ue,Lt]);const fr=m.useCallback(ot=>{ke("deleteEMSAnnouncement",{announcementId:ot}).then(dt=>{dt&&(je(er=>er.filter(Rt=>Rt.announcementId!==ot)),e({title:(t==null?void 0:t.text_announcement_deleted)||"Announcement Deleted",description:(t==null?void 0:t.text_announcement_deleted_description)||"The announcement has been successfully deleted."}))}).catch(dt=>console.error("Error:",dt))},[e,t]),dr=m.useCallback(ot=>{_e(ot),Ve(!0),ut(!0)},[]),Ke=m.useCallback(()=>{const ot={...Oe,announcementId:`A${Date.now()}`,dateTime:new Date().toISOString()};ke("addEMSAnnouncement",{announcementToAdd:ot}).then(dt=>{dt.success&&(je(er=>[ot,...er]),_e({announcementId:"",title:"",description:"",dateTime:new Date().toISOString()}),e({title:(t==null?void 0:t.text_announcement_created)||"Announcement Created",description:(t==null?void 0:t.text_announcement_created_description)||"The announcement has been successfully created."}))}).catch(dt=>console.error("Error:",dt))},[Oe,e,t]),qt=m.useCallback(ot=>{const{name:dt,value:er}=ot.target;_e(Rt=>({...Rt,[dt]:er}))},[]),Ge=m.useCallback(ot=>{ot.preventDefault(),we&&ke("editEMSAnnouncement",{edited:Oe}).then(dt=>{dt.success&&(je(er=>er.map(Rt=>Rt.announcementId===(Oe==null?void 0:Oe.announcementId)?{...Rt,...Oe}:Rt)),e({title:(t==null?void 0:t.text_announcement_edited)||"Announcement Edited",description:(t==null?void 0:t.text_announcement_edited_description)||"The announcement has been successfully edited."}),Ve(!1),ut(!1))}).catch(dt=>console.error("Error:",dt))},[we,Oe,e,t]),st=m.useCallback(()=>{_e({announcementId:"",title:"",description:"",dateTime:new Date().toISOString()}),Ve(!1),ut(!1)},[]);m.useEffect(()=>{we||_e({announcementId:"",title:"",description:"",dateTime:new Date().toISOString()})},[we]);const it=m.useCallback(ot=>!ot||ot.length===0?{}:ot.reduce((dt,er)=>{const Rt=er.job;return dt[Rt]=(dt[Rt]||0)+1,dt},{}),[]);m.useEffect(()=>{if(w!=null&&w.activeOfficers){const ot=it(w.activeOfficers);N(ot)}},[w==null?void 0:w.activeOfficers,it]);const Pt=m.useMemo(()=>(w==null?void 0:w.activeOfficers)||[],[w==null?void 0:w.activeOfficers]);return m.useEffect(()=>{const ot=document.createElement("style");return ot.innerHTML=`
      /* Style to prevent scroll jumps */
      [data-radix-scroll-area-viewport] {
        scroll-behavior: smooth !important;
        scrollbar-width: thin;
        -ms-overflow-style: none;
      }
      
      /* Don't show scrollbar in inView targets */
      .load-more-trigger::-webkit-scrollbar {
        display: none;
      }
    `,document.head.appendChild(ot),()=>{document.head.removeChild(ot)}},[]),r.jsx(ibe,{children:r.jsxs("div",{className:"flex w-full flex-col",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("hr",{className:"w-1 h-10 bg-primary border-none rounded-full"}),r.jsx("h2",{className:"text-3xl font-bold",children:(t==null?void 0:t.text_dashboard_page_name)||"Dashboard"})]}),n?r.jsx(m.Suspense,{fallback:r.jsx("div",{children:(t==null?void 0:t.text_loading_more)||"Loading More..."}),children:r.jsx(hV,{})}):r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[a?r.jsx(Se,{className:"h-40"}):r.jsx(abe,{announcements:Re,userPermissions:jt,handleEditAnnouncement:dr,handleDeleteAnnouncement:fr,handleAddAnnouncement:Ke,newAnnouncement:Oe,setNewAnnouncement:_e,user:w,loadMoreAnnouncements:Et,isLoadingMore:E}),o?r.jsx(Se,{className:"h-40"}):r.jsx(obe,{recentReports:wt,loadMoreReports:hr,isLoadingMore:se}),c?r.jsx(Se,{className:"h-40"}):r.jsx(lbe,{warrants:Mt,loadMoreWarrants:ur,isLoadingMore:G}),u?r.jsx(Se,{className:"h-40"}):r.jsx(cbe,{activeOfficers:Pt,jobCounts:x,logos:b,loadMoreOfficers:Tr,isLoadingMore:He}),v?r.jsx(Se,{className:"h-40"}):r.jsx(dbe,{vehicles:ct,loadMoreVehicles:Cr,isLoadingMore:ie})]}),r.jsx(gr,{open:nt,onOpenChange:ut,children:r.jsxs(xr,{"aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:we?(t==null?void 0:t.text_edit_announcement)||"Edit Announcement":(t==null?void 0:t.text_create_announcement)||"Create Announcement"})}),r.jsxs("form",{onSubmit:Ge,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"title",children:(t==null?void 0:t.text_title)||"Title"}),r.jsx(ht,{id:"title",name:"title",value:Oe.title,onChange:qt,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"description",children:(t==null?void 0:t.text_description)||"Description"}),r.jsx(ss,{id:"description",name:"description",value:Oe.description,onChange:qt,required:!0})]}),r.jsxs(un,{children:[r.jsx(Ae,{type:"button",variant:"outline",onClick:st,children:t==null?void 0:t.text_cancel}),r.jsx(Ae,{type:"submit",children:t==null?void 0:t.text_save})]})]})]})})]})})}),Abe=({medic:e,tags:t,onClick:n})=>{var i;const{locale:s}=ir(),a=o=>{const l=t.find(c=>c.shortname===o);return l?`bg-${l.color}-100 text-${l.color}-800 border-${l.color}-200`:"bg-slate-100 text-slate-800 border-slate-200"};return r.jsx(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"h-full",children:r.jsxs(Le,{className:"h-full bg-card/50  border-primary/20 hover:border-primary/50 transition-all duration-300 overflow-hidden group flex flex-col",onClick:n,children:[r.jsx(mt,{className:"p-4 pb-2",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"space-y-1.5",children:[r.jsx(kt,{className:"text-lg",children:e.name}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ze,{variant:"outline",className:"font-normal bg-blue-100 text-blue-800",children:e.department}),r.jsx("span",{className:"text-sm text-muted-foreground",children:e.rank})]})]}),r.jsx("div",{className:"relative w-10 h-10 rounded-full overflow-hidden bg-primary/20 flex items-center justify-center",children:r.jsx(vl,{className:"w-6 h-6 text-primary"})})]})}),r.jsx(Je,{className:"p-4 pt-0",children:r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"flex justify-between text-sm",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Mi,{className:"h-3.5 w-3.5 mr-1 text-muted-foreground"}),r.jsxs("span",{children:[e&&!isNaN(Number(e==null?void 0:e.totalDutyHours))?Number(e.totalDutyHours).toFixed(1):"0.0",(s==null?void 0:s.text_medic_hours)||"Hours"]})]})}),e&&((i=e==null?void 0:e.tags)==null?void 0:i.length)>0&&r.jsx("div",{className:"flex flex-wrap gap-1",children:e&&Array.isArray(e==null?void 0:e.tags)&&(e==null?void 0:e.tags.map(o=>r.jsx(ze,{variant:"outline",className:a(o),children:o},o)))}),r.jsxs("div",{className:"pt-2 flex justify-between",children:[r.jsxs(ze,{variant:e.status==="on-duty"?"success":"destructive",className:"px-2 py-1",children:[e.status==="on-duty"?r.jsx(jd,{className:"h-3.5 w-3.5 mr-1"}):r.jsx(wh,{className:"h-3.5 w-3.5 mr-1"}),e.status==="on-duty"?(s==null?void 0:s.text_medic_on_duty)||"On Duty":(s==null?void 0:s.text_medic_off_duty)||"Off Duty"]}),r.jsxs(Ae,{variant:"ghost",size:"sm",className:"h-7",children:[r.jsx(ks,{className:"h-3.5 w-3.5 mr-1"}),(s==null?void 0:s.text_medic_details)||"Details"]})]})]})})]})})},hbe={exportData:{bcso:{label:"BCSO",warrantTemplateUrl:"https://kappa.lol/8ut4U"},sasp:{label:"SASP",warrantTemplateUrl:"https://kappa.lol/zQ-_6"},lspd:{label:"LSPD",warrantTemplateUrl:"https://kappa.lol/blm-9"},ambulance:{label:"EMS",warrantTemplateUrl:"https://kappa.lol/blm-9"}}},fbe=({medic:e,userPermissions:t,user:n,tags:s,onClose:a})=>{var q,se,re;const i=Vc(),{toast:o}=ys(),[l,c]=m.useState(!1),[d,u]=m.useState(e),[f,v]=m.useState(!1),[g,w]=m.useState(!1),[y,b]=m.useState(null),[x,N]=m.useState([]),[S,k]=m.useState(!1),[F,$]=m.useState([]),[U,D]=m.useState(!1),[H,K]=m.useState(d==null?void 0:d.tags),{locale:B}=ir(),R=()=>{k(!0)},Z=G=>{const ue=F[G];i(`/export-medic/${G}`,{state:{departmentData:ue,medic:d,webhookDump:y}})},te=()=>ke("getDepartments",{}).then(G=>{G?N(G):console.error("No response received.")}).catch(G=>{console.error("Error:",G)});function ye(){return ke("getExportDepartments",{},hbe).then(G=>{if(G){const ue=G.exportData;$(ue),b(G.webhook)}}).catch(G=>{console.error("Error:",G)})}m.useEffect(()=>{te(),ye()},[]),m.useEffect(()=>{u(e)},[e]);const de=G=>{le(G.id),w(!1)},le=G=>{const ue=d==null?void 0:d.citizenId,ie={...d,serviceHistory:[...(d==null?void 0:d.serviceHistory)||[],{date:new Date().toISOString().split("T")[0],event:"Fired from the force"}]};return ke("fireMedic",{citizenId:ue,serviceHistory:ie.serviceHistory}).then(Ee=>{Ee?(u(ie),o({title:(B==null?void 0:B.text_medic_fired)||"Medic Fired",description:(B==null?void 0:B.text_medic_fired_description)||"The medic has been fired from the department."})):console.error("No response received.")}).catch(Ee=>{console.error("Error:",Ee)})},Q=G=>{const ue=s.find(ie=>ie.shortname===G);return ue?`bg-${ue.color}-100 text-${ue.color}-800 border-${ue.color}-200`:"bg-slate-100 text-slate-800 border-slate-200"},oe=(G,ue)=>{const ie={...d,currentAssignments:[...(d==null?void 0:d.currentAssignments)||[],ue]};return ke("addMedicAssignment",{medicId:G,currentAssignments:ie.currentAssignments}).then(Ee=>{Ee?(u(ie),o({title:(B==null?void 0:B.text_assignment_added)||"Assignment Added",description:(B==null?void 0:B.text_assignment_added_description)||"The assignment has been successfully added."}),v(!1)):console.error("No response received.")}).catch(Ee=>{console.error("Error:",Ee)})},ce=(G,ue)=>{const ie={...d,currentAssignments:(d==null?void 0:d.currentAssignments)&&(d==null?void 0:d.currentAssignments.filter(Ee=>Ee.id!==ue))};return ke("addMedicAssignment",{medicId:G,currentAssignments:ie.currentAssignments}).then(Ee=>{Ee?(u(ie),v(!1),o({title:(B==null?void 0:B.text_assignment_removed)||"Assignment Removed",description:(B==null?void 0:B.text_assignment_removed_description)||"The assignment has been successfully removed."})):console.error("No response received.")}).catch(Ee=>{console.error("Error:",Ee)})},ee=async G=>{try{let ue=[];const ie=d,Ee=x.find(Fe=>Fe.label===ie.department),He=x.find(Fe=>Fe.id===G.department),rt=(Fe,Oe)=>{var _e;return((_e=Fe[Oe])==null?void 0:_e.name)??"Unknown"},we=(Fe,Oe)=>Object.keys(Fe).find(_e=>Fe[_e].name===Oe)??"0",Ve=ie.rank,Re=He?rt(He.roles,G==null?void 0:G.rank):"Unknown",je=Ee?we(Ee.roles,ie==null?void 0:ie.rank):"0",Mt=G.rank;let Bt=null;je!==Mt&&(Bt=je<Mt?`Promoted to ${Re}`:`Demoted to ${Re}`);const ct=(Ee==null?void 0:Ee.id)!==G.department;ue=[...(G==null?void 0:G.serviceHistory)??[],...ct?[{date:new Date().toISOString().split("T")[0],event:`Transferred to department: ${(He==null?void 0:He.label)||"Unknown"}`}]:[],...Bt?[{date:new Date().toISOString().split("T")[0],event:Bt}]:[]];const vt={...d,department:He==null?void 0:He.label,rank:Re,serviceHistory:ue};u(vt),await ke("updateMedicRank",{citizenId:G.citizenId,medicId:G.id,serviceHistory:ue,department:G.department,rank:G.rank})?(c(!1),o({title:(B==null?void 0:B.text_medic_updated)||"Medic Updated",description:(B==null?void 0:B.text_medic_updated_description)||"The medic has been successfully updated."})):console.error("No response received.")}catch(ue){console.error("Error:",ue)}},M=()=>ke("updateMedictags",{citizenId:d==null?void 0:d.citizenId,tags:H}).then(G=>{if(G.success){const ue={...d,tags:H};u(ue),o({title:(B==null?void 0:B.text_tags_updated)||"Tags Updated",description:(B==null?void 0:B.text_tags_updated_description)||"Tags have been updated successfully."}),D(!1)}}).catch(G=>{console.error("Error:",G)}),E=G=>ke("downloadDutyRecords",{citizenId:G.citizenId}).then(ue=>{ue.success&&o({title:(B==null?void 0:B.text_download_processed)||"Download Processed",description:(B==null?void 0:B.text_download_processed_description)||"The download has been processed successfully."})}).catch(ue=>{console.error("Error:",ue)});return r.jsxs(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"flex w-full ",children:[r.jsxs("div",{className:"w-full",children:[r.jsx(mt,{className:"flex flex-row items-center justify-between w-full",children:r.jsxs("div",{className:"flex items-center gap-4 w-full justify-between",children:[r.jsx(Ae,{variant:"outline",size:"icon",onClick:a,className:"h-10 w-10",children:r.jsx(Oi,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[d==null?void 0:d.name,r.jsx(ze,{variant:"outline",className:"bg-green-500/10 text-green-500",children:d==null?void 0:d.department}),d&&(d==null?void 0:d.tags)&&((q=d==null?void 0:d.tags)==null?void 0:q.slice(0,3).map((G,ue)=>r.jsx(ze,{className:Q(G),children:G}))),(d==null?void 0:d.tags)&&((se=d==null?void 0:d.tags)==null?void 0:se.length)>3&&r.jsxs(ze,{className:"text-xs bg-blue-500/20 text-blue-500",children:["+",((re=d==null?void 0:d.tags)==null?void 0:re.length)-3]})]}),r.jsx("p",{className:"text-muted-foreground",children:d&&(d==null?void 0:d.rank)})]}),r.jsx("div",{className:"ml-auto",children:r.jsx("div",{className:"flex gap-2",children:(t==null?void 0:t.edit)&&r.jsxs(r.Fragment,{children:[!l&&r.jsxs(r.Fragment,{children:[(n==null?void 0:n.hasManagePermission)&&(d==null?void 0:d.isFired)!==1&&r.jsxs(r.Fragment,{children:[r.jsxs(Ae,{variant:"outline",onClick:()=>c(!0),children:[r.jsx(ks,{className:"h-4 w-4"}),(B==null?void 0:B.text_edit)||"Edit"]}),r.jsxs(tA,{open:g,onOpenChange:w,children:[r.jsx(Hx,{asChild:!0,children:r.jsx(Ae,{variant:"destructive",children:(B==null?void 0:B.text_fire_medic)||"Fire Medic"})}),r.jsxs(cu,{children:[r.jsxs(du,{children:[r.jsx(Au,{children:(B==null?void 0:B.text_confirm_fire)||"Confirm Fire"}),r.jsx(hu,{children:(B==null?void 0:B.text_confirm_fire_description)||"Are you sure you want to fire this medic? This action cannot be undone."})]}),r.jsxs(uu,{children:[r.jsx(Ae,{variant:"outline",onClick:()=>w(!1),children:(B==null?void 0:B.text_cancel)||"Cancel"}),r.jsx(Ae,{variant:"destructive",onClick:()=>{de(d)},children:(B==null?void 0:B.text_fire)||"Fire"})]})]})]}),r.jsxs(Ae,{variant:"outline",onClick:()=>D(!0),children:[r.jsx(ks,{className:"h-4 w-4"}),(B==null?void 0:B.text_manage_tags)||"Manage Tags"]})]}),d&&t.view&&r.jsxs(r.Fragment,{children:[r.jsxs(Ae,{variant:"outline",onClick:()=>R(),children:[r.jsx(Nd,{className:"mr-2 h-4 w-4"}),(B==null?void 0:B.text_export_profile)||"Export Profile"]}),r.jsxs(Ae,{variant:"outline",onClick:()=>{E(d)},children:[r.jsx(Nd,{className:"mr-2 h-4 w-4"}),(B==null?void 0:B.text_export_duty_records)||"Export Duty Records"]})]})]}),l&&r.jsxs(r.Fragment,{children:[r.jsxs(Ae,{variant:"destructive",onClick:()=>c(!1),children:[r.jsx(ks,{className:" h-4 w-4"}),(B==null?void 0:B.text_cancel)||"Cancel"]}),r.jsxs(Ae,{variant:"outline",children:[r.jsx(ks,{className:" h-4 w-4"}),(B==null?void 0:B.text_save_changes)||"Save Changes"]})]})]})})})]})}),r.jsx(Je,{children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"col-span-1",children:[r.jsxs(Le,{className:"lg:col-span-1 bg-transparent border-primary/20",children:[r.jsx(mt,{children:r.jsxs(kt,{className:"flex items-center justify-between",children:[r.jsx("span",{children:(B==null?void 0:B.text_medic_profile)||"Medic Profile"}),r.jsxs("div",{children:[r.jsx(ze,{variant:(d==null?void 0:d.status)==="on-duty"?"success":"destructive",children:(d==null?void 0:d.status)==="on-duty"?(B==null?void 0:B.text_medic_on_duty)||"On Duty":(B==null?void 0:B.text_medic_off_duty)||"Off Duty"}),r.jsx(ze,{variant:"success",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Mi,{className:"h-3.5 w-3.5 mr-1 text-muted-foreground"}),r.jsxs("span",{children:[d&&!isNaN(Number(d==null?void 0:d.totalDutyHours))?Number(d.totalDutyHours).toFixed(1):"0.0",(B==null?void 0:B.text_medic_hours)||"Hours"]})]})})]})]})}),r.jsx(Je,{className:"space-y-6",children:r.jsxs("div",{className:"flex flex-col items-center justify-center",children:[r.jsx("div",{className:"relative w-32 h-32 rounded-full overflow-hidden bg-primary/20 holographic flex items-center justify-center mb-4",children:r.jsx(vl,{className:"w-20 h-20 text-primary"})}),r.jsx("h3",{className:"text-xl font-bold",children:d==null?void 0:d.name}),r.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[r.jsx(ze,{variant:"outline",className:"font-normal bg-blue-100 text-blue-800",children:d==null?void 0:d.department}),r.jsx("span",{className:"text-sm",children:d==null?void 0:d.rank})]}),d&&(d==null?void 0:d.tags)&&(d==null?void 0:d.tags.length)>0&&r.jsx("div",{className:"flex flex-wrap justify-center gap-1 mt-3",children:d&&Array.isArray(d==null?void 0:d.tags)&&(d==null?void 0:d.tags.map(G=>r.jsx(ze,{variant:"outline",className:Q(G),children:G},G)))})]})})]}),r.jsxs(Le,{className:"bg-transparent mt-4",children:[r.jsx(mt,{children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-medium",children:(B==null?void 0:B.text_current_assignments)||"Current Assignments"}),r.jsxs(Ae,{size:"sm",variant:"outline",onClick:()=>v(!0),children:[r.jsx(Xr,{className:"h-4 w-4 mr-2"}),(B==null?void 0:B.text_add_assignment)||"Add Assignment"]})]})}),r.jsx(Je,{className:"space-y-6",children:d&&d.currentAssignments&&d.currentAssignments.length>0?r.jsx(nr,{className:"h-[calc(40vh-200px)]",children:r.jsx("div",{className:"space-y-2",children:d&&(d==null?void 0:d.currentAssignments)&&Array.isArray(d==null?void 0:d.currentAssignments)&&d.currentAssignments.map(G=>r.jsx(Le,{className:"bg-background/50",children:r.jsxs(Je,{className:"p-3 flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Fm,{className:"h-4 w-4 mr-2 text-primary"}),r.jsx("span",{children:G.description})]}),r.jsx(Ae,{variant:"ghost",size:"sm",onClick:()=>{ce(d==null?void 0:d.id,G==null?void 0:G.id)},children:r.jsx(ms,{className:"h-4 w-4"})})]})},G.id))})}):r.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[r.jsx(Fm,{className:"h-12 w-12 text-muted-foreground mb-3"}),r.jsx("p",{className:"text-muted-foreground",children:(B==null?void 0:B.text_no_current_assignments)||"No current assignments"})]})})]})]}),r.jsxs("div",{className:"col-span-1",children:[r.jsxs(Le,{className:"space-y-2 bg-transparent",children:[r.jsx(mt,{children:r.jsx("h3",{className:"text-lg font-medium",children:(B==null?void 0:B.text_duty_records)||"Duty Records"})}),r.jsx(Je,{children:r.jsx(nr,{className:"h-[calc(39vh-200px)]",children:d&&(d==null?void 0:d.dutyRecords)&&Array.isArray(d==null?void 0:d.dutyRecords)&&((d==null?void 0:d.dutyRecords)||[]).map((G,ue)=>r.jsxs("div",{className:"p-2 bg-background/50 rounded-lg mb-2",children:[r.jsxs("p",{className:"text-sm flex items-center",children:[r.jsx(Mi,{className:"mr-2 h-4 w-4 text-primary"}),"Start: ",$n(G.startTime)]}),G.endTime&&r.jsxs("p",{className:"text-sm flex items-center mt-1",children:[r.jsx(Mi,{className:"mr-2 h-4 w-4 text-primary"}),"End: ",$n(G.endTime)]}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Hours: ",G.hours]})]},ue))})})]}),r.jsxs(Le,{className:"space-y-2 bg-transparent mt-5",children:[r.jsx(mt,{children:r.jsx("h3",{className:"text-lg font-medium",children:(B==null?void 0:B.text_service_history)||"Service History"})}),r.jsx(Je,{children:r.jsx(nr,{className:"h-[calc(40vh-200px)]",children:d&&(d!=null&&d.serviceHistory)&&(d==null?void 0:d.serviceHistory.length)>0&&Array.isArray(d==null?void 0:d.serviceHistory)?((d==null?void 0:d.serviceHistory)||[]).map((G,ue)=>r.jsx(Le,{className:"bg-background/50 ",children:r.jsxs(Je,{className:"p-3",children:[r.jsx("p",{className:"text-sm font-medium",children:G.event}),r.jsx("p",{className:"text-xs text-muted-foreground",children:G.date})]})})):r.jsx("p",{className:"text-sm text-muted-foreground",children:(B==null?void 0:B.text_no_service_history)||"No service history available."})})})]})]})]})})]}),r.jsx(gr,{open:f,onOpenChange:v,children:r.jsxs(xr,{"aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:"Add Assignment"})}),r.jsx(mbe,{onSave:G=>oe(d.id,G),onCancel:()=>v(!1)})]})}),r.jsx(gr,{open:S,onOpenChange:k,children:r.jsxs(xr,{className:"sm:max-w-[425px]","aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:"Export Medic Report"})}),r.jsx("div",{className:"grid gap-4 py-4",children:r.jsx("div",{className:"grid grid-cols-4 items-center gap-4",children:r.jsxs(On,{onValueChange:Z,children:[r.jsx(Dn,{className:"w-[180px]",children:r.jsx(Mn,{placeholder:"Select Department"})}),r.jsx(Fn,{children:F&&Object.entries(F).map(([G,ue],ie)=>r.jsx(Yt,{value:G,children:G.toUpperCase()},ie))})]})})})]})}),r.jsx(gr,{open:U,onOpenChange:D,children:r.jsxs(xr,{className:"sm:max-w-[425px]","aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:"Manage Tags"})}),r.jsx("div",{className:"grid gap-4 py-4",children:r.jsxs("div",{className:"space-y-2 col-span-2",children:[r.jsx(Me,{htmlFor:"tags",children:"Officer Tags"}),r.jsx("div",{className:"border border-input rounded-md p-1 bg-background/50",children:r.jsx(T7,{options:s.map(G=>({label:G.label,value:G.shortname})),selected:H??[],onChange:G=>K(G),placeholder:"Select officer tags..."})}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Tags help identify officer specializations and qualifications."})]})}),r.jsx("button",{onClick:()=>{M()},className:"mt-4 bg-blue-500 text-white rounded-md px-4 py-2",children:"Save"})]})}),r.jsx(gr,{open:l,onOpenChange:c,children:r.jsxs(xr,{"aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:(B==null?void 0:B.text_edit_medic)||"Edit Medic"})}),r.jsx(pbe,{medic:d,tags:s,onSave:ee,onCancel:()=>c(!1)})]})})]})};function mbe({onSave:e,onCancel:t}){const[n,s]=m.useState(""),a=i=>{i.preventDefault(),e({id:Date.now().toString(),description:n})};return r.jsxs("form",{onSubmit:a,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"description",children:"Assignment Description"}),r.jsx(ht,{id:"description",value:n,onChange:i=>s(i.target.value),required:!0})]}),r.jsxs(un,{children:[r.jsx(Ae,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),r.jsx(Ae,{type:"submit",children:"Save"})]})]})}function pbe({medic:e,tags:t,onSave:n,onCancel:s}){var f,v,g,w,y;const[a,i]=m.useState(e||{name:"",rank:"",department:"",status:"off-duty",location:"",totalDutyHours:0,dutyRecords:e==null?void 0:e.dutyRecords,serviceHistory:e==null?void 0:e.serviceHistory,currentAssignments:e==null?void 0:e.currentAssignments,tags:(e==null?void 0:e.tags)||[]}),[o,l]=m.useState([]),c=()=>ke("getDepartments",{}).then(b=>{b?l(b):console.error("No response received.")}).catch(b=>{console.error("Error:",b)});m.useEffect(()=>{c()},[]);const d=b=>{const{name:x,value:N}=b.target;i(S=>({...S,[x]:N}))},u=b=>{b.preventDefault(),n(a)};return r.jsxs("form",{onSubmit:u,className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2 col-span-2",children:[r.jsx(Me,{htmlFor:"name",children:"Name"}),r.jsx(ht,{id:"name",name:"name",value:a.name,onChange:d,disabled:!0})]}),r.jsxs("div",{className:"space-y-2 col-span-2",children:[r.jsx(Me,{htmlFor:"department",children:"Department"}),r.jsxs(On,{name:"department",value:a.department,onValueChange:b=>{if(!b)return;const x=o.find(N=>N.id===b);x&&i(N=>({...N,department:x.id}))},children:[r.jsx(Dn,{children:r.jsx(Mn,{placeholder:"Select department"})}),r.jsx(Fn,{children:o&&Array.isArray(o)&&o.map(b=>r.jsx(Yt,{value:b.id,children:b.label},b.id))})]})]}),r.jsxs("div",{className:"space-y-2 col-span-2",children:[r.jsx(Me,{htmlFor:"rank",children:"Rank"}),r.jsxs(On,{name:"rank",value:a.rank,onValueChange:b=>i(x=>({...x,rank:b})),children:[r.jsx(Dn,{children:r.jsx(Mn,{children:a.rank!==void 0&&a.rank!==null&&((g=(v=(f=(o||[]).find(b=>b.id==a.department))==null?void 0:f.roles)==null?void 0:v[a.rank])==null?void 0:g.name)||"Select rank"})}),r.jsx(Fn,{children:o&&Array.isArray(o)&&((w=(o||[]).find(b=>b.id==a.department))==null?void 0:w.roles)&&Object.entries(((y=(o||[]).find(b=>(b==null?void 0:b.id)==a.department))==null?void 0:y.roles)||{}).map(([b,x],N)=>r.jsx(Yt,{value:N.toString(),children:x.name},b))})]})]}),r.jsxs(un,{className:"col-span-2 gap-4",children:[r.jsx(Ae,{type:"button",variant:"outline",onClick:s,children:"Cancel"}),r.jsx(Ae,{type:"submit",children:"Save"})]})]})}function gbe(){return r.jsxs("div",{className:"flex-1 space-y-4 w-full h-full",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(Se,{className:"w-1 h-10 rounded-full"}),r.jsx(Se,{className:"h-8 w-48"})]}),r.jsx("div",{className:"grid grid-cols-6 gap-4 grid-rows-1 h-full",children:r.jsxs(Le,{className:"col-span-6 row-span-1 bg-card/50  border-primary/20 max-h-[calc(95vh-200px)] overflow-hidden",children:[r.jsxs(mt,{className:"flex flex-row items-center justify-between",children:[r.jsxs(kt,{className:"flex items-center",children:[r.jsx(Se,{className:"h-5 w-5 mr-2"}),r.jsx(Se,{className:"h-6 w-32"})]}),r.jsx(Se,{className:"h-9 w-28"})]}),r.jsxs(Je,{children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-5",children:[r.jsx(Se,{className:"h-5 w-5"}),r.jsx(Se,{className:"h-9 w-64"})]}),r.jsx(nr,{className:"h-[calc(85vh-300px)]",children:r.jsx("div",{className:"items-stretch grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[...Array(8)].map((e,t)=>r.jsxs(Le,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(Se,{className:"h-12 w-12 rounded-full"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Se,{className:"h-4 w-32"}),r.jsx(Se,{className:"h-3 w-24"})]})]}),r.jsxs("div",{className:"mt-4 space-y-2",children:[r.jsx(Se,{className:"h-3 w-full"}),r.jsx(Se,{className:"h-3 w-3/4"})]}),r.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:[...Array(3)].map((n,s)=>r.jsx(Se,{className:"h-6 w-16 rounded-full"},s))})]},t))})}),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsx(Se,{className:"h-4 w-48"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Se,{className:"h-9 w-24"}),r.jsx(Se,{className:"h-9 w-24"})]})]})]})]})})]})}const xbe={medics:[{id:"1",name:"John Doe",department:"Police",rank:"Medic",location:"Precinct 1",tags:["FTO","FTP","SWAT","BS","T5"],status:"on-duty",totalDutyHours:120,currentAssignments:[{id:"1",name:"Patrol Duty",startDate:"2022-01-01",endDate:"2022-01-31"}],serviceHistory:[{id:"1",event:"Police",date:"2020-01-01",endDate:"2022-01-01"}],dutyRecords:[{id:"1",date:"2022-01-15",hours:8}]},{id:"2",name:"Jane Smith",department:"Police"},{id:"3",name:"John Doe",department:"Police"},{id:"4",name:"Jane Smith",department:"Police"},{id:"5",name:"John Doe",department:"Police",status:"Active"}],totalCount:5},vbe={currentAssignments:[{id:"1",name:"John Doe",department:"Police"}],serviceHistory:[{id:"1",event:"Police",date:"2020-01-01",endDate:"2022-01-01"}],dutyRecords:[{id:"1",name:"John Doe",department:"Police"}],totalDutyHours:100},ybe=[{label:"Field Training Medic",shortname:"FTO",color:"green"},{label:"K9 Unit",shortname:"K9",color:"blue"},{label:"SWAT Team",shortname:"SWAT",color:"red"},{label:"Traffic Enforcement",shortname:"TE",color:"yellow"},{label:"Crisis Negotiation",shortname:"CNT",color:"purple"},{label:"Bomb Squad",shortname:"BS",color:"orange"},{label:"Homicide Detective",shortname:"HD",color:"black"},{label:"Forensic Specialist",shortname:"FS",color:"gray"}],aj=10;function wbe(){var le;const[e,t]=m.useState(!1),{tabs:n,setTabData:s}=ko(),a=li(),{data:i}=a.state||{},{toast:o}=ys(),{user:l,setUserField:c}=Yn(),d=(le=l==null?void 0:l.permissions)==null?void 0:le.Pages.medicmanagement;if(!d||!d.view)return null;const[u,f]=m.useState([]),[v,g]=m.useState(""),[w,y]=m.useState(null),[b,x]=m.useState([]),[N,S]=m.useState(1),[k,F]=m.useState(!1),[$,U]=m.useState(v),[D,H]=m.useState(0),{locale:K}=ir();m.useEffect(()=>{const Q=setTimeout(()=>{U(v)},500);return()=>{clearTimeout(Q)}},[v]);const B=Q=>{Q.key==="Enter"&&U(v)},R=()=>ke("fetchTags",{},ybe).then(Q=>{Q?f(Q):console.error("No response received.")}).catch(Q=>{console.error("Error:",Q)});m.useEffect(()=>{R()},[]);const Z=async(Q,oe)=>{try{const ce=await ke("fetchMedics",{page:Q,query:oe},xbe);if(!ce||!ce.medics)throw new Error("Invalid response structure");const ee=ce&&(ce==null?void 0:ce.medics)&&ce.medics.map(M=>({...M,tags:Array.isArray(M==null?void 0:M.tags)?M==null?void 0:M.tags:JSON.parse((M==null?void 0:M.tags)||"[]"),status:M.status}));x(ee),H(ce.totalCount||0)}catch(ce){console.error("Error fetching medics:",ce),x([])}};m.useEffect(()=>{N!==1&&S(1)},[$]),m.useEffect(()=>{Z(N,$)},[N,$]);const te=Math.ceil(D/aj),ye=(Q,oe,ce)=>ke("fetchMedicDataByMedicId",{MedicId:oe},vbe).then(ee=>{if(ee){const M={...Q,currentAssignments:Array.isArray(ee==null?void 0:ee.currentAssignments)?ee==null?void 0:ee.currentAssignments:JSON.parse((ee==null?void 0:ee.currentAssignments)||"[]"),serviceHistory:Array.isArray(ee==null?void 0:ee.serviceHistory)?ee==null?void 0:ee.serviceHistory:JSON.parse((ee==null?void 0:ee.serviceHistory)||"[]"),dutyRecords:Array.isArray(ee==null?void 0:ee.dutyRecords)?ee==null?void 0:ee.dutyRecords:JSON.parse((ee==null?void 0:ee.dutyRecords)||"[]"),totalDutyHours:ee==null?void 0:ee.totalHours};y(M),s(M,oe)}else console.error("No response received."),y({})}).catch(ee=>{console.error("Error:",ee),y({})});m.useEffect(()=>{if(i){t(!0),y(Array.isArray(i)||typeof i=="object"?i:JSON.parse(i||"[]"));const Q=setTimeout(()=>{t(!1)},1e3);return()=>clearTimeout(Q)}},[i]);const de=Q=>{const ce=new Date().toISOString().split("T")[0],ee={...Q,id:`O${Date.now()}`,serviceHistory:[...Q.serviceHistory||[],{date:ce,event:`Joined department: ${Q.department||"Unknown"}`}]};return ke("addNewMedics",{medic:ee}).then(M=>{M.success?(Z(1,$),F(!1),o({title:(K==null?void 0:K.text_medic_hired)||"Medic Hired",description:(K==null?void 0:K.text_medic_hired_description)||"The medic has been successfully hired."})):(o({title:(K==null?void 0:K.text_error)||"Error",description:(K==null?void 0:K.text_error_description)||"An error occurred. Please try again."}),console.error("No response received."))}).catch(M=>{console.error("Error:",M)})};return r.jsxs("div",{className:"flex-1 space-y-4 w-full h-full",children:[e?r.jsx(gbe,{}):r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("hr",{className:"w-1 h-10 bg-primary border-none rounded-full"}),r.jsx("h2",{className:"text-3xl font-bold",children:(K==null?void 0:K.text_medics_management)||"Medics Management"})]}),!e&&r.jsx("div",{className:"grid grid-cols-6 gap-4 grid-rows-1 h-full",children:r.jsx(Le,{className:"col-span-6 row-span-1 bg-card/50  border-primary/20 max-h-[calc(95vh-200px)] overflow-hidden",children:r.jsx(Gn,{mode:"wait",children:w?r.jsx(Xt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"flex w-full ",children:r.jsx(fbe,{medic:w,user:l,userPermissions:d,tags:u,onClose:()=>{y(null),Z(N,$)}})},"list-view"):r.jsxs(Xt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:[r.jsxs(mt,{className:"flex flex-row items-center justify-between",children:[r.jsxs(kt,{className:"flex items-center",children:[r.jsx(my,{className:"mr-2 h-5 w-5 text-primary"}),(K==null?void 0:K.text_medic_database)||"Medic Database"]}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsxs(gr,{open:k,onOpenChange:F,children:[d.edit&&(l==null?void 0:l.hasManagePermission)&&r.jsx(to,{asChild:!0,children:r.jsxs(Ae,{size:"sm",children:[r.jsx(Xr,{className:"mr-2 h-4 w-4"}),(K==null?void 0:K.text_new_medic)||"New Medic"]})}),r.jsxs(xr,{"aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:(K==null?void 0:K.text_add_new_medic)||"Add New Medic"})}),r.jsx(bbe,{onSave:de,onCancel:()=>F(!1)})]})]})})]}),r.jsxs(Je,{children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-5",children:[r.jsx(ls,{className:"h-5 w-5 text-muted-foreground"}),r.jsx(ht,{placeholder:(K==null?void 0:K.text_search_medics)||"Search medics...",className:"w-64 bg-background/50 border-primary/20 focus:border-primary",value:v,onChange:Q=>g(Q.target.value),onKeyDown:B})]}),r.jsx(nr,{className:"h-[calc(85vh-300px)]",children:r.jsx("div",{className:"items-stretch grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:r.jsx(Gn,{children:b&&Array.isArray(b)&&(b||[]).map(Q=>r.jsx(Xt.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"cursor-pointer hover:bg-primary/10",children:r.jsx(Abe,{medic:Q,tags:u,onClick:()=>{ye(Q,Q==null?void 0:Q.id),Z(N,$)}})},Q==null?void 0:Q.id))})})}),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsxs("div",{children:[(K==null?void 0:K.text_showing)||"Showing"," ",(N-1)*aj+1," ",(K==null?void 0:K.text_to)||"to"," ",Math.min(N*aj,D)," ",(K==null?void 0:K.text_of)||"of"," ",D," ",(K==null?void 0:K.text_medics)||"medics"]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>S(Q=>Math.max(1,Q-1)),disabled:N===1,children:(K==null?void 0:K.text_previous)||"Previous"}),r.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>S(Q=>Math.min(te,Q+1)),disabled:N==te||te==0,children:(K==null?void 0:K.text_next)||"Next"})]})]})]})]},"list-view")})})})]})}function bbe({medic:e,onSave:t,onCancel:n}){var k,F,$,U,D,H;const[s,a]=m.useState(e||{name:"",rank:"",citizenId:"",department:"",status:"off-duty",location:"",totalDutyHours:0,dutyRecords:[],serviceHistory:[],currentAssignments:[]}),[i,o]=m.useState([]),[l,c]=m.useState([]),[d,u]=m.useState(""),[f,v]=m.useState(d),g=(K,B)=>ke("fetchCitizens",{page:K,query:B}).then(R=>{c(R.citizens)}).catch(R=>{console.error("Error:",R),c([])}),w=()=>ke("getDepartments",{}).then(K=>{K?o(K):console.error("No response received.")}).catch(K=>{console.error("Error:",K)});m.useEffect(()=>{w()},[]),m.useEffect(()=>{g(1,f)},[f]),m.useEffect(()=>{const K=setTimeout(()=>{v(d)},500);return()=>{clearTimeout(K)}},[d]);const y=K=>{const{name:B,value:R}=K.target;a(Z=>({...Z,[B]:R}))},b=K=>{K.preventDefault(),t(s)},[x,N]=m.useState(!1),S=K=>{K.stopPropagation(),N(!0)};return r.jsxs("form",{onSubmit:b,className:"space-y-4",children:[r.jsxs("div",{className:"flex flex-col space-y-2 gap-4",children:[r.jsx(Me,{children:"Search Person"}),r.jsx(Ae,{variant:"outline",type:"button",onClick:K=>{S(K)},children:"Select Person"}),r.jsx(Xi,{isOpen:x,onClose:()=>N(!1),citizens:l,selectedCitizenId:(s==null?void 0:s.citizenId)||"",onUpdatePerson:({citizenId:K,name:B})=>{a(R=>({...R,citizenId:K,name:B}))},onSearchQueryChange:K=>{u(K)}})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"name",children:"Name"}),r.jsx(ht,{id:"name",name:"name",disabled:!0,value:s.name,onChange:y,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"department",children:"Department"}),r.jsxs(On,{name:"department",value:s.department,onValueChange:K=>{if(!K)return;const B=i.find(R=>R.id===K);B&&a(R=>({...R,department:B.id}))},children:[r.jsx(Dn,{children:r.jsx(Mn,{placeholder:"Select department"})}),r.jsx(Fn,{children:i&&Array.isArray(i)&&((k=i||[])==null?void 0:k.map(K=>r.jsx(Yt,{value:K.id,children:K.label},K.id)))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"rank",children:"Rank"}),r.jsxs(On,{name:"rank",value:s.rank,onValueChange:K=>a(B=>({...B,rank:K})),children:[r.jsx(Dn,{children:r.jsx(Mn,{children:s.rank!==void 0&&s.rank!==null&&((U=($=(F=(i||[]).find(K=>K.id==s.department))==null?void 0:F.roles)==null?void 0:$[s.rank])==null?void 0:U.name)||"Select rank"})}),r.jsx(Fn,{children:i&&Array.isArray(i)&&((D=(i||[]).find(K=>K.id==s.department))==null?void 0:D.roles)&&Object.entries(((H=(i||[]).find(K=>(K==null?void 0:K.id)==s.department))==null?void 0:H.roles)||{}).map(([K,B],R)=>r.jsx(Yt,{value:R.toString(),children:B.name},K))})]})]}),r.jsxs(un,{children:[r.jsx(Ae,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),r.jsx(Ae,{type:"submit",children:"Save"})]})]})}function jbe(e){const t=Nbe(e),n=m.forwardRef((s,a)=>{const{children:i,...o}=s,l=m.Children.toArray(i),c=l.find(_be);if(c){const d=c.props.children,u=l.map(f=>f===c?m.Children.count(d)>1?m.Children.only(null):m.isValidElement(d)?d.props.children:null:f);return r.jsx(t,{...o,ref:a,children:m.isValidElement(d)?m.cloneElement(d,void 0,u):null})}return r.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}function Nbe(e){const t=m.forwardRef((n,s)=>{const{children:a,...i}=n,o=m.isValidElement(a)?Bbe(a):void 0,l=an(o,s);if(m.isValidElement(a)){const c=Sbe(i,a.props);return a.type!==m.Fragment&&(c.ref=l),m.cloneElement(a,c)}return m.Children.count(a)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Cbe=Symbol("radix.slottable");function _be(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Cbe}function Sbe(e,t){const n={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?n[s]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[s]=a):s==="style"?n[s]={...a,...i}:s==="className"&&(n[s]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function Bbe(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Ebe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],IV=Ebe.reduce((e,t)=>{const n=jbe(`Primitive.${t}`),s=m.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),Nw="Switch",[Ibe,S5e]=ji(Nw),[Tbe,kbe]=Ibe(Nw),TV=m.forwardRef((e,t)=>{const{__scopeSwitch:n,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...f}=e,[v,g]=m.useState(null),w=an(t,S=>g(S)),y=m.useRef(!1),b=v?u||!!v.closest("form"):!0,[x,N]=To({prop:a,defaultProp:i??!1,onChange:d,caller:Nw});return r.jsxs(Tbe,{scope:n,checked:x,disabled:l,children:[r.jsx(IV.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":FV(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:w,onClick:Kt(e.onClick,S=>{N(k=>!k),b&&(y.current=S.isPropagationStopped(),y.current||S.stopPropagation())})}),b&&r.jsx(DV,{control:v,bubbles:!y.current,name:s,value:c,checked:x,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});TV.displayName=Nw;var kV="SwitchThumb",PV=m.forwardRef((e,t)=>{const{__scopeSwitch:n,...s}=e,a=kbe(kV,n);return r.jsx(IV.span,{"data-state":FV(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})});PV.displayName=kV;var Pbe="SwitchBubbleInput",DV=m.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:s=!0,...a},i)=>{const o=m.useRef(null),l=an(o,i),c=Dx(n),d=Ix(t);return m.useEffect(()=>{const u=o.current;if(!u)return;const f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&g){const w=new Event("click",{bubbles:s});g.call(u,n),u.dispatchEvent(w)}},[c,n,s]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:l,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});DV.displayName=Pbe;function FV(e){return e?"checked":"unchecked"}var LV=TV,Dbe=PV;const dy=m.forwardRef(({className:e,...t},n)=>r.jsx(LV,{className:Tt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:r.jsx(Dbe,{className:Tt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));dy.displayName=LV.displayName;function Fbe(e){const t=Lbe(e),n=m.forwardRef((s,a)=>{const{children:i,...o}=s,l=m.Children.toArray(i),c=l.find(Obe);if(c){const d=c.props.children,u=l.map(f=>f===c?m.Children.count(d)>1?m.Children.only(null):m.isValidElement(d)?d.props.children:null:f);return r.jsx(t,{...o,ref:a,children:m.isValidElement(d)?m.cloneElement(d,void 0,u):null})}return r.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}function Lbe(e){const t=m.forwardRef((n,s)=>{const{children:a,...i}=n;if(m.isValidElement(a)){const o=Ube(a),l=Mbe(i,a.props);return a.type!==m.Fragment&&(l.ref=s?_d(s,o):o),m.cloneElement(a,l)}return m.Children.count(a)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Rbe=Symbol("radix.slottable");function Obe(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Rbe}function Mbe(e,t){const n={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?n[s]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[s]=a):s==="style"?n[s]={...a,...i}:s==="className"&&(n[s]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function Ube(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Qbe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Hbe=Qbe.reduce((e,t)=>{const n=Fbe(`Primitive.${t}`),s=m.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),zbe="Separator",EP="horizontal",Vbe=["horizontal","vertical"],RV=m.forwardRef((e,t)=>{const{decorative:n,orientation:s=EP,...a}=e,i=Kbe(s)?s:EP,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return r.jsx(Hbe.div,{"data-orientation":i,...l,...a,ref:t})});RV.displayName=zbe;function Kbe(e){return Vbe.includes(e)}var OV=RV;const MV=m.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...s},a)=>r.jsx(OV,{ref:a,decorative:n,orientation:t,className:Tt("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));MV.displayName=OV.displayName;function Wbe(e){const t=$be(e),n=m.forwardRef((s,a)=>{const{children:i,...o}=s,l=m.Children.toArray(i),c=l.find(qbe);if(c){const d=c.props.children,u=l.map(f=>f===c?m.Children.count(d)>1?m.Children.only(null):m.isValidElement(d)?d.props.children:null:f);return r.jsx(t,{...o,ref:a,children:m.isValidElement(d)?m.cloneElement(d,void 0,u):null})}return r.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}function $be(e){const t=m.forwardRef((n,s)=>{const{children:a,...i}=n;if(m.isValidElement(a)){const o=Ybe(a),l=Jbe(i,a.props);return a.type!==m.Fragment&&(l.ref=s?_d(s,o):o),m.cloneElement(a,l)}return m.Children.count(a)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Gbe=Symbol("radix.slottable");function qbe(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Gbe}function Jbe(e,t){const n={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?n[s]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[s]=a):s==="style"?n[s]={...a,...i}:s==="className"&&(n[s]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function Ybe(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Xbe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],UV=Xbe.reduce((e,t)=>{const n=Wbe(`Primitive.${t}`),s=m.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),yB="Progress",wB=100,[Zbe,B5e]=ji(yB),[e2e,t2e]=Zbe(yB),QV=m.forwardRef((e,t)=>{const{__scopeProgress:n,value:s=null,max:a,getValueLabel:i=r2e,...o}=e;(a||a===0)&&!IP(a)&&console.error(n2e(`${a}`,"Progress"));const l=IP(a)?a:wB;s!==null&&!TP(s,l)&&console.error(s2e(`${s}`,"Progress"));const c=TP(s,l)?s:null,d=r1(c)?i(c,l):void 0;return r.jsx(e2e,{scope:n,value:c,max:l,children:r.jsx(UV.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":r1(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":VV(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});QV.displayName=yB;var HV="ProgressIndicator",zV=m.forwardRef((e,t)=>{const{__scopeProgress:n,...s}=e,a=t2e(HV,n);return r.jsx(UV.div,{"data-state":VV(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:t})});zV.displayName=HV;function r2e(e,t){return`${Math.round(e/t*100)}%`}function VV(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function r1(e){return typeof e=="number"}function IP(e){return r1(e)&&!isNaN(e)&&e>0}function TP(e,t){return r1(e)&&!isNaN(e)&&e<=t&&e>=0}function n2e(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${wB}\`.`}function s2e(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${wB} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var KV=QV,i2e=zV;const M5=m.forwardRef(({className:e,value:t,...n},s)=>r.jsx(KV,{ref:s,className:Tt("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:r.jsx(i2e,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));M5.displayName=KV.displayName;/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var a2e=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],U5=a2e.join(","),WV=typeof Element>"u",px=WV?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,n1=!WV&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},s1=function e(t,n){var s;n===void 0&&(n=!0);var a=t==null||(s=t.getAttribute)===null||s===void 0?void 0:s.call(t,"inert"),i=a===""||a==="true",o=i||n&&t&&e(t.parentNode);return o},o2e=function(t){var n,s=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return s===""||s==="true"},l2e=function(t,n,s){if(s1(t))return[];var a=Array.prototype.slice.apply(t.querySelectorAll(U5));return n&&px.call(t,U5)&&a.unshift(t),a=a.filter(s),a},c2e=function e(t,n,s){for(var a=[],i=Array.from(t);i.length;){var o=i.shift();if(!s1(o,!1))if(o.tagName==="SLOT"){var l=o.assignedElements(),c=l.length?l:o.children,d=e(c,!0,s);s.flatten?a.push.apply(a,d):a.push({scopeParent:o,candidates:d})}else{var u=px.call(o,U5);u&&s.filter(o)&&(n||!t.includes(o))&&a.push(o);var f=o.shadowRoot||typeof s.getShadowRoot=="function"&&s.getShadowRoot(o),v=!s1(f,!1)&&(!s.shadowRootFilter||s.shadowRootFilter(o));if(f&&v){var g=e(f===!0?o.children:f.children,!0,s);s.flatten?a.push.apply(a,g):a.push({scopeParent:o,candidates:g})}else i.unshift.apply(i,o.children)}}return a},$V=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},GV=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||o2e(t))&&!$V(t)?0:t.tabIndex},d2e=function(t,n){var s=GV(t);return s<0&&n&&!$V(t)?0:s},u2e=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},qV=function(t){return t.tagName==="INPUT"},A2e=function(t){return qV(t)&&t.type==="hidden"},h2e=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(s){return s.tagName==="SUMMARY"});return n},f2e=function(t,n){for(var s=0;s<t.length;s++)if(t[s].checked&&t[s].form===n)return t[s]},m2e=function(t){if(!t.name)return!0;var n=t.form||n1(t),s=function(l){return n.querySelectorAll('input[type="radio"][name="'+l+'"]')},a;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")a=s(window.CSS.escape(t.name));else try{a=s(t.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var i=f2e(a,t.form);return!i||i===t},p2e=function(t){return qV(t)&&t.type==="radio"},g2e=function(t){return p2e(t)&&!m2e(t)},x2e=function(t){var n,s=t&&n1(t),a=(n=s)===null||n===void 0?void 0:n.host,i=!1;if(s&&s!==t){var o,l,c;for(i=!!((o=a)!==null&&o!==void 0&&(l=o.ownerDocument)!==null&&l!==void 0&&l.contains(a)||t!=null&&(c=t.ownerDocument)!==null&&c!==void 0&&c.contains(t));!i&&a;){var d,u,f;s=n1(a),a=(d=s)===null||d===void 0?void 0:d.host,i=!!((u=a)!==null&&u!==void 0&&(f=u.ownerDocument)!==null&&f!==void 0&&f.contains(a))}}return i},kP=function(t){var n=t.getBoundingClientRect(),s=n.width,a=n.height;return s===0&&a===0},v2e=function(t,n){var s=n.displayCheck,a=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var i=px.call(t,"details>summary:first-of-type"),o=i?t.parentElement:t;if(px.call(o,"details:not([open]) *"))return!0;if(!s||s==="full"||s==="legacy-full"){if(typeof a=="function"){for(var l=t;t;){var c=t.parentElement,d=n1(t);if(c&&!c.shadowRoot&&a(c)===!0)return kP(t);t.assignedSlot?t=t.assignedSlot:!c&&d!==t.ownerDocument?t=d.host:t=c}t=l}if(x2e(t))return!t.getClientRects().length;if(s!=="legacy-full")return!0}else if(s==="non-zero-area")return kP(t);return!1},y2e=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var s=0;s<n.children.length;s++){var a=n.children.item(s);if(a.tagName==="LEGEND")return px.call(n,"fieldset[disabled] *")?!0:!a.contains(t)}return!0}n=n.parentElement}return!1},w2e=function(t,n){return!(n.disabled||s1(n)||A2e(n)||v2e(n,t)||h2e(n)||y2e(n))},PP=function(t,n){return!(g2e(n)||GV(n)<0||!w2e(t,n))},b2e=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},j2e=function e(t){var n=[],s=[];return t.forEach(function(a,i){var o=!!a.scopeParent,l=o?a.scopeParent:a,c=d2e(l,o),d=o?e(a.candidates):l;c===0?o?n.push.apply(n,d):n.push(l):s.push({documentOrder:i,tabIndex:c,item:a,isScope:o,content:d})}),s.sort(u2e).reduce(function(a,i){return i.isScope?a.push.apply(a,i.content):a.push(i.content),a},[]).concat(n)},JV=function(t,n){n=n||{};var s;return n.getShadowRoot?s=c2e([t],n.includeContainer,{filter:PP.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:b2e}):s=l2e(t,n.includeContainer,PP.bind(null,n)),j2e(s)};function N2e(){return/apple/i.test(navigator.vendor)}function C2e(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function _2e(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&I_(n)){let s=t;for(;s;){if(e===s)return!0;s=s.parentNode||s.host}}return!1}function bB(e){return(e==null?void 0:e.ownerDocument)||document}var S2e=typeof document<"u",B2e=function(){},pu=S2e?m.useLayoutEffect:B2e;const E2e={...o1};function B0(e){const t=m.useRef(e);return pu(()=>{t.current=e}),t}const I2e=E2e.useInsertionEffect,T2e=I2e||(e=>e());function k2e(e){const t=m.useRef(()=>{});return T2e(()=>{t.current=e}),m.useCallback(function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return t.current==null?void 0:t.current(...s)},[])}const YV=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function XV(e,t){const n=JV(e,YV()),s=n.length;if(s===0)return;const a=C2e(bB(e)),i=n.indexOf(a),o=i===-1?t===1?0:s-1:i+t;return n[o]}function P2e(e){return XV(bB(e).body,1)||e}function D2e(e){return XV(bB(e).body,-1)||e}function oj(e,t){const n=t||e.currentTarget,s=e.relatedTarget;return!s||!_2e(n,s)}function F2e(e){JV(e,YV()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function DP(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const s=n.dataset.tabindex;delete n.dataset.tabindex,s?n.setAttribute("tabindex",s):n.removeAttribute("tabindex")})}const L2e={...o1};let FP=!1,R2e=0;const LP=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+R2e++;function O2e(){const[e,t]=m.useState(()=>FP?LP():void 0);return pu(()=>{e==null&&t(LP())},[]),m.useEffect(()=>{FP=!0},[]),e}const M2e=L2e.useId,ZV=M2e||O2e;function U2e(){const e=new Map;return{emit(t,n){var s;(s=e.get(t))==null||s.forEach(a=>a(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var s;(s=e.get(t))==null||s.delete(n)}}}const Q2e=m.createContext(null),H2e=m.createContext(null),z2e=()=>{var e;return((e=m.useContext(Q2e))==null?void 0:e.id)||null},V2e=()=>m.useContext(H2e);function eK(e){return"data-floating-ui-"+e}const tK={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0},RP=m.forwardRef(function(t,n){const[s,a]=m.useState();pu(()=>{N2e()&&a("button")},[]);const i={ref:n,tabIndex:0,role:s,"aria-hidden":s?void 0:!0,[eK("focus-guard")]:"",style:tK};return r.jsx("span",{...t,...i})}),rK=m.createContext(null),OP=eK("portal");function K2e(e){e===void 0&&(e={});const{id:t,root:n}=e,s=ZV(),a=$2e(),[i,o]=m.useState(null),l=m.useRef(null);return pu(()=>()=>{i==null||i.remove(),queueMicrotask(()=>{l.current=null})},[i]),pu(()=>{if(!s||l.current)return;const c=t?document.getElementById(t):null;if(!c)return;const d=document.createElement("div");d.id=s,d.setAttribute(OP,""),c.appendChild(d),l.current=d,o(d)},[t,s]),pu(()=>{if(n===null||!s||l.current)return;let c=n||(a==null?void 0:a.portalNode);c&&!rl(c)&&(c=c.current),c=c||document.body;let d=null;t&&(d=document.createElement("div"),d.id=t,c.appendChild(d));const u=document.createElement("div");u.id=s,u.setAttribute(OP,""),c=d||c,c.appendChild(u),l.current=u,o(u)},[t,n,s,a]),i}function W2e(e){const{children:t,id:n,root:s,preserveTabOrder:a=!0}=e,i=K2e({id:n,root:s}),[o,l]=m.useState(null),c=m.useRef(null),d=m.useRef(null),u=m.useRef(null),f=m.useRef(null),v=o==null?void 0:o.modal,g=o==null?void 0:o.open,w=!!o&&!o.modal&&o.open&&a&&!!(s||i);return m.useEffect(()=>{if(!i||!a||v)return;function y(b){i&&oj(b)&&(b.type==="focusin"?DP:F2e)(i)}return i.addEventListener("focusin",y,!0),i.addEventListener("focusout",y,!0),()=>{i.removeEventListener("focusin",y,!0),i.removeEventListener("focusout",y,!0)}},[i,a,v]),m.useEffect(()=>{i&&(g||DP(i))},[g,i]),r.jsxs(rK.Provider,{value:m.useMemo(()=>({preserveTabOrder:a,beforeOutsideRef:c,afterOutsideRef:d,beforeInsideRef:u,afterInsideRef:f,portalNode:i,setFocusManagerState:l}),[a,i]),children:[w&&i&&r.jsx(RP,{"data-type":"outside",ref:c,onFocus:y=>{if(oj(y,i)){var b;(b=u.current)==null||b.focus()}else{const x=o?o.domReference:null,N=D2e(x);N==null||N.focus()}}}),w&&i&&r.jsx("span",{"aria-owns":i.id,style:tK}),i&&Kl.createPortal(t,i),w&&i&&r.jsx(RP,{"data-type":"outside",ref:d,onFocus:y=>{if(oj(y,i)){var b;(b=f.current)==null||b.focus()}else{const x=o?o.domReference:null,N=P2e(x);N==null||N.focus(),o!=null&&o.closeOnFocusOut&&(o==null||o.onOpenChange(!1,y.nativeEvent,"focus-out"))}}})]})}const $2e=()=>m.useContext(rK);function G2e(e){const{open:t=!1,onOpenChange:n,elements:s}=e,a=ZV(),i=m.useRef({}),[o]=m.useState(()=>U2e()),l=z2e()!=null,[c,d]=m.useState(s.reference),u=k2e((g,w,y)=>{i.current.openEvent=g?w:void 0,o.emit("openchange",{open:g,event:w,reason:y,nested:l}),n==null||n(g,w,y)}),f=m.useMemo(()=>({setPositionReference:d}),[]),v=m.useMemo(()=>({reference:c||s.reference||null,floating:s.floating||null,domReference:s.reference}),[c,s.reference,s.floating]);return m.useMemo(()=>({dataRef:i,open:t,onOpenChange:u,elements:v,events:o,floatingId:a,refs:f}),[t,u,v,o,a,f])}function q2e(e){e===void 0&&(e={});const{nodeId:t}=e,n=G2e({...e,elements:{reference:null,floating:null,...e.elements}}),s=e.rootContext||n,a=s.elements,[i,o]=m.useState(null),[l,c]=m.useState(null),u=(a==null?void 0:a.domReference)||i,f=m.useRef(null),v=V2e();pu(()=>{u&&(f.current=u)},[u]);const g=f6({...e,elements:{...a,...l&&{reference:l}}}),w=m.useCallback(S=>{const k=rl(S)?{getBoundingClientRect:()=>S.getBoundingClientRect(),getClientRects:()=>S.getClientRects(),contextElement:S}:S;c(k),g.refs.setReference(k)},[g.refs]),y=m.useCallback(S=>{(rl(S)||S===null)&&(f.current=S,o(S)),(rl(g.refs.reference.current)||g.refs.reference.current===null||S!==null&&!rl(S))&&g.refs.setReference(S)},[g.refs]),b=m.useMemo(()=>({...g.refs,setReference:y,setPositionReference:w,domReference:f}),[g.refs,y,w]),x=m.useMemo(()=>({...g.elements,domReference:u}),[g.elements,u]),N=m.useMemo(()=>({...g,...s,refs:b,elements:x,nodeId:t}),[g,b,x,t,s]);return pu(()=>{s.dataRef.current.floatingContext=N;const S=v==null?void 0:v.nodesRef.current.find(k=>k.id===t);S&&(S.context=N)}),m.useMemo(()=>({...g,context:N,refs:b,elements:x}),[g,b,x,N])}const MP=e=>e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(t,n)=>(n?"-":"")+t.toLowerCase());function om(e,t){return typeof e=="function"?e(t):e}function J2e(e,t){const[n,s]=m.useState(e);return e&&!n&&s(!0),m.useEffect(()=>{if(!e&&n){const a=setTimeout(()=>s(!1),t);return()=>clearTimeout(a)}},[e,n,t]),n}function Y2e(e,t){t===void 0&&(t={});const{open:n,elements:{floating:s}}=e,{duration:a=250}=t,o=(typeof a=="number"?a:a.close)||0,[l,c]=m.useState("unmounted"),d=J2e(n,o);return!d&&l==="close"&&c("unmounted"),pu(()=>{if(s){if(n){c("initial");const u=requestAnimationFrame(()=>{Kl.flushSync(()=>{c("open")})});return()=>{cancelAnimationFrame(u)}}c("close")}},[n,s]),{isMounted:d,status:l}}function X2e(e,t){t===void 0&&(t={});const{initial:n={opacity:0},open:s,close:a,common:i,duration:o=250}=t,l=e.placement,c=l.split("-")[0],d=m.useMemo(()=>({side:c,placement:l}),[c,l]),u=typeof o=="number",f=(u?o:o.open)||0,v=(u?o:o.close)||0,[g,w]=m.useState(()=>({...om(i,d),...om(n,d)})),{isMounted:y,status:b}=Y2e(e,{duration:o}),x=B0(n),N=B0(s),S=B0(a),k=B0(i);return pu(()=>{const F=om(x.current,d),$=om(S.current,d),U=om(k.current,d),D=om(N.current,d)||Object.keys(F).reduce((H,K)=>(H[K]="",H),{});if(b==="initial"&&w(H=>({transitionProperty:H.transitionProperty,...U,...F})),b==="open"&&w({transitionProperty:Object.keys(D).map(MP).join(","),transitionDuration:f+"ms",...U,...D}),b==="close"){const H=$||F;w({transitionProperty:Object.keys(H).map(MP).join(","),transitionDuration:v+"ms",...U,...H})}},[v,S,x,N,k,f,b,d]),{isMounted:y,styles:g}}const Pc={UPPER_BODY:Ws("upperbody.png"),LOWER_BODY:Ws("lowerbody.png"),LLEG:Ws("lleg.png"),RLEG:Ws("rleg.png"),RARM:Ws("rarm.png"),LARM:Ws("larm.png"),LHAND:Ws("lpalm.png"),NECK:Ws("neck.png"),HEAD:Ws("head.png"),RHAND:Ws("rpalm.png"),RFOOT:Ws("rfoot.png"),LFOOT:Ws("lfoot.png")};function lj({detaileddata:e}){const[t,n]=m.useState(!1),[s,a]=m.useState(""),[i,o]=m.useState(e);m.useEffect(()=>{o(e)},[e]);const{refs:l,context:c,floatingStyles:d}=q2e({middleware:[g6(),p6(),m6({mainAxis:15,crossAxis:-20})],open:t,placement:"right-start"}),{isMounted:u,styles:f}=X2e(c,{duration:200}),v=({clientX:y,clientY:b})=>{l.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:y,y:b,left:y,top:b,right:y,bottom:b}}})};m.useEffect(()=>(window.addEventListener("mousemove",v),()=>{window.removeEventListener("mousemove",v)}),[]);const g=y=>{const b=i[y];if(!b)return"none";const x=b.percent||0;if(x===0)return"none";const N=Math.min(x,100),S=b.severity?400:300,k=b.bleeding?80:100,F=b.broken?320:299;return`sepia(${N}%) saturate(${S}%) brightness(${k}%) hue-rotate(${F}deg)`},w=(y,b)=>{};return r.jsxs("div",{className:"group relative w-full",children:[r.jsxs("div",{className:"relative w-full aspect-[3/4]",children:[r.jsx("img",{className:"absolute inset-0 w-full h-full object-contain transition-all duration-200",style:{filter:g("UPPER_BODY"),zIndex:1},alt:"Upper Body",src:Pc.UPPER_BODY||"/placeholder.svg",onMouseEnter:()=>w(),onMouseLeave:()=>w()}),r.jsx("img",{className:"absolute inset-0 w-full h-full object-contain transition-all duration-200",style:{filter:g("LOWER_BODY"),zIndex:1},alt:"Lower Body",src:Pc.LOWER_BODY||"/placeholder.svg",onMouseEnter:()=>w(),onMouseLeave:()=>w()}),r.jsx("img",{className:"absolute inset-0 w-full h-full object-contain transition-all duration-200",style:{filter:g("HEAD"),zIndex:2},alt:"Head",src:Pc.HEAD||"/placeholder.svg",onMouseEnter:()=>w(),onMouseLeave:()=>w()}),r.jsx("img",{className:"absolute inset-0 w-full h-full object-contain transition-all duration-200",style:{filter:g("NECK"),zIndex:2},alt:"Neck",src:Pc.NECK||"/placeholder.svg",onMouseEnter:()=>w(),onMouseLeave:()=>w()}),r.jsx("img",{className:"absolute inset-0 w-full h-full object-contain transition-all duration-200",style:{filter:g("LARM"),zIndex:1},alt:"Left Arm",src:Pc.LARM||"/placeholder.svg",onMouseEnter:()=>w(),onMouseLeave:()=>w()}),r.jsx("img",{className:"absolute inset-0 w-full h-full object-contain transition-all duration-200",style:{filter:g("RARM"),zIndex:1},alt:"Right Arm",src:Pc.RARM||"/placeholder.svg",onMouseEnter:()=>w(),onMouseLeave:()=>w()}),r.jsx("img",{className:"absolute inset-0 w-full h-full object-contain transition-all duration-200",style:{filter:g("LHAND"),zIndex:2},alt:"Left Hand",src:Pc.LHAND||"/placeholder.svg",onMouseEnter:()=>w(),onMouseLeave:()=>w()}),r.jsx("img",{className:"absolute inset-0 w-full h-full object-contain transition-all duration-200",style:{filter:g("RHAND"),zIndex:2},alt:"Right Hand",src:Pc.RHAND||"/placeholder.svg",onMouseEnter:()=>w(),onMouseLeave:()=>w()}),r.jsx("img",{className:"absolute inset-0 w-full h-full object-contain transition-all duration-200",style:{filter:g("LLEG"),zIndex:1},alt:"Left Leg",src:Pc.LLEG||"/placeholder.svg",onMouseEnter:()=>w(),onMouseLeave:()=>w()}),r.jsx("img",{className:"absolute inset-0 w-full h-full object-contain transition-all duration-200",style:{filter:g("RLEG"),zIndex:1},alt:"Right Leg",src:Pc.RLEG||"/placeholder.svg",onMouseEnter:()=>w(),onMouseLeave:()=>w()}),r.jsx("img",{className:"absolute inset-0 w-full h-full object-contain transition-all duration-200",style:{filter:g("LFOOT"),zIndex:2},alt:"Left Foot",src:Pc.LFOOT||"/placeholder.svg",onMouseEnter:()=>w(),onMouseLeave:()=>w()}),r.jsx("img",{className:"absolute inset-0 w-full h-full object-contain transition-all duration-200",style:{filter:g("RFOOT"),zIndex:2},alt:"Right Foot",src:Pc.RFOOT||"/placeholder.svg",onMouseEnter:()=>w(),onMouseLeave:()=>w()})]}),u&&t&&s&&r.jsx(W2e,{children:r.jsx("div",{ref:l.setFloating,style:{...d,...f},className:"bg-popover text-popover-foreground p-3 rounded-lg shadow-lg border z-50 max-w-xs",children:r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"font-semibold",children:s.replace("_"," ").toLowerCase().replace(/\b\w/g,y=>y.toUpperCase())}),i[s]&&r.jsxs("div",{className:"text-sm space-y-1",children:[r.jsxs("div",{children:["Damage: ",i[s].percent,"%"]}),i[s].bullets>0&&r.jsxs("div",{children:["Bullet Wounds: ",i[s].bullets]}),i[s].severity&&r.jsx("div",{className:"text-red-500 font-medium",children:"Critical Injury"}),i[s].bleeding&&r.jsx("div",{className:"text-red-500",children:"Bleeding"}),i[s].broken&&r.jsx("div",{className:"text-orange-500",children:"Broken"})]})]})})})]})}const Z2e={severity:!1,percent:0,bullets:0,broken:!1,bleeding:!1},rg={NONE:{color:"bg-green-500",textColor:"text-green-500",label:"No Damage",range:[0,0]},MINOR:{color:"bg-yellow-500",textColor:"text-yellow-500",label:"Minor",range:[1,24]},MODERATE:{color:"bg-orange-500",textColor:"text-orange-500",label:"Moderate",range:[25,49]},SEVERE:{color:"bg-red-500",textColor:"text-red-500",label:"Severe",range:[50,74]},CRITICAL:{color:"bg-red-700",textColor:"text-red-700",label:"Critical",range:[75,100]}};function nK({isEditMode:e,bodyData:t={},onChange:n}){const{locale:s}=ir(),a={HEAD:(s==null?void 0:s.text_head)||"Head",NECK:(s==null?void 0:s.text_neck)||"Neck",SPINE:(s==null?void 0:s.text_spine)||"Spine",UPPER_BODY:(s==null?void 0:s.text_upper_body)||"Upper Body",LOWER_BODY:(s==null?void 0:s.text_lower_body)||"Lower Body",LARM:(s==null?void 0:s.text_left_arm)||"Left Arm",RARM:(s==null?void 0:s.text_right_arm)||"Right Arm",LHAND:(s==null?void 0:s.text_left_hand)||"Left Hand",RHAND:(s==null?void 0:s.text_right_hand)||"Right Hand",LLEG:(s==null?void 0:s.text_left_leg)||"Left Leg",RLEG:(s==null?void 0:s.text_right_leg)||"Right Leg",LFOOT:(s==null?void 0:s.text_left_foot)||"Left Foot",RFOOT:(s==null?void 0:s.text_right_foot)||"Right Foot"},i=S=>{const k={};return Object.values(a).forEach((F,$)=>{const U=Object.keys(a)[$];k[U]=S[U]||{...Z2e}}),k},[o,l]=m.useState(i(t)),[c,d]=m.useState(null),[u,f]=m.useState(""),v=m.useCallback((S,k)=>{l(F=>{const $={...F,[S]:{...F[S],...k}};return n(S,k),i($)})},[]),g=m.useCallback(()=>{const S=Object.keys(o).reduce((k,F)=>(k[F]={severity:!1,percent:0,bullets:0,broken:!1,bleeding:!1},k),{});l(S)},[o]),w=S=>S===0?rg.NONE:S<25?rg.MINOR:S<50?rg.MODERATE:S<75?rg.SEVERE:rg.CRITICAL,y=()=>Object.entries(o).filter(([S,k])=>k.severity||k.percent>0||k.bullets>0||k.bleeding||k.broken),b=()=>Object.entries(a).filter(([S,k])=>k.toLowerCase().includes(u.toLowerCase())),N=(()=>{const S=Object.values(o);return{criticalInjuries:S.filter(k=>k.severity).length,totalBullets:S.reduce((k,F)=>k+(F.bullets?F.bullets:0),0),bleedingParts:S.filter(k=>k.bleeding).length,brokenParts:S.filter(k=>k.broken).length,averageDamage:Math.round(S.reduce((k,F)=>k+F.percent,0)/S.length)}})();return r.jsx("div",{className:"w-full max-h-full bg-gradient-to-br from-slate-950 via-slate-900 to-slate-800 rounded-xl",children:r.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[r.jsx("div",{className:"space-y-2",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-900/30 rounded-xl",children:r.jsx(dm,{className:"h-8 w-8 text-blue-400"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-slate-100 to-slate-400 bg-clip-text text-transparent",children:(s==null?void 0:s.text_medical_assessment)||"Medical Assessment"}),r.jsx("p",{className:"text-slate-400 text-lg",children:(s==null?void 0:s.text_medical_assessment_desc)||"Advanced injury tracking and damage analysis"})]})]})}),e&&r.jsx("div",{className:"flex gap-3",children:r.jsxs(Ae,{variant:"outline",onClick:g,className:"flex items-center gap-2 h-11 px-6",children:[r.jsx(cO,{className:"h-4 w-4"}),(s==null?void 0:s.text_reset_all)||"Reset All"]})})]}),r.jsxs(ea,{defaultValue:"overview",className:"w-full",children:[r.jsxs(ta,{className:"grid w-full grid-cols-3",children:[r.jsx(Fr,{value:"overview",children:(s==null?void 0:s.text_overview)||"Overview"}),r.jsx(Fr,{value:"edit",children:(s==null?void 0:s.text_edit_damage)||"Edit Damage"}),r.jsx(Fr,{value:"details",children:(s==null?void 0:s.text_medical_report)||"Medical Report"})]}),r.jsx(Rr,{value:"overview",className:"space-y-6",children:r.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-8",children:[r.jsx("div",{className:"xl:col-span-1",children:r.jsxs(Le,{className:"bg-transparent border-none",children:[r.jsx(mt,{className:"pb-4",children:r.jsxs(kt,{className:"text-xl font-semibold flex items-center gap-2",children:[r.jsx(dm,{className:"h-5 w-5 text-blue-600"}),(s==null?void 0:s.text_body_map)||"Body Map"]})}),r.jsx(Je,{children:r.jsx(lj,{detaileddata:o})})]})}),r.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 ",children:[r.jsx(Le,{className:"bg-slate-800/70",children:r.jsxs(Je,{className:"p-4 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:N.criticalInjuries}),r.jsx("div",{className:"text-sm text-muted-foreground",children:(s==null?void 0:s.text_critical)||"Critical"})]})}),r.jsx(Le,{className:"bg-slate-800/70",children:r.jsxs(Je,{className:"p-4 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-orange-600",children:N.totalBullets}),r.jsx("div",{className:"text-sm text-muted-foreground",children:(s==null?void 0:s.text_bullets)||"Bullets"})]})}),r.jsx(Le,{className:"bg-slate-800/70",children:r.jsxs(Je,{className:"p-4 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-red-500",children:N.bleedingParts}),r.jsx("div",{className:"text-sm text-muted-foreground",children:(s==null?void 0:s.text_bleeding)||"Bleeding"})]})}),r.jsx(Le,{className:"bg-slate-800/70",children:r.jsxs(Je,{className:"p-4 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:N.brokenParts}),r.jsx("div",{className:"text-sm text-muted-foreground",children:(s==null?void 0:s.text_broken)||"Broken"})]})}),r.jsx(Le,{className:"bg-slate-800/70",children:r.jsxs(Je,{className:"p-4 text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[N.averageDamage,"%"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:(s==null?void 0:s.text_avg_damage)||"Avg Damage"})]})})]}),r.jsxs(Le,{className:"bg-transparent border-none",children:[r.jsx(mt,{children:r.jsxs(kt,{className:"flex items-center gap-2",children:[r.jsx(cs,{className:"h-5 w-5"}),(s==null?void 0:s.text_active_injuries)||"Active Injuries"," (",y().length,")"]})}),r.jsx(Je,{children:r.jsx(nr,{className:"h-64",children:r.jsxs("div",{className:"space-y-3",children:[y().map(([S,k])=>{const F=w(k.percent);return r.jsxs("div",{className:"group p-6 border border-slate-700 rounded-xl hover:bg-slate-800/50 transition-all duration-200 hover:shadow-md",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:`w-4 h-4 rounded-full ${F.color} shadow-sm`}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-lg text-slate-100",children:a[S]}),r.jsxs("div",{className:"text-sm text-slate-400 flex items-center gap-2",children:[r.jsxs("span",{className:"font-medium",children:[k.percent,"% ",(s==null?void 0:s.text_damage)||"damage"]}),r.jsx("span",{children:""}),r.jsx("span",{className:F.textColor,children:F.label})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[k.severity&&r.jsxs(ze,{variant:"destructive",className:"text-xs font-medium",children:[r.jsx(cs,{className:"h-3 w-3 mr-1"}),(s==null?void 0:s.text_critical)||"Critical"]}),k.bleeding&&r.jsxs(ze,{variant:"destructive",className:"text-xs font-medium",children:[r.jsx(jJ,{className:"h-3 w-3 mr-1"}),(s==null?void 0:s.text_bleeding)||"Bleeding"]}),k.broken&&r.jsxs(ze,{variant:"outline",className:"text-xs font-medium",children:[r.jsx(eJ,{className:"h-3 w-3 mr-1"}),(s==null?void 0:s.text_broken)||"Broken"]}),k.bullets>0&&r.jsxs(ze,{variant:"secondary",className:"text-xs font-medium",children:[r.jsx(a_,{className:"h-3 w-3 mr-1"}),k.bullets]})]})]}),r.jsx(M5,{value:k.percent,className:"h-2"})]},S)}),y().length===0&&r.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[r.jsx(dm,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{className:"text-lg font-medium",children:(s==null?void 0:s.text_no_injuries)||"No injuries detected"}),r.jsx("p",{className:"text-sm",children:(s==null?void 0:s.text_good_body_parts)||"All body parts are in good condition"})]})]})})})]})]})]})}),r.jsx(Rr,{value:"edit",className:"space-y-6",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs(Le,{className:"bg-transparent border-none",children:[r.jsx(mt,{className:"pb-4",children:r.jsxs(kt,{className:"text-xl font-semibold flex items-center gap-2",children:[r.jsx(dm,{className:"h-5 w-5 text-blue-600"}),"Body Map"]})}),r.jsx(Je,{children:r.jsx(lj,{detaileddata:o})})]})}),r.jsx("div",{className:"lg:col-span-3",children:r.jsxs(Le,{className:"bg-transparent border-none",children:[r.jsxs(mt,{className:"pb-6",children:[r.jsxs(kt,{className:"text-xl font-semibold flex items-center gap-2",children:[r.jsx(aY,{className:"h-5 w-5 text-blue-600"}),(s==null?void 0:s.text_edit_body_damage)||"Edit Body Damage"]}),r.jsxs("div",{className:"relative mt-4",children:[r.jsx(ls,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),r.jsx(ht,{placeholder:"Search body parts...",value:u,onChange:S=>f(S.target.value),className:"pl-10 h-11 bg-slate-800/50 border-slate-700"})]})]}),r.jsx(Je,{children:r.jsx(nr,{className:"h-[33vh] pr-4",children:r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:b().map(([S,k])=>{const F=o[S],$=w(F.percent);return r.jsxs(Le,{className:"p-6 space-y-6 bg-slate-800/50 border-slate-700",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"font-semibold text-lg text-slate-100",children:k}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:`w-3 h-3 rounded-full ${$.color}`}),r.jsx("span",{className:"text-sm font-medium text-slate-400",children:$.label})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx(Me,{className:"text-sm font-medium text-slate-300",children:(s==null?void 0:s.text_damage_percentage)||"Damage Percentage"}),r.jsxs("span",{className:"text-sm font-semibold text-slate-100",children:[F.percent,"%"]})]}),r.jsx(Ed,{value:[F.percent],onValueChange:([U])=>v(S,{percent:U}),disabled:!e,max:100,step:1,className:"w-full"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx(Me,{className:"text-sm font-medium text-slate-300",children:"Bullet Wounds"}),r.jsx("span",{className:"text-sm font-semibold text-slate-100",children:F.bullets?F.bullets:0})]}),r.jsx(Ed,{value:[F.bullets],onValueChange:([U])=>v(S,{bullets:U}),disabled:!e,max:20,step:1,className:"w-full"})]}),r.jsx(MV,{}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx(Me,{className:"text-xs font-medium text-slate-400",children:(s==null?void 0:s.text_critical)||"Critical"}),r.jsx(dy,{checked:F.severity,onCheckedChange:U=>v(S,{severity:U}),disabled:!e})]}),r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx(Me,{className:"text-xs font-medium text-slate-400",children:(s==null?void 0:s.text_bleeding)||"Bleeding"}),r.jsx(dy,{checked:F.bleeding,onCheckedChange:U=>v(S,{bleeding:U}),disabled:!e})]}),r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx(Me,{className:"text-xs font-medium text-slate-400",children:(s==null?void 0:s.text_broken)||"Broken"}),r.jsx(dy,{checked:F.broken,onCheckedChange:U=>v(S,{broken:U}),disabled:!e})]})]})]})]},S)})})})})]})})]})}),r.jsx(Rr,{value:"details",className:"space-y-6",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs(Le,{className:"bg-transparent border-none",children:[r.jsx(mt,{className:"pb-4",children:r.jsxs(kt,{className:"text-xl font-semibold flex items-center gap-2",children:[r.jsx(dm,{className:"h-5 w-5 text-blue-600"}),(s==null?void 0:s.text_body_map)||"Body Map"]})}),r.jsx(Je,{children:r.jsx(lj,{detaileddata:o})})]})}),r.jsx("div",{className:"lg:col-span-3",children:r.jsxs(Le,{className:"bg-transparent border-none",children:[r.jsxs(mt,{children:[r.jsx(kt,{children:(s==null?void 0:s.text_detailed_medical_report)||"Detailed Medical Report"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:(s==null?void 0:s.text_detailed_medical_report_desc)||"Comprehensive assessment of all body parts and injuries"})]}),r.jsx(Je,{children:r.jsx(nr,{className:"h-96",children:r.jsx("div",{className:"space-y-6",children:Object.entries(a).map(([S,k])=>{const F=o[S],$=w(F.percent),U=F.severity||F.percent>0||F.bullets>0||F.bleeding||F.broken;return r.jsxs("div",{className:`border-b border-slate-700 pb-6 last:border-b-0 ${U?"bg-slate-800/30 p-6 rounded-xl":""}`,children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx("div",{className:`w-4 h-4 rounded-full ${$.color}`}),r.jsx("h4",{className:"font-semibold text-xl text-slate-100",children:k}),r.jsxs("div",{className:"flex gap-2",children:[F.severity&&r.jsx(ze,{variant:"destructive",className:"font-medium",children:(s==null?void 0:s.text_critical)||"Critical"}),U&&!F.severity&&r.jsx(ze,{variant:"secondary",className:"font-medium",children:(s==null?void 0:s.text_injured)||"Injured"}),!U&&r.jsx(ze,{variant:"outline",className:"text-emerald-600 border-emerald-200 font-medium",children:(s==null?void 0:s.text_healthy)||"Healthy"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("span",{className:"text-sm font-medium text-slate-400",children:(s==null?void 0:s.text_damage_level)||"Damage Level"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-lg font-bold text-slate-100",children:[F.percent,"%"]}),r.jsxs("span",{className:`text-sm font-medium ${$.textColor}`,children:["(",$.label,")"]})]}),r.jsx(M5,{value:F.percent,className:"h-2"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("span",{className:"text-sm font-medium text-slate-400",children:(s==null?void 0:s.text_bullet_wounds)||"Bullet Wounds"}),r.jsx("div",{className:"text-lg font-bold text-slate-100",children:F.bullets})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("span",{className:"text-sm font-medium text-slate-400",children:(s==null?void 0:s.text_bleeding_status)||"Bleeding Status"}),r.jsx("div",{className:`text-lg font-bold ${F.bleeding?"text-red-600":"text-emerald-600"}`,children:F.bleeding?"Active":"None"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("span",{className:"text-sm font-medium text-slate-400",children:"Bone Status"}),r.jsx("div",{className:`text-lg font-bold ${F.broken?"text-red-600":"text-emerald-600"}`,children:F.broken?"Broken":"Intact"})]})]})]},S)})})})})]})})]})})]})]})})}const cj={reports:[{reportId:"1278474937437",reportName:"Bank Robbery | 123 Main St | 2021-01-01 12:00:00 | 1234567890",location:"123 Main St",description:"This is a test report",category:"robbery",dateTime:"2021-01-01 12:00:00",evidences:[{id:"1",type:"image",description:"This is a test evidence",url:"https://kappa.lol/8ut4U"},{id:"2",type:"video",description:"This is a test evidence",url:"https://kappa.lol/8ut4U"},{id:"3",type:"audio",description:"This is a test evidence",url:"https://kappa.lol/8ut4U"}],peopleInvolved:[{name:"John Doe",citizenId:"1234567890",category:"Medic",charges:[]},{name:"Jane Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Criminal",charges:[{title:"Assault",count:2,sentence:100,fine:1e3,jailReduction:0}]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]}],vehiclesInvolved:[{model:"Ford F150",plate:"ABC123",category:"Civilian",charges:[]}]},{reportId:"1278474937437",reportName:"Bank Robbery",location:"123 Main St",description:"This is a test report",dateTime:"2021-01-01 12:00:00",evidences:[],peopleInvolved:[{name:"John Doe",citizenId:"1234567890",category:"Medic",charges:[]},{name:"Jane Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Criminal",charges:[{title:"Assault",count:2,sentence:100,fine:1e3,jailReduction:0}]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]}],vehiclesInvolved:[]},{reportId:"1278474937437",reportName:"Bank Robbery",location:"123 Main St",description:"This is a test report",dateTime:"2021-01-01 12:00:00",evidences:[],peopleInvolved:[{name:"John Doe",citizenId:"1234567890",category:"Medic",charges:[]},{name:"Jane Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Criminal",charges:[{title:"Assault",count:1,sentence:100,fine:1e3,jailReduction:0}]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]}],vehiclesInvolved:[]},{reportId:"1278474937437",reportName:"Bank Robbery",location:"123 Main St",description:"This is a test report",dateTime:"2021-01-01 12:00:00",evidences:[],peopleInvolved:[{name:"John Doe",citizenId:"1234567890",category:"Medic",charges:[]},{name:"Jane Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Criminal",charges:[{title:"Assault",count:1,sentence:100,fine:1e3,jailReduction:0}]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]}],vehiclesInvolved:[]},{reportId:"1",reportName:"Bank Robbery",location:"123 Main St",description:"This is a test report",dateTime:"2021-01-01 12:00:00",evidences:[],peopleInvolved:[{name:"John Doe",citizenId:"1234567890",category:"Medic",charges:[]},{name:"Jane Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Criminal",charges:[{title:"Assault",count:1,sentence:100,fine:1e3,jailReduction:0}]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]}],vehiclesInvolved:[]},{reportId:"1",reportName:"Bank Robbery",location:"123 Main St",description:"This is a test report",dateTime:"2021-01-01 12:00:00",evidences:[],peopleInvolved:[{name:"John Doe",citizenId:"1234567890",category:"Medic",charges:[]},{name:"Jane Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Criminal",charges:[{title:"Assault",count:1,sentence:100,fine:1e3,jailReduction:0}]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]}],vehiclesInvolved:[]},{reportId:"1",reportName:"Bank Robbery",location:"123 Main St",description:"This is a test report",dateTime:"2021-01-01 12:00:00",evidences:[],peopleInvolved:[{name:"John Doe",citizenId:"1234567890",category:"Medic",charges:[]},{name:"Jane Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Criminal",charges:[{title:"Assault",count:1,sentence:100,fine:1e3,jailReduction:0}]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]}],vehiclesInvolved:[]},{reportId:"1",reportName:"Bank Robbery",location:"123 Main St",description:"This is a test report",dateTime:"2021-01-01 12:00:00",evidences:[],peopleInvolved:[{name:"John Doe",citizenId:"1234567890",category:"Medic",charges:[]},{name:"Jane Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Criminal",charges:[{title:"Assault",count:1,sentence:100,fine:1e3,jailReduction:0}]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]}],vehiclesInvolved:[]},{reportId:"1",reportName:"Bank Robbery",location:"123 Main St",description:"This is a test report",dateTime:"2021-01-01 12:00:00",evidences:[],peopleInvolved:[{name:"John Doe",citizenId:"1234567890",category:"Medic",charges:[]},{name:"Jane Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Criminal",charges:[{title:"Assault",count:1,sentence:100,fine:1e3,jailReduction:0}]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]}],vehiclesInvolved:[]},{reportId:"1",reportName:"Bank Robbery",location:"123 Main St",description:"This is a test report",dateTime:"2021-01-01 12:00:00",evidences:[],peopleInvolved:[{name:"John Doe",citizenId:"1234567890",category:"Medic",charges:[]},{name:"Jane Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Criminal",charges:[{title:"Assault",count:1,sentence:100,fine:1e3,jailReduction:0}]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]}],vehiclesInvolved:[]},{reportId:"1",reportName:"Bank Robbery",location:"123 Main St",description:"This is a test report",dateTime:"2021-01-01 12:00:00",evidences:[],peopleInvolved:[{name:"John Doe",citizenId:"1234567890",category:"Medic",charges:[]},{name:"Jane Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Criminal",charges:[{title:"Assault",count:1,sentence:100,fine:1e3,jailReduction:0}]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]}],vehiclesInvolved:[]},{reportId:"1",reportName:"Bank Robbery",location:"123 Main St",description:"This is a test report",dateTime:"2021-01-01 12:00:00",evidences:[],peopleInvolved:[{name:"John Doe",citizenId:"1234567890",category:"Medic",charges:[]},{name:"Jane Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Criminal",charges:[{title:"Assault",count:1,sentence:100,fine:1e3,jailReduction:0}]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]}],vehiclesInvolved:[]}]},UP={reportId:"1278474937437",reportName:"Bank Robbery | 123 Main St | 2021-01-01 12:00:00 | 1234567890",location:"123 Main St",description:"This is a test report",dateTime:"2021-01-01 12:00:00",evidences:[{id:"1",type:"image",description:"This is a test evidence",url:"https://kappa.lol/8ut4U"},{id:"2",type:"video",description:"This is a test evidence",url:"https://kappa.lol/8ut4U"},{id:"3",type:"audio",description:"This is a test evidence",url:"https://kappa.lol/8ut4U"}],peopleInvolved:[{name:"John Doe",citizenId:"1234567890",category:"Medic",charges:[]},{name:"Jane Doe",citizenId:"1234567890",category:"Criminal",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Criminal",charges:[{title:"Assault",count:2,sentence:100,fine:1e3,jailReduction:0},{title:"Assault",count:2,sentence:100,fine:1e3,jailReduction:0},{title:"Assault",count:2,sentence:100,fine:1e3,jailReduction:0},{title:"Assault",count:2,sentence:100,fine:1e3,jailReduction:0},{title:"Assault",count:2,sentence:100,fine:1e3,jailReduction:0},{title:"Assault",count:2,sentence:100,fine:1e3,jailReduction:0},{title:"Assault",count:2,sentence:100,fine:1e3,jailReduction:0}]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]}],vehiclesInvolved:[{model:"Ford F150",plate:"ABC123",category:"Civilian",charges:[]}]},eje={citizens:[{citizenid:"1",firstname:"John",lastname:"Doe",job:"Unemployed",gender:"male",photo:"https://kappa.lol/8ut4U",birthdate:"1990-01-01",bankAccount:"1234567890",phoneNumber:"123-456-7890",nationality:"American"},{citizenid:"1",firstname:"John",lastname:"Doe",job:"Unemployed",gender:"male",photo:"https://kappa.lol/8ut4U",birthdate:"1990-01-01",bankAccount:"1234567890",phoneNumber:"123-456-7890",nationality:"American"}]},tje={exportData:{bcso:{label:"BCSO",warrantTemplateUrl:"bcso_template.png"},sasp:{label:"SASP",warrantTemplateUrl:"sasp_template.png"},lspd:{label:"LSPD",warrantTemplateUrl:"lspd_template.png"},ambulance:{label:"EMS",warrantTemplateUrl:"lspd_template.png"}}},dj=10;function rje(){var Qs,gi,Wr,wn,Ni;const{locale:e}=ir(),[t,n]=m.useState(!1),[s,a]=m.useState(!1),[i,o]=m.useState(!1),[l,c]=m.useState(!1),[d,u]=m.useState("Officer"),f=Vc(),{tabs:v,setTabData:g}=ko(),w=li(),{data:y}=w.state||{},[b,x]=m.useState([]),{toast:N}=ys(),{user:S,setUserField:k,setUser:F}=Yn(),[$,U]=m.useState(!1),[D,H]=m.useState([]),[K,B]=m.useState({id:"",type:"image",url:"",description:""}),R=(Qs=S==null?void 0:S.permissions)==null?void 0:Qs.Pages.emsreports,[Z,te]=m.useState(!1),[ye,de]=m.useState(!1),[le,Q]=m.useState(""),[oe,ce]=m.useState(""),[ee,M]=m.useState(""),[E,q]=m.useState(null),[se,re]=m.useState([]),[G,ue]=m.useState(!1),[ie,Ee]=m.useState([]),[He,rt]=m.useState({reportName:"",medicId:S==null?void 0:S.id,location:"",category:"",description:"",dateTime:new Date().toISOString(),evidences:[],peopleInvolved:[],vehiclesInvolved:[]}),[we,Ve]=m.useState(1),[Re,je]=m.useState(ee),[Mt,Bt]=m.useState(0),[ct,vt]=m.useState(oe),[wt,Fe]=m.useState([]),[Oe,_e]=m.useState(le),[nt,ut]=m.useState(!1),[jt,zt]=m.useState(!1),[Be,Ye]=m.useState(""),Ue=(R==null?void 0:R.view)||!1,Lt=(R==null?void 0:R.edit)||!1;if(!Ue)return null;const{tabletData:Et}=jf(),{isCollaborating:hr,activeEditors:ur,recentChanges:Cr,startCollaborating:Tr,stopCollaborating:fr,sendChanges:dr,applyChanges:Ke,socket:qt}=Z1((E==null?void 0:E.reportId)||null,"report","ems"),[Ge,st]=m.useState(!1),[it,Pt]=m.useState(""),[_r,ot]=m.useState(!1),[dt,er]=m.useState([]),Rt=Pe=>Pe.canAccessReport?(S==null?void 0:S.hasManagePermission)||!1:!0,xn=Pe=>{Xn(Pe.reportId),ut(!1)},qr=Pe=>Pe.split(" ").map(Ct=>Ct[0]).join("").toUpperCase(),vn=Pe=>{Pe&&rt(Ct=>Ct&&{...Ct,description:Pe})},Er=Pe=>{Pe&&(q(Ct=>Ct&&{...Ct,description:Pe}),hr&&dr({description:Pe},"reportDetails"))},Gt=Pe=>{Pe&&!G?Tr():!Pe&&G&&fr(),ue(Pe)},kn=(Pe,Ct)=>ke("fetchVehicles",{page:Pe,query:Ct}).then(tr=>{tr?Fe(tr.vehiclesData):(console.error("No response received."),Fe([]))}).catch(tr=>{console.error("Error:",tr),Fe([])}),ps=()=>{de(!0)},is=Pe=>{const Ct=b[Pe];f(`/export-report/${Pe}`,{state:{departmentData:Ct,report:E,webhookDump:We}})};m.useEffect(()=>{const Pe=setTimeout(()=>{_e(le)},500);return()=>{clearTimeout(Pe)}},[le]),m.useEffect(()=>{kn(1,Oe)},[Oe]);const en=Math.ceil(Mt/dj);m.useEffect(()=>{const Pe=setTimeout(()=>{vt(oe)},500);return()=>{clearTimeout(Pe)}},[oe]);const ws=(Pe,Ct)=>{const tr={id:Ct,name:Pe};er([...dt,tr]),ke("grantReportAccess",{reportId:E==null?void 0:E.reportId,userId:Ct,reportType:"report",page:"ems"},{}).then(Hr=>{Hr!=null&&Hr.success?N({title:(e==null?void 0:e.text_access_granted)||"Access Granted",description:`Access granted to ${Pe}`}):N({title:"Error",description:(Hr==null?void 0:Hr.message)||`unable to grant access to ${Pe}`})}).catch(Hr=>{console.error("Error granting access:",Hr)})},Pn=Pe=>{er(dt.filter(Ct=>Ct.id!==Pe)),ke("revokeReportAccess",{reportId:E==null?void 0:E.reportId,userId:Pe,reportType:"report",page:"ems"},{}).then(Ct=>{Ct!=null&&Ct.success&&N({title:(e==null?void 0:e.text_access_revoked)||"Access Revoked",description:(e==null?void 0:e.text_accessRevokedDesc)||"User access has been revoked"})}).catch(Ct=>{console.error("Error revoking access:",Ct)})},qn=()=>{if(E&&it.trim()){const Pe={...E,isLocked:!0,lockReason:it.trim()};ke("lockReport",{reportId:E.reportId,lockReason:it.trim(),reportType:"report",page:"ems"},{}).then(Ct=>{Ct!=null&&Ct.success?(q(Pe),re(se.map(tr=>tr.reportId===E.reportId?Pe:tr)),st(!1),Pt(""),N({title:(e==null?void 0:e.text_report_locked)||"Report Locked",description:(e==null?void 0:e.text_report_locked_desc)||"The report has been successfully locked."})):N({title:"Error",description:(Ct==null?void 0:Ct.message)||"unable to lock report"})}).catch(Ct=>{console.error("Error locking report:",Ct)})}},Zn=()=>{if(E){const Pe={...E,isLocked:!1,lockReason:void 0};ke("unlockReport",{reportId:E.reportId,reportType:"report",page:"ems"},{}).then(Ct=>{Ct!=null&&Ct.success?(q(Pe),re(se.map(tr=>tr.reportId===E.reportId?Pe:tr)),N({title:(e==null?void 0:e.text_report_unlocked)||"Report Unlocked",description:(e==null?void 0:e.text_report_unlocked_desc)||"The report has been successfully unlocked."})):N({title:"Error",description:(Ct==null?void 0:Ct.message)||"unable to unlock report"})}).catch(Ct=>{console.error("Error unlocking report:",Ct)})}},Ln=(Pe,Ct)=>ke("fetchCitizens",{page:Pe,query:Ct},eje).then(tr=>{Ee(tr.citizens)}).catch(tr=>{console.error("Error:",tr),Ee([])});m.useEffect(()=>{Ln(1,ct)},[ct]),m.useEffect(()=>{const Pe=setTimeout(()=>{je(ee)},500);return()=>{clearTimeout(Pe)}},[ee]);const wr=Pe=>{Pe.key==="Enter"&&je(ee)},[We,Ht]=m.useState(null);function mr(){return ke("getExportDepartments",{},tje).then(Pe=>{if(Pe){const Ct=Pe.exportData;x(Ct),Ht(Pe.webhook)}}).catch(Pe=>{console.error("Error:",Pe)})}m.useEffect(()=>{Qi(),mr()},[]);const jn=(Pe,Ct)=>ke("fetchEMSReports",{page:Pe,query:Ct},cj).then(tr=>{const{reports:Hr,totalCount:on}=tr;re(Hr&&Hr.map(nn=>({...nn,peopleInvolved:Array.isArray(nn.peopleInvolved)?nn.peopleInvolved:JSON.parse(nn.peopleInvolved||"[]")}))),Bt(on)}).catch(tr=>{console.error("Error:",tr),re([])});m.useEffect(()=>{we!==1&&Ve(1)},[Re]),m.useEffect(()=>{jn(we,Re)},[we,Re]),m.useEffect(()=>{if(y){n(!0),q(Array.isArray(y)||typeof y=="object"?y:JSON.parse(y||"[]"));const Pe=setTimeout(()=>{n(!1)},1e3);return()=>clearTimeout(Pe)}},[y]);const Un=(Pe,Ct)=>ke("fetchEMSReportDataByReportId",{reportId:Ct},UP).then(tr=>{if(tr&&tr.success){tr=tr.data;const Hr={...Pe,medicId:tr.medicId||Pe.medicId,location:tr.location||Pe.location||null,description:tr.description||Pe.description||"",evidences:Array.isArray(tr.evidences)?tr.evidences:JSON.parse(tr.evidences||"[]"),peopleInvolved:Array.isArray(tr.peopleInvolved)?tr.peopleInvolved:JSON.parse(tr.peopleInvolved||"[]"),vehiclesInvolved:Array.isArray(tr.vehiclesInvolved)?tr.vehiclesInvolved:JSON.parse(tr.vehiclesInvolved||"[]"),bodyData:Array.isArray(tr.bodyData)?tr.bodyData:JSON.parse(tr.bodyData||"[]")};q(Hr),er(tr.reportAccess||[]),g(Hr,Ct)}else N({title:"Error",description:(tr==null?void 0:tr.message)||"unable to open report"}),console.error("No response received."),q(null)}).catch(tr=>{console.error("Error:",tr),q(null)}),Ur=()=>{const Pe={...He,reportId:"",description:He.description||"",dateTime:new Date().toISOString(),evidences:[],peopleInvolved:[],vehiclesInvolved:[]};return ke("addNewEMSReport",{reportToAdd:Pe},cj).then(Ct=>{Ct&&Ct.success?(Pe.reportId=Ct.reportId,re([Pe,...se]),rt({reportName:"",medicId:S==null?void 0:S.id,location:"",category:"",description:"",dateTime:new Date().toISOString(),evidences:[],peopleInvolved:[],vehiclesInvolved:[]}),N({title:(e==null?void 0:e.text_report_created)||"Report Created",description:(e==null?void 0:e.text_report_created_description)||"The report has been successfully created."}),te(!1)):console.error("No response received.")}).catch(Ct=>{console.error("Error:",Ct)})},Jr=()=>{if(E){const Pe=(E.evidences||[]).filter(on=>{var nn,us;return((nn=on.url)==null?void 0:nn.trim())!==""||((us=on.description)==null?void 0:us.trim())!==""}),Ct=(E.peopleInvolved||[]).filter(on=>{var nn;return((nn=on.citizenId)==null?void 0:nn.trim())!==""}),tr=(E.vehiclesInvolved||[]).filter(on=>{var nn;return((nn=on.plate)==null?void 0:nn.trim())!==""}),Hr={reportId:E.reportId,reportName:E.reportName,location:E.location,description:E.description,dateTime:E.dateTime,evidences:Pe||[],peopleInvolved:Ct,vehiclesInvolved:tr,bodyData:E.bodyData};return ke("saveCurrentEMSReport",Hr,UP).then(on=>{on?(re(se&&(se||[]).map(nn=>nn.reportId===E.reportId?E:nn)),q(Hr||[]),g(Hr,Hr==null?void 0:Hr.reportId),Gt(!1),N({title:(e==null?void 0:e.text_report_updated)||"Report Updated",description:(e==null?void 0:e.text_report_updated_description)||"The report has been successfully updated."})):console.error("No response received.")}).catch(on=>{console.error("Error:",on)})}},Xn=Pe=>ke("deleteEMSReport",{reportId:Pe},cj).then(Ct=>{Ct?(re(se.filter(tr=>tr.reportId!==Pe)),q(null),Gt(!1),N({title:(e==null?void 0:e.text_report_deleted)||"Report Deleted",description:(e==null?void 0:e.text_report_deleted_description)||"The report has been successfully deleted."})):console.error("No response received.")}).catch(Ct=>{console.error("Error:",Ct)}),ds=(Pe,Ct,tr)=>{if(E){const Hr={name:Pe||"",citizenId:Ct||"",category:tr||"Civilian",charges:[]};q({...E,peopleInvolved:[...E.peopleInvolved||[],Hr]}),hr&&dr({person:Hr},"addPerson")}},Nn=(Pe,Ct)=>{q(tr=>{if(!tr)return tr;const Hr=tr.bodyData||{},on={...Hr,[Pe]:{...Hr[Pe],...Ct}};return hr&&dr({bodyPartData:{bodyPart:Pe,data:Ct}},"bodyDataChange"),{...tr,bodyData:on}})},Te=Pe=>{if(E){const Ct=(E.peopleInvolved??[]).filter((tr,Hr)=>Hr!==Pe);q({...E,peopleInvolved:Ct}),hr&&dr({index:Pe},"deletePerson")}},Nt=(Pe,Ct)=>{if(E){const tr={plate:Pe,model:Ct};q({...E,vehiclesInvolved:[...E.vehiclesInvolved||[],tr]}),hr&&dr({vehicle:tr},"addVehicle")}},Jt=Pe=>{if(E){const Ct=(E.vehiclesInvolved??[]).filter((tr,Hr)=>Hr!==Pe);q({...E,vehiclesInvolved:Ct}),hr&&dr({index:Pe},"deleteVehicle")}},Pr=()=>{var Hr;if(!E)return;const Pe=Date.now().toString(),Ct={...K,id:Pe},tr=[...E.evidences||[],Ct];((Hr=Ct.url)==null?void 0:Hr.trim())==""&&(Ct.type="text"),q({...E,evidences:tr}),hr&&dr({evidence:Ct},"addEvidence"),B({id:"",type:"image",url:"",description:""}),U(!1)},Cn=Pe=>{if(E){const Ct=(E.evidences??[]).filter((tr,Hr)=>Hr!==Pe);q({...E,evidences:Ct}),hr&&dr({index:Pe},"deleteEvidence")}};m.useEffect(()=>{if(Et!=null&&Et.CollaborationEditing&&!(Et!=null&&Et.useWebsockets)){const Pe=Ct=>{const{data:tr}=Ct;if(tr.type==="collabUpdate"&&E){const Hr=Ke(E,tr.changes,tr.changeType);Hr&&q(Hr)}};return window.addEventListener("message",Pe),()=>window.removeEventListener("message",Pe)}},[E,Ke]),m.useEffect(()=>{if(Et!=null&&Et.CollaborationEditing&&(Et!=null&&Et.useWebsockets)&&hr&&qt&&E!=null&&E.reportId){const Pe=Ct=>{try{const tr=JSON.parse(Ct);if(tr.reportId!==(E==null?void 0:E.reportId))return;if(tr.action==="receiveUpdate"){const Hr=tr.change,on=Ke(E,Hr.changes,Hr.changeType);on&&q(on)}}catch(tr){console.error("Error processing socket message:",tr)}};return qt.on("message",Pe),()=>{qt.off("message",Pe)}}},[hr,qt,E==null?void 0:E.reportId,Ke,E]);const Kr=Pe=>{Ye(Pe),zt(!0)},Y=((gi=E==null?void 0:E.peopleInvolved)==null?void 0:gi.filter(Pe=>Pe.category==="Medic"))||[],Ls=((Wr=E==null?void 0:E.peopleInvolved)==null?void 0:Wr.filter(Pe=>Pe.category==="Civilian"))||[],Qi=()=>ke("fetchReportsCategory",{},{reportsCategory:[{label:"Traffic",type:"traffic"},{label:"Assault",type:"assault"},{label:"Robbery",type:"robbery"},{label:"Murder",type:"murder"},{label:"Kidnapping",type:"kidnapping"},{label:"Drug Offense",type:"drugOffense"},{label:"Weapon Offense",type:"weaponOffense"}]}).then(Pe=>{H(Pe.reportsCategory)}).catch(Pe=>{console.error("Error fetching reports category:",Pe),H([{label:"Traffic",type:"traffic"},{label:"Assault",type:"assault"},{label:"Robbery",type:"robbery"},{label:"Murder",type:"murder"},{label:"Kidnapping",type:"kidnapping"},{label:"Drug Offense",type:"drugOffense"},{label:"Weapon Offense",type:"weaponOffense"}])});return r.jsxs("div",{className:"flex-1 space-y-4 w-full h-full",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("hr",{className:"w-1 h-10 bg-primary border-none rounded-full"}),r.jsx("h2",{className:"text-3xl font-bold",children:(e==null?void 0:e.text_reports)||"Reports"})]}),t?r.jsx(lw,{}):r.jsx("div",{className:"grid grid-cols-6 gap-4 grid-rows-1 h-full",children:r.jsx(Le,{className:"col-span-6 row-span-1 bg-card/50  border-primary/20 max-h-[calc(95vh-200px)] overflow-hidden text-white",children:r.jsx(Gn,{mode:"wait",children:E?r.jsx(Xt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"flex w-full ",children:r.jsxs("div",{className:"w-full",children:[r.jsx(mt,{className:"flex flex-row items-center justify-between w-full",children:r.jsxs("div",{className:"flex items-center gap-4 w-full justify-between",children:[r.jsx(Ae,{variant:"outline",size:"icon",onClick:()=>{q(null),G&&Gt(!1)},className:"h-10 w-10",children:r.jsx(Oi,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[E==null?void 0:E.reportName,r.jsxs(ze,{variant:"outline",className:"bg-green-500/10 text-green-500",children:["#",E==null?void 0:E.reportId]})]}),r.jsxs("p",{className:"text-muted-foreground",children:[E&&$n(E.dateTime)," "," ",E==null?void 0:E.location]})]}),r.jsx("div",{className:"ml-auto",children:G?r.jsxs("div",{className:"flex gap-2",children:[r.jsx(r.Fragment,{children:E&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(fh,{isCollaborating:hr,activeEditors:ur,currentUserId:(S==null?void 0:S.id)||""}),hr&&r.jsx(mh,{recentChanges:Cr,activeEditors:ur})]})}),(R==null?void 0:R.edit)&&(E!=null&&E.isLocked?r.jsxs(Ae,{variant:"outline",onClick:Zn,children:[r.jsx(ns,{className:"mr-2 h-4 w-4"}),(e==null?void 0:e.text_unlock_report)||"Unlock Report"]}):r.jsxs(Ae,{variant:"outline",onClick:()=>st(!0),children:[r.jsx(ns,{className:"mr-2 h-4 w-4"}),(e==null?void 0:e.text_lock_report)||"Lock Report"]})),r.jsxs(Ae,{variant:"outline",onClick:()=>ot(!0),children:[r.jsx(ba,{className:"mr-2 h-4 w-4"}),(e==null?void 0:e.text_manage_access)||"Manage Access"]}),r.jsx(Ae,{variant:"outline",onClick:()=>Gt(!1),children:(e==null?void 0:e.text_cancel)||"Cancel"}),r.jsx(Ae,{onClick:Jr,children:(e==null?void 0:e.text_save_changes)||"Save Changes"})]}):r.jsx("div",{className:"flex gap-2",children:Lt&&r.jsxs(r.Fragment,{children:[r.jsx(r.Fragment,{children:E&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(fh,{isCollaborating:hr,activeEditors:ur,currentUserId:(S==null?void 0:S.id)||""}),hr&&r.jsx(mh,{recentChanges:Cr,activeEditors:ur})]})}),r.jsxs(Ae,{variant:"outline",onClick:()=>ps(),children:[r.jsx(Nd,{className:"mr-2 h-4 w-4"}),(e==null?void 0:e.text_export)||"Export"]}),r.jsxs(Ae,{variant:"outline",onClick:()=>Gt(!0),children:[r.jsx(ks,{className:"h-4 w-4 mr-2"}),(e==null?void 0:e.text_edit)||"Edit"]}),S.hasManagePermission&&Lt&&r.jsxs(tA,{open:nt,onOpenChange:ut,children:[r.jsx(Hx,{asChild:!0,children:r.jsxs(Ae,{variant:"destructive",children:[r.jsx(ms,{className:"h-4 w-4 mr-2"}),(e==null?void 0:e.text_delete)||"Delete"]})}),r.jsxs(cu,{children:[r.jsxs(du,{children:[r.jsx(Au,{children:(e==null?void 0:e.text_confirm_delete)||"Confirm Deletion"}),r.jsx(hu,{children:(e==null?void 0:e.text_confirm_delete_description)||"Are you sure you want to delete this report? This action cannot be undone."})]}),r.jsxs(uu,{children:[r.jsx(Ae,{variant:"outline",onClick:()=>ut(!1),children:(e==null?void 0:e.text_cancel)||"Cancel"}),r.jsx(Ae,{variant:"destructive",onClick:()=>{xn(E),q(null),G&&Gt(!1)},children:(e==null?void 0:e.text_delete)||"Delete"})]})]})]})]})})})]})}),r.jsxs(ea,{defaultValue:"overview",className:"flex flex-col w-full bg-transparent items-center",children:[r.jsxs(ta,{className:"grid grid-cols-6 bg-transparent border-2 border-[#4d4b5966] w-[80%]",children:[r.jsx(Fr,{value:"overview",children:(e==null?void 0:e.text_overview)||"Overview"}),r.jsx(Fr,{value:"people",children:(e==null?void 0:e.text_people_involved)||"People Involved"}),r.jsx(Fr,{value:"vehicles",children:(e==null?void 0:e.text_vehicles)||"Vehicles"}),r.jsx(Fr,{value:"bodydamage",children:(e==null?void 0:e.text_body_damage)||"Body Damage"}),r.jsx(Fr,{value:"evidence",children:(e==null?void 0:e.text_evidence)||"Evidence"}),r.jsx(Fr,{value:"access",children:(e==null?void 0:e.text_access_control)||"Access Control"})]}),r.jsx(Rr,{value:"overview",className:"w-full mt-4  p-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx("div",{className:"md:col-span-2",children:r.jsxs(Le,{children:[r.jsx(mt,{children:r.jsx(kt,{children:(e==null?void 0:e.text_description)||"Description"})}),r.jsx(Je,{className:"h-[530px] overflow-y-auto p-5",children:r.jsx(vu,{initialContent:(E==null?void 0:E.description)||`<p>${(e==null?void 0:e.text_no_notes_available)||"No notes available"}</p>`,editable:!!G,onChange:Er,placeholder:(e==null?void 0:e.text_start_typing)||"Start typing here..."})})]})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Le,{children:[r.jsx(mt,{className:"pb-2",children:r.jsx(kt,{children:(e==null?void 0:e.text_report_information)||"Report Information"})}),r.jsx(Je,{children:r.jsxs("div",{className:"space-y-2",children:[r.jsx(ng,{label:(e==null?void 0:e.text_report_id)||"Report ID",value:E?E.reportId:"N/A",isEditing:!1}),r.jsx(ng,{label:(e==null?void 0:e.text_name)||"Name",value:E?E.reportName:"N/A",isEditing:G,onChange:Pe=>{q(Ct=>Ct&&{...Ct,reportName:Pe}),hr&&dr({reportName:Pe},"reportDetails")}}),(E==null?void 0:E.medicName)&&r.jsx(ng,{label:(e==null?void 0:e.text_medic_name)||"Medic Name",value:E?E.medicName:"N/A",isEditing:!1,onChange:Pe=>q(Ct=>Ct&&{...Ct,medicName:Pe})}),r.jsx(ng,{label:(e==null?void 0:e.text_location)||"Location",value:E?E.location:"N/A",isEditing:G,onChange:Pe=>{q(Ct=>Ct&&{...Ct,location:Pe}),hr&&dr({location:Pe},"reportDetails")}}),r.jsx(ng,{label:(e==null?void 0:e.text_date_time)||"Date & Time",value:E?$n(E.dateTime):"N/A",isEditing:!1,onChange:Pe=>q(Ct=>Ct&&{...Ct,dateTime:new Date(Pe).toISOString()})})]})})]}),r.jsxs(Le,{children:[r.jsx(mt,{className:"pb-2",children:r.jsx(kt,{children:(e==null?void 0:e.text_quick_summary)||"Quick Summary"})}),r.jsx(Je,{children:r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[r.jsxs("div",{className:"bg-primary/5 rounded-lg p-3",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:(e==null?void 0:e.text_people)||"People"}),r.jsx("p",{className:"text-2xl font-bold",children:(E==null?void 0:E.peopleInvolved)&&(E==null?void 0:E.peopleInvolved.length)||0})]}),r.jsxs("div",{className:"bg-primary/5 rounded-lg p-3",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:(e==null?void 0:e.text_vehicles)||"Vehicles"}),r.jsx("p",{className:"text-2xl font-bold",children:(E==null?void 0:E.vehiclesInvolved)&&(E==null?void 0:E.vehiclesInvolved.length)||0})]}),r.jsxs("div",{className:"bg-primary/5 rounded-lg p-3",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:(e==null?void 0:e.text_evidence)||"Evidence"}),r.jsx("p",{className:"text-2xl font-bold",children:(E==null?void 0:E.evidences)&&((Ni=E==null?void 0:E.evidences)==null?void 0:Ni.length)||0})]}),r.jsxs("div",{className:"bg-primary/5 rounded-lg p-3",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:(e==null?void 0:e.text_charges)||"Charges"}),r.jsx("p",{className:"text-2xl font-bold",children:(E==null?void 0:E.peopleInvolved)&&(E==null?void 0:E.peopleInvolved.reduce((Pe,Ct)=>Pe+Ct.charges.length,0))||0})]})]})})]})]})]})}),r.jsx(Rr,{value:"people",className:"w-full mt-4  p-4",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:"text-lg font-semibold",children:(e==null?void 0:e.text_people_involved)||"People Involved"}),r.jsxs(ze,{variant:"outline",children:[E&&(E==null?void 0:E.peopleInvolved.length)||0," ",(e==null?void 0:e.text_total)||"Total"]})]}),G&&Lt&&r.jsxs(r.Fragment,{children:[r.jsxs(Ae,{variant:"outline",size:"sm",onClick:()=>c(!0),children:[r.jsx(Xr,{className:"h-4 w-4 mr-2"}),e==null?void 0:e.text_add," ",d]}),r.jsx(Xi,{isOpen:l,onClose:()=>c(!1),citizens:ie,selectedCitizenId:"",selectedPeople:E==null?void 0:E.peopleInvolved,onUpdatePerson:({citizenId:Pe,name:Ct})=>{ds(Ct,Pe,d)},onSearchQueryChange:Pe=>{ce(Pe)}})]})]}),r.jsxs(ea,{value:d,onValueChange:u,className:"w-full",children:[r.jsxs(ta,{className:"grid w-full grid-cols-2",children:[r.jsxs(Fr,{value:"Medic",className:"flex gap-2 items-center",children:[r.jsx(vl,{className:"h-4 w-4"}),(e==null?void 0:e.text_medics)||"Medics",Y.length>0&&r.jsx(ze,{variant:"secondary",className:"ml-1",children:Y.length})]}),r.jsxs(Fr,{value:"Civilian",className:"flex gap-2 items-center",children:[r.jsx(ba,{className:"h-4 w-4"}),(e==null?void 0:e.text_civilians)||"Civilians",Ls.length>0&&r.jsx(ze,{variant:"secondary",className:"ml-1",children:Ls.length})]})]}),r.jsx(Rr,{value:"Medic",className:"mt-4",children:Y&&Y.length>0?r.jsx(Le,{children:r.jsx(Je,{className:"p-4",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:Y&&Array.isArray(Y)&&Y.map((Pe,Ct)=>r.jsxs("div",{className:"flex items-center gap-3 bg-primary/5 p-3 rounded-lg",children:[r.jsx(hn,{className:"h-10 w-10",children:r.jsx(yn,{className:"bg-blue-500/20 text-blue-500",children:qr(Pe.name)})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium truncate",children:Pe.name}),r.jsxs("p",{className:"text-xs text-muted-foreground truncate",children:["ID: ",Pe.citizenId]})]}),G&&Lt&&r.jsx(Ae,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>Te(E.peopleInvolved.indexOf(Pe)),children:r.jsx(ms,{className:"h-4 w-4"})})]},Ct))})})}):r.jsxs("div",{className:"text-center py-8 bg-muted/20 rounded-lg",children:[r.jsx("p",{className:"text-muted-foreground",children:(e==null?void 0:e.text_no_medics_involved)||"No medics involved in this report"}),G&&Lt&&r.jsxs(r.Fragment,{children:[r.jsxs(Ae,{variant:"outline",className:"mt-2",onClick:()=>c(!0),children:[r.jsx(Xr,{className:"h-4 w-4 mr-2"}),(e==null?void 0:e.text_add_medic)||"Add Medic"]}),r.jsx(Xi,{isOpen:l,onClose:()=>c(!1),citizens:ie,selectedCitizenId:"",selectedPeople:E==null?void 0:E.peopleInvolved,onUpdatePerson:({citizenId:Pe,name:Ct})=>{ds(Ct,Pe,"Medic")},onSearchQueryChange:Pe=>{ce(Pe)}})]})]})}),r.jsx(Rr,{value:"Civilian",className:"mt-4",children:Ls&&Ls.length>0?r.jsx(Le,{children:r.jsx(Je,{className:"p-4",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:Ls&&Array.isArray(Ls)&&Ls.map((Pe,Ct)=>r.jsxs("div",{className:"flex items-center gap-3 bg-primary/5 p-3 rounded-lg",children:[r.jsx(hn,{className:"h-10 w-10",children:r.jsx(yn,{className:"bg-green-500/20 text-green-500",children:qr(Pe.name)})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium truncate",children:Pe.name}),r.jsxs("p",{className:"text-xs text-muted-foreground truncate",children:["ID: ",Pe.citizenId]})]}),G&&Lt&&r.jsx(Ae,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>Te(E.peopleInvolved.indexOf(Pe)),children:r.jsx(ms,{className:"h-4 w-4"})})]},Ct))})})}):r.jsxs("div",{className:"text-center py-8 bg-muted/20 rounded-lg",children:[r.jsx("p",{className:"text-muted-foreground",children:(e==null?void 0:e.text_no_civilians_involved)||"No civilians involved in this report"}),G&&Lt&&r.jsxs(r.Fragment,{children:[r.jsxs(Ae,{variant:"outline",className:"mt-2",onClick:()=>c(!0),children:[r.jsx(Xr,{className:"h-4 w-4 mr-2"}),(e==null?void 0:e.text_add_civilian)||"Add Civilian"]}),r.jsx(Xi,{isOpen:l,onClose:()=>c(!1),citizens:ie,selectedCitizenId:"",selectedPeople:E==null?void 0:E.peopleInvolved,onUpdatePerson:({citizenId:Pe,name:Ct})=>{ds(Ct,Pe,"Civilian")},onSearchQueryChange:Pe=>{ce(Pe)}})]})]})})]})]})}),r.jsx(Rr,{value:"vehicles",className:"w-full mt-4 p-4",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-semibold",children:(e==null?void 0:e.text_vehicles_involved)||"Vehicles Involved"}),G&&Lt&&r.jsxs(r.Fragment,{children:[r.jsxs(Ae,{variant:"outline",size:"sm",onClick:()=>o(!0),children:[r.jsx(Xr,{className:"h-4 w-4 mr-2"}),(e==null?void 0:e.text_add_vehicle)||"Add Vehicle"]}),r.jsx(ph,{isOpen:i,onClose:()=>o(!1),vehicles:wt,selectedVehicles:E==null?void 0:E.vehiclesInvolved,selectedVehicle:"",onUpdateVehicle:Pe=>{Nt(Pe.plate,Pe.model)},onSearchQueryChange:Pe=>{Q(Pe)}})]})]}),E&&(E!=null&&E.vehiclesInvolved)&&E.vehiclesInvolved.length>0?r.jsx(nr,{className:"h-[50%] justify-center items-center w-full",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:E&&(E==null?void 0:E.vehiclesInvolved)&&Array.isArray(E==null?void 0:E.vehiclesInvolved)&&E.vehiclesInvolved.map((Pe,Ct)=>r.jsxs(Le,{children:[r.jsxs(mt,{className:"p-4 pb-2 flex flex-row items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(ze,{className:"bg-red-500/10 text-red-500",children:"Criminal"}),r.jsx(kt,{className:"text-lg mt-1",children:Pe.model})]}),G&&Lt&&r.jsx(Ae,{variant:"ghost",size:"icon",onClick:()=>Jt(Ct),children:r.jsx(ms,{className:"h-4 w-4"})})]}),r.jsx(Je,{className:"p-4 pt-0",children:r.jsx("div",{className:"grid grid-cols-1 gap-2",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:(e==null?void 0:e.text_license_plate)||"License Plate"}),r.jsx("p",{className:"font-medium",children:Pe.plate})]})})})]},Ct))})}):r.jsxs("div",{className:"text-center py-8 bg-muted/20 rounded-lg",children:[r.jsx("p",{className:"text-muted-foreground",children:(e==null?void 0:e.text_no_vehicles_involved)||"No vehicles involved in this report"}),G&&Lt&&r.jsxs(r.Fragment,{children:[r.jsxs(Ae,{variant:"outline",size:"sm",onClick:()=>o(!0),children:[r.jsx(Xr,{className:"h-4 w-4 mr-2"}),(e==null?void 0:e.text_add_vehicle)||"Add Vehicle"]}),r.jsx(ph,{isOpen:i,onClose:()=>o(!1),vehicles:wt,selectedVehicle:"",selectedVehicles:E==null?void 0:E.vehiclesInvolved,onUpdateVehicle:Pe=>{Nt(Pe.plate,Pe.model)},onSearchQueryChange:Pe=>{Q(Pe)}})]})]})]})}),r.jsx(Rr,{value:"bodydamage",className:"w-full mt-4 p-4",children:r.jsx("div",{className:"grid grid-cols-4 gap-4",children:r.jsx("div",{className:"space-y-4 col-span-4",children:r.jsx(nK,{isEditMode:G,bodyData:E==null?void 0:E.bodyData,onChange:Nn})})})}),r.jsx(Rr,{value:"evidence",className:"w-full mt-4 p-4",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-semibold",children:(e==null?void 0:e.text_evidence_items)||"Evidence Items"}),G&&Lt&&r.jsxs(Ae,{variant:"outline",size:"sm",onClick:()=>U(!0),children:[r.jsx(Xr,{className:"h-4 w-4 mr-2"}),(e==null?void 0:e.text_add_evidence)||"Add Evidence"]})]}),E&&(E!=null&&E.evidences)&&E.evidences.length>0?r.jsx(nr,{className:"h-[50vh] justify-center items-center w-full",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:E&&(E==null?void 0:E.evidences)&&E.evidences.map((Pe,Ct)=>r.jsxs(Le,{className:"overflow-hidden relative max-h-[40vh] overflow-y-auto",children:[G&&Lt&&r.jsx(Ae,{variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-8 w-8 rounded-full z-10",onClick:()=>Cn(Ct),children:r.jsx(ms,{className:"h-4 w-4"})}),Pe.type==="image"&&r.jsx("div",{className:"aspect-video bg-muted relative",children:r.jsx("img",{src:Pe.url||"/placeholder.svg?height=200&width=300",alt:Pe.description,className:"object-cover w-full h-full cursor-pointer",onClick:()=>Kr(Pe.url)})}),r.jsxs(Je,{className:"p-3",children:[r.jsxs("p",{className:"font-medium",children:["Evidence #",Pe.id]}),r.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:Pe.description})]})]},Pe.id))})}):r.jsxs("div",{className:"text-center py-8 bg-muted/20 rounded-lg",children:[r.jsx("p",{className:"text-muted-foreground",children:(e==null?void 0:e.text_no_evidence_items)||"No evidence items attached to this report"}),G&&Lt&&r.jsxs(Ae,{variant:"outline",className:"mt-2",onClick:()=>U(!0),children:[r.jsx(Xr,{className:"h-4 w-4 mr-2"}),(e==null?void 0:e.text_add_first_evidence)||"Add First Evidence Item"]})]})]})}),r.jsxs(Rr,{value:"access",className:"w-full mt-4 p-4",children:["`             ",r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-semibold",children:(e==null?void 0:e.text_report_access)||"Report Access"}),G&&R.edit&&r.jsxs(Ae,{variant:"outline",size:"sm",onClick:()=>ot(!0),children:[r.jsx(Xr,{className:"h-4 w-4 mr-2"}),(e==null?void 0:e.text_grant_access)||"Grant Access"]})]}),dt&&dt.length>0?r.jsx(Le,{children:r.jsx(Je,{className:"p-4",children:r.jsxs("div",{className:"space-y-3",children:["`",dt.map((Pe,Ct)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-primary/5 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(hn,{className:"h-10 w-10",children:r.jsx(yn,{className:"bg-blue-500/20 text-blue-500",children:qr(Pe.name)})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:Pe.name}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["ID: ",Pe.id]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ze,{variant:"outline",className:"bg-green-500/10 text-green-500",children:Pe.role}),G&&R.edit&&r.jsx(Ae,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-red-500/10 hover:text-red-500",onClick:()=>Pn(Pe.id),children:r.jsx(Lm,{className:"h-4 w-4"})})]})]},Pe.id))]})})}):r.jsxs("div",{className:"text-center py-8 bg-muted/20 rounded-lg",children:[r.jsx("p",{className:"text-muted-foreground",children:(e==null?void 0:e.text_no_access_granted)||"No additional access granted for this report"}),G&&R.edit&&r.jsxs(Ae,{variant:"outline",className:"mt-2 bg-transparent",onClick:()=>ot(!0),children:[r.jsx(Xr,{className:"h-4 w-4 mr-2"}),(e==null?void 0:e.text_grant_first_access)||"Grant First Access"]})]})]})]})]})]})},"list-view"):r.jsxs(Xt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:[r.jsxs(mt,{className:"flex flex-row items-center justify-between",children:[r.jsx(kt,{children:(e==null?void 0:e.text_report_management)||"Report Management"}),r.jsxs(gr,{open:Z,onOpenChange:te,children:[Lt&&r.jsx(to,{asChild:!0,children:r.jsxs(Ae,{variant:"outline",onClick:()=>{te(!0)},children:[r.jsx(Xr,{className:"mr-2 h-4 w-4"}),(e==null?void 0:e.text_new_report)||"New Report"]})}),r.jsxs(xr,{className:"max-w-[60vw] w-full","aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:(e==null?void 0:e.text_create_new_report)||"Create New Report"})}),r.jsx("div",{className:"modal-container max-h-[80vh] h-auto overflow-auto",children:r.jsx("div",{className:"grid gap-4 py-4",children:r.jsx(nr,{className:"max-h-[500px] border rounded p-4",children:r.jsxs("div",{className:"grid gap-4 p-5",children:[r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Me,{htmlFor:"name",className:"text-right",children:(e==null?void 0:e.text_name)||"Name"}),r.jsx(ht,{id:"name",value:He.reportName,onChange:Pe=>rt({...He,reportName:Pe.target.value}),className:"col-span-3"})]}),r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Me,{htmlFor:"medicId",className:"text-right",children:(e==null?void 0:e.text_medic_id)||"Medic ID"}),r.jsx(ht,{id:"medicId",disabled:!0,value:S==null?void 0:S.id,className:"col-span-3"})]}),r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Me,{htmlFor:"category",className:"text-right",children:(e==null?void 0:e.text_category)||"Category"}),r.jsxs(On,{value:He.category||"",onValueChange:Pe=>rt({...He,category:Pe}),children:[r.jsx(Dn,{className:"col-span-3",children:r.jsx(Mn,{placeholder:(e==null?void 0:e.text_select_category)||"Select category"})}),r.jsx(Fn,{children:D&&D.map(Pe=>r.jsx(Yt,{value:Pe.type,children:Pe.label},Pe.type))})]})]}),r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Me,{htmlFor:"location",className:"text-right",children:(e==null?void 0:e.text_location)||"Location"}),r.jsx(ht,{id:"location",value:He.location,onChange:Pe=>rt({...He,location:Pe.target.value}),className:"col-span-3"})]}),r.jsxs("div",{className:"grid grid-cols-4 items-start gap-4 bg-card/95",children:[r.jsx(Me,{htmlFor:"description",className:"text-right mt-2",children:(e==null?void 0:e.text_description)||"Description"}),r.jsx("div",{className:"col-span-3 min-h-[200px] max-w-full w-full rounded border p-2 overflow-hidden break-words",children:r.jsx(vu,{initialContent:(He==null?void 0:He.description)||`<p>${(e==null?void 0:e.text_no_notes_available)||"No notes available"}</p>`,editable:!0,onChange:vn,placeholder:(e==null?void 0:e.text_start_typing)||"Start typing here..."})})]})]})})})}),Lt&&r.jsx(un,{children:r.jsx(Ae,{onClick:Ur,disabled:!He.reportName.trim()||!He.location.trim()||!He.description.trim()||!He.category.trim(),children:(e==null?void 0:e.text_create_report)||"Create Report"})})]})]})]}),r.jsxs(Je,{children:[r.jsxs("div",{className:"mb-4 flex items-center space-x-2",children:[r.jsx(ls,{className:"h-5 w-5 text-muted-foreground"}),r.jsx(ht,{placeholder:(e==null?void 0:e.text_search_reports)||"Search reports...",className:"flex-1 bg-background/50 border-primary/20 focus:border-primary",value:ee,onChange:Pe=>M(Pe.target.value),onKeyDown:wr})]}),r.jsx(nr,{className:"h-[calc(85vh-300px)]",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:r.jsx(Gn,{children:se&&Array.isArray(se)&&se.map(Pe=>{var Ct;return r.jsx(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},layout:!0,children:r.jsxs(Le,{className:`overflow-hidden transition-all duration-200 border border-primary/10 ${Pe.isLocked&&!Rt(Pe)?"opacity-75 cursor-not-allowed":"hover:shadow-lg cursor-pointer hover:border-primary/30"}`,onClick:()=>{if(Pe.isLocked&&!Rt(Pe)){N({title:(e==null?void 0:e.text_access_denied)||"Access Denied",description:(e==null?void 0:e.text_report_locked)||"This report is locked and you don't have permission to view it.",variant:"destructive"});return}Un(Pe,Pe.reportId),Gt(!1)},children:[r.jsxs(mt,{className:"p-4 pb-2",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[Pe.isLocked&&r.jsxs(ze,{variant:"outline",className:"bg-red-500/10 text-red-500",children:[r.jsx(ns,{className:"h-3 w-3 mr-1"}),(e==null?void 0:e.text_locked)||"Locked"]}),r.jsx(ze,{variant:"outline",className:"bg-blue-500/10 text-blue-500",children:((Ct=D.find(tr=>tr.type===Pe.category))==null?void 0:Ct.label)||"Report"}),r.jsxs(ze,{variant:"outline",className:"bg-green-500/10 text-green-500",children:["#",Pe.reportId]}),Lt&&r.jsxs(qA,{children:[r.jsx(JA,{asChild:!0,onClick:tr=>tr.stopPropagation(),children:r.jsx(Ae,{variant:"ghost",size:"icon",className:"h-8 w-8",children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[r.jsx("circle",{cx:"12",cy:"12",r:"1"}),r.jsx("circle",{cx:"19",cy:"12",r:"1"}),r.jsx("circle",{cx:"5",cy:"12",r:"1"})]})})}),r.jsx(Yu,{align:"end",children:S.hasManagePermission&&r.jsxs(ga,{onClick:tr=>{tr.stopPropagation(),Xn(Pe.reportId)},className:"text-red-500 focus:text-red-500",children:[r.jsx(ms,{className:"h-4 w-4 mr-2"}),(e==null?void 0:e.text_delete)||"Delete"]})})]})]}),r.jsx(kt,{className:`text-lg mt-2 line-clamp-1 ${Pe.isLocked&&!Rt(Pe)?"text-muted-foreground":""}`,children:Pe.isLocked&&!Rt(Pe)?"":Pe.reportName})]}),r.jsxs(Je,{className:"p-4 pt-0",children:[r.jsxs("div",{className:"flex items-center text-sm text-muted-foreground mb-2",children:[r.jsx(Ua,{className:"h-3.5 w-3.5 mr-1"}),r.jsx("span",{children:new Date(Pe.dateTime).toLocaleDateString()})]}),r.jsxs("div",{className:"flex items-center text-sm text-muted-foreground mb-2",children:[r.jsx(qs,{className:"h-3.5 w-3.5 mr-1"}),r.jsx("span",{className:"line-clamp-1",children:Pe.isLocked&&!Rt(Pe)?"":Pe.location})]}),Pe.isLocked&&!Rt(Pe)?r.jsxs("div",{className:"flex items-center text-sm text-red-400",children:[r.jsx(ns,{className:"h-3.5 w-3.5 mr-1"}),r.jsx("span",{children:(e==null?void 0:e.text_no_permission)||"No Permission to View"})]}):r.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[r.jsx(ri,{className:"h-3.5 w-3.5 mr-1"}),r.jsxs("span",{children:["Medic ",Pe.medicName]})]}),Pe.isLocked&&Pe.lockReason&&r.jsxs("div",{className:"mt-2 p-2 bg-amber-500/10 border border-amber-500/20 rounded text-xs",children:[r.jsxs("div",{className:"flex items-center gap-1 text-amber-500",children:[r.jsx(xl,{className:"h-3 w-3"}),r.jsxs("span",{className:"font-medium",children:[(e==null?void 0:e.text_lock_reason)||"Lock Reason",":"]})]}),r.jsx("span",{className:"text-amber-600",children:Pe.lockReason})]})]}),r.jsxs(ju,{className:"p-4 pt-0 flex justify-between items-center",children:[Pe.isLocked&&!Rt(Pe)?r.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[r.jsx(ns,{className:"h-4 w-4"}),r.jsx("span",{className:"text-sm",children:(e==null?void 0:e.text_restricted_access)||"Restricted Access"})]}):r.jsxs("div",{className:"flex -space-x-2",children:[Pe&&(Pe==null?void 0:Pe.peopleInvolved)&&Array.isArray(Pe==null?void 0:Pe.peopleInvolved)&&Pe.peopleInvolved.slice(0,3).map((tr,Hr)=>r.jsx(hn,{className:"border-2 border-background h-8 w-8",children:r.jsx(yn,{className:`text-xs ${tr.category==="Criminal"?"bg-red-500/20 text-red-500":tr.category==="Medic"?"bg-blue-500/20 text-blue-500":"bg-green-500/20 text-green-500"}`,children:qr(tr.name)})},Hr)),Pe&&(Pe==null?void 0:Pe.peopleInvolved)&&Pe.peopleInvolved.length>3&&r.jsx(hn,{className:"border-2 border-background h-8 w-8",children:r.jsxs(yn,{className:"text-xs bg-primary/10",children:["+",Pe.peopleInvolved.length-3]})})]}),r.jsxs(Ae,{variant:"ghost",size:"sm",className:"gap-1",children:[Pe.isLocked&&!Rt(Pe)?r.jsx(ns,{className:"h-3.5 w-3.5"}):r.jsx(fi,{className:"h-3.5 w-3.5"}),r.jsx("span",{className:"sr-only",children:"View"})]})]})]})},Pe.reportId)})})})}),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsxs("div",{children:[(e==null?void 0:e.text_showing)||"Showing"," ",(we-1)*dj+1," ",(e==null?void 0:e.text_to)||"to"," ",Math.min(we*dj,Mt)," ",(e==null?void 0:e.text_of)||"of"," ",Mt," ",((wn=e==null?void 0:e.text_reports)==null?void 0:wn.toLowerCase())||"reports"]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>Ve(Pe=>Math.max(1,Pe-1)),disabled:we===1,children:(e==null?void 0:e.text_previous)||"Previous"}),r.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>Ve(Pe=>Math.min(en,Pe+1)),disabled:we==en||en==0,children:(e==null?void 0:e.text_next)||"Next"})]})]})]})]},"list-view")})})}),r.jsx(gr,{open:ye,onOpenChange:de,children:r.jsxs(xr,{className:"sm:max-w-[425px]","aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:(e==null?void 0:e.text_export_report)||"Export Report"})}),r.jsx("div",{className:"grid gap-4 py-4",children:r.jsx("div",{className:"grid grid-cols-4 items-center gap-4",children:r.jsxs(On,{onValueChange:is,children:[r.jsx(Dn,{className:"w-[180px]",children:r.jsx(Mn,{placeholder:(e==null?void 0:e.text_select_department)||"Select Department"})}),r.jsx(Fn,{children:b&&Object.entries(b).map(([Pe,Ct],tr)=>r.jsx(Yt,{value:Pe,children:Pe.toUpperCase()},tr))})]})})})]})}),r.jsx(gr,{open:jt,onOpenChange:zt,children:r.jsxs(xr,{"aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:(e==null?void 0:e.text_evidence_image)||"Evidence Image"})}),r.jsx("div",{className:"flex justify-center",children:r.jsx("img",{src:Be||"/placeholder.svg",alt:"Full View",className:"max-w-full max-h-[80vh] object-contain"})})]})}),r.jsx(gr,{open:$,onOpenChange:U,children:r.jsxs(xr,{className:"sm:max-w-[500px]","aria-describedby":"",children:[r.jsxs(vr,{children:[r.jsx(yr,{children:(e==null?void 0:e.text_add_evidence)||"Add Evidence"}),r.jsx(nl,{children:(e==null?void 0:e.text_add_evidence_description)||"Add evidence to the report. Fill in the details below."})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Me,{htmlFor:"evidence-url",children:(e==null?void 0:e.text_url)||"URL"}),r.jsx(ht,{id:"evidence-url",placeholder:(e==null?void 0:e.text_enter_image_url)||"Enter image URL or upload file",value:K.url,onChange:Pe=>B({...K,url:Pe.target.value})})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Me,{htmlFor:"evidence-description",children:(e==null?void 0:e.text_description)||"Description"}),r.jsx(ss,{id:"evidence-description",placeholder:(e==null?void 0:e.text_describe_evidence)||"Describe the evidence...",value:K.description,onChange:Pe=>B({...K,description:Pe.target.value}),className:"min-h-[100px]"})]}),r.jsxs(un,{children:[r.jsx(Ae,{variant:"outline",onClick:()=>U(!1),children:(e==null?void 0:e.text_cancel)||"Cancel"}),r.jsx(Ae,{onClick:Pr,children:(e==null?void 0:e.text_add_evidence)||"Add Evidence"})]})]})}),r.jsx(Xi,{isOpen:_r,onClose:()=>ot(!1),citizens:ie,selectedCitizenId:"",selectedPeople:dt.map(Pe=>({citizenId:Pe.id,name:Pe.name,charges:[]})),onUpdatePerson:({citizenId:Pe,name:Ct})=>{ws(Ct,Pe),ot(!1)},onSearchQueryChange:Pe=>{ce(Pe)}}),r.jsx(gr,{open:Ge,onOpenChange:st,children:r.jsxs(xr,{className:"sm:max-w-[500px]","aria-describedby":"",children:[r.jsxs(vr,{children:[r.jsxs(yr,{className:"flex items-center gap-2",children:[r.jsx(ns,{className:"h-5 w-5"}),(e==null?void 0:e.text_lock_report)||"Lock Report"]}),r.jsx(nl,{children:(e==null?void 0:e.text_lock_report_desc)||"Locking this report will restrict access to authorized personnel only. Please provide a reason for locking this report."})]}),r.jsxs("div",{className:"py-4 space-y-4",children:[r.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/20 rounded-md p-3",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(xl,{className:"h-4 w-4 text-amber-500"}),r.jsx("p",{className:"text-sm font-medium text-amber-500",children:(e==null?void 0:e.text_imp_notice)||"Important Notice"})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:(e==null?void 0:e.text_lock_notice)||"Once locked, only users with management permissions will be able to view and edit this report. This action can be reversed by unlocking the report."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"lock-reason",children:(e==null?void 0:e.text_lock_reason)||"Lock Reason"}),r.jsx(ss,{id:"lock-reason",placeholder:(e==null?void 0:e.text_enter_lock_reason)||"Enter the reason for locking this report...",value:it,onChange:Pe=>Pt(Pe.target.value),className:"min-h-[100px]"})]})]}),r.jsxs(un,{children:[r.jsx(Ae,{variant:"outline",onClick:()=>{st(!1),Pt("")},children:(e==null?void 0:e.text_cancel)||"Cancel"}),r.jsxs(Ae,{onClick:qn,disabled:!it.trim(),className:"bg-red-500 hover:bg-red-600",children:[r.jsx(ns,{className:"h-4 w-4 mr-2"}),(e==null?void 0:e.text_lock_report)||"Lock Report"]})]})]})})]})}function ng({label:e,value:t,isEditing:n,onChange:s}){return r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:e}),n?r.jsx(ht,{value:t,onChange:a=>s&&s(a.target.value),className:"w-full"}):r.jsx("p",{className:"font-medium",children:t})]})}const nje=({warrants:e})=>{var l;const{locale:t}=ir(),[n,s]=m.useState(!1),[a,i]=m.useState(null),o=(c,d)=>ke("fetchWarrantDataByWarrantId",{warrantId:d}).then(u=>{if(u){const f={id:d,suspectId:u.suspectId,issueDate:c.issueDate,expiryDate:c.expiryDate,issuingAuthority:u.issuingAuthority,status:u.status,caseNotes:Array.isArray(u.caseNotes)?u.caseNotes:JSON.parse(u.caseNotes||"[]")};i(f),s(!0)}else console.error("No response received."),i(null)}).catch(u=>{console.error("Error fetching warrant data:",u),i(null)});return r.jsxs(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"flex w-full p-4",children:[r.jsx("div",{className:"grid grid-cols-1 gap-6 w-[75vw]",children:r.jsx("div",{className:"col-span-1",children:r.jsxs(Le,{className:"w-full bg-transparent",children:[r.jsx(mt,{children:r.jsx(kt,{children:(t==null?void 0:t.text_warrants_issued)||"Warrants Issued"})}),r.jsx(Je,{className:"h-[50vh] overflow-y-auto p-5",children:e&&e.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e&&Array.isArray(e)&&e.map(c=>{var d;return r.jsxs(Le,{className:"overflow-hidden border-destructive/50 cursor-pointer",onClick:()=>o(c,c.id),children:[r.jsx(mt,{className:"p-4 pb-2 bg-destructive/5",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx(ze,{variant:(c==null?void 0:c.status)==="active"?"destructive":"neutral",children:(c==null?void 0:c.status)==="active"?r.jsxs(r.Fragment,{children:[r.jsx(cs,{className:"h-3 w-3 mr-1"}),(t==null?void 0:t.text_active_warrant)||"Active Warrant"]}):(c==null?void 0:c.status)==="expired"?r.jsxs(r.Fragment,{children:[r.jsx(cs,{className:"h-3 w-3 mr-1"}),(t==null?void 0:t.text_expired_warrant)||"Expired Warrant"]}):r.jsxs(r.Fragment,{children:[r.jsx(cs,{className:"h-3 w-3 mr-1"}),(t==null?void 0:t.text_revoked_warrant)||"Revoked Warrant"]})}),r.jsxs(kt,{className:"mt-2 text-base",children:[(t==null?void 0:t.text_warrant_number)||"Warrant Number"," #",c.id]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-xs text-muted-foreground",children:[(t==null?void 0:t.text_issued)||"Issued",": ",c.issueDate]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[(t==null?void 0:t.text_expires)||"Expires",": ",c.expiryDate]})]})]})}),r.jsxs(Je,{className:"p-4",children:[r.jsxs("h4",{className:"font-semibold mb-2",children:[(t==null?void 0:t.text_charges)||"Charges",":"]}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:(c==null?void 0:c.charges)&&Array.isArray(c==null?void 0:c.charges)&&(c==null?void 0:c.charges.map((u,f)=>r.jsxs(ze,{variant:"outline",className:"bg-destructive/10",children:[u.title," ",u.count>1&&`(${u.count}${t==null?void 0:t.text_times})`]},f)))}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("p",{className:"text-sm",children:[r.jsxs("span",{className:"text-muted-foreground",children:[(t==null?void 0:t.text_issuing_authority)||"Issuing Authority",":"]}),r.jsx("span",{className:"ml-1 font-medium",children:c.issuingAuthority||"Issuing Authority"})]}),r.jsx(ze,{variant:c.status==="active"?"destructive":"outline",children:(d=c==null?void 0:c.status)==null?void 0:d.toUpperCase()})]})]})]},c.id)})}):r.jsxs("div",{className:"text-center py-12 bg-muted/20 rounded-lg",children:[r.jsx(Mc,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-20"}),r.jsx("p",{className:"text-muted-foreground",children:(t==null?void 0:t.text_no_active_warrants)||"No Active Warrants"})]})})]})})}),r.jsx(gr,{open:n,onOpenChange:s,children:r.jsxs(xr,{className:"max-w-[60vw] w-full","aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:(t==null?void 0:t.text_warrant_details)||"Warrant Details"})}),a&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsx(lm,{label:(t==null?void 0:t.text_warrant_id)||"Warrant ID",value:a.id,isEditing:!1}),r.jsx(lm,{label:(t==null?void 0:t.text_suspect_citizen_id)||"Suspect Citizen ID",value:a.suspectId,isEditing:!1}),r.jsx(lm,{label:(t==null?void 0:t.text_issue_date)||"Issue Date",value:a.issueDate,isEditing:!1}),r.jsx(lm,{label:(t==null?void 0:t.text_expiry_date)||"Expiry Date",value:a.expiryDate,isEditing:!1}),r.jsx(lm,{label:(t==null?void 0:t.text_issuing_authority)||"Issuing Authority",value:a.issuingAuthority,isEditing:!1}),r.jsx(lm,{label:(t==null?void 0:t.text_status)||"Status",value:a.status,isEditing:!1})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold mb-2",children:(t==null?void 0:t.text_case_notes)||"Case Notes"}),r.jsx(nr,{className:"h-[200px]",children:a&&(a==null?void 0:a.caseNotes)&&((l=a==null?void 0:a.caseNotes)==null?void 0:l.length)>0&&Array.isArray(a==null?void 0:a.caseNotes)&&((a==null?void 0:a.caseNotes)||[]).map(c=>{var d;return r.jsx(Le,{className:"p-2 bg-background/50",children:r.jsx("div",{className:"flex justify-between items-start",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm",children:c.content}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[c.author," - ",$n(c.timestamp)]}),c&&(c==null?void 0:c.attachedReports)&&((d=c.attachedReports)==null?void 0:d.length)>0&&r.jsxs("div",{className:"mt-2",children:[r.jsxs("p",{className:"text-xs font-semibold",children:[(t==null?void 0:t.text_attached_reports)||"Attached Reports",":"]}),r.jsx("ul",{className:"list-disc list-inside text-xs text-muted-foreground",children:c&&(c==null?void 0:c.attachedReports)&&Array.isArray(c==null?void 0:c.attachedReports)&&((c==null?void 0:c.attachedReports)||[]).map(u=>r.jsx("li",{children:u},u))})]})]})})},c.id)})})]})]})]})})]})};function lm({label:e,value:t,isEditing:n,onChange:s}){return r.jsxs("div",{className:"space-y-1",children:[r.jsx(Me,{children:e}),n?r.jsx(ht,{value:t,onChange:a=>s&&s(a.target.value)}):r.jsx("p",{className:"text-sm text-muted-foreground",children:t})]})}const sje=({citizen:e,userPermissions:t,handleOpenImageDialog:n,updateDangerStatus:s})=>{var U,D,H;const{toast:a}=ys(),{locale:i}=ir(),[o,l]=m.useState(e),[c,d]=m.useState(!1),[u,f]=m.useState(null),[v,g]=m.useState([]);Array.isArray(o==null?void 0:o.licenses)&&((U=o==null?void 0:o.licenses)!=null&&U.map(K=>K.type));const[w,y]=m.useState(!1),[b,x]=m.useState(null),[N,S]=m.useState("");m.useEffect(()=>{l(e)},[e]);const k=({license:K,onClick:B})=>{const R=Z=>{switch(Z){case"approved":return"bg-green-500";case"pending":return"bg-yellow-500";case"rejected":return"bg-red-500";case"expired":return"bg-gray-500";default:return"bg-blue-500"}};return r.jsxs(Le,{className:"p-4 bg-card/50  border border-primary/20 cursor-pointer hover:bg-card/70 transition-colors",onClick:B,children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-lg",children:K.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[(i==null?void 0:i.text_expires)||"Expires",": ",K.expirationDate?new Date(K.expirationDate).toISOString().split("T")[0]:"N/A"]})]}),r.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-semibold ${R(K.status)}`,children:K.status.toUpperCase()})]}),K.note&&r.jsxs("p",{className:"mt-2 text-sm italic",children:['"',K.note,'"']}),K.approvedBy&&r.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[(i==null?void 0:i.text_approved_by)||"Approved by"," ",K.approvedBy," ",(i==null?void 0:i.text_on)||"on"," ",$n(K.approvalDate)]})]})},F=K=>{var B;if(o){const R=((B=o==null?void 0:o.licenses)==null?void 0:B.findIndex(te=>te.type===K.type))??-1;let Z;return R>=0?(Z=[...(o==null?void 0:o.licenses)||[]],Z[R]=K):Z=[...(o==null?void 0:o.licenses)||[],K],ke("updateCitizenLicense",{citizenId:o==null?void 0:o.citizenid,license:K}).then(te=>{if(te&&te.success){if(te.licenses){const ye=Array.isArray(te.licenses)?te.licenses:JSON.parse(te.licenses||"[]");l({...o,licenses:ye})}else l({...o,licenses:Z});a({title:R>=0?"License Updated":"License Added",description:`The ${K.name} has been ${R>=0?"updated":"added"} successfully.`})}else a({title:"Error",description:"Failed to update license in the database. Please try again.",variant:"destructive"})}).catch(te=>{console.error("Error updating license:",te),a({title:"Error",description:"An error occurred while updating the license.",variant:"destructive"})})}},$=async()=>{if(!(!b||!N)){try{(await ke("updateCitizenBiometric",{citizenId:o.citizenid,type:b,value:N})).success&&(l({...o,[b]:N}),a({title:i==null?void 0:i.text_success,description:`${b==null?void 0:b.toUpperCase()} ${(i==null?void 0:i.text_biometric_update_success)||"Updated Successfully"}`}))}catch{a({title:"Error",description:`Failed to update ${b.toUpperCase()}`,variant:"destructive"})}y(!1),S("")}};return r.jsxs(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"flex w-full p-4 ",children:[r.jsxs("div",{className:"grid grid-cols-2 w-full gap-10",children:[r.jsxs("div",{className:"flex col-span-1 w-full justify-start flex-col gap-8",children:[r.jsxs("div",{className:"flex flex-row items-center space-y-4 w-[35vw] gap-5 justify-start",children:[r.jsxs("div",{className:"relative group cursor-pointer",onClick:n,children:[r.jsxs(hn,{className:"w-36 h-36",children:[r.jsx(Ch,{src:o==null?void 0:o.photo}),r.jsx(yn,{children:r.jsx(ri,{className:"w-36 h-36 p-6 text-primary"})})]}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200 bg-black bg-opacity-50 rounded-full",children:r.jsx(ja,{className:"h-8 w-8 text-white"})})]}),r.jsxs("div",{className:"text-start",children:[r.jsxs("h3",{className:"text-xl font-bold",children:[o==null?void 0:o.firstname," ",o==null?void 0:o.surname]}),r.jsxs("p",{className:"text-muted-foreground",children:[(i==null?void 0:i.text_id)||"ID",": ",o==null?void 0:o.citizenid]}),r.jsxs("p",{className:"text-muted-foreground",children:[(i==null?void 0:i.text_phone_number)||"Phone Number",": ",o==null?void 0:o.phoneNumber]}),r.jsxs("p",{className:"text-muted-foreground",children:[(i==null?void 0:i.text_nationality)||"Nationality",": ",o==null?void 0:o.nationality]}),r.jsxs("p",{className:"text-muted-foreground",children:[(i==null?void 0:i.text_gender)||"Gender",": ",o==null?void 0:o.gender]}),r.jsxs("p",{className:"text-muted-foreground",children:[(i==null?void 0:i.text_job)||"Job",": ",o==null?void 0:o.job]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs(Le,{className:`p-4 ${o!=null&&o.warrant?"bg-destructive/20 neon-border":"bg-card/50"}`,children:[r.jsxs(kt,{className:"flex items-center mb-2",children:[o!=null&&o.warrant?r.jsx(cs,{className:"mr-2 h-5 w-5 text-destructive"}):r.jsx(fc,{className:"mr-2 h-5 w-5 text-primary"}),(i==null?void 0:i.text_warrant)||"Warrant"]}),r.jsx("p",{children:o!=null&&o.warrant?(i==null?void 0:i.text_active)||"ACTIVE":(i==null?void 0:i.text_inactive)||"INACTIVE"})]}),r.jsxs(Le,{className:`p-4 cursor-pointer ${o!=null&&o.isDangerous?"bg-destructive/20 neon-border":"bg-card/50"}`,onClick:()=>{if(t.edit){const K=!(o!=null&&o.isDangerous);s(K?"High":"Low")}},children:[r.jsxs(kt,{className:"flex items-center mb-2",children:[o!=null&&o.isDangerous?r.jsx(cs,{className:"mr-2 h-5 w-5 text-destructive"}):r.jsx(fc,{className:"mr-2 h-5 w-5 text-primary"}),(i==null?void 0:i.text_danger_level)||"Danger Level"]}),r.jsx("p",{children:o!=null&&o.isDangerous?(i==null?void 0:i.text_high)||"HIGH":(i==null?void 0:i.text_low)||"LOW"})]}),r.jsxs(Le,{className:"p-4 bg-card/50 cursor-pointer",onClick:()=>{t.edit&&(x("fingerprint"),S((o==null?void 0:o.fingerprint)||""),y(!0))},children:[r.jsxs(kt,{className:"flex items-center mb-2",children:[r.jsx(hS,{className:"mr-2 h-5 w-5 text-destructive"}),(i==null?void 0:i.text_fingerprint)||"Fingerprint"]}),r.jsx("p",{children:(o==null?void 0:o.fingerprint)||(i==null?void 0:i.text_not_registered)||"Not Registered"})]}),r.jsxs(Le,{className:"p-4 bg-card/50 cursor-pointer",onClick:()=>{t.edit&&(x("dna"),S((o==null?void 0:o.dna)||""),y(!0))},children:[r.jsxs(kt,{className:"flex items-center mb-2",children:[r.jsx(rO,{className:"mr-2 h-5 w-5 text-destructive"}),i==null?void 0:i.text_dna]}),r.jsx("p",{children:(o==null?void 0:o.dna)||(i==null?void 0:i.text_not_registered)||"Not Registered"})]}),r.jsxs(Le,{className:"col-span-2 bg-transparent ",children:[r.jsx(mt,{className:"pb-2",children:r.jsx(kt,{children:(i==null?void 0:i.text_quick_summary)||"Quick Summary"})}),r.jsx(Je,{children:r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[r.jsxs("div",{className:"bg-primary/5 rounded-lg p-3",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:(i==null?void 0:i.text_reports_count)||"Reports"}),r.jsx("p",{className:"text-2xl font-bold",children:o&&((D=o==null?void 0:o.reports)==null?void 0:D.length)||0})]}),r.jsxs("div",{className:"bg-primary/5 rounded-lg p-3",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:(i==null?void 0:i.text_warrants_count)||"Warrants"}),r.jsx("p",{className:"text-2xl font-bold",children:o&&((H=o==null?void 0:o.warrants)==null?void 0:H.length)||0})]})]})})]})]})]}),r.jsxs("div",{className:"flex flex-col gap-5 col-span-1 h-full",children:[r.jsx("div",{className:"flex justify-between items-center",children:r.jsx("h4",{className:"font-semibold text-lg",children:(i==null?void 0:i.text_licenses)||"Licences"})}),r.jsx(iA,{className:" h-[calc(90vh-400px)] overflow-y-auto",children:r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-1 lg:grid-cols-2 gap-4 pr-4",children:o&&Array.isArray(o==null?void 0:o.licenses)&&((o==null?void 0:o.licenses)||[]).map((K,B)=>r.jsx("div",{className:"relative group",children:r.jsx(k,{license:K})},B))})})]})]}),r.jsx(gr,{open:c,onOpenChange:d,children:r.jsxs(xr,{"aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:u?`${i==null?void 0:i.text_edit_license} - ${u.name}`:i==null?void 0:i.text_add_new_license})}),r.jsxs("form",{onSubmit:K=>{if(K.preventDefault(),!u||!u.type){a({title:"Error",description:"Please select a license type",variant:"destructive"});return}const B={...u,approvalDate:new Date(typeof u.approvalDate=="number"?u.approvalDate:Date.parse(u.approvalDate??"")).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})||new Date().toISOString()};F(B),d(!1)},children:[r.jsxs("div",{className:"grid gap-4 py-4",children:[!u&&r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Me,{htmlFor:"licenseType",className:"text-right",children:"Type"}),r.jsxs(On,{value:(u==null?void 0:u.type)||"",onValueChange:K=>{var B;f({...u,type:K,name:((B=v.find(R=>R.type===K))==null?void 0:B.label)||K})},children:[r.jsx(Dn,{className:"col-span-3",children:r.jsx(Mn,{placeholder:"Select license type"})}),r.jsx(Fn,{children:v&&Array.isArray(v)&&v.map(K=>r.jsx(Yt,{value:K.type,children:K.label},K.type))})]})]}),r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Me,{htmlFor:"licenseStatus",className:"text-right",children:"Status"}),r.jsxs(On,{value:(u==null?void 0:u.status)||"",onValueChange:K=>f({...u,status:K}),children:[r.jsx(Dn,{className:"col-span-3",children:r.jsx(Mn,{placeholder:"Select status"})}),r.jsxs(Fn,{children:[r.jsx(Yt,{value:"approved",children:"Approved"}),r.jsx(Yt,{value:"rejected",children:"Rejected"}),r.jsx(Yt,{value:"expired",children:"Expired"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Me,{htmlFor:"licenseExpiration",className:"text-right",children:"Expiration"}),r.jsx(ht,{id:"licenseExpiration",type:"date",value:u!=null&&u.expirationDate?new Date(u.expirationDate).toISOString().split("T")[0]:"",onChange:K=>f({...u,expirationDate:new Date(K.target.value).toISOString().split("T")[0]}),className:"col-span-3"})]}),r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Me,{htmlFor:"licenseNote",className:"text-right",children:"Note"}),r.jsx(ss,{id:"licenseNote",value:(u==null?void 0:u.note)||"",onChange:K=>f({...u,note:K.target.value}),className:"col-span-3"})]})]}),r.jsx(un,{children:r.jsx(Ae,{type:"submit",children:i==null?void 0:i.text_save})})]})]})}),r.jsx(gr,{open:w,onOpenChange:y,children:r.jsxs(xr,{"aria-describedby":"",children:[r.jsx(vr,{children:r.jsxs(yr,{children:[i==null?void 0:i.text_update," ",b==null?void 0:b.toUpperCase()]})}),r.jsx("div",{className:"grid gap-4 py-4",children:r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Me,{htmlFor:"biometricValue",className:"text-right",children:i==null?void 0:i.text_value}),r.jsx(ht,{id:"biometricValue",value:N,onChange:K=>S(K.target.value),className:"col-span-3",placeholder:(i==null?void 0:i.text_enter_biometric_value)||"Enter Value"})]})}),r.jsx(un,{children:r.jsx(Ae,{onClick:$,children:(i==null?void 0:i.text_save)||"Save"})})]})})]})},ije={reportId:"1278474937437",reportName:"Bank Robbery | 123 Main St | 2021-01-01 12:00:00 | 1234567890",location:"123 Main St",description:"This is a test report",dateTime:"2021-01-01 12:00:00",evidences:[{id:"1",type:"image",description:"This is a test evidence",url:"https://kappa.lol/8ut4U"},{id:"2",type:"video",description:"This is a test evidence",url:"https://kappa.lol/8ut4U"},{id:"3",type:"audio",description:"This is a test evidence",url:"https://kappa.lol/8ut4U"}],peopleInvolved:[{name:"John Doe",citizenId:"1234567890",category:"Officer",charges:[]},{name:"Jane Doe",citizenId:"1234567890",category:"Criminal",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Criminal",charges:[{title:"Assault",count:2,sentence:100,fine:1e3,jailReduction:0}]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]}],vehiclesInvolved:[{model:"Ford F150",plate:"ABC123",category:"Civilian",charges:[]}]},aje={incidentId:"INC-1278474937437",incidentName:"Traffic Accident | Highway 101 | 2021-01-01 14:30:00",location:"Highway 101",description:"This is a test incident involving multiple vehicles",dateTime:"2021-01-01 14:30:00",severity:"High",status:"Active",respondingUnits:[{unitId:"UNIT-001",unitType:"Police",officerName:"Officer Smith"},{unitId:"UNIT-002",unitType:"Medical",officerName:"Paramedic Jones"}],evidences:[{id:"1",type:"image",description:"Accident scene photo",url:"https://kappa.lol/8ut4U"}],peopleInvolved:[{name:"Driver A",citizenId:"9876543210",category:"Civilian",injuries:"Minor"},{name:"Driver B",citizenId:"5432109876",category:"Civilian",injuries:"Serious"}],vehiclesInvolved:[{model:"Honda Civic",plate:"XYZ789",category:"Civilian",damage:"Severe"},{model:"Toyota Camry",plate:"DEF456",category:"Civilian",damage:"Moderate"}]},oje=({reports:e,incidents:t})=>{const[n,s]=m.useState(null),[a,i]=m.useState(null),[o,l]=m.useState(!1),[c,d]=m.useState(!1),{locale:u}=ir(),f=b=>b.split(" ").map(x=>x[0]).join("").toUpperCase(),v=(b,x)=>ke("fetchEMSReportDataByReportId",{reportId:x},ije).then(N=>{if(N&&N.success){N=N.data;const S={reportName:b==null?void 0:b.reportName,reportId:x,dateTime:b==null?void 0:b.dateTime,officerId:N.officerId||"",location:N.location||null,description:N.description||"",evidences:Array.isArray(N.evidences)?N.evidences:JSON.parse(N.evidences||"[]"),peopleInvolved:Array.isArray(N.peopleInvolved)?N.peopleInvolved:JSON.parse(N.peopleInvolved||"[]"),vehiclesInvolved:Array.isArray(N.vehiclesInvolved)?N.vehiclesInvolved:JSON.parse(N.vehiclesInvolved||"[]"),category:(N==null?void 0:N.category)||"default category"};s(S),l(!0)}else console.error((N==null?void 0:N.message)||"No response received."),s(null)}).catch(N=>{console.error("Error fetching report data:",N),s(null)}),g=(b,x)=>ke("fetchEMSIncidentDataByIncidentId",{incidentId:x},aje).then(N=>{if(N&&(N!=null&&N.success)){N=N.data;const S={incidentName:b==null?void 0:b.incidentName,incidentId:x,dateTime:b==null?void 0:b.dateTime,officerId:N.officerId||"",location:N.location||null,description:N.description||"",severity:N.severity||"Unknown",status:N.status||"Unknown",respondingUnits:Array.isArray(N.respondingUnits)?N.respondingUnits:JSON.parse(N.respondingUnits||"[]"),evidences:Array.isArray(N.evidences)?N.evidences:JSON.parse(N.evidences||"[]"),peopleInvolved:Array.isArray(N.peopleInvolved)?N.peopleInvolved:JSON.parse(N.peopleInvolved||"[]"),vehiclesInvolved:Array.isArray(N.vehiclesInvolved)?N.vehiclesInvolved:JSON.parse(N.vehiclesInvolved||"[]"),category:(N==null?void 0:N.category)||"default category"};i(S),d(!0)}else console.error((N==null?void 0:N.message)||"No response received."),i(null)}).catch(N=>{console.error("Error fetching incident data:",N),i(null)}),w=b=>{var x,N;return r.jsxs(Le,{className:"overflow-hidden hover:shadow-md transition-shadow cursor-pointer",onClick:()=>v(b,b.reportId),children:[r.jsxs(mt,{className:"p-4 pb-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx(ze,{variant:"outline",className:"bg-blue-500/10 text-blue-500",children:b.reportId}),r.jsxs(ze,{variant:"outline",children:[r.jsx(Ua,{className:"h-3 w-3 mr-1"}),new Date(b.dateTime).toLocaleDateString()]})]}),r.jsx(kt,{className:"mt-2 text-base",children:b.reportName})]}),r.jsxs(Je,{className:"p-4 pt-0",children:[r.jsxs("div",{className:"flex items-center text-sm text-muted-foreground mb-2",children:[r.jsx(qs,{className:"h-3.5 w-3.5 mr-1"}),r.jsx("span",{className:"line-clamp-1",children:b.location})]}),r.jsxs("div",{className:"flex -space-x-2",children:[b&&(b==null?void 0:b.peopleInvolved)&&((x=JSON.parse(b==null?void 0:b.peopleInvolved))==null?void 0:x.slice(0,3).map((S,k)=>r.jsx(hn,{className:"border-2 border-background h-8 w-8",children:r.jsx(yn,{className:`text-xs ${S.category==="Criminal"?"bg-red-500/20 text-red-500":S.category==="Medic"?"bg-blue-500/20 text-blue-500":"bg-green-500/20 text-green-500"}`,children:f(S.name)})},k))),((N=JSON.parse(b==null?void 0:b.peopleInvolved))==null?void 0:N.length)>3&&r.jsx(hn,{className:"border-2 border-background h-8 w-8",children:r.jsxs(yn,{className:"text-xs bg-primary/10",children:["+",JSON.parse(b==null?void 0:b.peopleInvolved).length-3]})})]})]})]},b.reportId)},y=b=>{var x,N;return r.jsxs(Le,{className:"overflow-hidden hover:shadow-md transition-shadow cursor-pointer",onClick:()=>g(b,b.incidentId),children:[r.jsxs(mt,{className:"p-4 pb-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsxs(ze,{variant:"outline",className:"bg-orange-500/10 text-orange-500",children:[r.jsx(cs,{className:"h-3 w-3 mr-1"}),b.incidentId]}),r.jsxs(ze,{variant:"outline",children:[r.jsx(Ua,{className:"h-3 w-3 mr-1"}),new Date(b.dateTime).toLocaleDateString()]})]}),r.jsx(kt,{className:"mt-2 text-base",children:b.incidentName})]}),r.jsxs(Je,{className:"p-4 pt-0",children:[r.jsxs("div",{className:"flex items-center text-sm text-muted-foreground mb-2",children:[r.jsx(qs,{className:"h-3.5 w-3.5 mr-1"}),r.jsx("span",{className:"line-clamp-1",children:b.location})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex -space-x-2",children:[b&&(b==null?void 0:b.peopleInvolved)&&((x=JSON.parse(b==null?void 0:b.peopleInvolved))==null?void 0:x.slice(0,3).map((S,k)=>r.jsx(hn,{className:"border-2 border-background h-8 w-8",children:r.jsx(yn,{className:`text-xs ${S.category==="Criminal"?"bg-red-500/20 text-red-500":S.category==="Medic"?"bg-blue-500/20 text-blue-500":"bg-green-500/20 text-green-500"}`,children:f(S.name)})},k))),((N=JSON.parse((b==null?void 0:b.peopleInvolved)||"[]"))==null?void 0:N.length)>3&&r.jsx(hn,{className:"border-2 border-background h-8 w-8",children:r.jsxs(yn,{className:"text-xs bg-primary/10",children:["+",JSON.parse(b==null?void 0:b.peopleInvolved).length-3]})})]}),r.jsx(ze,{variant:b.severity==="High"?"destructive":b.severity==="Medium"?"default":"secondary",className:"text-xs",children:b.severity||"Unknown"})]})]})]},b.incidentId)};return r.jsxs(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"flex w-full p-4",children:[r.jsx("div",{className:"grid grid-cols-1 gap-6 w-[75vw]",children:r.jsx("div",{className:"col-span-1",children:r.jsxs(Le,{className:"w-full bg-transparent",children:[r.jsx(mt,{children:r.jsx(kt,{children:(u==null?void 0:u.text_related_reports_incidents)||"Related Reports & Incidents"})}),r.jsx(Je,{className:"max-h-[50vh] overflow-y-auto p-5",children:r.jsxs(ea,{defaultValue:"reports",className:"w-full",children:[r.jsxs(ta,{className:"grid w-full grid-cols-2",children:[r.jsxs(Fr,{value:"reports",children:[r.jsx(fi,{className:"h-4 w-4 mr-2"}),(u==null?void 0:u.text_reports)||"Reports"," (",(e==null?void 0:e.length)||0,")"]}),r.jsxs(Fr,{value:"incidents",children:[r.jsx(cs,{className:"h-4 w-4 mr-2"}),(u==null?void 0:u.text_incidents)||"Incidents"," (",(t==null?void 0:t.length)||0,")"]})]}),r.jsx(Rr,{value:"reports",className:"mt-4",children:e&&e.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(b=>w(b))}):r.jsxs("div",{className:"text-center py-12 bg-muted/20 rounded-lg",children:[r.jsx(fi,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-20"}),r.jsx("p",{className:"text-muted-foreground",children:(u==null?void 0:u.text_no_reports_found)||"No related reports found for this case."})]})}),r.jsx(Rr,{value:"incidents",className:"mt-4",children:t&&t.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(b=>y(b))}):r.jsxs("div",{className:"text-center py-12 bg-muted/20 rounded-lg",children:[r.jsx(cs,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-20"}),r.jsx("p",{className:"text-muted-foreground",children:(u==null?void 0:u.text_no_incidents_found)||"No related incidents found for this case."})]})})]})})]})})}),r.jsx(gr,{open:o,onOpenChange:l,children:r.jsxs(xr,{className:"max-w-[60vw] w-full","aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:(u==null?void 0:u.text_report_details_title)||"Report Details"})}),n&&r.jsx("div",{className:"space-y-4",children:r.jsx("div",{className:"grid gap-4 py-4",children:r.jsx(iA,{className:"h-[calc(80vh-100px)]",children:r.jsxs("div",{className:"grid grid-cols-2 items-center gap-4",children:[r.jsxs("div",{className:"space-y-2 col-span-2",children:[r.jsx(Me,{htmlFor:"reportname",children:(u==null?void 0:u.text_report_name)||"Report Name"}),r.jsx(ht,{id:"reportname",name:"reportname",value:n==null?void 0:n.reportName,disabled:!0,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"reportid",children:(u==null?void 0:u.text_report_id)||"Report ID"}),r.jsx(ht,{id:"reportid",name:"reportid",value:n==null?void 0:n.reportId,disabled:!0,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"date",children:(u==null?void 0:u.text_date)||"Date"}),r.jsx(ht,{id:"date",name:"date",value:$n(n==null?void 0:n.dateTime),disabled:!0,required:!0})]}),r.jsxs("div",{className:"space-y-2 col-span-2",children:[r.jsx(Me,{htmlFor:"location",children:(u==null?void 0:u.text_location)||"Location"}),r.jsx(ht,{id:"location",name:"location",value:n==null?void 0:n.location,disabled:!0,required:!0})]}),r.jsxs("div",{className:"space-y-2 col-span-2",children:[r.jsx(Me,{htmlFor:"description",children:(u==null?void 0:u.text_description)||"Description"}),r.jsx("div",{className:"col-span-3 min-h-[200px] max-w-full w-full rounded border p-2 overflow-hidden break-words",children:r.jsx("div",{className:"prose prose-invert prose-sm max-w-none",dangerouslySetInnerHTML:{__html:(n==null?void 0:n.description)||""}})})]})]})})})})]})}),r.jsx(gr,{open:c,onOpenChange:d,children:r.jsxs(xr,{className:"max-w-[60vw] w-full","aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:(u==null?void 0:u.text_incident_details_title)||"Incident Details"})}),a&&r.jsx("div",{className:"space-y-4",children:r.jsx("div",{className:"grid gap-4 py-4",children:r.jsx(iA,{className:"h-[calc(80vh-100px)]",children:r.jsxs("div",{className:"grid grid-cols-2 items-center gap-4",children:[r.jsxs("div",{className:"space-y-2 col-span-2",children:[r.jsx(Me,{htmlFor:"incidentname",children:(u==null?void 0:u.text_incident_name)||"Incident Name"}),r.jsx(ht,{id:"incidentname",name:"incidentname",value:a==null?void 0:a.incidentName,disabled:!0,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"incidentid",children:(u==null?void 0:u.text_incident_id)||"Incident ID"}),r.jsx(ht,{id:"incidentid",name:"incidentid",value:a==null?void 0:a.incidentId,disabled:!0,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"incidentdate",children:(u==null?void 0:u.text_date)||"Date"}),r.jsx(ht,{id:"incidentdate",name:"incidentdate",value:$n(a==null?void 0:a.dateTime),disabled:!0,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"severity",children:(u==null?void 0:u.text_severity)||"Severity"}),r.jsx(ht,{id:"severity",name:"severity",value:a==null?void 0:a.severity,disabled:!0,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"status",children:(u==null?void 0:u.text_status)||"Status"}),r.jsx(ht,{id:"status",name:"status",value:a==null?void 0:a.status,disabled:!0,required:!0})]}),r.jsxs("div",{className:"space-y-2 col-span-2",children:[r.jsx(Me,{htmlFor:"incidentlocation",children:(u==null?void 0:u.text_location)||"Location"}),r.jsx(ht,{id:"incidentlocation",name:"incidentlocation",value:a==null?void 0:a.location,disabled:!0,required:!0})]}),r.jsxs("div",{className:"space-y-2 col-span-2",children:[r.jsx(Me,{htmlFor:"incidentdescription",children:(u==null?void 0:u.text_description)||"Description"}),r.jsx("div",{className:"col-span-3 min-h-[200px] max-w-full w-full rounded border p-2 overflow-hidden break-words",children:r.jsx("div",{className:"prose prose-invert prose-sm max-w-none",dangerouslySetInnerHTML:{__html:(a==null?void 0:a.description)||""}})})]})]})})})})]})})]})},lje=({insurances:e})=>{const{locale:t}=ir(),n=o=>{switch(o){case"health":return r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:r.jsx("path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"})});case"vehicle":return r.jsx(Di,{className:"h-5 w-5"});case"vehicle_registration":return r.jsx(Di,{className:"h-5 w-5"});case"car":return r.jsx(Di,{className:"h-5 w-5"});case"property":return r.jsx(th,{className:"h-5 w-5"});case"house":return r.jsx(th,{className:"h-5 w-5"});case"life":return r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),r.jsx("path",{d:"M12 17h.01"})]});default:return r.jsx(vl,{className:"h-5 w-5"})}},s=o=>{const l=new Date(o);return`${l.toLocaleDateString()} ${l.toLocaleTimeString()}`},a=o=>{switch(o){case"vehicle":return(t==null?void 0:t.text_vehicle_insurance)||"Vehicle Insurance";case"vehicle_registration":return(t==null?void 0:t.text_vehicle_registration)||"Vehicle Registration";case"car":return(t==null?void 0:t.text_vehicle_insurance)||"Vehicle Insurance";case"health":return(t==null?void 0:t.text_health_insurance)||"Health Insurance";case"life":return(t==null?void 0:t.text_health_insurance)||"Health Insurance";case"property":return(t==null?void 0:t.text_home_insurance)||"Home Insurance";case"house":return(t==null?void 0:t.text_home_insurance)||"Home Insurance";default:return(t==null?void 0:t.text_insurance)||"Insurance"}},i=o=>{const l=new Date(o)<new Date,c=Math.ceil((new Date(o).getTime()-new Date().getTime())/(1e3*60*60*24));return{isExpired:l,daysUntilExpiry:c}};return r.jsx(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"flex w-full p-4",children:r.jsx("div",{className:"grid grid-cols-1 gap-6 w-[75vw]",children:r.jsx("div",{className:"col-span-1",children:r.jsxs(Le,{className:"w-full bg-transparent",children:[r.jsx(mt,{children:r.jsx(kt,{children:(t==null?void 0:t.text_insurances_issued)||"Insurances Issued"})}),r.jsx(Je,{className:"h-[50vh] overflow-y-auto p-5",children:e&&e.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e&&Array.isArray(e)&&e.map(o=>{const{isExpired:l}=i(o.expiryDate);return r.jsxs(Le,{className:"bg-card/80",children:[r.jsx(mt,{children:r.jsxs(kt,{className:"flex items-center justify-between gap-2",children:[r.jsxs("div",{className:"flex flex-row gap-3 items-center",children:[n(o.type),a(o.type)]}),r.jsx("div",{children:l?r.jsx(ze,{variant:"destructive",className:"ml-2",children:(t==null?void 0:t.text_expired)||"Expired"}):r.jsx(ze,{variant:"outline",className:"ml-2 text-green-500",children:(t==null?void 0:t.text_active)||"Active"})})]})}),r.jsxs(Je,{className:"text-sm space-y-1",children:[(o.type==="vehicle"||o.type=="vehicle_registration")&&r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:[r.jsxs("span",{className:"text-muted-foreground",children:[(t==null?void 0:t.text_plate)||"Plate",":"]})," ",o.plate]}),r.jsxs("p",{children:[r.jsxs("span",{className:"text-muted-foreground",children:[(t==null?void 0:t.text_model)||"Model",":"]})," ",o.model]})]}),o.ownerName&&r.jsxs("p",{children:[r.jsxs("span",{className:"text-muted-foreground",children:[(t==null?void 0:t.text_owner)||"Owner",":"]})," ",o.ownerName]}),r.jsxs("p",{children:[r.jsxs("span",{className:"text-muted-foreground",children:[(t==null?void 0:t.text_expires)||"Expires",":"]})," ",s(o.expiryDate)]})]})]},o.id)})}):r.jsxs("div",{className:"text-center py-12 bg-muted/20 rounded-lg",children:[r.jsx(Mc,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-20"}),r.jsx("p",{className:"text-muted-foreground",children:(t==null?void 0:t.text_no_active_insurance)||"No active insurance for this citizen"})]})})]})})})})},cje=({citizen:e,activeTab:t,userPermissions:n,onClose:s,handleTabSelect:a})=>{const{toast:i}=ys(),{locale:o}=ir(),[l,c]=m.useState(!1),[d,u]=m.useState(!1),[f,v]=m.useState(""),[g,w]=m.useState(e),y=g==null?void 0:g.warrants,b=g==null?void 0:g.reports,x=g==null?void 0:g.incidents,N=g==null?void 0:g.insurances;m.useEffect(()=>{w(e)},[e]);const S=()=>{u(!0)},k=()=>{u(!1)},F=H=>{v(H.target.value)},$=()=>{if(f&&g)return ke("updateCitizenPhoto",{photo:f,citizenId:g.citizenid}).then(H=>{H.success&&(w(K=>({...K,photo:f})),i({title:(o==null?void 0:o.text_image_url_updated)||"Image URL updated",description:(o==null?void 0:o.text_image_url_success)||"The image URL has been successfully updated."})),v("")}).catch(H=>{console.error("Error:",H)})},U=H=>{if(g){const K=H==="High"?1:0;return ke("updateCitizenDangerStatus",{citizenId:g.citizenid,isDangerous:K}).then(B=>{B.success&&(w(R=>({...R,isDangerous:K})),i({title:(o==null?void 0:o.text_danger_status_updated)||"Danger Status Updated",description:(o==null?void 0:o.text_danger_status_set)||`The danger status has been set to ${H}.`}))}).catch(B=>{console.error("Error updating danger status:",B),i({title:(o==null?void 0:o.text_error)||"Error",description:(o==null?void 0:o.text_failed_to_update_danger_status)||"Failed to update danger status.",variant:"destructive"})})}},D=()=>ke("addCitizenNote",{notesData:g==null?void 0:g.notes,citizenid:g.citizenid}).then(H=>{H?(c(!1),i({title:(o==null?void 0:o.text_citizen_details_notes_updated)||"Notes Updates",description:(o==null?void 0:o.text_citizen_details_notes_success)||"Notes has been updated successfully"})):console.error("No response received.")}).catch(H=>{console.error("Error:",H)});return r.jsxs(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"flex w-full ",children:[r.jsxs("div",{className:"w-full",children:[r.jsx(mt,{className:"flex flex-row items-center justify-between w-full",children:r.jsxs("div",{className:"flex items-center gap-4 w-full justify-between",children:[r.jsx(Ae,{variant:"outline",size:"icon",onClick:s,className:"h-10 w-10",children:r.jsx(Oi,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[g==null?void 0:g.firstname," ",g==null?void 0:g.surname,r.jsxs(ze,{variant:"outline",className:"bg-green-500/10 text-green-500",children:["#",g==null?void 0:g.citizenid]}),(g==null?void 0:g.warrant)==1&&r.jsxs(ze,{variant:"destructive",children:[r.jsx(cs,{className:"h-3 w-3 mr-1"})," ",o==null?void 0:o.text_citizen_warrant]}),(g==null?void 0:g.isDangerous)==1&&r.jsxs(ze,{variant:"destructive",children:[r.jsx(cs,{className:"h-3 w-3 mr-1"})," ",o==null?void 0:o.text_citizen_dangerous]})]}),r.jsx("p",{className:"text-muted-foreground",children:g&&g.job})]}),r.jsx("div",{className:"ml-auto",children:r.jsx("div",{className:"flex gap-2",children:(n==null?void 0:n.edit)&&r.jsxs(r.Fragment,{children:[!l&&r.jsxs(Ae,{variant:"outline",onClick:()=>c(!0),children:[r.jsx(ks,{className:"h-4 w-4"}),(o==null?void 0:o.text_edit)||"Edit"]}),l&&r.jsxs(r.Fragment,{children:[r.jsxs(Ae,{variant:"destructive",onClick:()=>c(!1),children:[r.jsx(ks,{className:"h-4 w-4"}),(o==null?void 0:o.text_cancel)||"Cancel"]}),r.jsxs(Ae,{variant:"outline",onClick:D,children:[r.jsx(ks,{className:"h-4 w-4"}),(o==null?void 0:o.text_save_changes)||"Save Changes"]})]})]})})})]})}),r.jsxs(ea,{value:t,onValueChange:a,className:"flex flex-col w-full bg-transparent items-center",children:[r.jsxs(ta,{className:"grid grid-cols-4 bg-transparent border-2 border-[#4d4b5966] w-[90%]",children:[r.jsx(Fr,{value:"overview",children:(o==null?void 0:o.text_overview)||"Overview"}),r.jsx(Fr,{value:"reports",children:(o==null?void 0:o.text_reports)||"Reports"}),r.jsx(Fr,{value:"warrants",children:(o==null?void 0:o.text_warrants)||"Warrants"}),r.jsx(Fr,{value:"insurance",children:(o==null?void 0:o.text_insurance)||"Insurance"})]}),r.jsx(Rr,{value:"overview",children:r.jsx("div",{className:"flex w-full justify-start items-start",children:r.jsx(sje,{citizen:g,userPermissions:n,handleOpenImageDialog:S,updateDangerStatus:U})})}),r.jsx(Rr,{value:"reports",children:r.jsx("div",{className:"flex w-full justify-start items-start",children:r.jsx(oje,{reports:b,incidents:x})})}),r.jsx(Rr,{value:"warrants",children:r.jsx("div",{className:"flex w-full justify-start items-start",children:r.jsx(nje,{warrants:y})})}),r.jsx(Rr,{value:"insurance",children:r.jsx("div",{className:"flex w-full justify-start items-start",children:r.jsx(lje,{insurances:N})})})]})]}),r.jsx(gr,{open:d,onOpenChange:u,children:r.jsxs(xr,{"aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:(o==null?void 0:o.text_set_image_url)||"Set Image URL"})}),r.jsxs("div",{className:"flex flex-col items-center gap-4",children:[r.jsx("img",{src:f||(g==null?void 0:g.photo),alt:"Citizen",className:"w-64 h-64 object-cover mb-4"}),n.edit&&r.jsxs(r.Fragment,{children:[r.jsx(ht,{type:"url",placeholder:(o==null?void 0:o.text_enter_image_url)||"Enter image URL",value:f,onChange:F,className:"mb-2"}),r.jsx(Ae,{variant:"outline",onClick:$,children:o==null?void 0:o.text_citizen_details_change_image})]})]}),r.jsx(un,{children:r.jsx(Ae,{onClick:k,children:(o==null?void 0:o.text_close)||"Close"})})]})})]})},dje=({citizen:e,onClick:t})=>{const{locale:n}=ir(),s=a=>a.split(" ").map(i=>i[0]).join("").toUpperCase();return r.jsx(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:r.jsxs(Le,{className:"h-full bg-card/50  border-primary/20 hover:border-primary/50 transition-all duration-300 overflow-hidden group",onClick:t,children:[r.jsx(mt,{className:"p-4 pb-2",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"relative w-12 h-12 rounded-full overflow-hidden bg-primary/20 holographic",children:e.photo?r.jsx("img",{src:e.photo,alt:`${e.firstname} ${e.surname}`,className:"object-cover w-full h-full"}):r.jsx(ri,{className:"w-full h-full p-2 text-primary"})}),r.jsxs("div",{children:[r.jsxs(kt,{className:"text-lg",children:[e.firstname," ",e.surname]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[(n==null?void 0:n.text_citizen_id)||"ID",": ",e.citizenid]})]})]}),r.jsxs("div",{className:"flex space-x-1",children:[e.warrant==1&&r.jsxs(ze,{variant:"destructive",children:[r.jsx(cs,{className:"h-3 w-3 mr-1"})," ",(n==null?void 0:n.text_citizen_warrant)||"Warrant"]}),e.isDangerous==1&&r.jsxs(ze,{variant:"destructive",children:[r.jsx(cs,{className:"h-3 w-3 mr-1"})," ",(n==null?void 0:n.text_citizen_dangerous)||"Dangerous"]})]})]})}),r.jsx(Je,{className:"p-4 pt-2",children:r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(sO,{className:"h-3 w-3 mr-1 text-muted-foreground"}),r.jsxs("span",{className:"text-muted-foreground mr-1",children:[(n==null?void 0:n.text_citizen_nationality)||"Nationality",":"]}),r.jsx("span",{children:e.nationality})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ua,{className:"h-3 w-3 mr-1 text-muted-foreground"}),r.jsxs("span",{className:"text-muted-foreground mr-1",children:[(n==null?void 0:n.text_citizen_dob)||"DOB",":"]}),r.jsx("span",{children:e.birthdate})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Fm,{className:"h-3 w-3 mr-1 text-muted-foreground"}),r.jsxs("span",{className:"text-muted-foreground mr-1",children:[(n==null?void 0:n.text_citizen_job)||"Job",":"]}),r.jsx("span",{children:e.job})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(wx,{className:"h-3 w-3 mr-1 text-muted-foreground"}),r.jsxs("span",{className:"text-muted-foreground mr-1",children:[(n==null?void 0:n.text_citizen_phone)||"Phone Number",":"]}),r.jsx("span",{children:e.phoneNumber})]})]})}),r.jsx(ju,{className:"p-4 pt-0 flex justify-between items-center",children:r.jsxs("div",{className:"flex gap-3 items-center",children:[r.jsxs("span",{children:[(n==null?void 0:n.text_citizen_licenses)||"Licences",":"]}),e&&e.licenses&&e.licenses.length>0?r.jsxs("div",{className:"flex -space-x-2",children:[e&&Array.isArray(e==null?void 0:e.licenses)&&e.licenses.slice(0,3).map((a,i)=>r.jsx(hn,{className:"border-2 border-background h-8 w-8",children:r.jsx(yn,{className:`text-xs ${a.status==="rejected"?"bg-red-500/20 text-red-500":a.status==="expired"?"bg-blue-500/20 text-blue-500":"bg-green-500/20 text-green-500"}`,children:s(a.name)})},i)),e.licenses.length>3&&r.jsx(hn,{className:"border-2 border-background h-8 w-8",children:r.jsxs(yn,{className:"text-xs bg-primary/10",children:[(n==null?void 0:n.text_citizen_more_licenses)||"+",e.licenses.length-3]})})]}):r.jsx("span",{className:"text-xs text-muted-foreground italic",children:(n==null?void 0:n.text_citizen_no_licenses)||"No Licences"})]})})]})})},uje={citizens:[{citizenid:1,firstname:"John",surname:"Doe",photo:"https://storage.googleapis.com/gd-prod/images/f4f4bc5f-904a-4b61-972f-c403bc060679.60c498c559810aa0.webp",nationality:"British",birthdate:"1990-01-01",gender:"Male",job:"Developer",phoneNumber:"1234567890",bankAccount:"1234567890",isDangerous:!1,warrant:!1,notes:[],reports:[{reportId:123,id:"RPT-123",name:"Traffic Violation",dateTime:"2024-01-15T14:30:00",location:"Main Street & 5th Avenue",description:"Speeding violation - 65mph in 45mph zone",category:"Traffic",status:"Closed",officerId:"PD-789",officerName:"Officer Johnson",peopleInvolved:[{citizenId:1,name:"John Doe",category:"Civilian"}],evidence:[{type:"Photo",url:"https://example.com/evidence1.jpg",description:"Speed radar reading"}]},{reportId:123,id:"RPT-123",name:"Traffic Violation",dateTime:"2024-01-15T14:30:00",location:"Main Street & 5th Avenue",description:"Speeding violation - 65mph in 45mph zone",category:"Traffic",status:"Closed",officerId:"PD-789",officerName:"Officer Johnson",peopleInvolved:[{citizenId:1,name:"John Doe",category:"Civilian"}],evidence:[{type:"Photo",url:"https://example.com/evidence1.jpg",description:"Speed radar reading"}]},{reportId:123,id:"RPT-123",name:"Traffic Violation",dateTime:"2024-01-15T14:30:00",location:"Main Street & 5th Avenue",description:"Speeding violation - 65mph in 45mph zone",category:"Traffic",status:"Closed",officerId:"PD-789",officerName:"Officer Johnson",peopleInvolved:[{citizenId:1,name:"John Doe",category:"Civilian"}],evidence:[{type:"Photo",url:"https://example.com/evidence1.jpg",description:"Speed radar reading"}]},{reportId:123,id:"RPT-123",name:"Traffic Violation",dateTime:"2024-01-15T14:30:00",location:"Main Street & 5th Avenue",description:"Speeding violation - 65mph in 45mph zone",category:"Traffic",status:"Closed",officerId:"PD-789",officerName:"Officer Johnson",peopleInvolved:[{citizenId:1,name:"John Doe",category:"Civilian"}],evidence:[{type:"Photo",url:"https://example.com/evidence1.jpg",description:"Speed radar reading"}]},{reportId:123,id:"RPT-123",name:"Traffic Violation",dateTime:"2024-01-15T14:30:00",location:"Main Street & 5th Avenue",description:"Speeding violation - 65mph in 45mph zone",category:"Traffic",status:"Closed",officerId:"PD-789",officerName:"Officer Johnson",peopleInvolved:[{citizenId:1,name:"John Doe",category:"Civilian"}],evidence:[{type:"Photo",url:"https://example.com/evidence1.jpg",description:"Speed radar reading"}]},{reportId:123,id:"RPT-123",name:"Traffic Violation",dateTime:"2024-01-15T14:30:00",location:"Main Street & 5th Avenue",description:"Speeding violation - 65mph in 45mph zone",category:"Traffic",status:"Closed",officerId:"PD-789",officerName:"Officer Johnson",peopleInvolved:[{citizenId:1,name:"John Doe",category:"Civilian"}],evidence:[{type:"Photo",url:"https://example.com/evidence1.jpg",description:"Speed radar reading"}]},{reportId:123,id:"RPT-123",name:"Traffic Violation",dateTime:"2024-01-15T14:30:00",location:"Main Street & 5th Avenue",description:"Speeding violation - 65mph in 45mph zone",category:"Traffic",status:"Closed",officerId:"PD-789",officerName:"Officer Johnson",peopleInvolved:[{citizenId:1,name:"John Doe",category:"Civilian"}],evidence:[{type:"Photo",url:"https://example.com/evidence1.jpg",description:"Speed radar reading"}]},{reportId:123,id:"RPT-123",name:"Traffic Violation",dateTime:"2024-01-15T14:30:00",location:"Main Street & 5th Avenue",description:"Speeding violation - 65mph in 45mph zone",category:"Traffic",status:"Closed",officerId:"PD-789",officerName:"Officer Johnson",peopleInvolved:[{citizenId:1,name:"John Doe",category:"Civilian"}],evidence:[{type:"Photo",url:"https://example.com/evidence1.jpg",description:"Speed radar reading"}]},{reportId:123,id:"RPT-123",name:"Traffic Violation",dateTime:"2024-01-15T14:30:00",location:"Main Street & 5th Avenue",description:"Speeding violation - 65mph in 45mph zone",category:"Traffic",status:"Closed",officerId:"PD-789",officerName:"Officer Johnson",peopleInvolved:[{citizenId:1,name:"John Doe",category:"Civilian"}],evidence:[{type:"Photo",url:"https://example.com/evidence1.jpg",description:"Speed radar reading"}]},{reportId:123,id:"RPT-123",name:"Traffic Violation",dateTime:"2024-01-15T14:30:00",location:"Main Street & 5th Avenue",description:"Speeding violation - 65mph in 45mph zone",category:"Traffic",status:"Closed",officerId:"PD-789",officerName:"Officer Johnson",peopleInvolved:[{citizenId:1,name:"John Doe",category:"Civilian"}],evidence:[{type:"Photo",url:"https://example.com/evidence1.jpg",description:"Speed radar reading"}]},{reportId:123,id:"RPT-123",name:"Traffic Violation",dateTime:"2024-01-15T14:30:00",location:"Main Street & 5th Avenue",description:"Speeding violation - 65mph in 45mph zone",category:"Traffic",status:"Closed",officerId:"PD-789",officerName:"Officer Johnson",peopleInvolved:[{citizenId:1,name:"John Doe",category:"Civilian"}],evidence:[{type:"Photo",url:"https://example.com/evidence1.jpg",description:"Speed radar reading"}]},{reportId:123,id:"RPT-123",name:"Traffic Violation",dateTime:"2024-01-15T14:30:00",location:"Main Street & 5th Avenue",description:"Speeding violation - 65mph in 45mph zone",category:"Traffic",status:"Closed",officerId:"PD-789",officerName:"Officer Johnson",peopleInvolved:[{citizenId:1,name:"John Doe",category:"Civilian"}],evidence:[{type:"Photo",url:"https://example.com/evidence1.jpg",description:"Speed radar reading"}]},{reportId:123,id:"RPT-123",name:"Traffic Violation",dateTime:"2024-01-15T14:30:00",location:"Main Street & 5th Avenue",description:"Speeding violation - 65mph in 45mph zone",category:"Traffic",status:"Closed",officerId:"PD-789",officerName:"Officer Johnson",peopleInvolved:[{citizenId:1,name:"John Doe",category:"Civilian"}],evidence:[{type:"Photo",url:"https://example.com/evidence1.jpg",description:"Speed radar reading"}]},{reportId:123,id:"RPT-123",name:"Traffic Violation",dateTime:"2024-01-15T14:30:00",location:"Main Street & 5th Avenue",description:"Speeding violation - 65mph in 45mph zone",category:"Traffic",status:"Closed",officerId:"PD-789",officerName:"Officer Johnson",peopleInvolved:[{citizenId:1,name:"John Doe",category:"Civilian"}],evidence:[{type:"Photo",url:"https://example.com/evidence1.jpg",description:"Speed radar reading"}]},{reportId:123,id:"RPT-123",name:"Traffic Violation",dateTime:"2024-01-15T14:30:00",location:"Main Street & 5th Avenue",description:"Speeding violation - 65mph in 45mph zone",category:"Traffic",status:"Closed",officerId:"PD-789",officerName:"Officer Johnson",peopleInvolved:[{citizenId:1,name:"John Doe",category:"Civilian"}],evidence:[{type:"Photo",url:"https://example.com/evidence1.jpg",description:"Speed radar reading"}]},{reportId:123,id:"RPT-123",name:"Traffic Violation",dateTime:"2024-01-15T14:30:00",location:"Main Street & 5th Avenue",description:"Speeding violation - 65mph in 45mph zone",category:"Traffic",status:"Closed",officerId:"PD-789",officerName:"Officer Johnson",peopleInvolved:[{citizenId:1,name:"John Doe",category:"Civilian"}],evidence:[{type:"Photo",url:"https://example.com/evidence1.jpg",description:"Speed radar reading"}]}],vehicles:[],warrants:[{id:"WRT-001",issueDate:"2024-01-15T10:00:00",expiryDate:"2024-02-15T10:00:00",suspectId:1,charges:["Armed Robbery","Assault with a Deadly Weapon","Grand Theft Auto"],status:"active",issuingAuthority:"Judge Smith",description:"Suspect wanted in connection with armed robbery at Central Bank. Considered armed and dangerous."},{id:"WRT-001",issueDate:"2024-01-15T10:00:00",expiryDate:"2024-02-15T10:00:00",suspectId:1,charges:["Armed Robbery","Assault with a Deadly Weapon","Grand Theft Auto"],status:"active",issuingAuthority:"Judge Smith",description:"Suspect wanted in connection with armed robbery at Central Bank. Considered armed and dangerous."},{id:"WRT-001",issueDate:"2024-01-15T10:00:00",expiryDate:"2024-02-15T10:00:00",suspectId:1,charges:["Armed Robbery","Assault with a Deadly Weapon","Grand Theft Auto"],status:"expired",issuingAuthority:"Judge Smith",description:"Suspect wanted in connection with armed robbery at Central Bank. Considered armed and dangerous."}],licenses:[{name:"Driver's License",type:"driver",status:"approved",expirationDate:"2025-01-01",note:"This is a note"},{name:"Weapons's License",type:"weapon",status:"rejected",expirationDate:"2025-01-01",note:"This is a note"}]},{citizenid:2,firstname:"Jane",surname:"Smith",photo:"https://storage.googleapis.com/gd-prod/images/f4f4bc5f-904a-4b61-972f-c403bc060679.60c498c559810aa0.webp",nationality:"American",birthdate:"1995-02-15",gender:"Female",job:"Designer",phoneNumber:"0987654321",bankAccount:"0987654321",isDangerous:!0,warrant:!0,notes:[],reports:[],vehicles:[],warrants:[]}],totalCount:2},E0={success:!0,citizenId:1,photo:"https://storage.googleapis.com/gd-prod/images/f4f4bc5f-904a-4b61-972f-c403bc060679.60c498c559810aa0.webp",warrant:!1,isDangerous:!1,notes:[],reports:[{reportId:123,id:"RPT-123",name:"Traffic Violation",dateTime:"2024-01-15T14:30:00",location:"Main Street & 5th Avenue",description:"Speeding violation - 65mph in 45mph zone",category:"Traffic",status:"Closed",officerId:"PD-789",officerName:"Officer Johnson",peopleInvolved:[{citizenId:1,name:"John Doe",category:"Civilian"}],evidence:[{type:"Photo",url:"https://example.com/evidence1.jpg",description:"Speed radar reading"}]},{reportId:123,id:"RPT-123",name:"Traffic Violation",dateTime:"2024-01-15T14:30:00",location:"Main Street & 5th Avenue",description:"Speeding violation - 65mph in 45mph zone",category:"Traffic",status:"Closed",officerId:"PD-789",officerName:"Officer Johnson",peopleInvolved:[{citizenId:1,name:"John Doe",category:"Civilian"}],evidence:[{type:"Photo",url:"https://example.com/evidence1.jpg",description:"Speed radar reading"}]},{reportId:123,id:"RPT-123",name:"Traffic Violation",dateTime:"2024-01-15T14:30:00",location:"Main Street & 5th Avenue",description:"Speeding violation - 65mph in 45mph zone",category:"Traffic",status:"Closed",officerId:"PD-789",officerName:"Officer Johnson",peopleInvolved:[{citizenId:1,name:"John Doe",category:"Civilian"}],evidence:[{type:"Photo",url:"https://example.com/evidence1.jpg",description:"Speed radar reading"}]}],warrants:[{id:"WRT-001",issueDate:"2024-01-15T10:00:00",expiryDate:"2024-02-15T10:00:00",suspectId:1,charges:["Armed Robbery","Assault with a Deadly Weapon","Grand Theft Auto"],status:"active",issuingAuthority:"Judge Smith",description:"Suspect wanted in connection with armed robbery at Central Bank. Considered armed and dangerous."},{id:"WRT-001",issueDate:"2024-01-15T10:00:00",expiryDate:"2024-02-15T10:00:00",suspectId:1,charges:["Armed Robbery","Assault with a Deadly Weapon","Grand Theft Auto"],status:"active",issuingAuthority:"Judge Smith",description:"Suspect wanted in connection with armed robbery at Central Bank. Considered armed and dangerous."},{id:"WRT-001",issueDate:"2024-01-15T10:00:00",expiryDate:"2024-02-15T10:00:00",suspectId:1,charges:["Armed Robbery","Assault with a Deadly Weapon","Grand Theft Auto"],status:"active",issuingAuthority:"Judge Smith",description:"Suspect wanted in connection with armed robbery at Central Bank. Considered armed and dangerous."}],licenses:[{name:"Driver's License",type:"driver",status:"approved",expirationDate:"2025-01-01"},{name:"Firearms License",type:"firearms",status:"pending",expirationDate:"2025-01-01"},{name:"Weapon License",type:"weapon",status:"rejected",expirationDate:"2025-01-01"},{name:"Weapon License",type:"weapon",status:"rejected",expirationDate:"2025-01-01"},{name:"Weapon License",type:"weapon",status:"rejected",expirationDate:"2025-01-01"},{name:"Weapon License",type:"weapon",status:"rejected",expirationDate:"2025-01-01"},{name:"Weapon License",type:"weapon",status:"rejected",expirationDate:"2025-01-01"},{name:"Weapon License",type:"weapon",status:"rejected",expirationDate:"2025-01-01"},{name:"Weapon License",type:"weapon",status:"rejected",expirationDate:"2025-01-01"},{name:"Weapon License",type:"weapon",status:"rejected",expirationDate:"2025-01-01"},{name:"Weapon License",type:"weapon",status:"rejected",expirationDate:"2025-01-01"},{name:"Weapon License",type:"weapon",status:"rejected",expirationDate:"2025-01-01"},{name:"Weapon License",type:"weapon",status:"rejected",expirationDate:"2025-01-01"},{name:"Weapon License",type:"weapon",status:"rejected",expirationDate:"2025-01-01"},{name:"Weapon License",type:"weapon",status:"rejected",expirationDate:"2025-01-01"},{name:"Weapon License",type:"weapon",status:"rejected",expirationDate:"2025-01-01"},{name:"Weapon License",type:"weapon",status:"rejected",expirationDate:"2025-01-01"},{name:"Weapon License",type:"weapon",status:"rejected",expirationDate:"2025-01-01"},{name:"Weapon License",type:"weapon",status:"rejected",expirationDate:"2025-01-01"},{name:"Weapon License",type:"weapon",status:"rejected",expirationDate:"2025-01-01"},{name:"Weapon License",type:"weapon",status:"rejected",expirationDate:"2025-01-01"},{name:"Weapon License",type:"weapon",status:"rejected",expirationDate:"2025-01-01"},{name:"Weapon License",type:"weapon",status:"rejected",expirationDate:"2025-01-01"}]},uj=10;function Aje(){var ye;const{tabs:e,setTabData:t}=ko(),n=li(),{data:s}=n.state||{},[a,i]=m.useState(!1),{user:o,setUserField:l,setUser:c}=Yn(),{locale:d}=ir(),u=(ye=o==null?void 0:o.permissions)==null?void 0:ye.Pages.citizensems;if(!u||!u.view)return null;const[f,v]=m.useState(""),[g,w]=m.useState(null),[y,b]=m.useState([]),[x,N]=m.useState(1),[S,k]=m.useState(f),[F,$]=m.useState(0),[U,D]=m.useState("overview"),[H,K]=m.useState(null);m.useEffect(()=>{(g==null?void 0:g.citizenid)!==H&&(D("overview"),K(g==null?void 0:g.citizenid))},[g]),m.useEffect(()=>{const de=setTimeout(()=>{k(f)},500);return()=>{clearTimeout(de)}},[f]);const B=de=>{de.key==="Enter"&&k(f)},R=(de,le)=>ke("fetchCitizens",{page:de,query:le},uje).then(Q=>{var ce;const oe=Q&&(Q==null?void 0:Q.citizens)&&Array.isArray(Q==null?void 0:Q.citizens)&&((ce=Q==null?void 0:Q.citizens)==null?void 0:ce.map(ee=>({...ee,licenses:Array.isArray(ee.licenses)?ee.licenses:ee.licenses?JSON.parse(ee.licenses):[]})))||[];b(oe),$(Q.totalCount)}).catch(Q=>{console.error("Error:",Q),b([])});m.useEffect(()=>{x!==1&&N(1)},[S]),m.useEffect(()=>{R(x,S)},[x,S]);const Z=async(de,le)=>{let Q={...de,reports:[],incidents:[],insurances:[]};try{(await ke("fetchCitizenDataByCitizenId",{citizenId:le},E0)).success&&(Q={...Q},w(Q));const ce=await ke("fetchCitizenEMSReports",{citizenId:le},E0);ce&&(Q={...Q,reports:Array.isArray(ce)?ce:[]},w(Q));const ee=await ke("fetchCitizenEMSIncidentReports",{citizenId:le},E0);ee&&(Q={...Q,incidents:Array.isArray(ee)?ee:[]},w(Q));const M=await ke("fetchCitizenInsurances",{citizenId:le},E0);M.success&&(Q={...Q,insurances:Array.isArray(M.insurances)?M.insurances:JSON.parse(M.insurances||"[]")},w(Q)),t(Q,Q.firstname+" "+Q.surname)}catch(oe){console.error("Error:",oe),w(null)}};m.useEffect(()=>{if(s){i(!0),w(Array.isArray(s)||typeof s=="object"?s:JSON.parse(s||"[]"));const de=setTimeout(()=>{i(!1)},1e3);return()=>clearTimeout(de)}},[s]);const te=Math.ceil(F/uj);return r.jsxs("div",{className:"flex-1 space-y-4 w-full h-full",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("hr",{className:"w-1 h-10 bg-primary border-none rounded-full"}),r.jsx("h2",{className:"text-3xl font-bold",children:(d==null?void 0:d.text_citizen_search_title)||"Citizen Search"})]}),a?r.jsx(uH,{}):r.jsx("div",{className:"grid grid-cols-6 gap-4 grid-rows-1 h-full",children:r.jsx(Le,{className:"col-span-6 row-span-1 bg-card/50  border-primary/20 max-h-[calc(95vh-200px)] overflow-hidden",children:r.jsx(Gn,{mode:"wait",children:g?r.jsx(Xt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"flex w-full ",children:g&&r.jsx(cje,{citizen:g,activeTab:U,userPermissions:u,onClose:()=>{w(null),R(x,S)},handleTabSelect:D})},"list-view"):r.jsxs(Xt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:[r.jsx(mt,{children:r.jsx(kt,{children:(d==null?void 0:d.text_citizen_database)||"Citizen Database"})}),r.jsx(Je,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(ls,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),r.jsx(ht,{placeholder:(d==null?void 0:d.text_citizen_search_placeholder)||"Search citizens...",className:"pl-10 bg-background/50 border-primary/20 focus:border-primary",value:f,onChange:de=>v(de.target.value),onKeyDown:B})]}),r.jsx(nr,{className:"h-[calc(85vh-300px)]",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-4",children:r.jsx(Gn,{children:y&&Array.isArray(y)&&(y||[]).map(de=>r.jsx(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:r.jsx(dje,{citizen:de,onClick:()=>{Z(de,de.citizenid)}})},de.citizenid))})})}),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsxs("div",{children:[(d==null?void 0:d.text_citizen_showing)||"Showing"," ",(x-1)*uj+1," ",(d==null?void 0:d.text_citizen_to)||"to"," ",Math.min(x*uj,F)," ",(d==null?void 0:d.text_citizen_of)||"of"," ",F," ",(d==null?void 0:d.text_citizen_citizens)||"citizens"]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>N(de=>Math.max(1,de-1)),disabled:x===1,children:(d==null?void 0:d.text_citizen_previous)||"Previous"}),r.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>N(de=>Math.min(te,de+1)),disabled:x==te||te==0,children:(d==null?void 0:d.text_next)||"Next"})]})]})]})})]},"list-view")})})})]})}const hje={citizens:[{citizenid:"1",firstname:"John",lastname:"Doe",job:"Unemployed",gender:"male",photo:"https://kappa.lol/8ut4U",birthdate:"1990-01-01",bankAccount:"1234567890",phoneNumber:"123-456-7890",nationality:"American"},{citizenid:"1",firstname:"John",lastname:"Doe",job:"Unemployed",gender:"male",photo:"https://kappa.lol/8ut4U",birthdate:"1990-01-01",bankAccount:"1234567890",phoneNumber:"123-456-7890",nationality:"American"}]},fje=[{id:1,plate:"ABC123",model:"Toyota Camry",owner:"John Doe",status:"active",photo:"https://kappa.lol/8ut4U"},{id:2,plate:"DEF456",model:"Honda Civic",owner:"Jane Smith",status:"active",photo:"https://kappa.lol/8ut4U"}],sg={incidents:[{incidentId:"I001",title:"Traffic Accident",description:"Two-vehicle collision at intersection",location:"Main St & 5th Ave",status:"active",priority:"medium",dateTime:"2025-01-15T10:30:00Z",timeline:[{title:"Incident Created",timestamp:"2025-01-15T10:30:00Z",description:"Incident was created and assigned medium priority.",icon:"alert",iconBg:"bg-primary"},{title:"Units Assigned",timestamp:"2025-01-15T10:35:00Z",description:"Units ADAM-10, MARY-20 were assigned to the incident.",icon:"user",iconBg:"bg-blue-500"},{title:"Location Updated",timestamp:"2025-01-15T10:42:00Z",description:"Exact location confirmed at Main St & 5th Ave, north side.",icon:"map",iconBg:"bg-green-500"},{title:"Status Updates",timestamp:"2025-01-15T11:00:00Z",description:"Current status:",icon:"clock",iconBg:"bg-muted",badge:"ACTIVE",badgeClass:"bg-blue-500/10 text-blue-500"}],evidences:[{id:"1",type:"image",description:"This is a test evidence",url:"https://kappa.lol/8ut4U"},{id:"2",type:"video",description:"This is a test evidence",url:"https://kappa.lol/8ut4U"},{id:"3",type:"audio",description:"This is a test evidence",url:"https://kappa.lol/8ut4U"}],vehiclesInvolved:[{model:"Ford F150",plate:"ABC123",category:"Civilian",charges:[]}]},{incidentId:"I002",title:"Robbery in Progress",description:"Armed suspect at convenience store",location:"123 Oak St",status:"active",priority:"high",dateTime:"2025-01-15T11:15:00Z",timeline:[{title:"Incident Created",timestamp:"2025-01-15T11:15:00Z",description:"Incident was created and assigned high priority.",icon:"alert",iconBg:"bg-red-500"},{title:"Units Assigned",timestamp:"2025-01-15T11:16:00Z",description:"Unit LINCOLN-15 was assigned to the incident.",icon:"user",iconBg:"bg-blue-500"},{title:"Backup Requested",timestamp:"2025-01-15T11:22:00Z",description:"Medic requested additional units for support.",icon:"alert",iconBg:"bg-yellow-500"},{title:"Status Updates",timestamp:"2025-01-15T11:45:00Z",description:"Current status:",icon:"clock",iconBg:"bg-muted",badge:"ACTIVE",badgeClass:"bg-blue-500/10 text-blue-500"}]},{incidentId:"I003",title:"Noise Complaint",description:"Loud party reported by neighbors",location:"456 Elm St",status:"active",priority:"low",dateTime:"2025-01-15T22:45:00Z",timeline:[{title:"Incident Created",timestamp:"2025-01-15T22:45:00Z",description:"Incident was created and assigned low priority.",icon:"alert",iconBg:"bg-primary"},{title:"Additional Complaints",timestamp:"2025-01-15T23:00:00Z",description:"Two more neighbors called to report the noise disturbance.",icon:"alert",iconBg:"bg-yellow-500"},{title:"Status Updates",timestamp:"2025-01-15T23:15:00Z",description:"Current status:",icon:"clock",iconBg:"bg-muted",badge:"ACTIVE",badgeClass:"bg-blue-500/10 text-blue-500"}]}],totalCount:3},Aj=10;function mje(){var jn,Un,Ur,Jr,Xn,ds,Nn;const{locale:e}=ir(),{user:t,setUserField:n,setUser:s}=Yn(),[a,i]=m.useState(""),[o,l]=m.useState(null),[c,d]=m.useState([]),[u,f]=m.useState("Medic"),[v,g]=m.useState(!1),[w,y]=m.useState(!1),[b,x]=m.useState(!1),[N,S]=m.useState({title:"",description:"",location:"",status:"active",priority:"medium",dateTime:new Date().toISOString()}),{toast:k}=ys(),F=li(),{data:$}=F.state||{},[U,D]=m.useState(""),[H,K]=m.useState(""),[B,R]=m.useState(""),[Z,te]=m.useState("desc"),[ye,de]=m.useState(!1),[le,Q]=m.useState(!1),{tabs:oe,setTabData:ce}=ko(),[ee,M]=m.useState([]),[E,q]=m.useState(1),[se,re]=m.useState(B),[G,ue]=m.useState(0),[ie,Ee]=m.useState(H),[He,rt]=m.useState([]),[we,Ve]=m.useState(U),[Re,je]=m.useState(!1),[Mt,Bt]=m.useState({id:"",type:"image",url:"",description:""}),ct=(jn=t==null?void 0:t.permissions)==null?void 0:jn.Pages.emsincidents,vt=(ct==null?void 0:ct.view)||!1;if(ct!=null&&ct.edit,!vt)return null;const{isCollaborating:wt,activeEditors:Fe,recentChanges:Oe,startCollaborating:_e,stopCollaborating:nt,sendChanges:ut,applyChanges:jt,socket:zt}=Z1((o==null?void 0:o.incidentId)||null,"incident","ems"),{tabletData:Be}=jf(),[Ye,Ue]=m.useState(!1),[Lt,Et]=m.useState(""),[hr,ur]=m.useState(!1),[Cr,Tr]=m.useState([]),fr=Te=>Te.canAccessReport?(t==null?void 0:t.hasManagePermission)||!1:!0,dr=Te=>{Te&&!v?_e():!Te&&v&&nt(),g(Te)};m.useEffect(()=>{if(Be!=null&&Be.CollaborationEditing&&(Be!=null&&Be.useWebsockets)&&wt&&zt&&o!=null&&o.incidentId){const Te=Nt=>{try{const Jt=JSON.parse(Nt);if(Jt.reportId!==(o==null?void 0:o.incidentId))return;if(Jt.action==="receiveUpdate"){const Pr=Jt.change,Cn=jt(o,Pr.changes,Pr.changeType);Cn&&l(Cn)}}catch(Jt){console.error("Error processing socket message:",Jt)}};return zt.on("message",Te),()=>{zt.off("message",Te)}}},[wt,zt,o==null?void 0:o.incidentId,jt,o]),m.useEffect(()=>{if(Be!=null&&Be.CollaborationEditing&&!(Be!=null&&Be.useWebsockets)){const Te=Nt=>{const{data:Jt}=Nt;if(Jt.type==="collabUpdate"&&o){const Pr=jt(o,Jt.changes,Jt.changeType);Pr&&l(Pr)}};return window.addEventListener("message",Te),()=>window.removeEventListener("message",Te)}},[o,jt]);const Ke=()=>{try{const Te={...N,dateTime:new Date().toISOString(),description:N.description||"",medicId:t==null?void 0:t.id,timeline:[{title:(e==null?void 0:e.text_incident_created)||"Incident Created",timestamp:new Date().toISOString(),description:(e==null?void 0:e.text_incident_was_created)||"Incident was created.",icon:"clock",iconBg:"bg-primary"}]};return ke("addNewEMSIncident",{incidentToAdd:Te},sg).then(Nt=>{Nt&&Nt.success?(Zn(E,se),S({title:"",description:"",location:"",status:"active",priority:"medium",dateTime:new Date().toISOString(),evidences:[],peopleInvolved:[],vehiclesInvolved:[],timeline:[]}),y(!1),k({title:(e==null?void 0:e.text_incident_created)||"Incident Created",description:(e==null?void 0:e.text_incident_created_description)||"The incident has been successfully created."})):console.error("No response received.")}).catch(Nt=>{console.error("Error:",Nt)})}catch(Te){console.error("An error occurred while adding the incident:",Te)}},qt=(Te,Nt,Jt="clock",Pr="bg-primary")=>{if(o){const Cn={title:Te,timestamp:new Date().toISOString(),description:Nt,icon:Jt,iconBg:Pr};l({...o,timeline:[...o.timeline||[],Cn]}),wt&&ut({timeline:Cn},"addTimeline")}},Ge=(Te,Nt)=>{const Jt={id:Nt,name:Te};Tr([...Cr,Jt]),ke("grantReportAccess",{reportId:o==null?void 0:o.incidentId,userId:Nt,reportType:"incident",page:"ems"},{}).then(Pr=>{Pr!=null&&Pr.success?k({title:(e==null?void 0:e.text_access_granted)||"Access Granted",description:`Access granted to ${Te}`}):k({title:"Error",description:(Pr==null?void 0:Pr.message)||`unable to grant access to ${Te}`})}).catch(Pr=>{console.error("Error granting access:",Pr)})},st=Te=>{Tr(Cr.filter(Nt=>Nt.id!==Te)),ke("revokeReportAccess",{reportId:o==null?void 0:o.incidentId,userId:Te,reportType:"incident",page:"ems"},{}).then(Nt=>{Nt!=null&&Nt.success&&k({title:(e==null?void 0:e.text_access_revoked)||"Access Revoked",description:(e==null?void 0:e.text_accessRevokedDesc)||"User access has been revoked"})}).catch(Nt=>{console.error("Error revoking access:",Nt)})},it=()=>{if(o&&Lt.trim()){const Te={...o,isLocked:!0,lockReason:Lt.trim()};ke("lockReport",{reportId:o.incidentId,lockReason:Lt.trim(),reportType:"incident",page:"ems"},{}).then(Nt=>{Nt!=null&&Nt.success?(l(Te),d(c.map(Jt=>Jt.incidentId===o.incidentId?Te:Jt)),Ue(!1),Et(""),k({title:(e==null?void 0:e.text_report_locked)||"Report Locked",description:(e==null?void 0:e.text_report_locked_desc)||"The report has been successfully locked."})):k({title:"Error",description:(Nt==null?void 0:Nt.message)||"unable to lock report"})}).catch(Nt=>{console.error("Error locking report:",Nt)})}},Pt=()=>{if(o){const Te={...o,isLocked:!1,lockReason:void 0};ke("unlockReport",{reportId:o.incidentId,reportType:"incident",page:"ems"},{}).then(Nt=>{Nt!=null&&Nt.success?(l(Te),d(c.map(Jt=>Jt.incidentId===o.incidentId?Te:Jt)),k({title:(e==null?void 0:e.text_report_unlocked)||"Report Unlocked",description:(e==null?void 0:e.text_report_unlocked_desc)||"The report has been successfully unlocked."})):k({title:"Error",description:(Nt==null?void 0:Nt.message)||"unable to unlock report"})}).catch(Nt=>{console.error("Error unlocking report:",Nt)})}},_r=()=>{if(o)try{return v&&qt((e==null?void 0:e.text_incident_updated)||"Incident Updated",(e==null?void 0:e.text_incident_updated_description)||"Incident details were updated.","clock","bg-blue-500"),ke("saveEMSIncident",o,sg).then(Te=>{Te?(d(c?c.map(Nt=>Nt.incidentId===o.incidentId?o:Nt):[]),l(o||[]),dr(!1),k({title:(e==null?void 0:e.text_incident_updated)||"Incident Updated",description:(e==null?void 0:e.text_incident_updated_description_two)||"The incident has been successfully updated."})):console.error("No response received.")}).catch(Te=>{console.error("Error:",Te)})}catch(Te){console.error("An error occurred while updating the incident:",Te)}},ot=Te=>{try{return ke("deleteEMSIncident",{incidentId:Te},sg).then(Nt=>{Nt.success?(d(c.filter(Jt=>Jt.incidentId!==Te)),o&&o.incidentId===Te&&l(null)):console.error("No response received.")}).catch(Nt=>{console.error("Error:",Nt)})}catch(Nt){console.error("An error occurred while deleting the incident:",Nt)}},dt=(Te,Nt)=>ke("fetchVehicles",{page:Te,query:Nt},fje).then(Jt=>{Jt?rt(Jt.vehiclesData):(console.error("No response received."),rt([]))}).catch(Jt=>{console.error("Error:",Jt),rt([])}),er=(Te,Nt,Jt)=>{if(o){const Pr={name:Te||"",citizenId:Nt||"",category:Jt||"Civilian",charges:[]};qt(`${Jt} ${(e==null?void 0:e.text_added)||"Added"}`,`${Te} ${(e==null?void 0:e.text_was_added_to_the_incident_as)||"was added to the incident as"} ${Jt}.`,"user",Jt==="Medic"?"bg-blue-500":"bg-green-500"),l(Cn=>Cn&&{...Cn,peopleInvolved:[...Cn.peopleInvolved||[],Pr]}),wt&&ut({person:Pr},"addPerson")}},Rt=Te=>{Te&&S(Nt=>Nt&&{...Nt,description:Te})},xn=Te=>{Te&&(l(Nt=>Nt&&{...Nt,description:Te}),wt&&ut({description:Te},"reportDetails"))},qr=(Te,Nt)=>ke("fetchEMSIncidentDataByIncidentId",{incidentId:Nt},sg).then(Jt=>{if(Jt&&Jt.success){Jt=Jt.data;const Pr={...Te,location:Jt.location||Te.location||null,description:Jt.description||Te.description||"",evidences:Array.isArray(Jt.evidences)?Jt.evidences:JSON.parse(Jt.evidences||"[]"),peopleInvolved:Array.isArray(Jt.peopleInvolved)?Jt.peopleInvolved:JSON.parse(Jt.peopleInvolved||"[]"),vehiclesInvolved:Array.isArray(Jt.vehiclesInvolved)?Jt.vehiclesInvolved:JSON.parse(Jt.vehiclesInvolved||"[]"),timeline:Array.isArray(Jt.timeline)?Jt.timeline:JSON.parse(Jt.timeline||"[]"),bodyData:Array.isArray(Jt.bodyData)?Jt.bodyData:JSON.parse(Jt.bodyData||"[]")};Tr(Jt.reportAccess||[]),ce(Pr,Nt),l(Pr)}else k({title:"Error",description:(Jt==null?void 0:Jt.message)||"unable to open report"}),console.error("No response received."),l(null)}).catch(Jt=>{console.error("Error:",Jt),l(null)}),vn=Te=>{if(o&&o.peopleInvolved){const Nt=o.peopleInvolved[Te],Jt=(o.peopleInvolved??[]).filter((Pr,Cn)=>Cn!==Te);qt(`${Nt.category} ${(e==null?void 0:e.text_removed)||"Removed"}`,`${Nt.name} ${(e==null?void 0:e.text_was_removed_from_the_incident)||"was removed from the incident"}.`,"user","bg-red-500"),l({...o,peopleInvolved:Jt}),wt&&ut({index:Te},"deletePerson")}},Er=(Te,Nt)=>{if(o){const Jt={plate:Te,model:Nt};qt((e==null?void 0:e.text_vehicle_added)||"Vehicle Added",`${(e==null?void 0:e.text_vehicle)||"Vehicle"} ${Nt} (${Te}) ${(e==null?void 0:e.text_was_added_to_the_incident)||"was added to the incident"}.`,"map","bg-yellow-500"),l({...o,vehiclesInvolved:[...o.vehiclesInvolved||[],Jt]}),wt&&ut({vehicle:Jt},"addVehicle")}},Gt=Te=>{if(o&&o.vehiclesInvolved){const Nt=o.vehiclesInvolved[Te],Jt=(o.vehiclesInvolved??[]).filter((Pr,Cn)=>Cn!==Te);qt((e==null?void 0:e.text_vehicle_removed)||"Vehicle Removed",`${(e==null?void 0:e.text_vehicle)||"Vehicle"} ${Nt.model} (${Nt.plate}) ${(e==null?void 0:e.text_was_removed_from_the_incident)||"was removed from the incident"}.`,"map","bg-red-500"),l({...o,vehiclesInvolved:Jt}),wt&&ut({index:Te},"deleteVehicle")}},kn=()=>{var Pr;if(!o)return;const Te=Date.now().toString(),Nt={...Mt,id:Te},Jt=[...o.evidences||[],Nt];((Pr=Nt.url)==null?void 0:Pr.trim())==""&&(Nt.type="text"),qt((e==null?void 0:e.text_evidence_added)||"Evidence Added",`${(e==null?void 0:e.text_new_evidence)||"New evidence"} (${Nt.type}) ${(e==null?void 0:e.text_was_added_to_the_incident)||"was added to the incident"}.`,"alert","bg-purple-500"),l({...o,evidences:Jt}),wt&&ut({evidence:Nt},"addEvidence"),Bt({id:"",type:"image",url:"",description:""}),je(!1)},ps=Te=>{if(o){const Nt=(o.evidences??[]).filter((Jt,Pr)=>Pr!==Te);l({...o,evidences:Nt}),wt&&ut({index:Te},"deleteEvidence")}};m.useEffect(()=>{const Te=setTimeout(()=>{Ve(U)},500);return()=>{clearTimeout(Te)}},[U]),m.useEffect(()=>{dt(1,we)},[we]);const is=Math.ceil(G/Aj);m.useEffect(()=>{const Te=setTimeout(()=>{Ee(H)},500);return()=>{clearTimeout(Te)}},[H]);const en=(Te,Nt)=>ke("fetchCitizens",{page:Te,query:Nt},hje).then(Jt=>{M(Jt.citizens)}).catch(Jt=>{console.error("Error:",Jt),M([])});m.useEffect(()=>{en(1,ie)},[ie]),m.useEffect(()=>{const Te=setTimeout(()=>{re(B)},500);return()=>{clearTimeout(Te)}},[B]);const ws=Te=>{Te.key==="Enter"&&re(B)},Pn=o&&((Un=o==null?void 0:o.peopleInvolved)==null?void 0:Un.filter(Te=>Te.category==="Medic"))||[],qn=o&&((Ur=o==null?void 0:o.peopleInvolved)==null?void 0:Ur.filter(Te=>Te.category==="Civilian"))||[],Zn=(Te,Nt)=>(x(!0),ke("fetchEMSIncidents",{page:Te,query:Nt},sg).then(Jt=>{const{incidents:Pr,totalCount:Cn}=Jt;d(Pr&&Pr.map(Kr=>({...Kr,peopleInvolved:Array.isArray(Kr.peopleInvolved)?Kr.peopleInvolved:JSON.parse(Kr.peopleInvolved||"[]")}))),ue(Cn)}).catch(Jt=>{console.error("Error:",Jt),d([])}).finally(()=>{x(!1)}));m.useEffect(()=>{E!==1&&q(1)},[se]),m.useEffect(()=>{Zn(E,se)},[E,se]),m.useEffect(()=>{if($){x(!0),l(Array.isArray($)||typeof $=="object"?$:JSON.parse($||"[]"));const Te=setTimeout(()=>{x(!1)},1e3);return()=>clearTimeout(Te)}},[$]);const Ln=(Te,Nt)=>{l(Jt=>{if(!Jt)return Jt;const Pr=Jt.bodyData||{},Cn={...Pr,[Te]:{...Pr[Te],...Nt}};return wt&&ut({bodyPartData:{bodyPart:Te,data:Nt}},"bodyDataChange"),{...Jt,bodyData:Cn}})},wr=Te=>{switch(Te){case"high":return"bg-red-500/10 text-red-500";case"medium":return"bg-yellow-500/10 text-yellow-500";case"low":return"bg-green-500/10 text-green-500";default:return"bg-blue-500/10 text-blue-500"}},We=Te=>{switch(Te){case"active":return"bg-blue-500/10 text-blue-500";case"resolved":return"bg-green-500/10 text-green-500";case"archived":return"bg-gray-500/10 text-gray-500";default:return"bg-blue-500/10 text-blue-500"}},Ht=Te=>Te.split(" ").map(Nt=>Nt[0]).join("").toUpperCase(),mr=Te=>{};return r.jsxs("div",{className:"flex-1 space-y-4 w-full h-full",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("hr",{className:"w-1 h-10 bg-primary border-none rounded-full"}),r.jsx("h2",{className:"text-3xl font-bold",children:(e==null?void 0:e.text_incidents)||"Incidents"})]}),b?r.jsx(lw,{}):r.jsx("div",{className:"grid grid-cols-6 gap-4 grid-rows-1 h-full",children:r.jsx(Le,{className:"col-span-6 row-span-1 bg-card/50  border-primary/20 max-h-[calc(95vh-200px)] overflow-hidden text-white p-4",children:r.jsx(Gn,{mode:"wait",children:o?r.jsxs(Xt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Ae,{variant:"outline",size:"icon",onClick:()=>{l(null),v&&dr(!1)},className:"h-10 w-10",children:r.jsx(Oi,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[o==null?void 0:o.title,r.jsx(ze,{variant:"outline",className:`${wr((o==null?void 0:o.priority)||"medium")}`,children:o==null?void 0:o.priority.toUpperCase()}),r.jsxs(ze,{variant:"outline",className:"bg-green-500/10 text-green-500",children:["#",o==null?void 0:o.incidentId]})]}),r.jsxs("p",{className:"text-muted-foreground",children:[o&&$n(o.dateTime)," "," ",o==null?void 0:o.location]})]}),r.jsx("div",{className:"ml-auto",children:v?r.jsxs("div",{className:"flex gap-2",children:[r.jsx(r.Fragment,{children:o&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(fh,{isCollaborating:wt,activeEditors:Fe,currentUserId:(t==null?void 0:t.id)||""}),wt&&r.jsx(mh,{recentChanges:Oe,activeEditors:Fe})]})}),ct.edit&&r.jsxs(Ae,{variant:"outline",onClick:()=>ur(!0),children:[r.jsx(ba,{className:"mr-2 h-4 w-4"}),(e==null?void 0:e.text_manage_access)||"Manage Access"]}),(ct==null?void 0:ct.edit)&&(o!=null&&o.isLocked?r.jsxs(Ae,{variant:"outline",onClick:Pt,children:[r.jsx(ns,{className:"mr-2 h-4 w-4"}),(e==null?void 0:e.text_unlock_report)||"Unlock Report"]}):r.jsxs(Ae,{variant:"outline",onClick:()=>Ue(!0),children:[r.jsx(ns,{className:"mr-2 h-4 w-4"}),(e==null?void 0:e.text_lock_report)||"Lock Report"]})),r.jsx(Ae,{variant:"outline",onClick:()=>dr(!1),children:(e==null?void 0:e.text_cancel)||"Cancel"}),r.jsx(Ae,{onClick:_r,children:(e==null?void 0:e.text_save_changes)||"Save Changes"})]}):r.jsx(r.Fragment,{children:(ct==null?void 0:ct.edit)&&r.jsxs("div",{className:"flex gap-2",children:[r.jsx(r.Fragment,{children:o&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(fh,{isCollaborating:wt,activeEditors:Fe,currentUserId:(t==null?void 0:t.id)||""}),wt&&r.jsx(mh,{recentChanges:Oe,activeEditors:Fe})]})}),r.jsxs(Ae,{variant:"outline",onClick:()=>dr(!0),children:[r.jsx(ks,{className:"h-4 w-4 mr-2"}),(e==null?void 0:e.text_edit)||"Edit"]}),(t==null?void 0:t.hasManagePermission)&&r.jsxs(Ae,{variant:"destructive",onClick:()=>{o&&ot(o==null?void 0:o.incidentId)},children:[r.jsx(ms,{className:"h-4 w-4 mr-2"}),(e==null?void 0:e.text_delete)||"Delete"]})]})})})]}),r.jsxs(ea,{defaultValue:"overview",className:"w-full",children:[r.jsxs(ta,{className:"w-full grid grid-cols-7 bg-transparent border-2 border-primary/20",children:[r.jsx(Fr,{value:"overview",children:(e==null?void 0:e.text_overview)||"Overview"}),r.jsx(Fr,{value:"people",children:(e==null?void 0:e.text_people_involved)||"People Involved"}),r.jsx(Fr,{value:"vehicles",children:(e==null?void 0:e.text_vehicles)||"Vehicles"}),r.jsx(Fr,{value:"bodydamage",children:(e==null?void 0:e.text_body_damage)||"Body Damage"}),r.jsx(Fr,{value:"evidence",children:(e==null?void 0:e.text_evidence)||"Evidence"}),r.jsx(Fr,{value:"timeline",children:(e==null?void 0:e.text_timeline)||"Timeline"}),r.jsx(Fr,{value:"access",children:(e==null?void 0:e.text_access_control)||"Access Control"})]}),r.jsx(Rr,{value:"overview",className:"mt-4 h-[calc(70vh-300px)]",children:r.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[r.jsx("div",{className:"col-span-2",children:r.jsxs(Le,{children:[r.jsx(mt,{children:r.jsx(kt,{children:(e==null?void 0:e.text_description)||"Description"})}),r.jsx(Je,{className:"h-[530px] overflow-y-auto p-5",children:r.jsx(vu,{initialContent:(o==null?void 0:o.description)||`<p>${(e==null?void 0:e.text_no_notes_available)||"No notes available"}</p>`,editable:!!v,onChange:xn,placeholder:(e==null?void 0:e.text_start_typing)||"Start typing here..."})})]})}),r.jsxs("div",{className:"grid grid-cols-1 grid-rows-3 gap-1",children:[r.jsxs(Le,{className:"col-span-1 row-span-3",children:[r.jsx(mt,{className:"pb-2",children:r.jsx(kt,{children:(e==null?void 0:e.text_incident_information)||"Incident Information"})}),r.jsx(Je,{children:r.jsxs("div",{className:"space-y-2",children:[r.jsx(I0,{label:(e==null?void 0:e.text_incident_id)||"Incident ID",value:o?o.incidentId:"N/A",isEditing:!1}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx(I0,{label:(e==null?void 0:e.text_title)||"Title",value:o?o.title:"N/A",isEditing:v,onChange:Te=>{l(Nt=>Nt&&{...Nt,title:Te}),wt&&ut({title:Te},"reportDetails")}}),r.jsx(I0,{label:(e==null?void 0:e.text_location)||"Location",value:o?o.location:"N/A",isEditing:v,onChange:Te=>{l(Nt=>Nt&&{...Nt,location:Te}),wt&&ut({location:Te},"reportDetails")}}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:(e==null?void 0:e.text_status)||"Status"}),v?r.jsxs(On,{value:o==null?void 0:o.status,onValueChange:Te=>{l(Nt=>Nt&&{...Nt,status:Te}),wt&&ut({status:Te},"reportDetails")},children:[r.jsx(Dn,{children:r.jsx(Mn,{placeholder:(e==null?void 0:e.text_select_status)||"Select status"})}),r.jsxs(Fn,{children:[r.jsx(Yt,{value:"active",children:(e==null?void 0:e.text_active)||"Active"}),r.jsx(Yt,{value:"resolved",children:(e==null?void 0:e.text_resolved)||"Resolved"}),r.jsx(Yt,{value:"archived",children:(e==null?void 0:e.text_archived)||"Archived"})]})]}):r.jsx("p",{className:"font-medium",children:r.jsx(ze,{className:We((o==null?void 0:o.status)||"active"),children:o==null?void 0:o.status.toUpperCase()})})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:(e==null?void 0:e.text_priority)||"Priority"}),v?r.jsxs(On,{value:o==null?void 0:o.priority,onValueChange:Te=>{l(Nt=>Nt&&{...Nt,priority:Te}),wt&&ut({priority:Te},"reportDetails")},children:[r.jsx(Dn,{children:r.jsx(Mn,{placeholder:(e==null?void 0:e.text_select_priority)||"Select priority"})}),r.jsxs(Fn,{children:[r.jsx(Yt,{value:"low",children:(e==null?void 0:e.text_low)||"Low"}),r.jsx(Yt,{value:"medium",children:(e==null?void 0:e.text_medium)||"Medium"}),r.jsx(Yt,{value:"high",children:(e==null?void 0:e.text_high)||"High"})]})]}):r.jsx("p",{className:"font-medium",children:r.jsx(ze,{className:wr((o==null?void 0:o.priority)||"medium"),children:o==null?void 0:o.priority.toUpperCase()})})]})]}),r.jsx(I0,{label:(e==null?void 0:e.text_created_at)||"Created At",value:o?$n(o.dateTime):"N/A",isEditing:!1})]})})]}),r.jsxs(Le,{className:"col-span-1 row-span-1",children:[r.jsx(mt,{className:"pb-2",children:r.jsx(kt,{children:(e==null?void 0:e.text_quick_summary)||"Quick Summary"})}),r.jsx(Je,{children:r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[r.jsxs("div",{className:"bg-primary/5 rounded-lg p-3",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:(e==null?void 0:e.text_people)||"People"}),r.jsx("p",{className:"text-2xl font-bold",children:((Xn=o==null?void 0:o.peopleInvolved)==null?void 0:Xn.length)||0})]}),r.jsxs("div",{className:"bg-primary/5 rounded-lg p-3",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:(e==null?void 0:e.text_vehicles)||"Vehicles"}),r.jsx("p",{className:"text-2xl font-bold",children:((ds=o==null?void 0:o.vehiclesInvolved)==null?void 0:ds.length)||0})]}),ct.edit&&v&&r.jsxs(r.Fragment,{children:[r.jsx(Ae,{className:"w-full",variant:"outline",onClick:()=>{o&&(qt((e==null?void 0:e.text_status_changed)||"Status Changed",(e==null?void 0:e.text_incident_status_archived)||"Incident status was changed to ARCHIVED.","clock","bg-gray-500"),l({...o,status:"archived"}),v||_r())},children:(e==null?void 0:e.text_archive_incident)||"Archive Incident"}),r.jsx(Ae,{className:"w-full",variant:"outline",onClick:()=>{o&&(qt((e==null?void 0:e.text_status_changed)||"Status Changed",(e==null?void 0:e.text_incident_status_resolved)||"Incident status was changed to RESOLVED.","clock","bg-green-500"),l({...o,status:"resolved"}),v||_r())},children:(e==null?void 0:e.text_mark_as_resolved)||"Mark as Resolved"})]})]})})]})]})]})}),r.jsx(Rr,{value:"people",className:"w-full mt-4  p-4",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:"text-lg font-semibold",children:(e==null?void 0:e.text_people_involved)||"People Involved"}),r.jsxs(ze,{variant:"outline",children:[((Nn=o==null?void 0:o.peopleInvolved)==null?void 0:Nn.length)||0," ",(e==null?void 0:e.text_total)||"Total"]})]}),v&&ct.edit&&r.jsxs(r.Fragment,{children:[r.jsxs(Ae,{variant:"outline",size:"sm",onClick:()=>Q(!0),children:[r.jsx(Xr,{className:"h-4 w-4 mr-2"}),(e==null?void 0:e.text_add)||"Add"," ",u]}),r.jsx(Xi,{isOpen:le,onClose:()=>Q(!1),citizens:ee,selectedCitizenId:"",selectedPeople:o==null?void 0:o.peopleInvolved,onUpdatePerson:({citizenId:Te,name:Nt})=>{er(Nt,Te,u)},onSearchQueryChange:Te=>{K(Te)}})]})]}),r.jsxs(ea,{value:u,onValueChange:f,className:"w-full",children:[r.jsxs(ta,{className:"grid w-full grid-cols-2",children:[r.jsxs(Fr,{value:"Medic",className:"flex gap-2 items-center",children:[r.jsx(vl,{className:"h-4 w-4"}),(e==null?void 0:e.text_medics)||"Medics",Pn.length>0&&r.jsx(ze,{variant:"secondary",className:"ml-1",children:Pn.length})]}),r.jsxs(Fr,{value:"Civilian",className:"flex gap-2 items-center",children:[r.jsx(ba,{className:"h-4 w-4"}),(e==null?void 0:e.text_civilians)||"Civilians",qn.length>0&&r.jsx(ze,{variant:"secondary",className:"ml-1",children:qn.length})]})]}),r.jsx(Rr,{value:"Medic",className:"mt-4",children:Pn&&Pn.length>0?r.jsx(Le,{children:r.jsx(Je,{className:"p-4",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:Pn&&Array.isArray(Pn)&&Pn.map((Te,Nt)=>r.jsxs("div",{className:"flex items-center gap-3 bg-primary/5 p-3 rounded-lg",children:[r.jsx(hn,{className:"h-10 w-10",children:r.jsx(yn,{className:"bg-blue-500/20 text-blue-500",children:Ht(Te.name)})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium truncate",children:Te.name}),r.jsxs("p",{className:"text-xs text-muted-foreground truncate",children:[(e==null?void 0:e.text_id)||"ID",": ",Te.citizenId]})]}),v&&ct.edit&&r.jsx(Ae,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>(o==null?void 0:o.peopleInvolved)&&vn(o.peopleInvolved.indexOf(Te)),children:r.jsx(ms,{className:"h-4 w-4"})})]},Nt))})})}):r.jsxs("div",{className:"text-center py-8 bg-muted/20 rounded-lg",children:[r.jsx("p",{className:"text-muted-foreground",children:(e==null?void 0:e.text_no_medics_involved)||"No medics involved in this report"}),v&&ct.edit&&r.jsxs(r.Fragment,{children:[r.jsxs(Ae,{variant:"outline",className:"mt-2",onClick:()=>Q(!0),children:[r.jsx(Xr,{className:"h-4 w-4 mr-2"}),(e==null?void 0:e.text_add_medic)||"Add Medic"]}),r.jsx(Xi,{isOpen:le,onClose:()=>Q(!1),citizens:ee,selectedCitizenId:"",selectedPeople:o==null?void 0:o.peopleInvolved,onUpdatePerson:({citizenId:Te,name:Nt})=>{er(Nt,Te,"Medic")},onSearchQueryChange:Te=>{K(Te)}})]})]})}),r.jsx(Rr,{value:"Civilian",className:"mt-4",children:qn&&qn.length>0?r.jsx(Le,{children:r.jsx(Je,{className:"p-4",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:qn&&Array.isArray(qn)&&qn.map((Te,Nt)=>r.jsxs("div",{className:"flex items-center gap-3 bg-primary/5 p-3 rounded-lg",children:[r.jsx(hn,{className:"h-10 w-10",children:r.jsx(yn,{className:"bg-green-500/20 text-green-500",children:Ht(Te.name)})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium truncate",children:Te.name}),r.jsxs("p",{className:"text-xs text-muted-foreground truncate",children:[(e==null?void 0:e.text_id)||"ID",": ",Te.citizenId]})]}),v&&ct.edit&&r.jsx(Ae,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>(o==null?void 0:o.peopleInvolved)&&vn(o.peopleInvolved.indexOf(Te)),children:r.jsx(ms,{className:"h-4 w-4"})})]},Nt))})})}):r.jsxs("div",{className:"text-center py-8 bg-muted/20 rounded-lg",children:[r.jsx("p",{className:"text-muted-foreground",children:(e==null?void 0:e.text_no_civilians_involved)||"No civilians involved in this report"}),v&&ct.edit&&r.jsxs(r.Fragment,{children:[r.jsxs(Ae,{variant:"outline",className:"mt-2",onClick:()=>Q(!0),children:[r.jsx(Xr,{className:"h-4 w-4 mr-2"}),(e==null?void 0:e.text_add_civilian)||"Add Civilian"]}),r.jsx(Xi,{isOpen:le,onClose:()=>Q(!1),citizens:ee,selectedCitizenId:"",selectedPeople:o==null?void 0:o.peopleInvolved,onUpdatePerson:({citizenId:Te,name:Nt})=>{er(Nt,Te,"Civilian")},onSearchQueryChange:Te=>{K(Te)}})]})]})})]})]})}),r.jsx(Rr,{value:"vehicles",className:"w-full mt-4 p-4",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-semibold",children:(e==null?void 0:e.text_vehicles_involved)||"Vehicles Involved"}),v&&ct.edit&&r.jsxs(r.Fragment,{children:[r.jsxs(Ae,{variant:"outline",size:"sm",onClick:()=>de(!0),children:[r.jsx(Xr,{className:"h-4 w-4 mr-2"}),(e==null?void 0:e.text_add_vehicle)||"Add Vehicle"]}),r.jsx(ph,{isOpen:ye,onClose:()=>de(!1),vehicles:He,selectedVehicles:o==null?void 0:o.vehiclesInvolved,selectedVehicle:"",onUpdateVehicle:Te=>{Er(Te.plate,Te.model)},onSearchQueryChange:Te=>{D(Te)}})]})]}),o!=null&&o.vehiclesInvolved&&o.vehiclesInvolved.length>0?r.jsx(nr,{className:"h-[50%] justify-center items-center w-full",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o&&(o==null?void 0:o.vehiclesInvolved)&&Array.isArray(o==null?void 0:o.vehiclesInvolved)&&o.vehiclesInvolved.map((Te,Nt)=>r.jsxs(Le,{children:[r.jsxs(mt,{className:"p-4 pb-2 flex flex-row items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(ze,{className:"bg-red-500/10 text-red-500",children:(e==null?void 0:e.text_criminal)||"Criminal"}),r.jsx(kt,{className:"text-lg mt-1",children:Te.model})]}),v&&ct.edit&&r.jsx(Ae,{variant:"ghost",size:"icon",onClick:()=>Gt(Nt),children:r.jsx(ms,{className:"h-4 w-4"})})]}),r.jsx(Je,{className:"p-4 pt-0",children:r.jsx("div",{className:"grid grid-cols-1 gap-2",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:(e==null?void 0:e.text_license_plate)||"License Plate"}),r.jsx("p",{className:"font-medium",children:Te.plate})]})})})]},Nt))})}):r.jsxs("div",{className:"text-center py-8 bg-muted/20 rounded-lg",children:[r.jsx("p",{className:"text-muted-foreground",children:(e==null?void 0:e.text_no_vehicles_involved)||"No vehicles involved in this report"}),v&&ct.edit&&r.jsxs(r.Fragment,{children:[r.jsxs(Ae,{variant:"outline",size:"sm",onClick:()=>de(!0),children:[r.jsx(Xr,{className:"h-4 w-4 mr-2"}),(e==null?void 0:e.text_add_vehicle)||"Add Vehicle"]}),r.jsx(ph,{isOpen:ye,onClose:()=>de(!1),vehicles:He,selectedVehicles:o==null?void 0:o.vehiclesInvolved,selectedVehicle:"",onUpdateVehicle:Te=>{Er(Te.plate,Te.model)},onSearchQueryChange:Te=>{D(Te)}})]})]})]})}),r.jsx(Rr,{value:"bodydamage",className:"w-full mt-4 p-4",children:r.jsx("div",{className:"grid grid-cols-4 gap-4",children:r.jsx("div",{className:"space-y-4 col-span-4",children:r.jsx(nK,{isEditMode:v,bodyData:o==null?void 0:o.bodyData,onChange:Ln})})})}),r.jsx(Rr,{value:"evidence",className:"w-full mt-4 p-4",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-semibold",children:(e==null?void 0:e.text_evidence_items)||"Evidence Items"}),v&&ct.edit&&r.jsxs(Ae,{variant:"outline",size:"sm",onClick:()=>je(!0),children:[r.jsx(Xr,{className:"h-4 w-4 mr-2"}),(e==null?void 0:e.text_add_evidence)||"Add Evidence"]})]}),o!=null&&o.evidences&&o.evidences.length>0?r.jsx(nr,{className:"h-[50vh] justify-center items-center w-full",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o&&(o==null?void 0:o.evidences)&&Array.isArray(o==null?void 0:o.evidences)&&o.evidences.map((Te,Nt)=>r.jsxs(Le,{className:"overflow-hidden relative max-h-[40vh] overflow-y-auto",children:[v&&ct.edit&&r.jsx(Ae,{variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-8 w-8 rounded-full z-10",onClick:()=>ps(Nt),children:r.jsx(ms,{className:"h-4 w-4"})}),Te.type==="image"&&r.jsx("div",{className:"aspect-video bg-muted relative",children:r.jsx("img",{src:Te.url||"/placeholder.svg?height=200&width=300",alt:Te.description,className:"object-cover w-full h-full cursor-pointer",onClick:()=>mr(Te.url)})}),r.jsxs(Je,{className:"p-3",children:[r.jsxs("p",{className:"font-medium",children:[(e==null?void 0:e.text_evidence_number)||"Evidence #",Te.id]}),r.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:Te.description})]})]},Te.id))})}):r.jsxs("div",{className:"text-center py-8 bg-muted/20 rounded-lg",children:[r.jsx("p",{className:"text-muted-foreground",children:(e==null?void 0:e.text_no_evidence_items)||"No evidence items attached to this report"}),v&&ct.edit&&r.jsxs(Ae,{variant:"outline",className:"mt-2",onClick:()=>je(!0),children:[r.jsx(Xr,{className:"h-4 w-4 mr-2"}),(e==null?void 0:e.text_add_first_evidence)||"Add First Evidence Item"]})]})]})}),r.jsx(Rr,{value:"timeline",className:"mt-4",children:r.jsxs(Le,{children:[r.jsx(mt,{children:r.jsx(kt,{children:(e==null?void 0:e.text_incident_timeline)||"Incident Timeline"})}),r.jsx(Je,{children:o!=null&&o.timeline?r.jsx(nr,{className:"h-[50vh] justify-center items-center w-full",children:r.jsx("div",{className:"relative pl-6 border-l-2 border-muted-foreground/20 space-y-6",children:o&&(o==null?void 0:o.timeline)&&Array.isArray(o==null?void 0:o.timeline)&&o.timeline.map((Te,Nt)=>r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:`absolute -left-[27px] h-6 w-6 rounded-full ${Te.iconBg||"bg-primary"} flex items-center justify-center`,children:[Te.icon==="alert"&&r.jsx(cs,{className:"h-3 w-3 text-primary-foreground"}),Te.icon==="user"&&r.jsx(ri,{className:"h-3 w-3 text-primary-foreground"}),Te.icon==="clock"&&r.jsx(Mi,{className:"h-3 w-3 text-muted-foreground"}),Te.icon==="map"&&r.jsx(qs,{className:"h-3 w-3 text-primary-foreground"})]}),r.jsxs("div",{className:"mb-1 flex items-baseline",children:[r.jsx("h4",{className:"font-semibold",children:Te.title}),r.jsx("span",{className:"ml-2 text-xs text-muted-foreground",children:$n(Te.timestamp)})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:Te.description}),Te.badge&&r.jsx(ze,{className:Te.badgeClass||"",variant:"outline",children:Te.badge})]},Nt))})}):r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-muted-foreground",children:(e==null?void 0:e.text_no_timeline_events)||"No timeline events available for this incident"})})})]})}),r.jsx(Rr,{value:"access",className:"w-full mt-4 p-4",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-semibold",children:(e==null?void 0:e.text_report_access)||"Report Access"}),v&&ct.edit&&r.jsxs(Ae,{variant:"outline",size:"sm",onClick:()=>ur(!0),children:[r.jsx(Xr,{className:"h-4 w-4 mr-2"}),(e==null?void 0:e.text_grant_access)||"Grant Access"]})]}),Cr&&Cr.length>0?r.jsx(Le,{children:r.jsx(Je,{className:"p-4",children:r.jsx("div",{className:"space-y-3",children:Cr.map((Te,Nt)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-primary/5 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(hn,{className:"h-10 w-10",children:r.jsx(yn,{className:"bg-blue-500/20 text-blue-500",children:Ht(Te.name)})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:Te.name}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["ID: ",Te.id]})]})]}),r.jsx("div",{className:"flex items-center gap-2",children:v&&ct.edit&&r.jsx(Ae,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-red-500/10 hover:text-red-500",onClick:()=>st(Te.id),children:r.jsx(Lm,{className:"h-4 w-4"})})})]},Te.id))})})}):r.jsxs("div",{className:"text-center py-8 bg-muted/20 rounded-lg",children:[r.jsx("p",{className:"text-muted-foreground",children:(e==null?void 0:e.text_no_access_granted)||"No additional access granted for this report"}),v&&ct.edit&&r.jsxs(Ae,{variant:"outline",className:"mt-2 bg-transparent",onClick:()=>ur(!0),children:[r.jsx(Xr,{className:"h-4 w-4 mr-2"}),(e==null?void 0:e.text_grant_first_access)||"Grant First Access"]})]})]})})]})]},"detail-view"):r.jsxs(Xt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-3xl font-bold",children:(e==null?void 0:e.text_incidents)||"Incidents"}),r.jsxs(gr,{open:w,onOpenChange:y,children:[r.jsx(to,{asChild:!0,children:r.jsxs(Ae,{onClick:()=>y(!0),children:[r.jsx(Xr,{className:"mr-2 h-4 w-4"}),(e==null?void 0:e.text_new_incident)||"New Incident"]})}),r.jsxs(xr,{className:"max-w-[60vw] w-full","aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:(e==null?void 0:e.text_create_new_incident)||"Create New Incident"})}),r.jsx("div",{className:"grid gap-4 py-4",children:r.jsx(nr,{className:"max-h-[500px] border rounded p-4",children:r.jsxs("div",{className:"grid gap-4 p-5",children:[r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Me,{htmlFor:"title",className:"text-right",children:(e==null?void 0:e.text_title)||"Title"}),r.jsx(ht,{id:"title",value:N.title,onChange:Te=>S({...N,title:Te.target.value}),className:"col-span-3"})]}),r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Me,{htmlFor:"location",className:"text-right",children:(e==null?void 0:e.text_location)||"Location"}),r.jsx(ht,{id:"location",value:N.location,onChange:Te=>S({...N,location:Te.target.value}),className:"col-span-3"})]}),r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Me,{htmlFor:"priority",className:"text-right",children:(e==null?void 0:e.text_priority)||"Priority"}),r.jsxs(On,{value:N.priority,onValueChange:Te=>S({...N,priority:Te}),children:[r.jsx(Dn,{className:"col-span-3",children:r.jsx(Mn,{placeholder:(e==null?void 0:e.text_select_priority)||"Select priority"})}),r.jsxs(Fn,{children:[r.jsx(Yt,{value:"low",children:(e==null?void 0:e.text_low)||"Low"}),r.jsx(Yt,{value:"medium",children:(e==null?void 0:e.text_medium)||"Medium"}),r.jsx(Yt,{value:"high",children:(e==null?void 0:e.text_high)||"High"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(Me,{htmlFor:"description",className:"text-right",children:(e==null?void 0:e.text_description)||"Description"}),r.jsx("div",{className:"col-span-3 min-h-[200px] max-w-full w-full rounded border p-2 overflow-hidden break-words",children:r.jsx(vu,{initialContent:(N==null?void 0:N.description)||`<p>${(e==null?void 0:e.text_no_notes_available)||"No notes available"}</p>`,editable:!0,onChange:Rt,placeholder:(e==null?void 0:e.text_start_typing)||"Start typing here..."})})]})]})})}),r.jsx(un,{children:r.jsx(Ae,{onClick:Ke,children:(e==null?void 0:e.text_create_incident)||"Create Incident"})})]})]})]}),r.jsx("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center mt-4",children:r.jsxs("div",{className:"relative flex-1",children:[r.jsx(ls,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),r.jsx(ht,{placeholder:(e==null?void 0:e.text_search_incidents)||"Search incidents by title, ID, or location...",className:"pl-10 bg-background/50 border-primary/20 focus:border-primary",value:B,onChange:Te=>R(Te.target.value),onKeyDown:ws})]})}),r.jsx(nr,{className:"h-[calc(85vh-300px)] mt-4",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:r.jsx(Gn,{children:c&&Array.isArray(c)&&c.map(Te=>{var Nt,Jt;return r.jsx(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},layout:!0,children:r.jsxs(Le,{className:`overflow-hidden transition-all duration-200 border ${Te.isLocked&&!fr(Te)?"opacity-75 cursor-not-allowed":"hover:shadow-lg cursor-pointer hover:border-primary/30"}`,onClick:()=>{if(Te.isLocked&&!fr(Te)){k({title:(e==null?void 0:e.text_access_denied)||"Access Denied",description:(e==null?void 0:e.text_report_locked)||"This report is locked and you don't have permission to view it.",variant:"destructive"});return}qr(Te,(Te==null?void 0:Te.incidentId)||""),dr(!1)},children:[r.jsxs(mt,{className:"p-4 pb-2",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[Te.isLocked&&r.jsxs(ze,{variant:"outline",className:"bg-red-500/10 text-red-500",children:[r.jsx(ns,{className:"h-3 w-3 mr-1"}),(e==null?void 0:e.text_locked)||"Locked"]}),r.jsx(ze,{variant:"outline",className:`${wr(Te.priority)}`,children:(e==null?void 0:e[`text_${Te.priority.toLowerCase()}`])||Te.priority.toUpperCase()}),r.jsxs(ze,{variant:"outline",className:"bg-green-500/10 text-green-500",children:["#",Te.incidentId]}),r.jsx(ze,{variant:"outline",className:`${We(Te.status)}`,children:(e==null?void 0:e[`text_${Te.status.toLowerCase()}`])||Te.status.toUpperCase()})]}),r.jsx(kt,{className:`text-lg mt-2 line-clamp-1 ${Te.isLocked&&!fr(Te)?"text-muted-foreground":""}`,children:Te.isLocked&&!fr(Te)?"":Te.title})]}),r.jsxs(Je,{className:"p-4 pt-0",children:[r.jsxs("div",{className:"flex items-center text-sm text-muted-foreground mb-2",children:[r.jsx(Ua,{className:"h-3.5 w-3.5 mr-1"}),r.jsx("span",{children:$n(Te.dateTime)})]}),r.jsxs("div",{className:"flex items-center text-sm text-muted-foreground mb-2",children:[r.jsx(qs,{className:"h-3.5 w-3.5 mr-1"}),r.jsx("span",{className:"line-clamp-1",children:Te.isLocked&&!fr(Te)?"":Te.location})]}),r.jsxs("div",{className:"flex items-center text-sm text-muted-foreground mb-2",children:[r.jsx(ri,{className:"h-3.5 w-3.5 mr-1"}),r.jsx("span",{children:Te.isLocked&&!fr(Te)?"":Te==null?void 0:Te.medicName})]}),r.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[r.jsx(ri,{className:"h-3.5 w-3.5 mr-1"}),r.jsxs("span",{children:[(e==null?void 0:e.text_units)||"Units",":"," ",Te.isLocked&&!fr(Te)?"":((Nt=Te==null?void 0:Te.peopleInvolved)==null?void 0:Nt.filter(Pr=>Pr.category==="Medic").length)||(e==null?void 0:e.text_none)||"None"]})]}),Te.isLocked&&Te.lockReason&&r.jsxs("div",{className:"mt-2 p-2 bg-amber-500/10 border border-amber-500/20 rounded text-xs",children:[r.jsxs("div",{className:"flex items-center gap-1 text-amber-500",children:[r.jsx(xl,{className:"h-3 w-3"}),r.jsxs("span",{className:"font-medium",children:[(e==null?void 0:e.text_lock_reason)||"Lock Reason",":"]})]}),r.jsx("span",{className:"text-amber-600",children:Te.lockReason})]})]}),r.jsxs(ju,{className:"p-4 pt-0 flex justify-between items-center",children:[Te.isLocked&&!fr(Te)?r.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[r.jsx(ns,{className:"h-4 w-4"}),r.jsx("span",{className:"text-sm",children:(e==null?void 0:e.text_restricted_access)||"Restricted Access"})]}):r.jsxs("div",{className:"flex -space-x-2",children:[Te&&(Te==null?void 0:Te.peopleInvolved)&&Array.isArray(Te==null?void 0:Te.peopleInvolved)&&((Jt=Te==null?void 0:Te.peopleInvolved)==null?void 0:Jt.slice(0,3).map((Pr,Cn)=>r.jsx(hn,{className:"border-2 border-background h-8 w-8",children:r.jsx(yn,{className:`text-xs ${Pr.category==="Medic"?"bg-blue-500/20 text-blue-500":"bg-green-500/20 text-green-500"}`,children:Ht(Pr.name)})},Cn))),(Te==null?void 0:Te.peopleInvolved)&&Te.peopleInvolved.length>3&&r.jsx(hn,{className:"border-2 border-background h-8 w-8",children:r.jsxs(yn,{className:"text-xs bg-primary/10",children:["+",Te.peopleInvolved.length-3]})})]}),r.jsxs(Ae,{variant:"ghost",size:"sm",className:"gap-1",children:[Te.isLocked&&!fr(Te)?r.jsx(ns,{className:"h-3.5 w-3.5"}):r.jsx(fi,{className:"h-3.5 w-3.5"}),r.jsx("span",{className:"sr-only",children:(e==null?void 0:e.text_view)||"View"})]})]})]})},Te.incidentId)})})})}),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsxs("div",{children:[(e==null?void 0:e.text_showing)||"Showing"," ",(E-1)*Aj+1," ",(e==null?void 0:e.text_to)||"to"," ",Math.min(E*Aj,G)," ",(e==null?void 0:e.text_of)||"of"," ",G," ",((Jr=e==null?void 0:e.text_incidents)==null?void 0:Jr.toLowerCase())||"incidents"]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>q(Te=>Math.max(1,Te-1)),disabled:E===1,children:(e==null?void 0:e.text_previous)||"Previous"}),r.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>q(Te=>Math.min(is,Te+1)),disabled:E==is||is==0,children:(e==null?void 0:e.text_next)||"Next"})]})]})]},"list-view")})})}),r.jsx(gr,{open:Re,onOpenChange:je,children:r.jsxs(xr,{className:"sm:max-w-[500px]","aria-describedby":"",children:[r.jsxs(vr,{children:[r.jsx(yr,{children:(e==null?void 0:e.text_add_evidence)||"Add Evidence"}),r.jsx(nl,{children:(e==null?void 0:e.text_add_evidence_description)||"Add evidence to the report. Fill in the details below."})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Me,{htmlFor:"evidence-url",children:(e==null?void 0:e.text_url)||"URL"}),r.jsx(ht,{id:"evidence-url",placeholder:(e==null?void 0:e.text_enter_image_url)||"Enter image URL or upload file",value:Mt.url,onChange:Te=>Bt({...Mt,url:Te.target.value})})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Me,{htmlFor:"evidence-description",children:(e==null?void 0:e.text_description)||"Description"}),r.jsx(ss,{id:"evidence-description",placeholder:(e==null?void 0:e.text_describe_evidence)||"Describe the evidence...",value:Mt.description,onChange:Te=>Bt({...Mt,description:Te.target.value}),className:"min-h-[100px]"})]}),r.jsxs(un,{children:[r.jsx(Ae,{variant:"outline",onClick:()=>je(!1),children:(e==null?void 0:e.text_cancel)||"Cancel"}),r.jsx(Ae,{onClick:kn,children:(e==null?void 0:e.text_add_evidence)||"Add Evidence"})]})]})}),r.jsx(Xi,{isOpen:hr,onClose:()=>ur(!1),citizens:ee,selectedCitizenId:"",selectedPeople:Cr.map(Te=>({citizenId:Te.id,name:Te.name,charges:[]})),onUpdatePerson:({citizenId:Te,name:Nt})=>{Ge(Nt,Te),ur(!1)},onSearchQueryChange:Te=>{K(Te)}}),r.jsx(gr,{open:Ye,onOpenChange:Ue,children:r.jsxs(xr,{className:"sm:max-w-[500px]","aria-describedby":"",children:[r.jsxs(vr,{children:[r.jsxs(yr,{className:"flex items-center gap-2",children:[r.jsx(ns,{className:"h-5 w-5"}),(e==null?void 0:e.text_lock_report)||"Lock Report"]}),r.jsx(nl,{children:(e==null?void 0:e.text_lock_report_desc)||"Locking this report will restrict access to authorized personnel only. Please provide a reason for locking this report."})]}),r.jsxs("div",{className:"py-4 space-y-4",children:[r.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/20 rounded-md p-3",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(xl,{className:"h-4 w-4 text-amber-500"}),r.jsx("p",{className:"text-sm font-medium text-amber-500",children:(e==null?void 0:e.text_important_notice)||"Important Notice"})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:(e==null?void 0:e.text_jail_notice)||"Once locked, only users with management permissions will be able to view and edit this report. This action can be reversed by unlocking the report."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"lock-reason",children:(e==null?void 0:e.text_lock_reason)||"Lock Reason"}),r.jsx(ss,{id:"lock-reason",placeholder:(e==null?void 0:e.text_enter_lock_reason)||"Enter the reason for locking this report...",value:Lt,onChange:Te=>Et(Te.target.value),className:"min-h-[100px]"})]})]}),r.jsxs(un,{children:[r.jsx(Ae,{variant:"outline",onClick:()=>{Ue(!1),Et("")},children:(e==null?void 0:e.text_cancel)||"Cancel"}),r.jsxs(Ae,{onClick:it,disabled:!Lt.trim(),className:"bg-red-500 hover:bg-red-600",children:[r.jsx(ns,{className:"h-4 w-4 mr-2"}),(e==null?void 0:e.text_lock_report)||"Lock Report"]})]})]})})]})}function I0({label:e,value:t,isEditing:n,onChange:s}){return r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:e}),n?r.jsx(ht,{value:t,onChange:a=>s&&s(a.target.value),className:"w-full"}):r.jsx("p",{className:"font-medium",children:t})]})}function sK(){return r.jsxs("div",{className:"flex-1 space-y-4 w-full h-full",children:[r.jsx(Se,{className:"h-8 w-48"}),r.jsxs(Le,{className:"col-span-2 row-span-1 bg-card/50  border-primary/20 max-h-[calc(95vh-200px)] overflow-hidden",children:[r.jsxs(mt,{className:"flex flex-row items-center justify-between",children:[r.jsx(kt,{children:r.jsx(Se,{className:"h-6 w-48"})}),r.jsx(Se,{className:"h-9 w-28"})]}),r.jsx(Je,{children:r.jsx("div",{className:"flex justify-center items-center h-[calc(100vh-200px)]",children:r.jsx(Se,{className:"h-[calc(100vh-200px)] w-full"})})})]})]})}const pje={success:!0,roster:"https://docs.google.com/spreadsheets/d/1GTLdCzZP5hroi8u1LQ0fhmx5j_g_D99IflfCnL_o7hM/edit?gid=0"};function gje(){const{locale:e}=ir(),[t,n]=m.useState(null),[s,a]=m.useState(!0);m.useEffect(()=>{(async()=>{a(!0);try{return await new Promise(l=>setTimeout(l,1e3)),ke("getRosterLink",{},pje).then(l=>{if(l!=null&&l.success&&(l!=null&&l.roster)){let c=l.roster;c.includes("docs.google.com/spreadsheets")&&(c=c.replace("/edit","/preview")),n(c)}else console.error("Invalid response:",l),n(null)}).catch(l=>{console.error("Error:",l)})}catch(l){console.error("Error fetching roster URL:",l)}finally{a(!1)}})()},[]);const i=()=>{a(!0),setTimeout(()=>{a(!1)},1e3)};return r.jsxs("div",{className:"flex-1 space-y-4 w-full h-full",children:[r.jsx("h2",{className:"text-3xl font-bold",children:(e==null?void 0:e.text_roster)||"Roster"}),r.jsxs(Le,{className:"col-span-2 row-span-1 bg-card/50 border-primary/20 max-h-[calc(100vh-200px)] overflow-hidden",children:[r.jsxs(mt,{className:"flex flex-row items-center justify-between",children:[r.jsx(kt,{children:(e==null?void 0:e.text_department_roster)||"Department Roster"}),r.jsxs(Ae,{onClick:i,disabled:s,children:[r.jsx(lO,{className:"mr-2 h-4 w-4"}),(e==null?void 0:e.text_refresh)||"Refresh"]})]}),r.jsx(Je,{children:s?r.jsx(sK,{}):t?r.jsx("iframe",{src:t,className:"w-full h-[calc(90vh-200px)] border-none",title:(e==null?void 0:e.text_department_roster)||"Department Roster"}):r.jsx("div",{className:"text-center text-muted-foreground",children:(e==null?void 0:e.text_unable_to_load_roster)||"Unable to load roster. Please try refreshing or contact support."})})]})]})}const xje=async e=>{try{if((await fetch(e,{method:"HEAD"})).ok)return e}catch{console.warn("Invalid URL:",e,"using fallback.")}return"https://placehold.co/600x400"};function vje(){const{toast:e}=ys(),[t,n]=m.useState(!1),{selectedLabel:s}=aS(),a=li(),{departmentData:i,officer:o,webhookDump:l}=a.state||{};if(!i||!o)return r.jsx("div",{children:"No data available. Please navigate properly."});const c=m.useRef(null),[d,u]=m.useState(o);m.useEffect(()=>{(async()=>{if(d!=null&&d.photo){const g=await xje(d.photo);u(w=>({...w,photo:g}))}})()},[d==null?void 0:d.photo]);const f=async()=>{if(c.current){n(!0);try{const v=c.current,g=new gn("p","mm","a4"),w=g.internal.pageSize.getWidth(),y=g.internal.pageSize.getHeight(),b=10;let x=b;const N=await vw(v,{scale:2,useCORS:!0}),S=N.toDataURL("image/jpeg",.92),k=190,F=N.height*k/N.width;x+F>y-b&&(g.addPage(),x=b),g.addImage(S,"JPEG",b,x,k,F);const $=g.output("blob"),U=new FormData;U.append("file",$,`Officer_${o.id}.pdf`);const H=await(await fetch(l,{method:"POST",mode:"cors",body:U})).text(),K=ke("receivePDF",{data:H});K.success&&(n(!1),e({title:"Added to the queue",description:K.message}))}catch(v){n(!1),console.error("Error:",v)}}};return r.jsxs("div",{className:"flex w-full flex-col items-center justify-center",children:[r.jsx("div",{children:r.jsx("button",{onClick:()=>f(),disabled:t,style:{padding:"0.75rem 2rem",backgroundColor:"#3b82f6",color:"#fff",borderRadius:"0.5rem",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",fontSize:"1rem",fontWeight:"600",cursor:"pointer",transition:"background-color 0.3s ease"},onMouseOver:v=>v.target.style.backgroundColor="#2563eb",onMouseOut:v=>v.target.style.backgroundColor="#3b82f6",children:"Export Warrant"})}),r.jsx("div",{className:"flex w-full justify-center",children:r.jsxs("div",{ref:c,style:{width:"auto",height:"80vh",display:"flex",justifyContent:"center",alignItems:"center",position:"fixed",color:"black"},children:[r.jsx("img",{src:Ws(i==null?void 0:i.warrantTemplateUrl),style:{maxWidth:"100%",maxHeight:"100%"},alt:"Base"}),r.jsx("div",{style:{position:"absolute",top:"17%",left:"38%",fontSize:"2.7vh",fontFamily:"Franklin Gothic Medium, Arial Narrow, Arial, sans-serif",fontWeight:600,color:"black",textAlign:"center"},children:"LEO Confidential Annual Report"}),r.jsx("b",{style:{position:"absolute",top:"29%",left:"6%",fontSize:"1.8vh",fontFamily:"Courier New, Courier, monospace",fontWeight:600},children:"LEO Details"}),r.jsxs("ul",{style:{position:"absolute",top:"31%",left:"5%",fontSize:"1.3vh",fontFamily:"Courier New, Courier, monospace"},children:[r.jsxs("li",{children:["Name: ",d.name]}),r.jsxs("li",{children:["Badge Number: ",d.rank," | ",d.callsign]}),r.jsxs("li",{children:["Department: ",d.department]}),r.jsxs("li",{children:["Citizen ID: ",d.citizenId]}),r.jsxs("li",{children:["Status: ",d.isFired?"Active":"Fired"]}),r.jsxs("li",{children:["Total Duty Hours: ",d.totalDutyHours]})]}),r.jsx("img",{src:(d==null?void 0:d.photo)||"https://placehold.co/600x400",style:{position:"absolute",top:"38%",left:"78%",transform:"translate(-50%, -50%)",maxWidth:"25%",maxHeight:"25%",border:"0.3vh solid black"},alt:"Suspect"}),r.jsx("b",{style:{position:"absolute",top:"53%",left:"6%",fontSize:"1.8vh",fontFamily:"Courier New, Courier, monospace",fontWeight:600},children:"Current Assignments"}),r.jsx("ul",{style:{position:"absolute",width:"95%",top:"56%",left:"6%",fontSize:"1.3vh",fontFamily:"Courier New, Courier, monospace",columnCount:2},children:d&&Array.isArray(d==null?void 0:d.currentAssignments)&&((d==null?void 0:d.currentAssignments)||[]).map((v,g)=>r.jsx("li",{children:v.description}))}),r.jsx("b",{style:{position:"absolute",top:"65%",left:"6%",fontSize:"1.8vh",fontFamily:"Courier New, Courier, monospace",fontWeight:600},children:"Service History"}),r.jsxs("table",{style:{position:"absolute",width:"90%",top:"68%",left:"5%",fontSize:"1.3vh",fontFamily:"Courier New, Courier, monospace",borderCollapse:"collapse"},children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{style:{border:"1px solid black",padding:"0.5vh"},children:"Date"}),r.jsx("th",{style:{border:"1px solid black",padding:"0.5vh"},children:"Service History"})]})}),r.jsx("tbody",{children:d&&Array.isArray(d==null?void 0:d.serviceHistory)&&((d==null?void 0:d.serviceHistory)||[]).map((v,g)=>r.jsxs("tr",{children:[r.jsx("td",{style:{border:"1px solid black",padding:"0.5vh"},children:v.date}),r.jsx("td",{style:{border:"1px solid black",padding:"0.5vh"},children:v.event})]}))})]})]})})]})}const af=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),WA=e=>new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),yje=e=>{const{locale:t}=ir();switch(e){case"scheduled":return r.jsx(ze,{className:"bg-blue-500",children:(t==null?void 0:t.text_scheduled)||"Scheduled"});case"completed":return r.jsx(ze,{className:"bg-green-500",children:(t==null?void 0:t.text_completed)||"Completed"});case"postponed":return r.jsx(ze,{className:"bg-amber-500",children:(t==null?void 0:t.text_postponed)||"Postponed"});case"cancelled":return r.jsx(ze,{className:"bg-red-500",children:(t==null?void 0:t.text_cancelled)||"Cancelled"});default:return r.jsx(ze,{className:"bg-gray-500",children:(t==null?void 0:t.text_unknown)||"Unknown"})}};function wje({courtCase:e,onSelect:t}){const{locale:n}=ir();return r.jsxs(Le,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>t(e),children:[r.jsxs(mt,{className:"pb-2",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsx(kt,{className:"text-lg",children:e.title}),yje(e.status)]}),r.jsx(bx,{children:e.id})]}),r.jsx(Je,{className:"pb-10",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ri,{className:"h-4 w-4 text-gray-500"}),r.jsx("span",{children:e.defendant})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ua,{className:"h-4 w-4 text-gray-500"}),r.jsx("span",{children:af(e.date)})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Mi,{className:"h-4 w-4 text-gray-500"}),r.jsx("span",{children:WA(e.date)})]})]})})]})}function bje({caseData:e,onClose:t,userPermissions:n,onAddNote:s}){const{user:a}=Yn(),{locale:i}=ir(),[o,l]=m.useState(!1),[c,d]=m.useState(""),u=v=>{v&&d&&d(v)},f=async()=>{const v={author:a?a==null?void 0:a.name:"Current User",timestamp:new Date().toISOString(),content:c},g={...e,notes:[...e.notes||[],v]};await s(g,v),d(""),l(!1)};return r.jsx("div",{className:"space-y-6 p-4",children:r.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[r.jsx("div",{className:"col-span-2",children:r.jsxs(Le,{className:"bg-transparent ",children:[r.jsxs(mt,{className:"border-b flex flex-row items-center justify-between",children:[r.jsx(kt,{className:"text-xl font-bold",children:(i==null?void 0:i.text_case_notes)||"Case Notes"}),n.edit&&e.status!="completed"&&e.status!="cancelled"&&r.jsxs(gr,{open:o,onOpenChange:l,children:[r.jsx(to,{asChild:!0,children:r.jsxs(Ae,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[r.jsx(Xr,{className:"h-4 w-4"}),(i==null?void 0:i.text_add_note)||"Add Note"]})}),r.jsxs(xr,{className:"max-w-3xl","aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:(i==null?void 0:i.text_add_case_note)||"Add New Case Note"})}),r.jsx("div",{className:"mt-4 max-h-[50vh] overflow-auto",children:r.jsx(vu,{initialContent:c||`<p>${(i==null?void 0:i.text_no_notes_available)||"No notes available"}</p>`,editable:!0,onChange:u,minHeight:"300px",placeholder:(i==null?void 0:i.text_start_typing)||"Start typing here..."})}),r.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[r.jsx(Ae,{variant:"outline",onClick:()=>l(!1),children:(i==null?void 0:i.text_cancel)||"Cancel"}),r.jsx(Ae,{onClick:f,children:(i==null?void 0:i.text_add_note)||"Add Note"})]})]})]})]}),r.jsx(Je,{className:"flex w-full justify-start flex-col gap-4 pt-4",children:e&&(e==null?void 0:e.notes)&&Array.isArray(e==null?void 0:e.notes)&&(e==null?void 0:e.notes.map((v,g)=>r.jsx(Le,{className:"bg-card/30 ",children:r.jsxs(Je,{className:"p-4",children:[r.jsx("div",{className:"flex items-center justify-between mb-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(hn,{className:"h-8 w-8",children:r.jsx(ri,{className:"h-4 w-4"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-sm",children:v.author||"Unknown Author"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:$n(v.timestamp)})]})]})}),r.jsx("div",{className:"prose prose-invert prose-sm max-w-none",dangerouslySetInnerHTML:{__html:(v==null?void 0:v.content)||""}})]})},g)))})]})}),r.jsxs("div",{className:"col-span-1 space-y-4",children:[r.jsxs(Le,{className:"bg-transparent ",children:[r.jsx(mt,{className:"border-b",children:r.jsx(kt,{className:"text-lg font-semibold",children:(i==null?void 0:i.text_defendant)||"Defendant"})}),r.jsx(Je,{className:"pt-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(hn,{className:"h-10 w-10",children:r.jsx(ri,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:e.defendant}),r.jsx("p",{className:"text-sm text-muted-foreground",children:(i==null?void 0:i.text_defendant)||"Defendant"})]})]})})]}),r.jsxs(Le,{className:"bg-transparent ",children:[r.jsx(mt,{className:"border-b",children:r.jsx(kt,{className:"text-lg font-semibold",children:(i==null?void 0:i.text_court_officials)||"Court Officials"})}),r.jsx(Je,{className:"pt-4",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:e.judge}),r.jsx("p",{className:"text-sm text-muted-foreground",children:(i==null?void 0:i.text_presiding_judge)||"Presiding Judge"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:e.prosecution}),r.jsx("p",{className:"text-sm text-muted-foreground",children:(i==null?void 0:i.text_prosecution)||"Prosecution"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:e.defense}),r.jsx("p",{className:"text-sm text-muted-foreground",children:(i==null?void 0:i.text_defense)||"Defense"})]})]})})]}),e.status==="completed"&&r.jsxs(Le,{className:"bg-transparent ",children:[r.jsx(mt,{className:"border-b",children:r.jsx(kt,{className:"text-lg font-semibold",children:(i==null?void 0:i.text_verdict_sentencing)||"Verdict & Sentencing"})}),r.jsx(Je,{className:"pt-4",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-sm",children:(i==null?void 0:i.text_verdict)||"Verdict:"}),r.jsx("p",{className:"text-sm",children:e.verdict})]}),r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium text-sm",children:[(i==null?void 0:i.text_sentence)||"Sentence",":"]}),r.jsx("p",{className:"text-sm",children:e.sentence})]})]})})]}),e.status==="postponed"&&r.jsxs(Le,{className:"bg-transparent ",children:[r.jsx(mt,{className:"border-b",children:r.jsx(kt,{className:"text-lg font-semibold",children:(i==null?void 0:i.text_postponed_details)||"Postponement Details"})}),r.jsx(Je,{className:"pt-4",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium text-sm",children:[(i==null?void 0:i.text_reason)||"Reason",":"]}),r.jsx("p",{className:"text-sm",children:e.postponedReason})]}),r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium text-sm",children:[(i==null?void 0:i.text_new_date)||"New Date",":"]}),r.jsxs("p",{className:"text-sm",children:[af(e.newDate||"")," at ",WA(e.newDate||"")]})]})]})})]})]})]})})}function jje({open:e,onOpenChange:t,onCaseCreated:n,availableCourtrooms:s}){const{user:a}=Yn(),{locale:i}=ir(),[o,l]=m.useState(""),[c,d]=m.useState({}),{toast:u}=ys(),[f,v]=m.useState({title:"",defendant:"",judge:"",defense:"",prosecution:"",courtroom:"",date:"",time:"",relatedReports:[]}),g=()=>{try{const w=`${f.date}T${f.time||"09:00:00"}`;let y={title:f.title,date:w,status:"scheduled",defendant:f.defendant,judge:f.judge,defense:f.defense,prosecution:f.prosecution,courtroom:f.courtroom,relatedReports:f.relatedReports||[],notes:[{timestamp:new Date().toISOString(),author:a?a==null?void 0:a.name:"Officer",content:(i==null?void 0:i.text_case_filed_with_court)||"Case filed with the court."}]};ke("createCourtCase",{caseData:y}).then(b=>{if(b.success){const x=b.caseId;x&&(y.id=x,n(y),u({title:"Success",description:b.message||"Court case created successfully"})),v({title:"",defendant:"",judge:"",defense:"",prosecution:"",courtroom:"",date:"",time:"",relatedReports:[]}),d({}),t(!1)}else u({title:"Error",description:b.error||"Failed to create court case",variant:"destructive"})}).catch(b=>{console.error("Error creating court case:",b),u({title:"Error",description:"An unexpected error occurred while creating the court case",variant:"destructive"})})}catch(w){console.error("Error in handleCreateNewCase:",w),u({title:"Error",description:"An unexpected error occurred.",variant:"destructive"})}};return r.jsx(gr,{open:e,onOpenChange:t,children:r.jsxs(xr,{className:"max-w-3xl max-h-[90vh] overflow-auto","aria-describedby":"",children:[r.jsxs(vr,{children:[r.jsx(yr,{children:(i==null?void 0:i.text_create_court_case)||"Create New Court Case"}),r.jsx(nl,{children:(i==null?void 0:i.text_create_court_case_description)||"Enter the details for the new court case. Required fields are marked with an asterisk (*)."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 py-4",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"case-title",children:(i==null?void 0:i.text_case_title)||"Case Title *"}),r.jsx(ht,{id:"case-title",placeholder:(i==null?void 0:i.text_case_title_placeholder)||"e.g., State vs. Smith",value:f.title,onChange:w=>v({...f,title:w.target.value})})]}),r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"defendant",children:(i==null?void 0:i.text_defendant_name)||"Defendant Name *"}),r.jsx(ht,{id:"defendant",placeholder:(i==null?void 0:i.text_defendant_placeholder)||"Full name of defendant",value:f.defendant,onChange:w=>v({...f,defendant:w.target.value})})]}),r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"judge",children:(i==null?void 0:i.text_presiding_judge)||"Presiding Judge"}),r.jsx(ht,{id:"judge",placeholder:(i==null?void 0:i.text_judge_name_placeholder)||"Full name of Judge",value:f.judge,onChange:w=>v({...f,judge:w.target.value})})]}),r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"defense",children:(i==null?void 0:i.text_defense_attorney)||"Defense Attorney"}),r.jsx(ht,{id:"defense",placeholder:(i==null?void 0:i.text_name_of_defense_attorney_placeholder)||"Name of defense attorney",value:f.defense,onChange:w=>v({...f,defense:w.target.value})})]}),r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"prosecution",children:(i==null?void 0:i.text_prosecution)||"Prosecution"}),r.jsx(ht,{id:"prosecution",placeholder:(i==null?void 0:i.text_name_of_prosecutor)||"Name of prosecutor",value:f.prosecution,onChange:w=>v({...f,prosecution:w.target.value})})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"courtroom",children:"Courtroom"}),r.jsxs(On,{value:f.courtroom,onValueChange:w=>v({...f,courtroom:w}),children:[r.jsx(Dn,{id:"courtroom",children:r.jsx(Mn,{placeholder:(i==null?void 0:i.text_select_courtroom)||"Select a courtroom"})}),r.jsx(Fn,{children:s&&Array.isArray(s)&&s.map(w=>r.jsx(Yt,{value:w,children:w},w))})]})]}),r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"date",children:(i==null?void 0:i.text_hearing_date)||"Hearing Date *"}),r.jsx(ht,{id:"date",type:"date",value:f.date,onChange:w=>v({...f,date:w.target.value})})]}),r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"time",children:(i==null?void 0:i.text_hearing_time)||"Hearing Time"}),r.jsx(ht,{id:"time",type:"time",value:f.time,onChange:w=>v({...f,time:w.target.value})})]}),r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"related-reports",children:(i==null?void 0:i.text_related_reports)||"Related Reports (comma separated)"}),r.jsx(ht,{id:"related-reports",placeholder:(i==null?void 0:i.text_related_reports_placeholder)||"e.g., 2023-0042, 2023-0043",value:o,onChange:w=>{const y=w.target.value;l(y);const b=y.split(",").map(x=>x.trim()).filter(Boolean);v(x=>({...x,relatedReports:b}))}})]})]})]}),r.jsx(un,{children:r.jsx(Ae,{onClick:g,children:(i==null?void 0:i.text_create_case)||"Create Case"})})]})})}var jB="Radio",[Nje,iK]=ji(jB),[Cje,_je]=Nje(jB),aK=m.forwardRef((e,t)=>{const{__scopeRadio:n,name:s,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:c,form:d,...u}=e,[f,v]=m.useState(null),g=an(t,b=>v(b)),w=m.useRef(!1),y=f?d||!!f.closest("form"):!0;return r.jsxs(Cje,{scope:n,checked:a,disabled:o,children:[r.jsx(jr.button,{type:"button",role:"radio","aria-checked":a,"data-state":dK(a),"data-disabled":o?"":void 0,disabled:o,value:l,...u,ref:g,onClick:Kt(e.onClick,b=>{a||c==null||c(),y&&(w.current=b.isPropagationStopped(),w.current||b.stopPropagation())})}),y&&r.jsx(cK,{control:f,bubbles:!w.current,name:s,value:l,checked:a,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});aK.displayName=jB;var oK="RadioIndicator",lK=m.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:s,...a}=e,i=_je(oK,n);return r.jsx(Na,{present:s||i.checked,children:r.jsx(jr.span,{"data-state":dK(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});lK.displayName=oK;var Sje="RadioBubbleInput",cK=m.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:s=!0,...a},i)=>{const o=m.useRef(null),l=an(o,i),c=Dx(n),d=Ix(t);return m.useEffect(()=>{const u=o.current;if(!u)return;const f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&g){const w=new Event("click",{bubbles:s});g.call(u,n),u.dispatchEvent(w)}},[c,n,s]),r.jsx(jr.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:l,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});cK.displayName=Sje;function dK(e){return e?"checked":"unchecked"}var Bje=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Cw="RadioGroup",[Eje,E5e]=ji(Cw,[sp,iK]),uK=sp(),AK=iK(),[Ije,Tje]=Eje(Cw),hK=m.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:s,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:d,loop:u=!0,onValueChange:f,...v}=e,g=uK(n),w=bh(d),[y,b]=To({prop:i,defaultProp:a??"",onChange:f,caller:Cw});return r.jsx(Ije,{scope:n,name:s,required:o,disabled:l,value:y,onValueChange:b,children:r.jsx(_4,{asChild:!0,...g,orientation:c,dir:w,loop:u,children:r.jsx(jr.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:w,...v,ref:t})})})});hK.displayName=Cw;var fK="RadioGroupItem",mK=m.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:s,...a}=e,i=Tje(fK,n),o=i.disabled||s,l=uK(n),c=AK(n),d=m.useRef(null),u=an(t,d),f=i.value===a.value,v=m.useRef(!1);return m.useEffect(()=>{const g=y=>{Bje.includes(y.key)&&(v.current=!0)},w=()=>v.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",w),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",w)}},[]),r.jsx(S4,{asChild:!0,...l,focusable:!o,active:f,children:r.jsx(aK,{disabled:o,required:i.required,checked:f,...c,...a,name:i.name,ref:u,onCheck:()=>i.onValueChange(a.value),onKeyDown:Kt(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:Kt(a.onFocus,()=>{var g;v.current&&((g=d.current)==null||g.click())})})})});mK.displayName=fK;var kje="RadioGroupIndicator",pK=m.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...s}=e,a=AK(n);return r.jsx(lK,{...a,...s,ref:t})});pK.displayName=kje;var gK=hK,xK=mK,Pje=pK;const vK=m.forwardRef(({className:e,...t},n)=>r.jsx(gK,{className:Tt("grid gap-2",e),...t,ref:n}));vK.displayName=gK.displayName;const _g=m.forwardRef(({className:e,...t},n)=>r.jsx(xK,{ref:n,className:Tt("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:r.jsx(Pje,{className:"flex items-center justify-center",children:r.jsx(yx,{className:"h-2.5 w-2.5 fill-current text-current"})})}));_g.displayName=xK.displayName;function Dje({open:e,onOpenChange:t,courtCase:n,onStatusUpdated:s}){const{user:a}=Yn(),{locale:i}=ir(),[o,l]=m.useState({newStatus:"scheduled",postponedReason:"",newDate:"",newTime:"",verdict:"",sentence:""}),c=()=>{if(!n)return;let d={...n,status:o.newStatus};try{if(o.newStatus==="postponed"){if(!o.postponedReason||!o.newDate)return;const u=`${o.newDate}T${o.newTime||"09:00:00"}`;d={...d,postponedReason:o.postponedReason,newDate:u,notes:[...d.notes,{timestamp:new Date().toISOString(),author:a?a==null?void 0:a.name:"Officer",content:`Case postponed. Reason: ${o.postponedReason}. New date set for ${new Date(u).toLocaleDateString()}.`}]}}else if(o.newStatus==="completed"){if(!o.verdict)return;d={...d,verdict:o.verdict,sentence:o.sentence,notes:[...d.notes,{timestamp:new Date().toISOString(),author:a?a==null?void 0:a.name:"Officer",content:`Case completed. Verdict: ${o.verdict}. Sentence: ${o.sentence||"None"}.`}]}}else o.newStatus==="cancelled"&&(d={...d,notes:[...d.notes,{timestamp:new Date().toISOString(),author:a?a==null?void 0:a.name:"Officer",content:"Case cancelled."}]});ke("updateCourtCaseStatus",{caseId:n.id,caseData:d}).then(u=>{u&&u.success&&(s(d),t(!1))}).catch(u=>{console.log((response==null?void 0:response.error)||""),console.error("Error updating court case status:",u)})}catch(u){console.error("An error occurred while updating case status:",u)}};return r.jsx(gr,{open:e,onOpenChange:t,children:r.jsxs(xr,{"aria-describedby":"",children:[r.jsxs(vr,{children:[r.jsx(yr,{children:(i==null?void 0:i.text_update_case_status)||"Update Case Status"}),r.jsx(nl,{children:(i==null?void 0:i.text_update_case_status_description)||"Change the status of this case and provide any required details."})]}),r.jsxs("div",{className:"py-4 space-y-4",children:[r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"new-status",children:(i==null?void 0:i.text_new_status)||"New Status"}),r.jsxs(vK,{id:"new-status",value:o.newStatus,onValueChange:d=>l({...o,newStatus:d}),className:"flex flex-col space-y-1 mt-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(_g,{value:"scheduled",id:"status-scheduled"}),r.jsxs(Me,{htmlFor:"status-scheduled",className:"flex items-center",children:[r.jsx(ze,{className:"bg-blue-500 mr-2",children:(i==null?void 0:i.text_scheduled)||"Scheduled"}),(i==null?void 0:i.text_keep_as)||"Keep as"," ",(i==null?void 0:i.text_scheduled)||"scheduled"]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(_g,{value:"completed",id:"status-completed"}),r.jsxs(Me,{htmlFor:"status-completed",className:"flex items-center",children:[r.jsx(ze,{className:"bg-green-500 mr-2",children:(i==null?void 0:i.text_completed)||"Completed"}),(i==null?void 0:i.text_mark_as)||"Mark as"," ",(i==null?void 0:i.text_completed)||"Completed"]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(_g,{value:"postponed",id:"status-postponed"}),r.jsxs(Me,{htmlFor:"status-postponed",className:"flex items-center",children:[r.jsx(ze,{className:"bg-amber-500 mr-2",children:(i==null?void 0:i.text_postponed)||"Postponed"}),(i==null?void 0:i.text_postpone_description)||"Postpone to later date"]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(_g,{value:"cancelled",id:"status-cancelled"}),r.jsxs(Me,{htmlFor:"status-cancelled",className:"flex items-center",children:[r.jsx(ze,{className:"bg-red-500 mr-2",children:(i==null?void 0:i.text_cancelled)||"Cancelled"}),(i==null?void 0:i.text_cancel_description)||"Cancel this case"]})]})]})]}),o.newStatus==="postponed"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"postponed-reason",children:(i==null?void 0:i.text_reason_for_postpone)||"Reason for Postponement"}),r.jsx(ss,{id:"postponed-reason",placeholder:(i==null?void 0:i.text_enter_reason_for_postpone)||"Enter reason for postponement",value:o.postponedReason,onChange:d=>l({...o,postponedReason:d.target.value})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"new-date",children:(i==null?void 0:i.text_new_date)||"New Date"}),r.jsx(ht,{id:"new-date",type:"date",value:o.newDate,onChange:d=>l({...o,newDate:d.target.value})})]}),r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"new-time",children:(i==null?void 0:i.text_new_time)||"New Time"}),r.jsx(ht,{id:"new-time",type:"time",value:o.newTime,onChange:d=>l({...o,newTime:d.target.value})})]})]})]}),o.newStatus==="completed"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"verdict",children:(i==null?void 0:i.text_verdict)||"Verdict"}),r.jsx(ht,{id:"verdict",placeholder:"e.g., Guilty on all charges",value:o.verdict,onChange:d=>l({...o,verdict:d.target.value})})]}),r.jsxs("div",{children:[r.jsxs(Me,{htmlFor:"sentence",children:[(i==null?void 0:i.text_sentence)||"Sentence"," (if applicable)"]}),r.jsx(ss,{id:"sentence",placeholder:"e.g., 5 years imprisonment, $10,000 fine",value:o.sentence,onChange:d=>l({...o,sentence:d.target.value})})]})]})]}),r.jsxs(un,{children:[r.jsx(Ae,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),r.jsx(Ae,{onClick:c,children:"Update Status"})]})]})})}function Fje({courtCase:e}){var n,s,a;const{locale:t}=ir();return r.jsxs("div",{className:"relative pl-6 border-l-2 border-gray-200 space-y-6",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute -left-[25px] w-4 h-4 rounded-full bg-blue-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:(t==null?void 0:t.text_case_filed)||"Case Filed"}),r.jsx("p",{className:"text-sm text-gray-500",children:af((n=e.notes[0])==null?void 0:n.timestamp)}),r.jsx("div",{className:"mt-1 prose prose-sm",dangerouslySetInnerHTML:{__html:(s=e.notes[0])==null?void 0:s.content}})]})]}),e&&(e==null?void 0:e.notes)&&Array.isArray(e==null?void 0:e.notes)&&e.notes.slice(1).map((i,o)=>r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute -left-[25px] w-4 h-4 rounded-full bg-blue-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:(t==null?void 0:t.text_court_actvity)||"Court Activity"}),r.jsx("p",{className:"text-sm text-gray-500",children:af(i.timestamp)}),r.jsx("div",{className:"mt-1 prose prose-sm",dangerouslySetInnerHTML:{__html:i.content}})]})]},o)),e.status==="completed"&&r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute -left-[25px] w-4 h-4 rounded-full bg-green-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:(t==null?void 0:t.text_case_closed_description)||"Case Closed - Verdict Delivered"}),r.jsx("p",{className:"text-sm text-gray-500",children:af((a=e.notes[e.notes.length-1])==null?void 0:a.timestamp)}),r.jsx("p",{className:"mt-1 font-medium",children:e.verdict}),r.jsxs("p",{className:"mt-1",children:["Sentence: ",e.sentence]})]})]}),e.status==="scheduled"&&r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute -left-[25px] w-4 h-4 rounded-full bg-amber-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:(t==null?void 0:t.text_upcoming_hearing)||"Upcoming Hearing"}),r.jsxs("p",{className:"text-sm text-gray-500",children:[af(e.date)," at ",WA(e.date)]}),r.jsxs("p",{className:"mt-1",children:[(t==null?void 0:t.text_courtroom)||"Courtroom",": ",e.courtroom]})]})]})]})}const Lje={reportId:"1278474937437",reportName:"Bank Robbery | 123 Main St | 2021-01-01 12:00:00 | 1234567890",location:"123 Main St",description:"This is a test reporsdffst",dateTime:"2021-01-01 12:00:00",evidences:[{id:"1",type:"image",description:"This is a test evidence",url:"https://kappa.lol/8ut4U"},{id:"2",type:"video",description:"This is a test evidence",url:"https://kappa.lol/8ut4U"},{id:"3",type:"audio",description:"This is a test evidence",url:"https://kappa.lol/8ut4U"}],peopleInvolved:[{name:"John Doe",citizenId:"1234567890",category:"Officer",charges:[]},{name:"Jane Doe",citizenId:"1234567890",category:"Criminal",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Criminal",charges:[{title:"Assault",count:2,sentence:100,fine:1e3,jailReduction:0},{title:"Assault",count:2,sentence:100,fine:1e3,jailReduction:0},{title:"Assault",count:2,sentence:100,fine:1e3,jailReduction:0},{title:"Assault",count:2,sentence:100,fine:1e3,jailReduction:0},{title:"Assault",count:2,sentence:100,fine:1e3,jailReduction:0},{title:"Assault",count:2,sentence:100,fine:1e3,jailReduction:0},{title:"Assault",count:2,sentence:100,fine:1e3,jailReduction:0}]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]},{name:"John Doe",citizenId:"1234567890",category:"Civilian",charges:[]}],vehiclesInvolved:[{model:"Ford F150",plate:"ABC123",category:"Civilian",charges:[]}]};function Rje({courtCase:e}){const[t,n]=m.useState(null),[s,a]=m.useState(!1),{locale:i}=ir(),o=l=>{try{return ke("fetchReportDataByReportId",{reportId:l},Lje).then(c=>{if(c&&c.success){c=c.data;const d={reportName:c==null?void 0:c.reportName,reportId:l,dateTime:c==null?void 0:c.dateTime,officerId:c.officerId||"",location:c.location||null,description:c.description||"",evidences:Array.isArray(c.evidences)?c.evidences:JSON.parse(c.evidences||"[]"),peopleInvolved:Array.isArray(c.peopleInvolved)?c.peopleInvolved:JSON.parse(c.peopleInvolved||"[]"),vehiclesInvolved:Array.isArray(c.vehiclesInvolved)?c.vehiclesInvolved:JSON.parse(c.vehiclesInvolved||"[]"),category:(c==null?void 0:c.category)||"default category"};n(d),a(!0)}else console.error(Response.message||"No response received."),n(null)}).catch(c=>{console.error("Error fetching report data:",c),n(null)})}catch(c){console.error("Error in handleViewReport:",c)}};return r.jsxs("div",{className:"grid grid-cols-3 gap-4 p-3",children:[e&&(e!=null&&e.relatedReports)&&e.relatedReports.length>0&&Array.isArray(e==null?void 0:e.relatedReports)?e.relatedReports.map((l,c)=>r.jsxs(Le,{className:"bg-card/50",children:[r.jsx(mt,{className:"py-3",children:r.jsxs(kt,{className:"text-lg",children:[i==null?void 0:i.text_report," - ",l]})}),r.jsx(Je,{className:"py-2",children:r.jsx("p",{className:"text-gray-500",children:(i==null?void 0:i.text_report_description)||"Click to view full report details"})}),r.jsx(ju,{children:r.jsx(Ae,{variant:"outline",onClick:()=>o(l),children:(i==null?void 0:i.text_view_report)||"View Report"})})]},c)):r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-gray-500",children:(i==null?void 0:i.text_no_reports_found)||"No related reports found for this case."})}),r.jsx(gr,{open:s,onOpenChange:a,children:r.jsxs(xr,{className:"max-w-[60vw] w-full","aria-describedby":"",children:[r.jsx(vr,{children:r.jsx(yr,{children:(i==null?void 0:i.text_report_details_title)||"Report Details"})}),t&&r.jsx("div",{className:"space-y-4",children:r.jsx("div",{className:"grid gap-4 py-4",children:r.jsx(iA,{className:"h-[calc(80vh-100px)]",children:r.jsxs("div",{className:"grid grid-cols-2 items-center gap-4",children:[r.jsxs("div",{className:"space-y-2 col-span-2",children:[r.jsx(Me,{htmlFor:"reportname",children:(i==null?void 0:i.text_report_name)||"Report Name"}),r.jsx(ht,{id:"reportname",name:"reportname",value:t==null?void 0:t.reportName,disabled:!0,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"reportid",children:(i==null?void 0:i.text_report_id)||"Report ID"}),r.jsx(ht,{id:"reportid",name:"reportid",value:t==null?void 0:t.reportId,disabled:!0,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Me,{htmlFor:"date",children:(i==null?void 0:i.text_date)||"Date"}),r.jsx(ht,{id:"date",name:"date",value:$n(t==null?void 0:t.dateTime),disabled:!0,required:!0})]}),r.jsxs("div",{className:"space-y-2 col-span-2",children:[r.jsx(Me,{htmlFor:"location",children:(i==null?void 0:i.text_location)||"Location"}),r.jsx(ht,{id:"location",name:"location",value:t==null?void 0:t.location,disabled:!0,required:!0})]}),r.jsxs("div",{className:"space-y-2 col-span-2",children:[r.jsx(Me,{htmlFor:"description",children:(i==null?void 0:i.text_description)||"Description"}),r.jsx("div",{className:"col-span-3 min-h-[200px] max-w-full w-full rounded border p-2 overflow-hidden break-words",children:r.jsx("div",{className:"prose prose-invert max-w-none text-sm",dangerouslySetInnerHTML:{__html:(t==null?void 0:t.description)||""}})})]})]})})})})]})})]})}function Oje(){return r.jsxs("div",{className:"flex-1 space-y-4 w-full h-full",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(Se,{className:"w-1 h-10"}),r.jsx(Se,{className:"h-8 w-32"})]}),r.jsx("div",{className:"grid grid-cols-6 gap-4 grid-rows-1 h-full",children:r.jsxs(Le,{className:"col-span-6 row-span-1 bg-card/50  border-primary/20 max-h-[calc(95vh-200px)] overflow-hidden",children:[r.jsxs(mt,{className:"flex flex-row items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Se,{className:"h-5 w-5"}),r.jsx(Se,{className:"h-6 w-32"})]}),r.jsx(Se,{className:"h-9 w-28"})]}),r.jsx(Je,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Se,{className:"h-5 w-5"}),r.jsx(Se,{className:"h-10 w-full"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(e=>r.jsx(Le,{className:"p-4 bg-background/50 hover:bg-primary/10 transition-colors",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Se,{className:"h-5 w-32"}),r.jsx(Se,{className:"h-4 w-16"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Se,{className:"h-4 w-full"}),r.jsx(Se,{className:"h-4 w-3/4"})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx(Se,{className:"h-6 w-20"}),r.jsx(Se,{className:"h-6 w-20"})]})]})},e))}),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsx(Se,{className:"h-4 w-48"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Se,{className:"h-8 w-20"}),r.jsx(Se,{className:"h-8 w-20"})]})]})]})})]})})]})}const QP=e=>{switch(e){case"scheduled":return"bg-blue-500 border-blue-600";case"completed":return"bg-green-500 border-green-600";case"postponed":return"bg-amber-500 border-amber-600";case"cancelled":return"bg-red-500 border-red-600";default:return"bg-gray-500 border-gray-600"}},T0=e=>{switch(e){case"scheduled":return"bg-blue-500/10 text-blue-500";case"completed":return"bg-green-500/10 text-green-500";case"postponed":return"bg-amber-500/10 text-amber-500";case"cancelled":return"bg-red-500/10 text-red-500";default:return"bg-gray-500/10 text-gray-500"}},k0=(e,t)=>{switch(e){case"scheduled":return(t==null?void 0:t.text_scheduled)||"Scheduled";case"completed":return(t==null?void 0:t.text_completed)||"Completed";case"postponed":return(t==null?void 0:t.text_postponed)||"Postponed";case"cancelled":return(t==null?void 0:t.text_cancelled)||"Cancelled";default:return(t==null?void 0:t.text_unknown)||"Unknown"}},Mje=()=>r.jsxs("div",{className:"min-h-[120px] border rounded-md p-2 bg-card",children:[r.jsx("div",{className:"text-right mb-1",children:r.jsx(Se,{className:"h-4 w-6 ml-auto"})}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(Se,{className:"h-8 w-full"}),r.jsx(Se,{className:"h-6 w-3/4"})]})]}),Uje=()=>r.jsxs("div",{className:"flex flex-col",children:[r.jsxs("div",{className:"text-center font-medium py-2 rounded-t-md bg-muted/50",children:[r.jsx(Se,{className:"h-4 w-8 mx-auto mb-1"}),r.jsx(Se,{className:"h-8 w-8 mx-auto"})]}),r.jsx("div",{className:"border rounded-b-md flex-1 p-2 min-h-[300px] bg-card",children:r.jsxs("div",{className:"space-y-2",children:[r.jsx(Se,{className:"h-16 w-full"}),r.jsx(Se,{className:"h-12 w-full"}),r.jsx(Se,{className:"h-14 w-full"})]})})]});function Qje({open:e,onOpenChange:t,courtCases:n,onSelectCase:s,fetchCourtCasesForDateRange:a}){const{locale:i}=ir(),[o,l]=m.useState(new Date),[c,d]=m.useState(null),[u,f]=m.useState("month"),[v,g]=m.useState(!1),[w,y]=m.useState([]),[b,x]=m.useState(!1),[N,S]=m.useState(!1),[k,F]=m.useState(null),$=o.getMonth(),U=o.getFullYear(),H=new Date(U,$,1).getDay(),K=new Date(U,$+1,0).getDate(),B=H,R=m.useMemo(()=>{const we=[],Re=new Date(U,$,0).getDate();for(let Bt=Re-B+1;Bt<=Re;Bt++)we.push({day:Bt,month:$-1,year:U,isCurrentMonth:!1});for(let Bt=1;Bt<=K;Bt++)we.push({day:Bt,month:$,year:U,isCurrentMonth:!0});const Mt=42-we.length;for(let Bt=1;Bt<=Mt;Bt++)we.push({day:Bt,month:$+1,year:U,isCurrentMonth:!1});return we},[$,U,B,K]),Z=m.useCallback(async()=>{if(e){x(!0),F(null);try{let we,Ve;u==="month"?(we=new Date(U,$,1),Ve=new Date(U,$+1,0)):(we=new Date(o),we.setDate(o.getDate()-o.getDay()),Ve=new Date(we),Ve.setDate(we.getDate()+6)),we.setDate(we.getDate()-7),Ve.setDate(Ve.getDate()+7);const Re=await a(we,Ve),je=Array.isArray(Re)||typeof Re=="object"?Re:JSON.parse(Re||"[]");y(je),S(!0)}catch(we){console.error("Error fetching cases for calendar:",we),F("Failed to load court cases"),y([]),S(!0)}finally{x(!1)}}},[o,u,e,$,U,a]);m.useEffect(()=>{e&&!N&&Z()},[e,N,Z]),m.useEffect(()=>{e&&N&&Z()},[o,u,e,N,Z]);const te=m.useMemo(()=>w.filter(we=>{const Ve=new Date(we.date);return Ve.getMonth()===$&&Ve.getFullYear()===U}),[w,$,U]),ye=m.useMemo(()=>{const we={};return te.forEach(Ve=>{const je=new Date(Ve.date).getDate();we[je]||(we[je]=[]),we[je].push(Ve)}),Object.keys(we).forEach(Ve=>{we[Number(Ve)].sort((Re,je)=>new Date(Re.date).getTime()-new Date(je.date).getTime())}),we},[te]),de=m.useMemo(()=>{const we=new Date(o);we.setDate(o.getDate()-o.getDay());const Ve=new Date(we);return Ve.setDate(we.getDate()+6),w.filter(Re=>{const je=new Date(Re.date);return je>=we&&je<=Ve})},[w,o]),le=m.useMemo(()=>{const we={};for(let Ve=0;Ve<7;Ve++)we[Ve]=[];return de.forEach(Ve=>{const je=new Date(Ve.date).getDay();we[je].push(Ve)}),Object.keys(we).forEach(Ve=>{we[Number(Ve)].sort((Re,je)=>new Date(Re.date).getTime()-new Date(je.date).getTime())}),we},[de]),Q=m.useCallback(()=>{if(u==="month")l(new Date(U,$-1,1));else{const we=new Date(o);we.setDate(o.getDate()-7),l(we)}},[u,U,$,o]),oe=m.useCallback(()=>{if(u==="month")l(new Date(U,$+1,1));else{const we=new Date(o);we.setDate(o.getDate()+7),l(we)}},[u,U,$,o]),ce=m.useCallback(()=>{l(new Date)},[]),ee=o.toLocaleDateString("en-US",{month:"long",year:"numeric"}),M=m.useMemo(()=>{const we=new Date(o);we.setDate(o.getDate()-o.getDay());const Ve=new Date(we);Ve.setDate(we.getDate()+6);const Re=we.toLocaleDateString("en-US",{month:"short"}),je=Ve.toLocaleDateString("en-US",{month:"short"});return Re===je?`${Re} ${we.getDate()} - ${Ve.getDate()}, ${we.getFullYear()}`:`${Re} ${we.getDate()} - ${je} ${Ve.getDate()}, ${we.getFullYear()}`},[o]),E=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],q=m.useCallback(we=>{s(we),t(!1)},[s,t]),se=m.useCallback((we,Ve)=>{Ve.stopPropagation(),d(we),g(!0)},[]),re=m.useCallback(()=>{g(!1),d(null)},[]);m.useEffect(()=>{const we=Ve=>{if(e)switch(Ve.key){case"ArrowLeft":Q();break;case"ArrowRight":oe();break;case"Home":ce();break;case"Escape":v?re():t(!1);break}};return window.addEventListener("keydown",we),()=>window.removeEventListener("keydown",we)},[e,v,t,Q,oe,ce,re]);const G=()=>c?r.jsxs(Xt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},className:"p-6 h-full flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs(Ae,{variant:"ghost",size:"sm",onClick:re,className:"flex items-center gap-1",children:[r.jsx(Oi,{className:"h-4 w-4"}),(i==null?void 0:i.text_back)||"Back"]}),r.jsx(ze,{className:QP(c.status),children:k0(c.status,i)})]}),r.jsxs("div",{className:"flex-1 overflow-auto",children:[r.jsx("h3",{className:"text-xl font-bold mb-1",children:c.title}),r.jsxs("p",{className:"text-muted-foreground mb-4",children:["#",c.id]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Ua,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:(i==null?void 0:i.text_date_and_time)||"Date & Time"}),r.jsxs("p",{className:"text-muted-foreground",children:[af(c.date)," at ",WA(c.date)]})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(qs,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:(i==null?void 0:i.text_courtroom)||"Courtroom"}),r.jsx("p",{className:"text-muted-foreground",children:c.courtroom})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(ri,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:(i==null?void 0:i.text_defendant)||"Defendant"}),r.jsx("p",{className:"text-muted-foreground",children:c.defendant})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:(i==null?void 0:i.text_judge)||"Judge"}),r.jsx("p",{className:"text-muted-foreground",children:c.judge})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:(i==null?void 0:i.text_prosecution)||"Prosecution"}),r.jsx("p",{className:"text-muted-foreground",children:c.prosecution})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:(i==null?void 0:i.text_defense)||"Defense"}),r.jsx("p",{className:"text-muted-foreground",children:c.defense})]})]})]})]}),r.jsx("div",{className:"mt-6 flex justify-end",children:r.jsx(Ae,{onClick:()=>q(c),children:(i==null?void 0:i.text_view_full_details)||"View Full Details"})})]}):null,ue=()=>r.jsx("div",{className:"flex items-center justify-center h-full min-h-[400px]",children:r.jsxs("div",{className:"flex flex-col items-center gap-4 text-center",children:[r.jsx("div",{className:"text-red-500",children:r.jsx(mc,{className:"h-12 w-12"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Error Loading Calendar"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:k}),r.jsx(Ae,{onClick:Z,variant:"outline",children:"Try Again"})]})]})}),ie=()=>r.jsxs("div",{className:"p-4 h-full flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Se,{className:"h-10 w-10"}),r.jsx(Se,{className:"h-6 w-32"}),r.jsx(Se,{className:"h-10 w-10"})]}),r.jsx(Se,{className:"h-10 w-20"})]}),r.jsx("div",{className:"flex-1 overflow-auto",children:r.jsxs("div",{className:"grid grid-cols-7 gap-1 min-w-[700px]",children:[E.map((we,Ve)=>r.jsx("div",{className:"text-center font-medium py-2 text-sm",children:we},Ve)),Array.from({length:42}).map((we,Ve)=>r.jsx(Mje,{},Ve))]})})]}),Ee=()=>r.jsxs("div",{className:"p-4 h-full flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Se,{className:"h-10 w-10"}),r.jsx(Se,{className:"h-6 w-48"}),r.jsx(Se,{className:"h-10 w-10"})]}),r.jsx(Se,{className:"h-10 w-20"})]}),r.jsx("div",{className:"flex-1 overflow-auto",children:r.jsx("div",{className:"grid grid-cols-7 gap-2 min-w-[900px]",children:Array.from({length:7}).map((we,Ve)=>r.jsx(Uje,{},Ve))})})]}),He=()=>k?ue():!N||b?ie():r.jsxs(Xt.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"p-4 h-full flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ae,{variant:"outline",size:"icon",onClick:Q,disabled:b,children:r.jsx(Oi,{className:"h-4 w-4"})}),r.jsx("h2",{className:"text-xl font-semibold",children:ee}),r.jsx(Ae,{variant:"outline",size:"icon",onClick:oe,disabled:b,children:r.jsx(Vg,{className:"h-4 w-4"})})]}),r.jsx(Ae,{variant:"outline",onClick:ce,disabled:b,children:(i==null?void 0:i.text_today)||"Today"})]}),r.jsx("div",{className:"flex-1 overflow-auto",children:r.jsx(ix,{children:r.jsxs("div",{className:"grid grid-cols-7 gap-1 min-w-[700px]",children:[E.map((we,Ve)=>r.jsx("div",{className:"text-center font-medium py-2 text-sm",children:we},Ve)),R.map((we,Ve)=>{const Re=we.day,je=we.isCurrentMonth?ye[Re]||[]:[],Mt=we.isCurrentMonth&&we.day===new Date().getDate()&&$===new Date().getMonth()&&U===new Date().getFullYear(),Bt=3,ct=je.length>Bt;return r.jsxs("div",{className:Tt("min-h-[120px] border rounded-md p-2 transition-colors flex flex-col",we.isCurrentMonth?"bg-card":"bg-muted/30 text-muted-foreground",Mt?"ring-2 ring-primary":""),children:[r.jsx("div",{className:"text-right mb-1",children:r.jsx("span",{className:Tt("text-sm px-1.5 py-0.5 rounded-full",Mt&&"bg-primary text-primary-foreground font-medium"),children:we.day})}),r.jsx("div",{className:"flex-1 overflow-hidden",children:r.jsx(Gn,{mode:"wait",children:je.length>0&&r.jsxs(Xt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-1",children:[je.slice(0,Bt).map((vt,wt)=>r.jsxs(ax,{children:[r.jsx(ox,{asChild:!0,children:r.jsx(Xt.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.2,delay:wt*.05},className:Tt("text-xs p-1.5 rounded cursor-pointer border-l-2 flex items-center gap-1 hover:shadow-sm transition-all",T0(vt.status)),onClick:Fe=>se(vt,Fe),children:r.jsxs("div",{className:"flex flex-col w-full",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"font-medium whitespace-nowrap",children:WA(vt.date)}),r.jsx(ze,{variant:"outline",className:"text-[9px] py-0 h-3.5 px-1 ml-1 whitespace-nowrap",children:vt.courtroom})]}),r.jsx("span",{className:"line-clamp-1 mt-0.5",children:vt.title})]})})}),r.jsx(Vm,{side:Ve%7>3?"left":"right",align:"center",className:"max-w-xs",sideOffset:8,alignOffset:0,children:r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"font-medium",children:vt.title}),r.jsxs("div",{className:"text-xs text-muted-foreground",children:[WA(vt.date),"  ",vt.courtroom]}),r.jsxs("div",{className:"text-xs",children:[r.jsxs("span",{className:"font-medium",children:[(i==null?void 0:i.text_defendant)||"Defendant",":"]})," ",vt.defendant]}),r.jsx("div",{className:"flex items-center gap-1 mt-1",children:r.jsx(ze,{className:QP(vt.status),children:k0(vt.status,i)})})]})})]},wt)),ct&&r.jsxs(qA,{children:[r.jsx(JA,{asChild:!0,children:r.jsxs(Ae,{variant:"ghost",size:"sm",className:"w-full h-6 text-xs justify-start text-muted-foreground hover:text-foreground",children:["+",je.length-Bt," more"]})}),r.jsx(Yu,{align:"start",className:"w-64 max-h-[300px] overflow-auto",children:je.slice(Bt).map((vt,wt)=>r.jsxs(ga,{className:"flex flex-col items-start py-2",onClick:()=>se(vt,{}),children:[r.jsx("div",{className:"font-medium text-sm",children:vt.title}),r.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1 mt-1",children:[r.jsx("span",{children:WA(vt.date)}),r.jsx("span",{children:""}),r.jsx("span",{children:vt.courtroom}),r.jsx(ze,{className:Tt("ml-1 text-[9px] py-0 h-3.5 px-1",T0(vt.status)),children:k0(vt.status,i)})]})]},wt))})]})]})})})]},Ve)})]})})})]}),rt=()=>k?ue():!N||b?Ee():r.jsxs(Xt.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"p-4 h-full flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ae,{variant:"outline",size:"icon",onClick:Q,disabled:b,children:r.jsx(Oi,{className:"h-4 w-4"})}),r.jsx("h2",{className:"text-xl font-semibold",children:M}),r.jsx(Ae,{variant:"outline",size:"icon",onClick:oe,disabled:b,children:r.jsx(Vg,{className:"h-4 w-4"})})]}),r.jsx(Ae,{variant:"outline",onClick:ce,disabled:b,children:(i==null?void 0:i.text_today)||"Today"})]}),r.jsx("div",{className:"flex-1 overflow-auto",children:r.jsx("div",{className:"grid grid-cols-7 gap-2 min-w-[900px]",children:E.map((we,Ve)=>{const Re=new Date(o);Re.setDate(Re.getDate()-Re.getDay()+Ve);const je=Re.getDate()===new Date().getDate()&&Re.getMonth()===new Date().getMonth()&&Re.getFullYear()===new Date().getFullYear();return r.jsxs("div",{className:"flex flex-col",children:[r.jsxs("div",{className:Tt("text-center font-medium py-2 rounded-t-md",je?"bg-primary text-primary-foreground":"bg-muted/50"),children:[r.jsx("div",{className:"text-sm",children:we}),r.jsx("div",{className:Tt("text-2xl font-bold",je?"":"text-foreground"),children:Re.getDate()})]}),r.jsx("div",{className:"border rounded-b-md flex-1 p-2 min-h-[300px] bg-card",children:r.jsx(nr,{className:"h-[300px]",children:r.jsxs("div",{className:"space-y-2 pr-2",children:[r.jsx(Gn,{mode:"wait",children:le[Ve].map((Mt,Bt)=>r.jsxs(Xt.div,{initial:{opacity:0,x:-5},animate:{opacity:1,x:0},transition:{duration:.2,delay:Bt*.05},className:"relative group",children:[r.jsxs("div",{className:Tt("p-2 rounded-md border-l-2 cursor-pointer hover:shadow-md transition-all",T0(Mt.status)),onClick:ct=>se(Mt,ct),children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"font-bold text-sm",children:WA(Mt.date)}),r.jsx(ze,{variant:"outline",className:Tt("text-[10px] py-0 px-1.5 h-4"),children:Mt.courtroom})]}),r.jsx("div",{className:"text-sm font-medium break-words",children:Mt.title}),r.jsxs("div",{className:"text-xs text-muted-foreground mt-1 flex items-center justify-between",children:[r.jsx("span",{children:Mt.defendant}),r.jsx(ze,{variant:"outline",className:Tt("text-[9px] py-0 px-1.5 h-3.5",T0(Mt.status)),children:k0(Mt.status,i)})]})]}),r.jsx("div",{className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsxs(qA,{children:[r.jsx(JA,{asChild:!0,children:r.jsx(Ae,{variant:"ghost",size:"icon",className:"h-6 w-6",children:r.jsx(CJ,{className:"h-3 w-3"})})}),r.jsx(Yu,{align:"end",children:r.jsx(ga,{onClick:()=>q(Mt),children:(i==null?void 0:i.text_view_details)||"View Details"})})]})})]},Bt))}),le[Ve].length===0&&r.jsx("div",{className:"h-full flex items-center justify-center text-muted-foreground text-sm py-4",children:(i==null?void 0:i.text_no_cases)||"No cases scheduled"})]})})})]},Ve)})})})]});return e?r.jsx(xr,{className:"max-w-5xl max-h-[90vh] p-4 overflow-hidden","aria-describedby":"",children:r.jsxs("div",{className:"flex flex-col h-full",children:[r.jsxs(vr,{className:"px-6 pb-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(yr,{className:"text-2xl font-bold",children:(i==null?void 0:i.text_court_calendar)||"Court Calendar"}),r.jsx(ea,{value:u,onValueChange:f,className:"w-auto",children:r.jsxs(ta,{className:"grid w-[200px] grid-cols-2",children:[r.jsxs(Fr,{value:"month",disabled:b,children:[r.jsx(Ua,{className:"h-4 w-4 mr-2"}),(i==null?void 0:i.text_month)||"Month"]}),r.jsxs(Fr,{value:"week",disabled:b,children:[r.jsx(Mi,{className:"h-4 w-4 mr-2"}),(i==null?void 0:i.text_week)||"Week"]})]})})]}),r.jsx(nl,{className:"mt-2",children:(i==null?void 0:i.text_view_and_manage_court_cases)||"View and manage court cases on the calendar"})]}),r.jsx("div",{className:"flex-1 overflow-hidden",children:r.jsx(Gn,{mode:"wait",children:v&&c?r.jsx(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.2},className:"h-full",children:G()},"event-details"):r.jsxs(ea,{value:u,className:"h-full",children:[r.jsx(Rr,{value:"month",className:"h-full m-0 data-[state=inactive]:hidden",children:He()}),r.jsx(Rr,{value:"week",className:"h-full m-0 data-[state=inactive]:hidden",children:rt()})]})})})]})}):null}const Hg=[{id:"CC-2023-001",title:"State vs. Johnson",date:"2025-05-15T14:30:00",status:"scheduled",defendant:"Michael Johnson",charges:["Armed Robbery","Assault"],judge:"Hon. Sarah Williams",defense:"James Peterson",prosecution:"District Attorney Maria Rodriguez",courtroom:"Courtroom 3A",relatedReports:["RPT-2023-0042","RPT-2023-0043"],notes:[{timestamp:"2023-04-20T10:15:00",author:"Clerk Davis",content:"<h1>ttttrtggdfggf</h1><br><h1>Hi<h1><br>"},{timestamp:"2023-04-25T14:30:00",author:"Judge Williams",content:"Bail hearing scheduled for May 1st."},{timestamp:"2023-05-01T09:45:00",author:"Judge Williams",content:"Defendant remanded. Trial date set."}]},{id:"CC-2023-002",title:"State vs. Martinez",date:"2025-05-18T10:00:00",status:"completed",defendant:"Ana Martinez",charges:["Drug Trafficking","Possession of Illegal Substance"],judge:"Hon. Robert Chen",defense:"Public Defender Thomas Clark",prosecution:"ADA Jennifer Wilson",courtroom:"Courtroom 2B",verdict:"Guilty on all charges",sentence:"5 years imprisonment, $10,000 fine",relatedReports:["RPT-2023-0039"],notes:[{timestamp:"2023-03-15T11:20:00",author:"Clerk Johnson",content:"Case filed with the court."},{timestamp:"2023-04-10T15:30:00",author:"Judge Chen",content:"Plea hearing completed. Defendant pleaded not guilty."},{timestamp:"2023-05-18T16:45:00",author:"Judge Chen",content:"Trial completed. Verdict: Guilty. Sentencing completed."}]},{id:"CC-2023-003",title:"State vs. Williams",date:"2025-05-20T13:15:00",status:"scheduled",defendant:"David Williams",charges:["Grand Theft Auto","Evading Police"],judge:"Hon. Patricia Lee",defense:"Criminal Defense Attorney Mark Johnson",prosecution:"ADA Robert Smith",courtroom:"Courtroom 1A",relatedReports:["RPT-2023-0051"],notes:[{timestamp:"2023-04-30T09:10:00",author:"Clerk Adams",content:"Case filed with the court."},{timestamp:"2023-05-05T13:45:00",author:"Judge Lee",content:"Arraignment completed. Trial date set."}]},{id:"CC-2023-004",title:"State vs. Thompson",date:"2025-05-12T09:30:00",status:"postponed",defendant:"Sarah Thompson",charges:["Assault","Public Intoxication"],judge:"Hon. Michael Brown",defense:"Attorney Lisa Davis",prosecution:"ADA Christopher Wilson",courtroom:"Courtroom 4C",postponedReason:"Defense attorney medical emergency",newDate:"2023-06-02T09:30:00",relatedReports:["RPT-2023-0047"],notes:[{timestamp:"2023-04-25T10:30:00",author:"Clerk Martinez",content:"Case filed with the court."},{timestamp:"2023-05-10T16:20:00",author:"Judge Brown",content:"Received postponement request from defense."},{timestamp:"2023-05-11T11:15:00",author:"Judge Brown",content:"Postponement granted. New date set for June 2nd."}]},{id:"CC-2023-005",title:"State vs. Garcia",date:"2025-05-05T11:00:00",status:"completed",defendant:"Carlos Garcia",charges:["Burglary","Criminal Trespassing"],judge:"Hon. Elizabeth Taylor",defense:"Public Defender Michael Robinson",prosecution:"District Attorney James Wilson",courtroom:"Courtroom 2A",verdict:"Guilty of Criminal Trespassing, Not Guilty of Burglary",sentence:"6 months probation, 100 hours community service",relatedReports:["RPT-2023-0035"],notes:[{timestamp:"2023-03-20T14:15:00",author:"Clerk Thompson",content:"Case filed with the court."},{timestamp:"2023-04-15T10:30:00",author:"Judge Taylor",content:"Plea hearing completed. Defendant pleaded not guilty to all charges."},{timestamp:"2023-05-08T17:00:00",author:"Judge Taylor",content:"Trial completed. Split verdict. Sentencing completed."}]},{id:"CC-2023-006",title:"State vs. Anderson",date:"2023-05-25T14:00:00",status:"scheduled",defendant:"Robert Anderson",charges:["Fraud","Identity Theft","Money Laundering"],judge:"Hon. David Miller",defense:"Attorney Susan White",prosecution:"ADA Richard Johnson",courtroom:"Courtroom 5B",relatedReports:["RPT-2023-0053","RPT-2023-0054","RPT-2023-0055"],notes:[{timestamp:"2023-05-01T09:30:00",author:"Clerk Wilson",content:"Case filed with the court."},{timestamp:"2023-05-10T13:45:00",author:"Judge Miller",content:"Arraignment completed. Trial date set."}]}],Hje=async(e,t)=>{try{const n=await ke("getCourtCasesForDateRange",{startDate:e.toISOString(),endDate:t.toISOString()},{success:!0,cases:Hg,totalCount:Hg.length});if(n&&n.success)return n.cases||[]}catch(n){console.error("Error fetching court cases for date range:",n)}},hj=10;function zje(){var E;const{user:e}=Yn(),{setActiveTab:t}=ko(),[n,s]=m.useState(""),[a,i]=m.useState(null),[o,l]=m.useState([]),[c,d]=m.useState(1),[u,f]=m.useState(n),[v,g]=m.useState(0),[w,y]=m.useState(!0),[b,x]=m.useState([]),[N,S]=m.useState(!1),[k,F]=m.useState(!1),[$,U]=m.useState(!1),D=li(),{data:H}=D.state||{},[K,B]=m.useState(!1),{locale:R}=ir(),Z=(E=e==null?void 0:e.permissions)==null?void 0:E.Pages.courts,te=Z==null?void 0:Z.view,ye=async q=>{try{const se=await ke("deleteCourtCase",{caseId:q.id});se&&se.success&&(l(re=>re.filter(G=>G.id!==q.id)),i(null))}catch(se){console.error("Error deleting court case:",se)}B(!1)},de=async(q,se)=>{try{const re=await ke("getCourtCases",{page:q,query:se},{success:!0,cases:Hg,totalCount:6});re&&re.success?(g((re==null?void 0:re.totalCount)||0),l((re==null?void 0:re.cases)||[])):l(Hg)}catch(re){console.error("Error fetching court cases:",re),l(Hg)}finally{y(!1)}},le=async()=>{try{const q=await ke("getAvailableCourtrooms");q&&q.success?x(q.courtrooms||[]):x(["Courtroom 1A","Courtroom 2A","Courtroom 2B","Courtroom 3A","Courtroom 4C","Courtroom 5B"])}catch(q){console.error("Error fetching courtrooms:",q),x(["Courtroom 1A","Courtroom 2A","Courtroom 2B","Courtroom 3A","Courtroom 4C","Courtroom 5B"])}};m.useEffect(()=>{if(te)if(H)i(Array.isArray(H)||typeof H=="object"?H:JSON.parse(H||"[]"));else{y(!0);const q=setTimeout(()=>{y(!1)},1e3);return()=>clearTimeout(q)}},[H,te]),m.useEffect(()=>{const q=setTimeout(()=>{f(n)},500);return()=>{clearTimeout(q)}},[n]);const Q=q=>{q.key==="Enter"&&f(n)};m.useEffect(()=>{c!==1&&d(1)},[u]),m.useEffect(()=>{te&&de(c,u)},[c,u,te]),m.useEffect(()=>{le()},[]);const oe=async q=>{l(se=>[...se,q])},ce=async q=>{l(se=>se.map(re=>re.id===q.id?q:re)),i(q)},ee=async(q,se)=>{try{const re=await ke("addCourtCaseNote",{caseId:q.id,case:se});re&&re.success&&(l(G=>G.map(ue=>ue.id===q.id?q:ue)),i(q))}catch(re){console.error("Error adding court case note:",re)}},M=Math.ceil(v/hj);return!Z||!te?null:r.jsx("div",{className:"flex-1 space-y-4 w-full h-full",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("hr",{className:"w-1 h-10 bg-primary border-none rounded-full"}),r.jsx("h2",{className:"text-3xl font-bold",children:(R==null?void 0:R.text_court_cases)||"Court Cases"})]}),w?r.jsx(Oje,{}):r.jsx("div",{className:"grid grid-cols-6 gap-4 grid-rows-1 h-full",children:r.jsx(Le,{className:"col-span-6 row-span-1 bg-card/50  border-primary/20 max-h-[calc(95vh-200px)] overflow-hidden",children:r.jsx(Gn,{mode:"wait",children:a?r.jsxs(Xt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:[r.jsx(mt,{className:"flex flex-row items-center justify-between w-full",children:r.jsxs("div",{className:"flex items-center gap-4 w-full justify-between",children:[r.jsx(Ae,{variant:"outline",size:"icon",onClick:()=>{i(null)},className:"h-10 w-10",children:r.jsx(Oi,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[a==null?void 0:a.title,r.jsxs(ze,{variant:"outline",className:"bg-green-500/10 text-green-500",children:["#",a==null?void 0:a.id]})]}),r.jsxs("p",{className:"text-muted-foreground",children:[a&&$n(a.date),"  ",a==null?void 0:a.courtroom]})]}),r.jsx("div",{className:"ml-auto",children:r.jsx("div",{className:"flex gap-2",children:Z.edit&&r.jsxs(r.Fragment,{children:[a.status!="completed"&&a.status!="cancelled"&&r.jsxs(gr,{open:k,onOpenChange:F,children:[r.jsx(to,{asChild:!0,children:r.jsx(Ae,{variant:"outline",children:(R==null?void 0:R.text_update_status)||"Update Status"})}),r.jsx(Dje,{open:k,onOpenChange:F,courtCase:a,onStatusUpdated:ce})]}),e.hasManagePermission&&r.jsxs(tA,{open:K,onOpenChange:B,children:[r.jsx(Hx,{asChild:!0,children:r.jsxs(Ae,{variant:"destructive",children:[r.jsx(ms,{className:"h-4 w-4 mr-2"}),(R==null?void 0:R.text_delete)||"Delete"]})}),r.jsxs(cu,{children:[r.jsxs(du,{children:[r.jsx(Au,{children:(R==null?void 0:R.text_confirm_delete)||"Confirm Deletion"}),r.jsx(hu,{children:(R==null?void 0:R.text_confirm_delete_description)||"Are you sure you want to delete this report? This action cannot be undone."})]}),r.jsxs(uu,{children:[r.jsx(Ae,{variant:"outline",onClick:()=>B(!1),children:(R==null?void 0:R.text_cancel)||"Cancel"}),r.jsx(Ae,{variant:"destructive",onClick:()=>{ye(a),i(null)},children:(R==null?void 0:R.text_delete)||"Delete"})]})]})]})]})})})]})}),r.jsxs(ea,{defaultValue:"details",className:"flex flex-col w-full bg-transparent items-center",children:[r.jsxs(ta,{className:"grid grid-cols-3 bg-transparent border-2 border-[#4d4b5966] w-[90%]",children:[r.jsx(Fr,{value:"details",children:(R==null?void 0:R.text_case_details)||"Case Details"}),r.jsx(Fr,{value:"reports",children:(R==null?void 0:R.text_related_reports_court)||"Related Reports"}),r.jsx(Fr,{value:"timeline",children:(R==null?void 0:R.text_timeline)||"Timeline"})]}),r.jsx(Rr,{value:"details",className:"flex-1 w-full",children:r.jsx(nr,{className:" h-[calc(80vh-200px)] overflow-y-auto",children:r.jsx(bje,{caseData:a,onClose:()=>i(null),userPermissions:Z,onAddNote:ee})})}),r.jsx(Rr,{value:"reports",className:"flex-1 w-full",children:r.jsx(nr,{className:"  h-[calc(80vh-200px)] overflow-y-auto",children:r.jsx(Rje,{courtCase:a})})}),r.jsx(Rr,{value:"timeline",className:"flex-1 w-full",children:r.jsx(nr,{className:"p-4 h-[calc(80vh-200px)] overflow-y-auto",children:r.jsx(Fje,{courtCase:a})})})]})]},"detail-view"):r.jsxs(Xt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:[r.jsxs(mt,{className:"flex flex-row items-center justify-between",children:[r.jsxs(kt,{className:"flex items-center",children:[r.jsx(Mc,{className:"mr-2 h-5 w-5 text-primary"}),(R==null?void 0:R.text_court_cases_database)||"Court Cases Database"]}),Z.edit&&r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(gr,{open:N,onOpenChange:S,children:[r.jsx(to,{asChild:!0,children:r.jsxs(Ae,{variant:"outline",className:"flex items-center gap-1",children:[r.jsx(Xr,{className:"h-4 w-4"}),(R==null?void 0:R.text_new_court_case)||"New Court Case"]})}),r.jsx(jje,{open:N,onOpenChange:S,onCaseCreated:oe,availableCourtrooms:b})]}),r.jsxs(gr,{open:$,onOpenChange:U,children:[r.jsx(to,{asChild:!0,children:r.jsx(Ae,{variant:"outline",className:"flex items-center gap-1",children:r.jsx(Ua,{className:"h-4 w-4"})})}),r.jsx(Qje,{open:$,onOpenChange:U,courtCases:o,onSelectCase:i,fetchCourtCasesForDateRange:Hje})]})]})]}),r.jsx(Je,{children:r.jsxs("div",{className:"p-4 space-y-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(ls,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),r.jsx(ht,{placeholder:(R==null?void 0:R.text_search_court_cases)||"Search court cases ...",className:"pl-10 bg-background/50 border-primary/20 focus:border-primary",value:n,onChange:q=>s(q.target.value),onKeyDown:Q})]}),r.jsx(nr,{className:"h-[calc(85vh-350px)]",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o&&Array.isArray(o)&&o.map(q=>r.jsx(wje,{courtCase:q,onSelect:i},q.id))})}),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsxs("div",{children:[(R==null?void 0:R.text_showing)||"Showing"," ",(c-1)*hj+1," to"," ",Math.min(c*hj,v)," of ",v," ",(R==null?void 0:R.text_cases)||"cases"]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>d(q=>Math.max(1,q-1)),disabled:c==1,children:(R==null?void 0:R.text_previous)||"Previous"}),r.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>d(q=>Math.min(M,q+1)),disabled:c==M||M==0,children:(R==null?void 0:R.text_next)||"Next"})]})]})]})})]},"list-view")})})})]})})}function yK(){return r.jsxs("div",{className:"flex flex-col h-full w-full overflow-hidden bg-cover bg-center rounded-3xl",children:["            ",r.jsxs("div",{className:"flex items-center space-x-2 px-4 py-2 border-b",children:[r.jsx(Se,{className:"h-8 w-24"}),r.jsx(Se,{className:"h-8 w-24"}),r.jsx(Se,{className:"h-8 w-24"})]}),r.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[r.jsxs("div",{className:"w-64 border-r p-4 space-y-4",children:[r.jsx("div",{className:"p-6 border-b border-border flex justify-center items-center",children:r.jsx(Se,{className:"h-24 w-24 rounded-full"})}),r.jsx("div",{className:"space-y-4",children:[1,2,3].map(e=>r.jsxs("div",{className:"space-y-2",children:[r.jsx(Se,{className:"h-6 w-24"}),r.jsx("div",{className:"space-y-1 pl-4",children:[1,2,3].map(t=>r.jsx(Se,{className:"h-8 w-full"},t))})]},e))}),r.jsx("div",{className:"mt-auto border-t border-slate-800 p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Se,{className:"h-10 w-10 rounded-full"}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(Se,{className:"h-4 w-24"}),r.jsx(Se,{className:"h-3 w-16"})]})]})})]}),r.jsx("div",{className:"flex-1 p-4",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(Se,{className:"w-1 h-10"}),r.jsx(Se,{className:"h-8 w-48"})]}),r.jsxs("div",{className:"flex w-full flex-col",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(Se,{className:"w-1 h-10"}),r.jsx(Se,{className:"h-8 w-32"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[r.jsxs(Le,{className:"md:col-span-1 bg-card/50  border-primary/20",children:[r.jsxs(mt,{className:"flex flex-row items-center justify-between",children:[r.jsx(Se,{className:"h-6 w-32"}),r.jsx(Se,{className:"h-8 w-8 rounded-full"})]}),r.jsx(Je,{children:r.jsx("div",{className:"space-y-4",children:[1,2,3].map(e=>r.jsxs("div",{className:"space-y-2",children:[r.jsx(Se,{className:"h-4 w-3/4"}),r.jsx(Se,{className:"h-12 w-full"}),r.jsx(Se,{className:"h-3 w-24"})]},e))})})]}),r.jsxs(Le,{className:"md:col-span-1 bg-card/50  border-primary/20",children:[r.jsx(mt,{children:r.jsx(Se,{className:"h-6 w-32"})}),r.jsx(Je,{children:r.jsx("div",{className:"space-y-4",children:[1,2,3].map(e=>r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx(Se,{className:"h-4 w-24"}),r.jsx(Se,{className:"h-4 w-12"})]}),r.jsx(Se,{className:"h-3 w-3/4"}),r.jsx(Se,{className:"h-3 w-1/2"})]},e))})})]}),r.jsxs(Le,{className:"md:col-span-1 bg-card/50  border-primary/20",children:[r.jsx(mt,{children:r.jsx(Se,{className:"h-6 w-32"})}),r.jsx(Je,{children:r.jsx("div",{className:"space-y-4",children:[1,2,3].map(e=>r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx(Se,{className:"h-4 w-24"}),r.jsx(Se,{className:"h-4 w-12"})]}),r.jsx(Se,{className:"h-3 w-3/4"}),r.jsx(Se,{className:"h-3 w-1/2"})]},e))})})]}),r.jsxs(Le,{className:"md:col-span-2 bg-card/50  border-primary/20",children:[r.jsxs(mt,{className:"flex flex-row items-center justify-between",children:[r.jsx(Se,{className:"h-6 w-24"}),r.jsx("div",{className:"flex space-x-4",children:[1,2,3].map(e=>r.jsxs("div",{className:"flex items-center",children:[r.jsx(Se,{className:"h-8 w-8 rounded-full mr-2"}),r.jsx(Se,{className:"h-4 w-4"})]},e))})]}),r.jsx(Je,{children:r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"grid grid-cols-6 gap-4",children:[1,2,3,4,5,6].map(e=>r.jsx(Se,{className:"h-4 w-full"},e))}),[1,2,3].map(e=>r.jsx("div",{className:"grid grid-cols-6 gap-4",children:[1,2,3,4,5,6].map(t=>r.jsx(Se,{className:"h-8 w-full"},t))},e))]})})]}),r.jsxs(Le,{className:"md:col-span-1 bg-card/50  border-primary/20",children:[r.jsx(mt,{children:r.jsx(Se,{className:"h-6 w-24"})}),r.jsx(Je,{children:r.jsx("div",{className:"space-y-4",children:[1,2,3].map(e=>r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx(Se,{className:"h-4 w-24"}),r.jsx(Se,{className:"h-4 w-12"})]}),r.jsx(Se,{className:"h-3 w-3/4"}),r.jsx(Se,{className:"h-3 w-1/2"})]},e))})})]})]})]})]})})]})]})}const HP=[{id:"IMG-001",filename:"evidence_knife_001.jpg",url:"https://kappa.lol/GOy456",thumbnail:"https://kappa.lol/GOy456",timestamp:"2025-03-15T14:30:00Z",location:"123 Main St, Crime Scene",coordinates:{lat:34.0522,lng:-118.2437},caseNumber:"CASE-2025-001",category:"evidence",tags:["weapon","knife","blood","fingerprints"],description:"Kitchen knife found at crime scene with visible blood stains",officer:"Officer Johnson",officerId:"OFF-001",fileSize:2048576,dimensions:{width:1920,height:1080},metadata:{camera:"Canon EOS R5",settings:"ISO 400, f/8, 1/125s",weather:"Clear",lighting:"Natural daylight"},isStarred:!0,isArchived:!1,relatedReports:["RPT-001","RPT-002"]},{id:"IMG-002",filename:"scene_overview_001.jpg",url:"https://kappa.lol/GOy456",thumbnail:"https://kappa.lol/GOy456",timestamp:"2025-03-15T14:45:00Z",location:"123 Main St, Crime Scene",coordinates:{lat:34.0522,lng:-118.2437},caseNumber:"CASE-2025-001",category:"scene",tags:["overview","living room","furniture","blood spatter"],description:"Wide angle view of the living room showing overall scene layout",officer:"Officer Johnson",officerId:"OFF-001",fileSize:3145728,dimensions:{width:1920,height:1080},metadata:{camera:"Canon EOS R5",settings:"ISO 200, f/11, 1/60s",weather:"Clear",lighting:"Flash + Natural"},isStarred:!1,isArchived:!1,relatedReports:["RPT-001"]},{id:"IMG-003",filename:"suspect_vehicle_001.jpg",url:"https://kappa.lol/GOy456",thumbnail:"https://kappa.lol/GOy456",timestamp:"2025-03-14T09:15:00Z",location:"Highway 101, Mile Marker 25",coordinates:{lat:34.1522,lng:-118.3437},caseNumber:"CASE-2025-002",category:"vehicle",tags:["sedan","blue","damaged","license plate"],description:"Suspect vehicle with front end damage, license plate ABC-123",officer:"Officer Smith",officerId:"OFF-002",fileSize:1572864,dimensions:{width:1920,height:1080},metadata:{camera:"iPhone 15 Pro",settings:"Auto mode",weather:"Overcast",lighting:"Natural daylight"},isStarred:!1,isArchived:!1,relatedReports:["RPT-003"]},{id:"IMG-004",filename:"IMG-004",url:"https://kappa.lol/GOy456",thumbnail:"https://kappa.lol/GOy456",timestamp:"2025-03-13T16:20:00Z",location:"Police Station Evidence Room",caseNumber:"CASE-2025-003",category:"document",tags:["contract","signature","fraud","handwriting"],description:"Fraudulent contract with forged signature",officer:"Detective Davis",officerId:"DET-001",fileSize:1048576,dimensions:{width:1920,height:1080},metadata:{camera:"Document Scanner",settings:"300 DPI",lighting:"LED panel"},isStarred:!0,isArchived:!1,relatedReports:["RPT-004"]},{id:"IMG-005",filename:"suspect_mugshot_001.jpg",url:"https://kappa.lol/GOy456",thumbnail:"https://kappa.lol/GOy456",timestamp:"2025-03-12T11:30:00Z",location:"Police Station Booking",caseNumber:"CASE-2025-004",category:"suspect",tags:["mugshot","booking","male","tattoo"],description:"Booking photo - front view with visible neck tattoo",officer:"Officer Wilson",officerId:"OFF-003",fileSize:2097152,dimensions:{width:1920,height:1080},metadata:{camera:"Nikon D850",settings:"ISO 100, f/8, 1/125s",lighting:"Studio lighting"},isStarred:!1,isArchived:!1,relatedReports:["RPT-005"]},{id:"IMG-006",filename:"traffic_accident_001.jpg",url:"https://kappa.lol/GOy456",thumbnail:"https://kappa.lol/GOy456",timestamp:"2025-03-11T08:45:00Z",location:"Broadway & 5th Street Intersection",coordinates:{lat:34.0622,lng:-118.2537},caseNumber:"CASE-2025-005",category:"scene",tags:["accident","intersection","damage","skid marks"],description:"Traffic accident scene showing vehicle positions and skid marks",officer:"Officer Brown",officerId:"OFF-004",fileSize:2621440,dimensions:{width:1920,height:1080},metadata:{camera:"Canon EOS R6",settings:"ISO 400, f/5.6, 1/250s",weather:"Sunny",lighting:"Natural daylight"},isStarred:!1,isArchived:!0,relatedReports:["RPT-006"]}];function Vje(){var ie,Ee,He,rt;const[e,t]=m.useState([]),[n,s]=m.useState([]),[a,i]=m.useState(""),[o,l]=m.useState("all"),[c,d]=m.useState(null),[u,f]=m.useState(!1),[v,g]=m.useState(!1),[w,y]=m.useState(!1),[b,x]=m.useState("grid"),[N,S]=m.useState("date"),[k,F]=m.useState("desc"),[$,U]=m.useState(!1),[D,H]=m.useState(!1),K=m.useRef(null),B=m.useRef(null),[R,Z]=m.useState(null),[te,ye]=m.useState(null),[de,le]=m.useState({location:"",caseNumber:"",category:"other",tags:"",description:""});m.useEffect(()=>{t(HP),s(HP)},[]),m.useEffect(()=>{const we=e.filter(Ve=>{var ct,vt;const Re=Ve.filename.toLowerCase().includes(a.toLowerCase())||((ct=Ve.description)==null?void 0:ct.toLowerCase().includes(a.toLowerCase()))||Ve.tags.some(wt=>wt.toLowerCase().includes(a.toLowerCase()))||((vt=Ve.caseNumber)==null?void 0:vt.toLowerCase().includes(a.toLowerCase())),je=o==="all"||Ve.category===o,Mt=!$||Ve.isStarred,Bt=!D||!Ve.isArchived;return Re&&je&&Mt&&Bt});we.sort((Ve,Re)=>{let je=0;switch(N){case"date":je=new Date(Ve.timestamp).getTime()-new Date(Re.timestamp).getTime();break;case"name":je=Ve.filename.localeCompare(Re.filename);break;case"case":je=(Ve.caseNumber||"").localeCompare(Re.caseNumber||"");break;case"officer":je=Ve.officer.localeCompare(Re.officer);break}return k==="asc"?je:-je}),s(we)},[e,a,o,N,k,$,D]);const Q=async()=>{try{const we=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1});Z(we),K.current&&(K.current.srcObject=we),g(!0)}catch(we){console.error("Error accessing camera:",we),alert("Unable to access camera. Please check permissions.")}},oe=()=>{R&&(R.getTracks().forEach(we=>we.stop()),Z(null)),g(!1),ye(null)},ce=()=>{if(K.current&&B.current){const we=B.current,Ve=K.current,Re=we.getContext("2d");if(we.width=Ve.videoWidth,we.height=Ve.videoHeight,Re){Re.drawImage(Ve,0,0,we.width,we.height);const je=we.toDataURL("image/jpeg",.8);ye(je)}}},ee=()=>{if(te){const we={id:`IMG-${Date.now()}`,filename:`photo_${Date.now()}.jpg`,url:te,thumbnail:te,timestamp:new Date().toISOString(),location:de.location,caseNumber:de.caseNumber,category:de.category,tags:de.tags.split(",").map(Ve=>Ve.trim()).filter(Ve=>Ve),description:de.description,officer:"Current Officer",officerId:"OFF-CURRENT",fileSize:Math.floor(Math.random()*3e6)+5e5,dimensions:{width:1920,height:1080},isStarred:!1,isArchived:!1};t(Ve=>[we,...Ve]),oe(),y(!1),le({location:"",caseNumber:"",category:"other",tags:"",description:""})}},M=we=>{t(Ve=>Ve.map(Re=>Re.id===we?{...Re,isStarred:!Re.isStarred}:Re))},E=we=>{t(Ve=>Ve.map(Re=>Re.id===we?{...Re,isArchived:!Re.isArchived}:Re))},q=we=>{confirm("Are you sure you want to delete this photo?")&&t(Ve=>Ve.filter(Re=>Re.id!==we))},se=we=>{switch(we){case"evidence":return r.jsx(vl,{className:"h-4 w-4"});case"scene":return r.jsx(ja,{className:"h-4 w-4"});case"suspect":return r.jsx(ri,{className:"h-4 w-4"});case"vehicle":return r.jsx(XY,{className:"h-4 w-4"});case"document":return r.jsx(fi,{className:"h-4 w-4"});default:return r.jsx(Sg,{className:"h-4 w-4"})}},re=we=>{switch(we){case"evidence":return"bg-red-500/10 text-red-600 border-red-500/20";case"scene":return"bg-blue-500/10 text-blue-600 border-blue-500/20";case"suspect":return"bg-orange-500/10 text-orange-600 border-orange-500/20";case"vehicle":return"bg-purple-500/10 text-purple-600 border-purple-500/20";case"document":return"bg-green-500/10 text-green-600 border-green-500/20";default:return"bg-gray-500/10 text-gray-600 border-gray-500/20"}},G=we=>{if(we===0)return"0 Bytes";const Ve=1024,Re=["Bytes","KB","MB","GB"],je=Math.floor(Math.log(we)/Math.log(Ve));return Number.parseFloat((we/Math.pow(Ve,je)).toFixed(2))+" "+Re[je]},ue=we=>new Date(we).toLocaleString();return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-3xl font-bold",children:"Photo Gallery"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(Ae,{onClick:Q,className:"bg-primary hover:bg-primary/90",children:[r.jsx(ja,{className:"h-4 w-4 mr-2"}),"Take Photo"]}),r.jsxs(Ae,{variant:"outline",onClick:()=>y(!0),children:[r.jsx(Xr,{className:"h-4 w-4 mr-2"}),"Upload Photo"]})]})]}),r.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[r.jsxs("div",{className:"relative flex-grow",children:[r.jsx(ls,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),r.jsx(ht,{placeholder:"Search photos by filename, description, tags, or case number...",className:"pl-10 bg-background/50 border-primary/20 focus:border-primary",value:a,onChange:we=>i(we.target.value)})]}),r.jsxs(On,{value:o,onValueChange:l,children:[r.jsx(Dn,{className:"w-full md:w-[180px]",children:r.jsx(Mn,{placeholder:"Category"})}),r.jsxs(Fn,{children:[r.jsx(Yt,{value:"all",children:"All Categories"}),r.jsx(Yt,{value:"evidence",children:"Evidence"}),r.jsx(Yt,{value:"scene",children:"Crime Scene"}),r.jsx(Yt,{value:"suspect",children:"Suspect"}),r.jsx(Yt,{value:"vehicle",children:"Vehicle"}),r.jsx(Yt,{value:"document",children:"Document"}),r.jsx(Yt,{value:"other",children:"Other"})]})]}),r.jsxs(qA,{children:[r.jsx(JA,{asChild:!0,children:r.jsxs(Ae,{variant:"outline",className:"w-full md:w-auto",children:[r.jsx(TJ,{className:"h-4 w-4 mr-2"}),"Filters",r.jsx($A,{className:"h-4 w-4 ml-2"})]})}),r.jsxs(Yu,{children:[r.jsxs(ga,{onClick:()=>U(!$),children:[r.jsx(Hh,{className:`h-4 w-4 mr-2 ${$?"fill-yellow-400 text-yellow-400":""}`}),"Starred Only"]}),r.jsxs(ga,{onClick:()=>H(!D),children:[r.jsx(Op,{className:"h-4 w-4 mr-2"}),"Show Archived"]})]})]}),r.jsxs(qA,{children:[r.jsx(JA,{asChild:!0,children:r.jsxs(Ae,{variant:"outline",className:"w-full md:w-auto",children:[r.jsx(zq,{className:"h-4 w-4 mr-2"}),"Sort",r.jsx($A,{className:"h-4 w-4 ml-2"})]})}),r.jsxs(Yu,{children:[r.jsx(ga,{onClick:()=>{S("date"),F("desc")},children:"Date (Newest First)"}),r.jsx(ga,{onClick:()=>{S("date"),F("asc")},children:"Date (Oldest First)"}),r.jsx(ga,{onClick:()=>{S("name"),F("asc")},children:"Name (A-Z)"}),r.jsx(ga,{onClick:()=>{S("case"),F("asc")},children:"Case Number"}),r.jsx(ga,{onClick:()=>{S("officer"),F("asc")},children:"Officer"})]})]}),r.jsxs("div",{className:"flex",children:[r.jsx(Ae,{variant:b==="grid"?"default":"outline",size:"sm",onClick:()=>x("grid"),className:"rounded-r-none",children:r.jsx(RJ,{className:"h-4 w-4"})}),r.jsx(Ae,{variant:b==="list"?"default":"outline",size:"sm",onClick:()=>x("list"),className:"rounded-l-none",children:r.jsx(XJ,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsx(Le,{className:"bg-gradient-to-br from-blue-500/10 to-blue-600/5 border-blue-500/20",children:r.jsx(Je,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Photos"}),r.jsx("p",{className:"text-2xl font-bold text-blue-700",children:e.length})]}),r.jsx(Sg,{className:"h-8 w-8 text-blue-500"})]})})}),r.jsx(Le,{className:"bg-gradient-to-br from-green-500/10 to-green-600/5 border-green-500/20",children:r.jsx(Je,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-green-600",children:"Evidence Photos"}),r.jsx("p",{className:"text-2xl font-bold text-green-700",children:e.filter(we=>we.category==="evidence").length})]}),r.jsx(vl,{className:"h-8 w-8 text-green-500"})]})})}),r.jsx(Le,{className:"bg-gradient-to-br from-purple-500/10 to-purple-600/5 border-purple-500/20",children:r.jsx(Je,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Starred"}),r.jsx("p",{className:"text-2xl font-bold text-purple-700",children:e.filter(we=>we.isStarred).length})]}),r.jsx(Hh,{className:"h-8 w-8 text-purple-500"})]})})}),r.jsx(Le,{className:"bg-gradient-to-br from-orange-500/10 to-orange-600/5 border-orange-500/20",children:r.jsx(Je,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-orange-600",children:"This Month"}),r.jsx("p",{className:"text-2xl font-bold text-orange-700",children:e.filter(we=>new Date(we.timestamp).getMonth()===new Date().getMonth()).length})]}),r.jsx(Ua,{className:"h-8 w-8 text-orange-500"})]})})})]}),b==="grid"?r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:r.jsx(Gn,{children:n.map(we=>r.jsx(Xt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},children:r.jsxs(Le,{className:`overflow-hidden hover:shadow-lg transition-all duration-300 ${we.isArchived?"opacity-60":""}`,children:[r.jsxs("div",{className:"relative aspect-square",children:[r.jsx("img",{src:we.thumbnail||"/placeholder.svg",alt:we.filename,className:"w-full h-full object-cover cursor-pointer",onClick:()=>{d(we),f(!0)}}),r.jsx("div",{className:"absolute top-2 left-2",children:r.jsxs(ze,{variant:"outline",className:re(we.category),children:[se(we.category),r.jsx("span",{className:"ml-1 capitalize",children:we.category})]})}),r.jsxs("div",{className:"absolute top-2 right-2 flex gap-1",children:[we.isStarred&&r.jsx(Hh,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),we.isArchived&&r.jsx(Op,{className:"h-4 w-4 text-gray-400"})]}),r.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-2",children:[r.jsx("p",{className:"text-white text-xs font-medium truncate",children:we.filename}),r.jsx("p",{className:"text-white/80 text-xs",children:ue(we.timestamp)})]})]}),r.jsx(Je,{className:"p-3",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[we.caseNumber&&r.jsx(ze,{variant:"outline",className:"text-xs mb-1",children:we.caseNumber}),r.jsx("p",{className:"text-xs text-muted-foreground truncate",children:we.officer})]}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx(Ae,{variant:"ghost",size:"sm",onClick:()=>M(we.id),className:"h-6 w-6 p-0",children:r.jsx(Hh,{className:`h-3 w-3 ${we.isStarred?"fill-yellow-400 text-yellow-400":""}`})}),r.jsxs(qA,{children:[r.jsx(JA,{asChild:!0,children:r.jsx(Ae,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:r.jsx($A,{className:"h-3 w-3"})})}),r.jsxs(Yu,{children:[r.jsxs(ga,{onClick:()=>{d(we),f(!0)},children:[r.jsx(y3,{className:"h-4 w-4 mr-2"}),"View"]}),r.jsxs(ga,{onClick:()=>E(we.id),children:[r.jsx(Op,{className:"h-4 w-4 mr-2"}),we.isArchived?"Unarchive":"Archive"]}),r.jsxs(ga,{children:[r.jsx(Nd,{className:"h-4 w-4 mr-2"}),"Download"]}),r.jsxs(ga,{children:[r.jsx(Ib,{className:"h-4 w-4 mr-2"}),"Share"]}),r.jsxs(ga,{onClick:()=>q(we.id),className:"text-destructive",children:[r.jsx(ms,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]})]})})]})},we.id))})}):r.jsx("div",{className:"space-y-2",children:r.jsx(Gn,{children:n.map(we=>r.jsx(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:r.jsx(Le,{className:`overflow-hidden hover:shadow-md transition-all duration-300 ${we.isArchived?"opacity-60":""}`,children:r.jsx(Je,{className:"p-4",children:r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"relative w-24 h-24 flex-shrink-0",children:[r.jsx("img",{src:we.thumbnail||"/placeholder.svg",alt:we.filename,className:"w-full h-full object-cover rounded cursor-pointer",onClick:()=>{d(we),f(!0)}}),r.jsxs("div",{className:"absolute top-1 right-1 flex gap-1",children:[we.isStarred&&r.jsx(Hh,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),we.isArchived&&r.jsx(Op,{className:"h-3 w-3 text-gray-400"})]})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium truncate",children:we.filename}),r.jsx("p",{className:"text-sm text-muted-foreground",children:we.officer})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(ze,{variant:"outline",className:re(we.category),children:[se(we.category),r.jsx("span",{className:"ml-1 capitalize",children:we.category})]}),we.caseNumber&&r.jsx(ze,{variant:"outline",children:we.caseNumber})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm text-muted-foreground mb-2",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ua,{className:"h-3 w-3 mr-1"}),ue(we.timestamp)]}),we.location&&r.jsxs("div",{className:"flex items-center",children:[r.jsx(qs,{className:"h-3 w-3 mr-1"}),r.jsx("span",{className:"truncate",children:we.location})]})]}),we.description&&r.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-2",children:we.description}),r.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:we.tags.map((Ve,Re)=>r.jsxs(ze,{variant:"secondary",className:"text-xs",children:[r.jsx(N3,{className:"h-2 w-2 mr-1"}),Ve]},Re))})]}),r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx(Ae,{variant:"ghost",size:"sm",onClick:()=>M(we.id),className:"h-8 w-8 p-0",children:r.jsx(Hh,{className:`h-4 w-4 ${we.isStarred?"fill-yellow-400 text-yellow-400":""}`})}),r.jsx(Ae,{variant:"ghost",size:"sm",onClick:()=>{d(we),f(!0)},className:"h-8 w-8 p-0",children:r.jsx(y3,{className:"h-4 w-4"})}),r.jsxs(qA,{children:[r.jsx(JA,{asChild:!0,children:r.jsx(Ae,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:r.jsx($A,{className:"h-4 w-4"})})}),r.jsxs(Yu,{children:[r.jsxs(ga,{onClick:()=>E(we.id),children:[r.jsx(Op,{className:"h-4 w-4 mr-2"}),we.isArchived?"Unarchive":"Archive"]}),r.jsxs(ga,{children:[r.jsx(Nd,{className:"h-4 w-4 mr-2"}),"Download"]}),r.jsxs(ga,{children:[r.jsx(Ib,{className:"h-4 w-4 mr-2"}),"Share"]}),r.jsxs(ga,{onClick:()=>q(we.id),className:"text-destructive",children:[r.jsx(ms,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]})]})})})},we.id))})}),n.length===0&&r.jsxs("div",{className:"text-center py-12 bg-muted/20 rounded-lg",children:[r.jsx(Sg,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground opacity-20"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Photos Found"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:a||o!=="all"?"Try adjusting your search or filters":"Start by taking your first photo"}),r.jsxs(Ae,{onClick:Q,children:[r.jsx(ja,{className:"h-4 w-4 mr-2"}),"Take Photo"]})]}),r.jsx(gr,{open:v,onOpenChange:oe,children:r.jsxs(xr,{className:"max-w-4xl",children:[r.jsx(vr,{children:r.jsx(yr,{children:"Camera"})}),r.jsxs("div",{className:"space-y-4",children:[te?r.jsxs("div",{className:"space-y-4",children:[r.jsx("img",{src:te||"/placeholder.svg",alt:"Captured",className:"w-full h-96 object-cover rounded-lg"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"location",children:"Location"}),r.jsx(ht,{id:"location",value:de.location,onChange:we=>le(Ve=>({...Ve,location:we.target.value})),placeholder:"Enter location..."})]}),r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"caseNumber",children:"Case Number"}),r.jsx(ht,{id:"caseNumber",value:de.caseNumber,onChange:we=>le(Ve=>({...Ve,caseNumber:we.target.value})),placeholder:"CASE-2025-XXX"})]}),r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"category",children:"Category"}),r.jsxs(On,{value:de.category,onValueChange:we=>le(Ve=>({...Ve,category:we})),children:[r.jsx(Dn,{children:r.jsx(Mn,{})}),r.jsxs(Fn,{children:[r.jsx(Yt,{value:"evidence",children:"Evidence"}),r.jsx(Yt,{value:"scene",children:"Crime Scene"}),r.jsx(Yt,{value:"suspect",children:"Suspect"}),r.jsx(Yt,{value:"vehicle",children:"Vehicle"}),r.jsx(Yt,{value:"document",children:"Document"}),r.jsx(Yt,{value:"other",children:"Other"})]})]})]}),r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"tags",children:"Tags (comma separated)"}),r.jsx(ht,{id:"tags",value:de.tags,onChange:we=>le(Ve=>({...Ve,tags:we.target.value})),placeholder:"weapon, blood, fingerprints"})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx(Me,{htmlFor:"description",children:"Description"}),r.jsx(ss,{id:"description",value:de.description,onChange:we=>le(Ve=>({...Ve,description:we.target.value})),placeholder:"Describe what this photo shows..."})]})]})]}):r.jsxs("div",{className:"relative",children:[r.jsx("video",{ref:K,autoPlay:!0,playsInline:!0,className:"w-full h-96 object-cover rounded-lg bg-black"}),r.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2",children:r.jsx(Ae,{onClick:ce,size:"lg",className:"rounded-full h-16 w-16 bg-white hover:bg-gray-100 text-black",children:r.jsx(ja,{className:"h-8 w-8"})})})]}),r.jsx("canvas",{ref:B,className:"hidden"})]}),r.jsx(un,{children:te?r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Ae,{variant:"outline",onClick:()=>ye(null),children:"Retake"}),r.jsx(Ae,{onClick:ee,children:"Save Photo"})]}):r.jsx(Ae,{variant:"outline",onClick:oe,children:"Cancel"})})]})}),r.jsx(gr,{open:u,onOpenChange:f,children:r.jsxs(xr,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[r.jsx(vr,{children:r.jsxs(yr,{className:"flex items-center justify-between",children:[r.jsx("span",{children:c==null?void 0:c.filename}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Ae,{variant:"ghost",size:"sm",onClick:()=>c&&M(c.id),children:r.jsx(Hh,{className:`h-4 w-4 ${c!=null&&c.isStarred?"fill-yellow-400 text-yellow-400":""}`})}),r.jsx(Ae,{variant:"ghost",size:"sm",children:r.jsx(Nd,{className:"h-4 w-4"})}),r.jsx(Ae,{variant:"ghost",size:"sm",children:r.jsx(Ib,{className:"h-4 w-4"})})]})]})}),c&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"relative",children:r.jsx("img",{src:c.url||"/placeholder.svg",alt:c.filename,className:"w-full max-h-96 object-contain rounded-lg bg-black"})}),r.jsxs(ea,{defaultValue:"details",className:"w-full",children:[r.jsxs(ta,{className:"grid w-full grid-cols-3",children:[r.jsx(Fr,{value:"details",children:"Details"}),r.jsx(Fr,{value:"metadata",children:"Metadata"}),r.jsx(Fr,{value:"related",children:"Related"})]}),r.jsx(Rr,{value:"details",className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Me,{children:"Category"}),r.jsx("div",{className:"flex items-center mt-1",children:r.jsxs(ze,{variant:"outline",className:re(c.category),children:[se(c.category),r.jsx("span",{className:"ml-1 capitalize",children:c.category})]})})]}),r.jsxs("div",{children:[r.jsx(Me,{children:"Case Number"}),r.jsx("p",{className:"text-sm mt-1",children:c.caseNumber||"N/A"})]}),r.jsxs("div",{children:[r.jsx(Me,{children:"Officer"}),r.jsx("p",{className:"text-sm mt-1",children:c.officer})]}),r.jsxs("div",{children:[r.jsx(Me,{children:"Timestamp"}),r.jsx("p",{className:"text-sm mt-1",children:ue(c.timestamp)})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx(Me,{children:"Location"}),r.jsx("p",{className:"text-sm mt-1",children:c.location||"N/A"})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx(Me,{children:"Description"}),r.jsx("p",{className:"text-sm mt-1",children:c.description||"No description provided"})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx(Me,{children:"Tags"}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:c.tags.map((we,Ve)=>r.jsxs(ze,{variant:"secondary",className:"text-xs",children:[r.jsx(N3,{className:"h-2 w-2 mr-1"}),we]},Ve))})]})]})}),r.jsx(Rr,{value:"metadata",className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Me,{children:"File Size"}),r.jsx("p",{className:"text-sm mt-1",children:G(c.fileSize)})]}),r.jsxs("div",{children:[r.jsx(Me,{children:"Dimensions"}),r.jsxs("p",{className:"text-sm mt-1",children:[c.dimensions.width," x ",c.dimensions.height]})]}),((ie=c.metadata)==null?void 0:ie.camera)&&r.jsxs("div",{children:[r.jsx(Me,{children:"Camera"}),r.jsx("p",{className:"text-sm mt-1",children:c.metadata.camera})]}),((Ee=c.metadata)==null?void 0:Ee.settings)&&r.jsxs("div",{children:[r.jsx(Me,{children:"Camera Settings"}),r.jsx("p",{className:"text-sm mt-1",children:c.metadata.settings})]}),((He=c.metadata)==null?void 0:He.weather)&&r.jsxs("div",{children:[r.jsx(Me,{children:"Weather"}),r.jsx("p",{className:"text-sm mt-1",children:c.metadata.weather})]}),((rt=c.metadata)==null?void 0:rt.lighting)&&r.jsxs("div",{children:[r.jsx(Me,{children:"Lighting"}),r.jsx("p",{className:"text-sm mt-1",children:c.metadata.lighting})]}),c.coordinates&&r.jsxs("div",{className:"col-span-2",children:[r.jsx(Me,{children:"GPS Coordinates"}),r.jsxs("p",{className:"text-sm mt-1",children:[c.coordinates.lat.toFixed(6),", ",c.coordinates.lng.toFixed(6)]})]})]})}),r.jsx(Rr,{value:"related",className:"space-y-4",children:r.jsxs("div",{children:[r.jsx(Me,{children:"Related Reports"}),r.jsx("div",{className:"mt-2 space-y-2",children:c.relatedReports&&c.relatedReports.length>0?c.relatedReports.map((we,Ve)=>r.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[r.jsx("span",{className:"text-sm",children:we}),r.jsx(Ae,{variant:"outline",size:"sm",children:"View Report"})]},Ve)):r.jsx("p",{className:"text-sm text-muted-foreground",children:"No related reports"})})]})})]})]})]})}),r.jsx(gr,{open:w,onOpenChange:y,children:r.jsxs(xr,{children:[r.jsx(vr,{children:r.jsx(yr,{children:"Upload Photo"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"file",children:"Select Photo"}),r.jsx(ht,{id:"file",type:"file",accept:"image/*",className:"mt-1"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"uploadLocation",children:"Location"}),r.jsx(ht,{id:"uploadLocation",placeholder:"Enter location..."})]}),r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"uploadCaseNumber",children:"Case Number"}),r.jsx(ht,{id:"uploadCaseNumber",placeholder:"CASE-2025-XXX"})]})]}),r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"uploadCategory",children:"Category"}),r.jsxs(On,{defaultValue:"other",children:[r.jsx(Dn,{children:r.jsx(Mn,{})}),r.jsxs(Fn,{children:[r.jsx(Yt,{value:"evidence",children:"Evidence"}),r.jsx(Yt,{value:"scene",children:"Crime Scene"}),r.jsx(Yt,{value:"suspect",children:"Suspect"}),r.jsx(Yt,{value:"vehicle",children:"Vehicle"}),r.jsx(Yt,{value:"document",children:"Document"}),r.jsx(Yt,{value:"other",children:"Other"})]})]})]}),r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"uploadTags",children:"Tags (comma separated)"}),r.jsx(ht,{id:"uploadTags",placeholder:"weapon, blood, fingerprints"})]}),r.jsxs("div",{children:[r.jsx(Me,{htmlFor:"uploadDescription",children:"Description"}),r.jsx(ss,{id:"uploadDescription",placeholder:"Describe what this photo shows..."})]})]}),r.jsxs(un,{children:[r.jsx(Ae,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),r.jsx(Ae,{onClick:()=>y(!1),children:"Upload Photo"})]})]})})]})}const Kje={success:!0,sop:"https://docs.google.com/spreadsheets/d/1GTLdCzZP5hroi8u1LQ0fhmx5j_g_D99IflfCnL_o7hM/edit?gid=0"};function Wje(){const{locale:e}=ir(),[t,n]=m.useState(null),[s,a]=m.useState(!0);m.useEffect(()=>{(async()=>{a(!0);try{return await new Promise(l=>setTimeout(l,1e3)),ke("getSOPLink",{},Kje).then(l=>{if(l!=null&&l.success&&(l!=null&&l.sop)){let c=l.sop;c.includes("docs.google.com/spreadsheets")&&(c=c.replace("/edit","/preview")),n(c)}else console.error("Invalid response:",l),n(null)}).catch(l=>{console.error("Error:",l)})}catch(l){console.error("Error fetching roster URL:",l)}finally{a(!1)}})()},[]);const i=()=>{a(!0),setTimeout(()=>{a(!1)},1e3)};return r.jsxs("div",{className:"flex-1 space-y-4 w-full h-full",children:[r.jsx("h2",{className:"text-3xl font-bold",children:(e==null?void 0:e.text_sop)||"SOP"}),r.jsxs(Le,{className:"col-span-2 row-span-1 bg-card/50 border-primary/20 max-h-[calc(100vh-200px)] overflow-hidden",children:[r.jsxs(mt,{className:"flex flex-row items-center justify-between",children:[r.jsx(kt,{children:(e==null?void 0:e.text_department_SOP)||"Department SOP"}),r.jsxs(Ae,{onClick:i,disabled:s,children:[r.jsx(lO,{className:"mr-2 h-4 w-4"}),(e==null?void 0:e.text_refresh)||"Refresh"]})]}),r.jsx(Je,{children:s?r.jsx(sK,{}):t?r.jsx("iframe",{src:t,className:"w-full h-[calc(90vh-200px)] border-none",title:(e==null?void 0:e.text_department_sop)||"Department SOP"}):r.jsx("div",{className:"text-center text-muted-foreground",children:(e==null?void 0:e.text_unable_to_load_sop)||"Unable to load sop. Please try refreshing or contact support."})})]})]})}const wK=()=>{const e=Vc(),{user:t,setUser:n,setUserField:s,logos:a,setLogos:i}=Yn(),{tabs:o,setTabs:l,activeTabId:c,setActiveTabId:d,handleTabChange:u,handleAddTab:f,handleRemoveTab:v}=ko(),[g,w]=m.useState(!0),[y,b]=m.useState(!1);m.useEffect(()=>(w(!0),o&&o.length>0?e(o[0].path,{state:{data:o[0].data}}):e("/dashboard"),()=>{const N=new Event("stopRecording");document.dispatchEvent(N),ke("closeCamera"),w(!1)}),[]),m.useEffect(()=>{ke("fetchJobLogo",{},{jobLogo:[{label:"Ambulance",type:"ambulance",logo:"https://kappa.lol/dlkUrl"},{label:"Police",type:"police",logo:"https://kappa.lol/dlkUrl"},{label:"BCSO",type:"bcso",logo:"https://kappa.lol/dlkUrl"},{label:"SASP",type:"sasp",logo:"https://kappa.lol/dlkUrl"},{label:"Lawyer",type:"lawyer",logo:"https://kappa.lol/dlkUrl"}]}).then(N=>{N&&i(N.jobLogo)}).catch(N=>{console.error("Error fetching job logo:",N),i([{label:"Ambulance",type:"ambulance",logo:"https://kappa.lol/dlkUrl"},{label:"Police",type:"police",logo:"https://kappa.lol/dlkUrl"},{label:"BCSO",type:"bcso",logo:"https://kappa.lol/dlkUrl"},{label:"SASP",type:"sasp",logo:"https://kappa.lol/dlkUrl"},{label:"Lawyer",type:"lawyer",logo:"https://kappa.lol/dlkUrl"}])})},[]);const x=(N,S)=>{var k;if(o.length===0)f(S,N);else{const F=o&&Array.isArray(o)&&((k=o||[])==null?void 0:k.map($=>$.id===c?{...$,label:S,path:N,data:null}:$));l(F)}e(N)};return r.jsx(r.Fragment,{children:g&&r.jsx("div",{className:"flex flex-col h-full w-full overflow-hidden items-center justify-center animate-scaleIn",children:y?r.jsx("div",{className:"flex h-full w-full bg-cover bg-center justify-center items-center rounded-3xl",children:r.jsx(yK,{})}):r.jsxs("div",{className:"flex flex-col h-full w-full overflow-hidden bg-cover bg-center animate-fadeIn",children:[r.jsx(uwe,{tabs:o,activeTabId:c,onTabChange:u,onAddTab:f,onRemoveTab:v}),r.jsx("div",{className:"flex flex-1 overflow-hidden",children:r.jsxs("div",{className:"flex w-full",children:[r.jsx(yie,{onSelect:x}),r.jsx("main",{className:"flex-1 p-1",children:r.jsxs(rq,{children:[r.jsx(ei,{path:"/dashboard",element:r.jsx(dwe,{})}),r.jsx(ei,{path:"/dashboardems",element:r.jsx(ube,{})}),r.jsx(ei,{path:"/dispatch",element:r.jsx(o7,{})}),r.jsx(ei,{path:"/cameras",element:r.jsx(dU,{})}),r.jsx(ei,{path:"/officers",element:r.jsx(xhe,{})}),r.jsx(ei,{path:"/citizens",element:r.jsx(Hhe,{})}),r.jsx(ei,{path:"/citizensems",element:r.jsx(Aje,{})}),r.jsx(ei,{path:"/criminalcodes",element:r.jsx(Ghe,{})}),r.jsx(ei,{path:"/vehicles/*",element:r.jsx(tfe,{})}),r.jsx(ei,{path:"/roster",element:r.jsx(gje,{})}),r.jsx(ei,{path:"/reports",element:r.jsx(vpe,{})}),r.jsx(ei,{path:"/reportsems",element:r.jsx(rje,{})}),r.jsx(ei,{path:"/search-capture",element:r.jsx(Epe,{})}),r.jsx(ei,{path:"/bodycam",element:r.jsx(i4,{})}),r.jsx(ei,{path:"/weapons",element:r.jsx(hwe,{})}),r.jsx(ei,{path:"/incidents",element:r.jsx(pwe,{})}),r.jsx(ei,{path:"/fto-reports",element:r.jsx(Wwe,{})}),r.jsx(ei,{path:"/fto-ems-reports",element:r.jsx(sbe,{})}),r.jsx(ei,{path:"/emsincidents",element:r.jsx(mje,{})}),r.jsx(ei,{path:"/courts",element:r.jsx(zje,{})}),r.jsx(ei,{path:"/sop",element:r.jsx(Wje,{})}),r.jsx(ei,{path:"/medics",element:r.jsx(wbe,{})}),r.jsx(ei,{path:"/gallery",element:r.jsx(Vje,{})}),r.jsx(ei,{path:"/export-warrant/:department",element:r.jsx(twe,{})}),r.jsx(ei,{path:"/export-report/:department",element:r.jsx(nwe,{})}),r.jsx(ei,{path:"/export-officer/:department",element:r.jsx(vje,{})})]})})]})})]})})})};function $je(){const[e,t]=m.useState(new Date),[n,s]=m.useState(!0),{locale:a}=ir();m.useEffect(()=>{const l=setInterval(()=>{t(new Date)},6e4);return()=>clearInterval(l)},[]);const i=e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}),o=e.toLocaleDateString("en-US",{weekday:"long",day:"numeric",month:"long"});return n?r.jsxs("div",{className:"relative w-full h-full overflow-hidden  flex flex-col items-center justify-center",children:[r.jsx("div",{className:"absolute w-full h-full bg-black opacity-60"}),r.jsxs("div",{className:"z-10 text-center mb-8",children:[r.jsx("h1",{className:"text-white text-7xl font-bold tracking-tight",children:i}),r.jsx("p",{className:"text-white/80 text-lg mt-1",children:o})]}),r.jsxs("div",{className:"absolute bottom-6 z-10 flex flex-col items-center",children:[r.jsxs("div",{className:"text-white/60 text-sm mb-2 flex items-center",children:[r.jsx(ns,{className:"h-4 w-4 mr-1"}),(a==null?void 0:a.text_swipe_up_to_unlock)||"Swipe up to unlock"]}),r.jsx("div",{className:"w-32 h-1 bg-white/30 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-white transition-all duration-300 ease-out cursor-pointer",onClick:()=>s(!1)})})]})]}):r.jsx(Gje,{onLock:l=>s(l||!1)})}function Gje({onLock:e}){const{user:t,setUserField:n,setUser:s,toggleUserDuty:a}=Yn(),{locale:i}=ir(),[o,l]=m.useState(new Date);Vc();const[c,d]=m.useState(null),[u,f]=m.useState(!1);m.useEffect(()=>{const w=setInterval(()=>{l(new Date)},6e4);return()=>clearInterval(w)},[]);const v=w=>{f(!0),setTimeout(()=>{w==="mdt"?d("MDT"):w==="bodycam"?d("Bodycam"):w==="securitycamera"?d("Camera"):console.log(`Launching app: ${w}`),f(!1)},500)};if(c==="MDT")return r.jsx("div",{className:"relative w-full h-full overflow-hidden flex items-center justify-center",children:r.jsxs("div",{className:"w-full h-[calc(100vh-100px)] overflow-hidden animate-fadeIn mt-5 relative",children:[r.jsx(wK,{}),r.jsx("div",{className:"absolute bottom-1 left-1/2 transform -translate-x-1/2 z-10 flex flex-col items-center",children:r.jsx("div",{className:"w-32 h-1 bg-white/30 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-white transition-all duration-300 ease-out cursor-pointer",onClick:()=>d(null)})})})]})});if(c=="Bodycam")return r.jsx("div",{className:"relative w-full h-full overflow-hidden flex items-center justify-center",children:r.jsxs("div",{className:"w-full h-[calc(100vh-100px)] overflow-hidden animate-fadeIn mt-5 relative p-5",children:[r.jsx(i4,{}),r.jsx("div",{className:"absolute bottom-1 left-1/2 transform -translate-x-1/2 z-10 flex flex-col items-center",children:r.jsx("div",{className:"w-32 h-1 bg-white/30 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-white transition-all duration-300 ease-out cursor-pointer",onClick:()=>d(null)})})})]})});if(c=="Camera")return r.jsx("div",{className:"relative w-full h-full overflow-hidden flex items-center justify-center",children:r.jsxs("div",{className:"w-full h-[calc(100vh-100px)] overflow-hidden animate-fadeIn mt-5 relative p-5",children:[r.jsx(dU,{}),r.jsx("div",{className:"absolute bottom-1 left-1/2 transform -translate-x-1/2 z-10 flex flex-col items-center",children:r.jsx("div",{className:"w-32 h-1 bg-white/30 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-white transition-all duration-300 ease-out cursor-pointer",onClick:()=>d(null)})})})]})});const g=[{id:"mdt",name:"MDT",icon:"",badge:1},{id:"bodycam",name:(i==null?void 0:i.text_bodycam)||"Bodycam",icon:"",badge:1},{id:"securitycamera",name:(i==null?void 0:i.text_cameras)||"Surveillance Cameras",icon:"",badge:1}];return r.jsxs("div",{className:"relative w-full h-full overflow-hidden  flex flex-col",children:[r.jsx("div",{className:"absolute w-full h-full bg-black opacity-40"}),r.jsxs("div",{className:"flex-1 relative z-10 p-6 mt-5",children:[u&&r.jsx("div",{className:"absolute inset-0 bg-black/50 z-50 flex items-center justify-center backdrop-blur-sm animate-fadeIn",children:r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-t-transparent border-white rounded-full animate-spin"}),r.jsx("p",{className:"text-white mt-4",children:"Loading..."})]})}),r.jsx("div",{className:"grid grid-cols-8 gap-y-10 gap-x-2 mt-10",children:g&&g.map(w=>{var y,b,x;return(((x=(b=(y=t==null?void 0:t.permissions)==null?void 0:y.Pages)==null?void 0:b[w.id])==null?void 0:x.view)||w.id=="mdt")&&r.jsxs("button",{className:"flex flex-col items-center transition-transform duration-200 hover:scale-105",onClick:()=>v(w.id),children:[r.jsx("div",{className:"relative",children:r.jsx("div",{className:"w-16 h-16 flex items-center justify-center bg-black/30 backdrop-blur-md rounded-xl text-3xl shadow-lg border border-white/10 transition-all duration-300 hover:bg-black/40 hover:border-white/20",children:w.icon})}),r.jsx("span",{className:"text-white text-xs mt-2 font-medium",children:w.name})]},w.id)})})]}),r.jsx("div",{className:"relative z-10 pb-2 flex justify-center",children:r.jsx("div",{className:"w-32 h-1 bg-white/50 rounded-full"})})]})}const qje=["Escape"],bK=(e,t)=>{const n=m.useRef(Wl),s=m.useRef(t);m.useEffect(()=>{n.current=e},[e]),m.useEffect(()=>{s.current=t},[t]),m.useEffect(()=>{const a=i=>{qje.includes(i.code)&&(n.current(!1),s.current&&s.current(),ke("closeMenu"))};return window.addEventListener("keyup",a),()=>window.removeEventListener("keyup",a)},[])};function Jje(){return r.jsxs("div",{className:"relative w-full h-full overflow-hidden flex flex-col items-center justify-center",children:[r.jsx("div",{className:"absolute w-full h-full bg-black opacity-60"}),r.jsxs("div",{className:"z-10 text-center mb-8",children:[r.jsx(Se,{className:"h-16 w-64 mb-2"}),r.jsx(Se,{className:"h-4 w-40"})]}),r.jsxs("div",{className:"absolute bottom-6 z-10 flex flex-col items-center",children:[r.jsxs("div",{className:"text-white/60 text-sm mb-2 flex items-center",children:[r.jsx(ns,{className:"h-4 w-4 mr-1"}),r.jsx(Se,{className:"h-4 w-32"})]}),r.jsx("div",{className:"w-32 h-1 bg-white/30 rounded-full overflow-hidden",children:r.jsx(Se,{className:"h-full w-full"})})]})]})}function Yje(){const[e,t]=m.useState("auto"),[n,s]=m.useState(!1),[a,i]=m.useState(1),[o,l]=m.useState([]),[c,d]=m.useState(!1),u=()=>{const f=`photo_${Date.now()}`;l(v=>[f,...v])};return r.jsx("div",{className:"min-h-screen",children:c?r.jsxs("div",{className:"h-screen",children:[r.jsx("div",{className:"p-4 border-b border-slate-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(Ae,{variant:"ghost",onClick:()=>d(!1),className:"text-white hover:bg-slate-800",children:[r.jsx(ja,{className:"w-5 h-5 mr-2"}),"Back to Camera"]}),r.jsx("h2",{className:"text-white text-lg font-semibold",children:"Photo Gallery"}),r.jsxs("div",{className:"text-slate-400 text-sm",children:[o.length," photos"]})]})}),r.jsx("div",{className:"p-4 overflow-y-auto h-full",children:o.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-slate-400",children:[r.jsx(Sg,{className:"w-16 h-16 mb-4 opacity-50"}),r.jsx("p",{className:"text-lg",children:"No photos yet"}),r.jsx("p",{className:"text-sm opacity-70",children:"Start taking photos to see them here"})]}):r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:o.map((f,v)=>r.jsx(Le,{className:"bg-slate-800 border-slate-700 overflow-hidden group",children:r.jsxs(Je,{className:"p-0 relative",children:[r.jsx("div",{className:"aspect-square bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:r.jsx(Sg,{className:"w-8 h-8 text-white"})}),r.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[r.jsx(Ae,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/20 p-2",children:r.jsx(Nd,{className:"w-4 h-4"})}),r.jsx(Ae,{variant:"ghost",size:"sm",onClick:()=>{l(g=>g.filter(w=>w!==f))},className:"text-white hover:bg-white/20 p-2",children:r.jsx(ms,{className:"w-4 h-4"})})]}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-2",children:r.jsxs("p",{className:"text-white text-xs font-mono",children:["Photo ",o.length-v]})})]})},f))})})]}):r.jsxs("div",{className:"relative h-screen overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0",children:r.jsxs("div",{className:"w-full h-full flex items-center justify-center relative",children:[n&&r.jsx("div",{className:"absolute inset-0 pointer-events-none",children:r.jsx("div",{className:"w-full h-full grid grid-cols-3 grid-rows-3",children:Array.from({length:9}).map((f,v)=>r.jsx("div",{className:"border border-white/20"},v))})}),r.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 pointer-events-none",children:r.jsx("div",{className:"w-16 h-16 border-2 border-white/60 rounded-lg animate-pulse"})})]})}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black/70 to-transparent",children:r.jsx("div",{className:"flex items-center justify-center",children:r.jsxs(Ae,{onClick:u,className:"w-20 h-20 rounded-full bg-white hover:bg-gray-100 p-0 relative",children:[r.jsx(yx,{className:"w-16 h-16 text-black"}),r.jsx("div",{className:"absolute inset-2 rounded-full border-2 border-black"})]})})})]})})}const zP={citizenId:"1",name:"Tony Sharma",department:"LSPD",role:"Seargent",grade:4,dutyStatus:"busy",hasManagePermission:!0,job:"unknown",permissions:{backgroundImage:"pd.png",Pages:{dashboard:{view:!0,edit:!0},citizens:{view:!0,edit:!0},reports:{view:!0,edit:!0},roaster:{view:!0,edit:!1},emsreports:{view:!0,edit:!0},incidents:{view:!0,edit:!0},vehicles:{view:!0,edit:!0},criminalcode:{view:!0,edit:!0},warrant:{view:!0,edit:!0},bodycam:{view:!0,edit:!0},medicmanagement:{view:!0,edit:!0},officermanagement:{view:!0,edit:!0},securitycamera:{view:!0,edit:!0},dispatch:{view:!0,edit:!0},weapons:{view:!0,edit:!0},dashboardems:{view:!0,edit:!0},citizensems:{view:!0,edit:!0},emsincidents:{view:!0,edit:!0},ftoreports:{view:!0,edit:!0},courts:{view:!0,edit:!0},gallery:{view:!0,edit:!0}}},callsign:"LSPD",status:"Active",totalDutyHours:0,radioChannels:[{id:1,name:"LSPD",channel:1,description:"LSPD Channel",status:"Active"},{id:2,name:"LSPD",channel:1,description:"LSPD Channel",status:"Active"},{id:3,name:"LSPD",channel:1,description:"LSPD Channel",status:"Active"},{id:4,name:"LSPD",channel:1,description:"LSPD Channel",status:"Active"},{id:5,name:"LSPD",channel:1,description:"LSPD Channel",status:"Active"},{id:6,name:"LSPD",channel:1,description:"LSPD Channel",status:"Active"},{id:7,name:"LSPD",channel:1,description:"LSPD Channel",status:"Active"},{id:8,name:"LSPD",channel:1,description:"LSPD Channel",status:"Active"}],activeOfficers:[{id:"Uhdh82722jjd",name:"John DOE 1",department:"BCSO",callsign:"388",citizenId:"ABCDF",jobLabel:"Police Officer",status:"Active",dutyStatus:"avl",job:"police",callSign:"LSPD"},{id:2,callsign:"388",name:"Officer Johnson",department:"LSPD",jobLabel:"Police Officer",status:"Active",citizenId:"2",job:"police",callSign:"LSPD-45",dutyStatus:"busy"},{id:3,name:"Officer Smith",callsign:"388",department:"LSPD",jobLabel:"Police Officer",status:"Active",citizenId:"3",job:"police",callSign:"LSPD-57",dutyStatus:"enr"},{id:4,name:"Officer Davis",department:"LSPD",citizenId:"4",jobLabel:"Police Officer",status:"Active",job:"police",callSign:"LSPD"},{id:5,name:"Officer Taylor",department:"LSPD",citizenId:"5",jobLabel:"Police Officer",status:"Active",job:"police",callSign:"LSPD"},{id:6,name:"Officer Brown",department:"LSPD",citizenId:"6",jobLabel:"Police Officer",status:"Active",job:"police",callSign:"LSPD"},{id:7,name:"Officer Wilson",department:"LSPD",citizenId:"7",jobLabel:"Police Officer",status:"Active",job:"bcso",callSign:"LSPD"},{id:8,name:"Officer Brown",department:"LSPD",jobLabel:"Police Officer",status:"Active",job:"police",callSign:"LSPD"},{id:9,name:"Officer Wilson",department:"LSPD",jobLabel:"Police Officer",status:"Active",job:"bcso",callSign:"LSPD"}],dutyRecords:[],id:null},Xje=()=>{var ce,ee,M,E;const e=Vc(),{user:t,setUser:n,setUserField:s,logos:a,setLogos:i}=Yn(),{tabs:o,setTabs:l,activeTabId:c,setActiveTabId:d,handleTabChange:u,handleAddTab:f,handleRemoveTab:v}=ko(),[g,w]=m.useState(!1),[y,b]=m.useState(new Date),{tabletData:x}=jf(),[N,S]=m.useState(!1),[k,F]=m.useState(!1),[$,U]=m.useState(!1),[D,H]=m.useState(!1),{visible:K,setVisible:B}=AG(),[R,Z]=m.useState(1),[te,ye]=m.useState(!1);m.useEffect(()=>{var q;if((q=t==null?void 0:t.permissions)!=null&&q.backgroundImage){const se=new Image;se.src=Ws(t.permissions.backgroundImage),se.onload=()=>ye(!0),se.onerror=()=>{ye(!0)}}else ye(!0)},[(ce=t==null?void 0:t.permissions)==null?void 0:ce.backgroundImage]),m.useEffect(()=>{const q=setInterval(()=>{b(new Date)},6e4);return()=>clearInterval(q)},[]),Gs("openMDT",async q=>{try{w(!0),n([]),S(!0);const se=await ke("initMDTData",{},zP);if(se){const re={...se};n(re)}else console.error("No response received."),S(!1),ke("closeMenu"),B(!1)}catch(se){console.error("Error:",se),S(!1),ke("closeMenu"),B(!1)}finally{w(!1),q&&setTimeout(()=>{Q(q)},2e3)}}),Gs("setData",async q=>{try{n([]);const se=await ke("initMDTData",{},zP);if(se){const re={...se};n(re)}else console.error("No response received."),B(!1),ke("closeMenu")}catch(se){console.error("Error:",se),B(!1),ke("closeMenu")}}),Gs("closeFullUI",async q=>{setTimeout(()=>{const se=new Event("stopRecording");document.dispatchEvent(se),ke("closeCamera"),S(!1),F(!1),U(!1),H(!1),B(!1),ke("closeMenu")},500)}),Gs("setRadioChannels",async q=>{try{if(q){let se=Array.isArray(q)?q:JSON.parse(q||"[]");s("radioChannels",se)}else console.error("No response received.")}catch(se){console.error("Error:",se)}}),Gs("setIncidents",async q=>{try{if(q){let se=Array.isArray(q)?q:JSON.parse(q||"[]");s("recentIncidents",se)}else console.error("No response received.")}catch(se){console.error("Error:",se)}}),Gs("setIncidentsAndRadio",async q=>{try{if(q){const se={...t,recentIncidents:Array.isArray(q==null?void 0:q.incidents)?q==null?void 0:q.incidents:JSON.parse((q==null?void 0:q.incidents)||"[]"),radioChannels:Array.isArray(q==null?void 0:q.radioChannels)?q==null?void 0:q.radioChannels:JSON.parse((q==null?void 0:q.radioChannels)||"[]")};n(se)}else console.error("No response received.")}catch(se){console.error("Error:",se)}}),Gs("setActiveOfficers",async q=>{try{if(q){let se=Array.isArray(q)?q:JSON.parse(q||"[]");s("activeOfficers",se)}else console.error("No response received.")}catch(se){console.error("Error:",se)}});const de=y.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}),le=q=>{q.clientY<=10?Z(.25):Z(1)},Q=q=>{q&&q.page=="vehicles"&&e(`/vehicles/${q.plate}`)};Gs("stopRecording",q=>{oe()}),Gs("showDispatch",q=>{F(q)}),Gs("showPhotoCamera",q=>{U(q)}),Gs("showBodycamPage",q=>{H(q)}),Gs("setVisible",q=>{B(q)});function oe(){S(!0),ke("closeCamera")}return bK(S,()=>{const q=new Event("stopRecording");document.dispatchEvent(q),ke("closeCamera"),S(!1),F(!1),U(!1),H(!1),B(!1)}),Gs("resetMDT",()=>{setTimeout(()=>{console.log("Resetting MDT"),S(!1),B(!1),F(!1),U(!1),n(null),l([{id:1,label:"Dashboard",path:"/dashboard"}]),d(null),e("/dashboard")},500)}),m.useEffect(()=>(window.addEventListener("mousemove",le),()=>{window.removeEventListener("mousemove",le)}),[]),r.jsxs("div",{className:"flex flex-col h-screen w-screen overflow-hidden",style:{opacity:R},children:[N&&((ee=t==null?void 0:t.permissions)==null?void 0:ee.backgroundImage)&&r.jsx(r.Fragment,{children:g?r.jsx(r.Fragment,{children:x!=null&&x.TabletTheme?r.jsx(Jje,{}):r.jsx(yK,{})}):te?r.jsx(r.Fragment,{children:r.jsx("div",{className:"flex flex-col h-full w-full overflow-hidden items-center justify-center z-50",children:r.jsxs("div",{className:"relative flex flex-col h-[96vh] w-[96vw] overflow-hidden rounded-3xl",style:{backgroundImage:`url(${Ws((M=t==null?void 0:t.permissions)==null?void 0:M.backgroundImage)})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[r.jsxs("div",{className:"h-8 bg-black flex items-center px-4 rounded-t-3xl p-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500 mr-2 cursor-pointer",onClick:()=>{const q=new Event("stopRecording");document.dispatchEvent(q),ke("closeCamera"),S(!1),F(!1),U(!1),H(!1),B(!1),ke("closeMenu")}}),r.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500 mr-2"}),r.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"})]}),x!=null&&x.TabletTheme?r.jsxs("div",{className:"relative w-full h-full",children:[r.jsxs("div",{className:"absolute top-1 left-0 right-0 px-4 flex justify-between items-center z-10 pointer-events-none",children:[r.jsx("div",{className:"text-white text-sm font-medium truncate max-w-[70%]",children:de}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(SY,{className:"h-4 w-4 text-white"}),r.jsx(qq,{className:"h-4 w-4 text-white"})]})]}),r.jsx($je,{})]}):r.jsx(wK,{})]})})}):null}),k&&r.jsx("div",{className:"fixed inset-0 flex justify-center items-center z-50 overflow-hidden",children:r.jsx("div",{className:"w-[90vw] h-[85vh] rounded-2xl shadow-xl overflow-hidden relative",children:r.jsx("div",{className:"w-full h-full",children:r.jsx(o7,{})})})}),$&&r.jsx("div",{className:"fixed inset-0 flex justify-center items-center z-50 overflow-hidden",children:r.jsx("div",{className:"w-screen h-screen rounded-2xl shadow-xl overflow-hidden relative",children:r.jsx("div",{className:"w-full h-full",children:r.jsx(Yje,{})})})}),D&&r.jsx("div",{className:"fixed inset-0 flex justify-center items-center z-50 overflow-hidden",children:r.jsx("div",{className:"w-[90vw] h-[85vh] rounded-2xl shadow-xl overflow-hidden relative p-4",style:{backgroundImage:`url(${Ws((E=t==null?void 0:t.permissions)==null?void 0:E.backgroundImage)})`},children:r.jsx("div",{className:"w-full h-full",children:r.jsx(i4,{})})})})]})},OA={components:{"car-mdt":{id:"car-mdt",name:"Vehicle Dispatch",position:{x:window.innerWidth-420,y:window.innerHeight/2-200},size:{width:400,height:500},data:{}},"dispatch-calls":{id:"dispatch-calls",name:"Dispatch Calls",position:{x:window.innerWidth-420,y:20},size:{width:400,height:800},direction:"column",data:{}},bodycam:{id:"bodycam",name:"Bodycam",position:{x:window.innerWidth-420,y:20},size:{width:320,height:140},data:{}}}},jK=m.createContext(void 0),Zje=({children:e})=>{const[t,n]=m.useState(OA),[s,a]=m.useState(!1),[i,o]=m.useState(null);m.useEffect(()=>{try{const g=localStorage.getItem("ui-settings");if(g){const w=JSON.parse(g),y={...OA,components:{...OA.components,...w.components}};n(y)}else localStorage.setItem("ui-settings",JSON.stringify(OA))}catch(g){console.error("Failed to parse saved UI settings:",g),localStorage.setItem("ui-settings",JSON.stringify(OA))}},[]),m.useEffect(()=>{if(s){o(JSON.parse(JSON.stringify(t)));const g=JSON.parse(JSON.stringify(t));n(g)}else i&&(n(i),o(null))},[s]);const l=()=>{localStorage.setItem("ui-settings",JSON.stringify(t)),o(JSON.parse(JSON.stringify(t)))},c=()=>{n(OA),localStorage.setItem("ui-settings",JSON.stringify(OA)),o(JSON.parse(JSON.stringify(OA)))},d=(g,w)=>{n(y=>{var N,S;const b=y.components[g];if(!b||((N=b.size)==null?void 0:N.width)===w.width&&((S=b.size)==null?void 0:S.height)===w.height)return y;const x={...y,components:{...y.components,[g]:{...b,size:w}}};return localStorage.setItem("ui-settings",JSON.stringify(x)),x})},u=(g,w,y,b)=>{n(x=>{var k,F;const N=x.components[g]||{id:g,name:g,position:{x:0,y:0},size:{width:300,height:200}};if(((k=N.position)==null?void 0:k.x)===w.x&&((F=N.position)==null?void 0:F.y)===w.y&&!y&&!b)return x;const S={...x,components:{...x.components,[g]:{...N,position:w,...y?{visibility:y}:{},...b?{data:b}:{}}}};return localStorage.setItem("ui-settings",JSON.stringify(S)),S})},f=(g,w)=>{n(y=>{const b=y.components[g];if(!b)return y;const x={...y,components:{...y.components,[g]:{...b,data:{...b.data||{},...w}}}};return localStorage.setItem("ui-settings",JSON.stringify(x)),x})},v=g=>{n(w=>{const y=w.components[g];if(!y)return w;const b=y.direction==="row"?"column":"row";let x=y.size||{width:400,height:600};b==="row"?x={width:Math.max(x.width,800),height:Math.min(x.height,400)}:x={width:Math.min(x.width,400),height:Math.max(x.height,600)};const N={...w,components:{...w.components,[g]:{...y,direction:b,size:x}}};return localStorage.setItem("ui-settings",JSON.stringify(N)),N})};return r.jsx(jK.Provider,{value:{settings:t,setSettings:n,isEditing:s,setIsEditing:a,saveSettings:l,resetSettings:c,updateComponentPosition:u,updateComponentSize:d,updateComponentData:f,toggleComponentDirection:v},children:e})},Wx=()=>{const e=m.useContext(jK);if(e===void 0)throw new Error("useUISettings must be used within a UISettingsProvider");return e};function NB({children:e,width:t,height:n,onResize:s,onDrag:a,position:i,isEditing:o,isVisible:l,title:c,minWidth:d=200,minHeight:u=100,maxWidth:f=window.innerWidth*.8,maxHeight:v=window.innerHeight*.8,className:g=""}){const[w,y]=m.useState(!1),[b,x]=m.useState(!1),[N,S]=m.useState({x:0,y:0}),[k,F]=m.useState({x:0,y:0,width:0,height:0}),[$,U]=m.useState({width:t,height:n}),[D,H]=m.useState(i),K=m.useRef(null),B=m.useRef(null),R=m.useRef(null);m.useEffect(()=>{!w&&!b&&(U({width:t,height:n}),H(i))},[t,n,i,w,b]);const Z=m.useCallback(le=>{B.current&&clearTimeout(B.current),B.current=setTimeout(()=>{a(le)},16)},[a]),te=m.useCallback(le=>{R.current&&clearTimeout(R.current),R.current=setTimeout(()=>{s(le)},16)},[s]),ye=le=>{!o||b||(le.preventDefault(),le.stopPropagation(),y(!0),S({x:le.clientX-D.x,y:le.clientY-D.y}))},de=le=>{!o||w||(le.preventDefault(),le.stopPropagation(),x(!0),F({x:le.clientX,y:le.clientY,width:$.width,height:$.height}))};return m.useEffect(()=>{const le=oe=>{if(w&&o&&!b){const ce=Math.max(0,Math.min(window.innerWidth-$.width,oe.clientX-N.x)),ee=Math.max(0,Math.min(window.innerHeight-$.height,oe.clientY-N.y)),M={x:ce,y:ee};H(M),Z(M)}if(b&&o&&!w){const ce=oe.clientX-k.x,ee=oe.clientY-k.y,M=Math.max(d,Math.min(f,k.width+ce)),E=Math.max(u,Math.min(v,k.height+ee)),q={width:M,height:E};U(q),te(q)}},Q=()=>{w&&(y(!1),a(D)),b&&(x(!1),s($))};return(w||b)&&(document.addEventListener("mousemove",le),document.addEventListener("mouseup",Q),document.body.style.userSelect="none"),()=>{document.removeEventListener("mousemove",le),document.removeEventListener("mouseup",Q),document.body.style.userSelect="",B.current&&clearTimeout(B.current),R.current&&clearTimeout(R.current)}},[w,b,N,k,$,D,Z,te,a,s,o,d,u,f,v]),!l&&!o?null:r.jsxs("div",{ref:K,className:`fixed ${o?"border-2 border-cyan-500 rounded-md":""} ${g} ${w?"cursor-grabbing":""} ${b?"cursor-se-resize":""}`,style:{left:D.x,top:D.y,width:$.width,height:$.height,zIndex:o?50:l?30:-1,transition:w||b?"none":"all 0.2s ease",pointerEvents:l||o?"auto":"none",opacity:l||o?1:0,visibility:l||o?"visible":"hidden"},children:[o&&r.jsxs("div",{className:`drag-handle bg-cyan-500 text-white text-xs px-2 py-1 rounded-t-md flex items-center justify-between select-none ${w?"cursor-grabbing":"cursor-grab"}`,onMouseDown:ye,children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(fS,{className:"h-3 w-3 mr-1"}),r.jsx("span",{children:c})]}),r.jsxs("div",{className:"text-[10px] bg-cyan-600 px-1 rounded",children:[Math.round($.width),"",Math.round($.height)]})]}),r.jsx("div",{className:"w-full h-full overflow-hidden",style:{borderRadius:o?"0 0 6px 6px":"12px",marginTop:0},children:e}),o&&r.jsx("div",{className:`absolute bottom-0 right-0 w-4 h-4 bg-cyan-500 flex items-center justify-center rounded-tl-md ${b?"cursor-se-resize":"cursor-se-resize hover:bg-cyan-400"}`,onMouseDown:de,children:r.jsx(sY,{className:"h-2.5 w-2.5 text-white"})})]})}const eNe=[{id:1,code:"10-31",title:"Armed Robbery",description:"Armed robbery in progress at Fleeca Bank on Great Ocean Highway",time:new Date().toISOString(),location:"Fleeca Bank, Great Ocean Highway",type:"robbery",x:0,y:0,z:0,status:"active",person:{name:"Unknown",phone:"Unknown",citizenid:"Unknown"}},{id:2,code:"10-71",title:"Shots Fired",description:"Multiple reports of shots fired in the area",time:new Date().toISOString(),location:"Legion Square",type:"violent",x:0,y:0,z:0,status:"active",weapon:{name:"Handgun"}},{id:3,code:"10-50",title:"Vehicle Accident",description:"Multi-vehicle collision with injuries reported",time:new Date().toISOString(),location:"Vinewood Boulevard",type:"accident",x:0,y:0,z:0,status:"active",vehicle:{model:"Sentinel",plate:"ABC123",color:"Black",class:"Coupe",doors:"2"}},{id:4,code:"10-66",title:"Suspicious Person",description:"Individual acting suspiciously around parked vehicles",time:new Date().toISOString(),location:"Vespucci Beach Parking",type:"suspicious",x:0,y:0,z:0,status:"active",person:{name:"Unknown",phone:"Unknown",citizenid:"Unknown"}},{id:5,code:"10-90",title:"Bank Alarm",description:"Silent alarm triggered at Pacific Standard Bank",time:new Date().toISOString(),location:"Pacific Standard Bank, Downtown",type:"alarm",x:0,y:0,z:0,status:"active"}],tNe=()=>{const[e,t]=m.useState([]),{user:n,setUserField:s}=Yn(),a=m.useRef(new Set),{settings:i,isEditing:o,updateComponentPosition:l,updateComponentSize:c}=Wx(),[d,u]=m.useState({x:0,y:0}),[f,v]=m.useState({width:400,height:600}),g=i.components["dispatch-calls"],w=(g==null?void 0:g.direction)||"column";m.useEffect(()=>{g!=null&&g.position&&u(g.position),g!=null&&g.size&&v(g.size)},[g]);const y=U=>{const D=Date.now();return U.filter(H=>{const K=D-H.receivedTime>=15e3;return K&&a.current.delete(H.clientId),!K})};m.useEffect(()=>{const U=setInterval(()=>{t(D=>y(D))},1e3);return()=>clearInterval(U)},[]);const b=U=>{const D=Math.random().toString(36).substring(2,8);return`${U.id||Date.now()}-${D}`},x=(U,D=!0)=>{const H=b(U);if(a.current.has(H))return;const K={...U,id:U.id||Date.now(),time:U.time||new Date().toISOString(),receivedTime:Date.now(),clientId:H};a.current.add(H),t(B=>{const R=B.filter(Z=>Z.id!==K.id);return[K,...R]}),D&&s("recentIncidents",[K,...(n==null?void 0:n.recentIncidents)||[]])},N=U=>{t(D=>D.filter(H=>H.clientId!==U)),a.current.delete(U)};Gs("addDispatchCall",U=>{x(U)}),Gs("showDispatchCall",U=>{x(U)});const S=U=>{u(U),l("dispatch-calls",U)},k=U=>{v(U),c("dispatch-calls",U)},F=o?eNe:e,$=e.length>0||o;return r.jsx(NB,{width:f.width,height:f.height,position:d,onDrag:S,onResize:k,isEditing:o,isVisible:$,title:`Dispatch Calls (${w==="column"?"Column":"Row"})`,minWidth:300,minHeight:200,maxWidth:w==="row"?window.innerWidth*.9:500,maxHeight:window.innerHeight*.9,children:r.jsx("div",{className:`w-full h-full ${w==="column"?"flex flex-col space-y-4":"flex flex-row space-x-4"} ${o?"p-2 bg-black/30":"p-4"} overflow-hidden z-10`,children:r.jsx(Gn,{children:F&&Array.isArray(F)&&F.map((U,D)=>r.jsxs(Xt.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.2},className:"relative flex-shrink-0",style:{width:w==="row"?"350px":"auto"},children:[o&&r.jsx("button",{onClick:()=>N(U.clientId),className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full p-0.5",title:"Remove call",children:r.jsx(mc,{className:"h-3 w-3"})}),r.jsx(h8,{call:U})]},o?D:U.clientId))})})})};var CB="ToastProvider",[_B,rNe,nNe]=Zm("Toast"),[NK,I5e]=ji("Toast",[nNe]),[sNe,_w]=NK(CB),CK=e=>{const{__scopeToast:t,label:n="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=m.useState(null),[d,u]=m.useState(0),f=m.useRef(!1),v=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${CB}\`. Expected non-empty \`string\`.`),r.jsx(_B.Provider,{scope:t,children:r.jsx(sNe,{scope:t,label:n,duration:s,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>u(g=>g+1),[]),onToastRemove:m.useCallback(()=>u(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:v,children:o})})};CK.displayName=CB;var _K="ToastViewport",iNe=["F8"],Q5="toast.viewportPause",H5="toast.viewportResume",SK=m.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:s=iNe,label:a="Notifications ({hotkey})",...i}=e,o=_w(_K,n),l=rNe(n),c=m.useRef(null),d=m.useRef(null),u=m.useRef(null),f=m.useRef(null),v=an(t,f,o.onViewportChange),g=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;m.useEffect(()=>{const b=x=>{var S;s.length!==0&&s.every(k=>x[k]||x.code===k)&&((S=f.current)==null||S.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[s]),m.useEffect(()=>{const b=c.current,x=f.current;if(w&&b&&x){const N=()=>{if(!o.isClosePausedRef.current){const $=new CustomEvent(Q5);x.dispatchEvent($),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const $=new CustomEvent(H5);x.dispatchEvent($),o.isClosePausedRef.current=!1}},k=$=>{!b.contains($.relatedTarget)&&S()},F=()=>{b.contains(document.activeElement)||S()};return b.addEventListener("focusin",N),b.addEventListener("focusout",k),b.addEventListener("pointermove",N),b.addEventListener("pointerleave",F),window.addEventListener("blur",N),window.addEventListener("focus",S),()=>{b.removeEventListener("focusin",N),b.removeEventListener("focusout",k),b.removeEventListener("pointermove",N),b.removeEventListener("pointerleave",F),window.removeEventListener("blur",N),window.removeEventListener("focus",S)}}},[w,o.isClosePausedRef]);const y=m.useCallback(({tabbingDirection:b})=>{const N=l().map(S=>{const k=S.ref.current,F=[k,...xNe(k)];return b==="forwards"?F:F.reverse()});return(b==="forwards"?N.reverse():N).flat()},[l]);return m.useEffect(()=>{const b=f.current;if(b){const x=N=>{var F,$,U;const S=N.altKey||N.ctrlKey||N.metaKey;if(N.key==="Tab"&&!S){const D=document.activeElement,H=N.shiftKey;if(N.target===b&&H){(F=d.current)==null||F.focus();return}const R=y({tabbingDirection:H?"backwards":"forwards"}),Z=R.findIndex(te=>te===D);fj(R.slice(Z+1))?N.preventDefault():H?($=d.current)==null||$.focus():(U=u.current)==null||U.focus()}};return b.addEventListener("keydown",x),()=>b.removeEventListener("keydown",x)}},[l,y]),r.jsxs(ise,{ref:c,role:"region","aria-label":a.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&r.jsx(z5,{ref:d,onFocusFromOutsideViewport:()=>{const b=y({tabbingDirection:"forwards"});fj(b)}}),r.jsx(_B.Slot,{scope:n,children:r.jsx(jr.ol,{tabIndex:-1,...i,ref:v})}),w&&r.jsx(z5,{ref:u,onFocusFromOutsideViewport:()=>{const b=y({tabbingDirection:"backwards"});fj(b)}})]})});SK.displayName=_K;var BK="ToastFocusProxy",z5=m.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...a}=e,i=_w(BK,n);return r.jsx(I1,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&s()}})});z5.displayName=BK;var $x="Toast",aNe="toast.swipeStart",oNe="toast.swipeMove",lNe="toast.swipeCancel",cNe="toast.swipeEnd",EK=m.forwardRef((e,t)=>{const{forceMount:n,open:s,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=To({prop:s,defaultProp:a??!0,onChange:i,caller:$x});return r.jsx(Na,{present:n||l,children:r.jsx(ANe,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Fi(e.onPause),onResume:Fi(e.onResume),onSwipeStart:Kt(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Kt(e.onSwipeMove,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Kt(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Kt(e.onSwipeEnd,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});EK.displayName=$x;var[dNe,uNe]=NK($x,{onClose(){}}),ANe=m.forwardRef((e,t)=>{const{__scopeToast:n,type:s="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:v,onSwipeEnd:g,...w}=e,y=_w($x,n),[b,x]=m.useState(null),N=an(t,te=>x(te)),S=m.useRef(null),k=m.useRef(null),F=a||y.duration,$=m.useRef(0),U=m.useRef(F),D=m.useRef(0),{onToastAdd:H,onToastRemove:K}=y,B=Fi(()=>{var ye;(b==null?void 0:b.contains(document.activeElement))&&((ye=y.viewport)==null||ye.focus()),o()}),R=m.useCallback(te=>{!te||te===1/0||(window.clearTimeout(D.current),$.current=new Date().getTime(),D.current=window.setTimeout(B,te))},[B]);m.useEffect(()=>{const te=y.viewport;if(te){const ye=()=>{R(U.current),d==null||d()},de=()=>{const le=new Date().getTime()-$.current;U.current=U.current-le,window.clearTimeout(D.current),c==null||c()};return te.addEventListener(Q5,de),te.addEventListener(H5,ye),()=>{te.removeEventListener(Q5,de),te.removeEventListener(H5,ye)}}},[y.viewport,F,c,d,R]),m.useEffect(()=>{i&&!y.isClosePausedRef.current&&R(F)},[i,F,y.isClosePausedRef,R]),m.useEffect(()=>(H(),()=>K()),[H,K]);const Z=m.useMemo(()=>b?LK(b):null,[b]);return y.viewport?r.jsxs(r.Fragment,{children:[Z&&r.jsx(hNe,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:Z}),r.jsx(dNe,{scope:n,onClose:B,children:Kl.createPortal(r.jsx(_B.ItemSlot,{scope:n,children:r.jsx(sse,{asChild:!0,onEscapeKeyDown:Kt(l,()=>{y.isFocusedToastEscapeKeyDownRef.current||B(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(jr.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...w,ref:N,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Kt(e.onKeyDown,te=>{te.key==="Escape"&&(l==null||l(te.nativeEvent),te.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,B()))}),onPointerDown:Kt(e.onPointerDown,te=>{te.button===0&&(S.current={x:te.clientX,y:te.clientY})}),onPointerMove:Kt(e.onPointerMove,te=>{if(!S.current)return;const ye=te.clientX-S.current.x,de=te.clientY-S.current.y,le=!!k.current,Q=["left","right"].includes(y.swipeDirection),oe=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,ce=Q?oe(0,ye):0,ee=Q?0:oe(0,de),M=te.pointerType==="touch"?10:2,E={x:ce,y:ee},q={originalEvent:te,delta:E};le?(k.current=E,P0(oNe,f,q,{discrete:!1})):VP(E,y.swipeDirection,M)?(k.current=E,P0(aNe,u,q,{discrete:!1}),te.target.setPointerCapture(te.pointerId)):(Math.abs(ye)>M||Math.abs(de)>M)&&(S.current=null)}),onPointerUp:Kt(e.onPointerUp,te=>{const ye=k.current,de=te.target;if(de.hasPointerCapture(te.pointerId)&&de.releasePointerCapture(te.pointerId),k.current=null,S.current=null,ye){const le=te.currentTarget,Q={originalEvent:te,delta:ye};VP(ye,y.swipeDirection,y.swipeThreshold)?P0(cNe,g,Q,{discrete:!0}):P0(lNe,v,Q,{discrete:!0}),le.addEventListener("click",oe=>oe.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),hNe=e=>{const{__scopeToast:t,children:n,...s}=e,a=_w($x,t),[i,o]=m.useState(!1),[l,c]=m.useState(!1);return pNe(()=>o(!0)),m.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:r.jsx(Xm,{asChild:!0,children:r.jsx(I1,{...s,children:i&&r.jsxs(r.Fragment,{children:[a.label," ",n]})})})},fNe="ToastTitle",IK=m.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(jr.div,{...s,ref:t})});IK.displayName=fNe;var mNe="ToastDescription",TK=m.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(jr.div,{...s,ref:t})});TK.displayName=mNe;var kK="ToastAction",PK=m.forwardRef((e,t)=>{const{altText:n,...s}=e;return n.trim()?r.jsx(FK,{altText:n,asChild:!0,children:r.jsx(SB,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${kK}\`. Expected non-empty \`string\`.`),null)});PK.displayName=kK;var DK="ToastClose",SB=m.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e,a=uNe(DK,n);return r.jsx(FK,{asChild:!0,children:r.jsx(jr.button,{type:"button",...s,ref:t,onClick:Kt(e.onClick,a.onClose)})})});SB.displayName=DK;var FK=m.forwardRef((e,t)=>{const{__scopeToast:n,altText:s,...a}=e;return r.jsx(jr.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:t})});function LK(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),gNe(s)){const a=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=s.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...LK(s))}}),t}function P0(e,t,n,{discrete:s}){const a=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?yS(a,i):a.dispatchEvent(i)}var VP=(e,t,n=0)=>{const s=Math.abs(e.x),a=Math.abs(e.y),i=s>a;return t==="left"||t==="right"?i&&s>n:!i&&a>n};function pNe(e=()=>{}){const t=Fi(e);Zi(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[t])}function gNe(e){return e.nodeType===e.ELEMENT_NODE}function xNe(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function fj(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var vNe=CK,RK=SK,OK=EK,MK=IK,UK=TK,QK=PK,HK=SB;const yNe=vNe,zK=m.forwardRef(({className:e,...t},n)=>r.jsx(RK,{ref:n,className:Tt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));zK.displayName=RK.displayName;const wNe=u1("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),VK=m.forwardRef(({className:e,variant:t,...n},s)=>r.jsx(OK,{ref:s,className:Tt(wNe({variant:t}),e),...n}));VK.displayName=OK.displayName;const bNe=m.forwardRef(({className:e,...t},n)=>r.jsx(QK,{ref:n,className:Tt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));bNe.displayName=QK.displayName;const KK=m.forwardRef(({className:e,...t},n)=>r.jsx(HK,{ref:n,className:Tt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(mc,{className:"h-4 w-4"})}));KK.displayName=HK.displayName;const WK=m.forwardRef(({className:e,...t},n)=>r.jsx(MK,{ref:n,className:Tt("text-sm font-semibold",e),...t}));WK.displayName=MK.displayName;const $K=m.forwardRef(({className:e,...t},n)=>r.jsx(UK,{ref:n,className:Tt("text-sm opacity-90",e),...t}));$K.displayName=UK.displayName;function jNe(){const{toasts:e}=ys();return r.jsxs(yNe,{children:[e.map(function({id:t,title:n,description:s,action:a,...i}){return r.jsxs(VK,{...i,children:[r.jsxs("div",{className:"grid gap-1",children:[n&&r.jsx(WK,{children:n}),s&&r.jsx($K,{children:s})]}),a,r.jsx(KK,{})]},t)}),r.jsx(zK,{})]})}function NNe(){const[e,t]=m.useState(new Date().toLocaleTimeString()),[n,s]=m.useState(!0),[a,i]=m.useState(!1),[o,l]=m.useState(null),{locale:c}=ir(),{settings:d,isEditing:u,updateComponentPosition:f,updateComponentSize:v}=Wx(),[g,w]=m.useState({x:0,y:0}),[y,b]=m.useState({width:320,height:140}),x=d.components.bodycam;m.useEffect(()=>{x!=null&&x.position&&w(x.position),x!=null&&x.size&&b(x.size)},[x]),Gs("toggleBodycamUI",F=>{i(F.visible),l(F.data)}),m.useEffect(()=>{const F=setInterval(()=>{t(new Date().toLocaleTimeString())},1e3),$=setInterval(()=>{s(U=>!U)},500);return()=>{clearInterval(F),clearInterval($)}},[]);const N=F=>{w(F),f("bodycam",F)},S=F=>{b(F),v("bodycam",F)},k=a||u;return r.jsx(r.Fragment,{children:(u||a)&&r.jsx(NB,{width:y.width,height:y.height,position:g,onDrag:N,onResize:S,isEditing:u,isVisible:k,title:"Bodycam",minWidth:280,minHeight:120,maxWidth:500,maxHeight:300,children:r.jsxs(Le,{className:"flex bg-black/60 text-white rounded-xl border border-white/10 w-full h-full justify-between flex-col",style:{padding:`${Math.max(8,Math.min(16,y.width*.05))}px`},children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(yx,{className:Tt("text-red-500 transition-all",n?"opacity-100":"opacity-30"),fill:"currentColor",style:{width:`${Math.max(12,Math.min(16,y.width*.04))}px`,height:`${Math.max(12,Math.min(16,y.width*.04))}px`}}),r.jsx("span",{className:"font-medium text-red-400",style:{fontSize:`${Math.max(10,Math.min(14,y.width*.035))}px`},children:(c==null?void 0:c.text_recording)||"Recording"})]}),r.jsx("span",{className:"text-gray-300",style:{fontSize:`${Math.max(10,Math.min(14,y.width*.035))}px`},children:(c==null?void 0:c.text_live)||"LIVE"})]}),r.jsxs("div",{className:"flex flex-row w-full justify-between items-center flex-1",children:[r.jsxs("div",{className:"flex flex-col justify-center flex-1 min-w-0",children:[r.jsx("p",{className:"text-gray-300 truncate",style:{fontSize:`${Math.max(12,Math.min(16,y.width*.04))}px`},children:r.jsxs("strong",{children:[(o==null?void 0:o.department)||"Unknown"," - ",(o==null?void 0:o.rank)||"Rank"]})}),r.jsx("p",{className:"text-gray-300 truncate",style:{fontSize:`${Math.max(12,Math.min(16,y.width*.04))}px`},title:(o==null?void 0:o.name)||"Name",children:(o==null?void 0:o.name)||"Name"}),r.jsx("span",{className:"opacity-75",style:{fontSize:`${Math.max(10,Math.min(12,y.width*.03))}px`},children:e||"00:00:00"})]}),r.jsx("div",{className:"flex items-center justify-center ml-2",children:r.jsx("img",{src:Ws("axon.png")||"/placeholder.svg",className:"object-contain",style:{width:`${Math.max(32,Math.min(64,y.width*.15))}px`,height:`${Math.max(32,Math.min(64,y.width*.15))}px`},alt:"Axon logo"})})]})]})})})}const CNe=()=>(m.useEffect(()=>{const e=Object.defineProperties(new Error,{message:{get(){ke(GetParentResourceName(),{})}},toString:{value(){var t;(t=new Error().stack)!=null&&t.includes("toString@")}}});console.log(e)},[]),null),_Ne={incidents:[{id:1,code:"10-91",title:"Suspicious Activity",description:"Suspicious activity at 123 Main St",time:"2024-01-01 12:00:00",location:"123 Main St",type:"suspicious",x:0,y:0,z:0,status:"active",units:"Unit 1, Unit 2",vehicle:{model:"Police Cruiser",plate:"123ABC",color:"Blue",class:"Sedan",doors:"4"},weapon:{name:"Handgun"},person:{name:"John Doe",phone:"123-456-7890",citizenid:"123456789"}},{id:2,code:"10-91",title:"Suspicious Activity",description:"Suspicious activity at 123 Main St",time:"2024-01-01 12:00:00",location:"123 Main St",type:"suspicious",x:0,y:0,z:0,status:"active",units:"Unit 3, Unit 4",vehicle:{model:"Police Cruiser",plate:"456DEF",color:"Blue",class:"Sedan",doors:"4"},weapon:{name:"Rifle"},person:{name:"Jane Doe",phone:"987-654-3210",citizenid:"987654321"}},{id:3,code:"10-91",title:"Suspicious Activity",description:"Suspicious activity at 123 Main St",time:"2024-01-01 12:00:00",location:"123 Main St",type:"suspicious",x:0,y:0,z:0,status:"active",units:"Unit 5, Unit 6",vehicle:{model:"Police Cruiser",plate:"789GHI",color:"Blue",class:"Sedan",doors:"4"},weapon:{name:"Taser"},person:{name:"Bob Smith",phone:"555-555-5555",citizenid:"555555555"}},{id:4,code:"10-91",title:"Suspicious Activity",description:"Suspicious activity at 123 Main St",time:"2024-01-01 12:00:00",location:"123 Main St",type:"suspicious",x:0,y:0,z:0,status:"active",units:"Unit 7, Unit 8",vehicle:{model:"Police Cruiser",plate:"JKL012",color:"Blue",class:"Sedan",doors:"4"},weapon:{name:"Pepper Spray"},person:{name:"Alice Johnson",phone:"666-666-6666",citizenid:"666666666"}},{id:5,code:"10-91",title:"Suspicious Activity",description:"Suspicious activity at 123 Main St",time:"2024-01-01 12:00:00",location:"123 Main St",type:"suspicious",x:0,y:0,z:0,status:"active",units:"Unit 9, Unit 10",vehicle:{model:"Police Cruiser",plate:"MNO345",color:"Blue",class:"Sedan",doors:"4"},weapon:{name:"Batton"},person:{name:"Michael Brown",phone:"777-777-7777",citizenid:"777777777"}}]};function SNe(){var Oe;const{toast:e}=ys(),{user:t,setUserField:n,setUser:s,toggleUserDuty:a}=Yn(),[i,o]=m.useState((t==null?void 0:t.dutyStatus)||"avl"),{locale:l}=ir(),[c,d]=m.useState(!1),{settings:u,isEditing:f,updateComponentPosition:v,updateComponentSize:g}=Wx(),[w,y]=m.useState([]),[b,x]=m.useState(null),[N,S]=m.useState("details"),[k,F]=m.useState("--"),[$,U]=m.useState("--"),[D,H]=m.useState(!1),[K,B]=m.useState(!1),[R,Z]=m.useState(!1),[te,ye]=m.useState(!1),[de,le]=m.useState(!0),[Q,oe]=m.useState(!0),[ce,ee]=m.useState(!0),[M,E]=m.useState(!0),[q,se]=m.useState(!1),[re,G]=m.useState({x:0,y:0}),[ue,ie]=m.useState({width:320,height:400}),[Ee,He]=m.useState({}),rt=u.components["car-mdt"],[we,Ve]=m.useState("closed");Gs("carMDT",_e=>{typeof _e=="boolean"?(d(_e),Ve(_e?"vehicle":"closed")):(d(_e.open),Ve(_e.mode||"closed"))}),m.useEffect(()=>{rt&&(rt.position&&G(rt.position),rt.size&&ie(rt.size),we==="foot"?(le(!1),oe(!0),ee(!1),E(!1)):we==="vehicle"&&(rt.visibility?(le(rt.visibility.showMap??!0),oe(rt.visibility.showIncidents??!0),ee(rt.visibility.showPlateReader??!0),E(rt.visibility.showStatusCard??!0)):(le(!0),oe(!0),ee(!0),E(!0))),rt.data&&He(rt.data))},[rt,we]),Gs("updateFrontCar",_e=>{D||(_e.wanted?(H(!0),F(_e.plate),Z(!0),setTimeout(()=>{H(!1),Z(!1)},1e4)):(F(_e.plate),H(!1),Z(!1)))}),Gs("updateRearCar",_e=>{K||(_e.wanted?(B(!0),U(_e.plate),ye(!0),setTimeout(()=>{B(!1),ye(!1)},1e4)):(U(_e.plate),B(!1),ye(!1)))}),Gs("nextIncident",()=>{if(b&&w.length>0){const nt=(w.findIndex(ut=>ut.id===b.id)+1)%w.length;x(w[nt])}}),Gs("previousIncident",()=>{if(b&&w.length>0){const _e=w.findIndex(ut=>ut.id===b.id),nt=_e===0?w.length-1:_e-1;x(w[nt])}}),Gs("respondAttachment",()=>{je()}),m.useEffect(()=>{o((t==null?void 0:t.dutyStatus)||"avl")},[t==null?void 0:t.dutyStatus]),m.useEffect(()=>{c&&(async()=>{try{const nt=await ke("getActiveIncidents",{},_Ne);nt!=null&&nt.incidents&&Array.isArray(nt==null?void 0:nt.incidents)?(n("recentIncidents",nt.incidents),nt.incidents.length>0&&x(nt.incidents[0])):console.warn("No incidents found in response.")}catch(nt){console.error("Error fetching incidents:",nt)}})()},[s,c]),m.useEffect(()=>{if(t!=null&&t.recentIncidents){const nt=[...t.recentIncidents].sort((jt,zt)=>{const Be=new Date(`${jt.time}`).getTime();return new Date(`${zt.time}`).getTime()-Be});y(nt);const ut=nt[0];ut&&x(ut)}},[t==null?void 0:t.recentIncidents]);const Re=async _e=>{const nt=await ke("setUnitStatus",{status:_e});nt&&nt.success&&(o(_e),n("dutyStatus",_e))},je=async()=>{if(b)try{const _e={callsign:t==null?void 0:t.callsign,citizenid:t==null?void 0:t.citizenId,name:t==null?void 0:t.name},nt=await ke("attachUnitToIncident",{incident:b,unitData:_e,type:"car"});if(!(nt!=null&&nt.success)){e({title:"Error",description:(nt==null?void 0:nt.message)||"Unable to attach"});return}s(zt=>({...zt,radioChannels:nt.radioChannels,recentIncidents:nt.incidents})),e({title:(l==null?void 0:l.text_unit_attached)||"Unit Attached",description:(l==null?void 0:l.text_successfully_attached)||"You have successfully attached to the incident."});const ut={x:b.x,y:b.y,z:b.z},jt=await ke("setWaypoint",ut);jt!=null&&jt.success?e({title:(l==null?void 0:l.text_set_waypoint)||"Waypoint Set",description:(l==null?void 0:l.text_set_waypoint_description)||"The waypoint has been set to the incident location."}):console.error("Failed to set waypoint.")}catch(_e){console.error("Error in handleRespond:",_e)}},Mt=b!==null,Bt=()=>de&&Q?!Mt&&Q?ce||M?"grid-rows-[3fr_1fr_1fr]":"grid-rows-[4fr_1fr]":ce||M?"grid-rows-[2fr_2fr_1fr]":"grid-rows-[1fr_1fr]":de&&!Q?ce||M?"grid-rows-[3fr_1fr]":"grid-rows-[1fr]":!de&&Q?Mt?ce||M?"grid-rows-[3fr_1fr]":"grid-rows-[1fr]":ce||M?"grid-rows-[1fr_1fr]":"grid-rows-[1fr]":!de&&!Q&&(ce||M)?"grid-rows-[1fr]":"grid-rows-[2fr_2fr_1fr]",ct=()=>i==="clr"?(l==null?void 0:l.text_cleared)||"Cleared":i==="enr"?(l==null?void 0:l.text_enroute)||"En Route":i==="avl"?(l==null?void 0:l.text_available)||"Available":i==="busy"?(l==null?void 0:l.text_busy)||"Busy":(l==null?void 0:l.text_unknown)||"Unknown",vt=_e=>{G(_e),v("car-mdt",_e,{showMap:de,showIncidents:Q,showPlateReader:ce,showStatusCard:M},Ee)},wt=_e=>{ie(_e),g("car-mdt",_e)},Fe=c||f;return r.jsx(r.Fragment,{children:(f||c)&&r.jsx(NB,{width:ue.width,height:ue.height,position:re,onDrag:vt,onResize:wt,isEditing:f,isVisible:Fe,title:"Vehicle Dispatch",minWidth:280,minHeight:300,maxWidth:600,maxHeight:window.innerHeight*.9,children:r.jsxs("div",{className:"relative bg-black rounded-2xl overflow-hidden shadow-[0_0_25px_rgba(0,0,0,0.3)] transition-all duration-300 border border-white/10 w-full h-full z-15",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900/70 via-slate-800/60 to-slate-900/70 z-0"}),r.jsx("div",{className:"absolute -top-10 -right-10 w-20 h-20 bg-cyan-500/20 rounded-full blur-2xl"}),r.jsx("div",{className:"absolute -bottom-10 -left-10 w-20 h-20 bg-violet-500/20 rounded-full blur-2xl"}),r.jsx("button",{onClick:()=>se(!q),className:"absolute top-2 right-2 z-50 bg-black/50 border-2 border-white p-1.5 rounded-full hover:bg-white/20 transition-all duration-300 shadow-lg",children:r.jsx(pS,{className:"h-3.5 w-3.5 text-white/80"})}),q&&r.jsx("div",{className:"absolute inset-0 bg-black/80 z-40 flex items-center justify-center",children:r.jsxs("div",{className:"bg-slate-900/90 rounded-xl p-4 w-4/5 max-w-md border border-white/10 shadow-[0_0_25px_rgba(0,0,0,0.3)]",children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsxs("h3",{className:"text-white text-sm font-medium tracking-wide",children:["MDT SETTINGS ",we==="foot"&&"(LIMITED - ON FOOT)"]}),r.jsx("button",{onClick:()=>se(!1),className:"text-white/60 hover:text-white/90",children:r.jsx(mc,{className:"h-3.5 w-3.5"})})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-white/80 text-xs",children:"Map Display"}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:de,onChange:()=>le(!de),disabled:we==="foot",className:"sr-only peer"}),r.jsx("div",{className:`w-8 h-4 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-3 after:w-3 after:transition-all ${we==="foot"?"bg-slate-600/30 cursor-not-allowed":"bg-slate-700/50 peer-checked:bg-gradient-to-r peer-checked:from-cyan-500 peer-checked:to-violet-500"}`})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-white/80 text-xs",children:"Incident Feed"}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:Q,onChange:()=>oe(!Q),disabled:we==="foot",className:"sr-only peer"}),r.jsx("div",{className:`w-8 h-4 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-3 after:w-3 after:transition-all ${we==="foot"?"bg-slate-600/30 cursor-not-allowed":"bg-slate-700/50 peer-checked:bg-gradient-to-r peer-checked:from-cyan-500 peer-checked:to-violet-500"}`})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-white/80 text-xs",children:"Plate Scanner"}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:ce,onChange:()=>ee(!ce),disabled:we==="foot",className:"sr-only peer"}),r.jsx("div",{className:`w-8 h-4 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-3 after:w-3 after:transition-all ${we==="foot"?"bg-slate-600/30 cursor-not-allowed":"bg-slate-700/50 peer-checked:bg-gradient-to-r peer-checked:from-cyan-500 peer-checked:to-violet-500"}`})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-white/80 text-xs",children:"Status Monitor"}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:M,onChange:()=>E(!M),disabled:we==="foot",className:"sr-only peer"}),r.jsx("div",{className:`w-8 h-4 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-3 after:w-3 after:transition-all ${we==="foot"?"bg-slate-600/30 cursor-not-allowed":"bg-slate-700/50 peer-checked:bg-gradient-to-r peer-checked:from-cyan-500 peer-checked:to-violet-500"}`})]})]})]}),we==="foot"&&r.jsx("div",{className:"mt-3 p-2 bg-amber-500/10 border border-amber-500/20 rounded-md",children:r.jsx("p",{className:"text-amber-400/80 text-[10px] text-center",children:"Settings are limited while on foot. Enter an emergency vehicle for full MDT access."})}),r.jsx("button",{onClick:()=>{we!=="foot"&&v("car-mdt",re,{showMap:de,showIncidents:Q,showPlateReader:ce,showStatusCard:M},Ee),se(!1)},disabled:we==="foot",className:`mt-4 w-full py-1.5 rounded-md transition-all duration-300 text-xs font-medium tracking-wide ${we==="foot"?"bg-slate-600/30 text-white/40 cursor-not-allowed":"bg-gradient-to-r from-cyan-500 to-violet-500 hover:from-cyan-600 hover:to-violet-600 text-white shadow-[0_2px_10px_rgba(79,70,229,0.3)]"}`,children:we==="foot"?"SETTINGS LOCKED":"APPLY SETTINGS"})]})}),r.jsxs("div",{className:Tt("absolute inset-1 bg-black/20  rounded-xl border border-white/10 p-1.5 grid grid-cols-3 gap-1.5 h-full z-10",Bt()),children:[de&&r.jsxs("div",{className:"col-span-3 bg-black/30 rounded-xl border border-white/10 relative overflow-hidden transition-all duration-300 h-full group",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent z-10 pointer-events-none"}),r.jsx(A8,{}),r.jsx("div",{className:"absolute bottom-1.5 right-1.5 z-20 bg-black/40  rounded-lg p-1 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:r.jsx(mS,{className:"h-3 w-3 text-white/70"})})]}),Q&&r.jsx("div",{className:Tt("col-span-3 bg-black/30  rounded-xl border border-white/10 flex flex-col transition-all duration-300 h-full",!Mt&&"min-h-[70px]"),children:r.jsxs("div",{className:"flex-1 min-h-0 overflow-hidden",children:[r.jsxs("div",{className:"bg-gradient-to-r from-slate-800/80 to-slate-900/80  px-2.5 py-1 flex justify-between items-center border-b border-white/10 rounded-t-xl",children:[r.jsx("span",{className:"text-white/90 text-[12px] font-medium tracking-wide",children:"INCIDENT FEED"}),b&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsxs(ze,{variant:"outline",className:"bg-white/5  text-white/80 text-[9px] py-0 h-3.5 px-1 border-white/10",children:["#",b==null?void 0:b.id]}),r.jsx(ze,{variant:"outline",className:"bg-gradient-to-r from-cyan-500/20 to-violet-500/20  text-white/90 text-[9px] py-0 h-3.5 px-1 border-white/10",children:b==null?void 0:b.code})]})]}),b?r.jsx("div",{className:"p-0",children:r.jsxs(ea,{defaultValue:"details",className:"w-full",value:N,onValueChange:S,children:[r.jsxs(ta,{className:"grid grid-cols-3 h-6 bg-black/30  p-0.5 rounded-none",children:[r.jsx(Fr,{value:"details",className:"text-[10px] h-5 data-[state=active]:bg-gradient-to-r data-[state=active]:from-cyan-500/20 data-[state=active]:to-violet-500/20 data-[state=active]: data-[state=active]:text-white/90 text-white/60 rounded-sm",children:"Details"}),r.jsx(Fr,{value:"person",className:"text-[10px] h-5 data-[state=active]:bg-gradient-to-r data-[state=active]:from-cyan-500/20 data-[state=active]:to-violet-500/20 data-[state=active]: data-[state=active]:text-white/90 text-white/60 rounded-sm",children:"Person"}),r.jsx(Fr,{value:"vehicle",className:"text-[10px] h-5 data-[state=active]:bg-gradient-to-r data-[state=active]:from-cyan-500/20 data-[state=active]:to-violet-500/20 data-[state=active]: data-[state=active]:text-white/90 text-white/60 rounded-sm",children:"Vehicle"})]}),r.jsxs(Rr,{value:"details",className:"p-2 space-y-1.5 mt-0",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ze,{className:"bg-gradient-to-r from-rose-500/20 to-red-500/20  text-white/90 border-white/10 text-[12px] py-0 h-4 px-1.5",children:b==null?void 0:b.title}),(b==null?void 0:b.weapon)&&r.jsxs(ze,{className:"bg-gradient-to-r from-amber-500/20 to-orange-500/20  text-white/90 border-white/10 text-[12px] py-0 h-4 px-1.5 flex items-center gap-1",children:[r.jsx(cs,{className:"h-2.5 w-2.5"})," Armed"]})]}),r.jsxs("div",{className:"space-y-1 text-[12px]",children:[r.jsxs("div",{className:"flex items-center gap-1.5 text-white/80",children:[r.jsx(Mi,{className:"h-2.5 w-2.5 text-white/60"}),r.jsx("span",{className:"font-medium",children:b==null?void 0:b.time})]}),r.jsxs("div",{className:"flex items-center gap-1.5 text-white/80",children:[r.jsx(qs,{className:"h-2.5 w-2.5 text-white/60"}),r.jsx("span",{className:"font-medium",children:b==null?void 0:b.location})]}),(b==null?void 0:b.description)&&r.jsxs("div",{className:"flex items-start gap-1.5 text-white/80 mt-1",children:[r.jsx(ba,{className:"h-2.5 w-2.5 text-white/60 mt-0.5"}),r.jsx("span",{className:"font-medium leading-tight",children:b==null?void 0:b.description})]}),(b==null?void 0:b.units)&&r.jsxs("div",{className:"flex items-center gap-1.5 text-white/80 mt-1",children:[r.jsx(vl,{className:"h-2.5 w-2.5 text-white/60"}),r.jsx("span",{className:"font-medium",children:t!=null&&t.radioChannels?((Oe=t.radioChannels.find(_e=>_e.id===(b==null?void 0:b.units)))==null?void 0:Oe.name)||"Unknown":"Loading..."})]})]})]}),r.jsx(Rr,{value:"person",className:"p-2 space-y-1.5 mt-0",children:b!=null&&b.person?r.jsxs("div",{className:"space-y-1.5 bg-white/5  p-2 rounded-lg border border-white/10",children:[r.jsxs("div",{className:"flex items-center gap-1.5 text-white/80 text-[12px]",children:[r.jsx(ri,{className:"h-2.5 w-2.5 text-white/60"}),r.jsx("span",{className:"font-medium",children:b==null?void 0:b.person.name})]}),r.jsxs("div",{className:"flex items-center gap-1.5 text-white/80 text-[12px]",children:[r.jsx(wx,{className:"h-2.5 w-2.5 text-white/60"}),r.jsx("span",{className:"font-medium",children:b==null?void 0:b.person.phone})]}),r.jsxs("div",{className:"flex items-center gap-1.5 text-white/80 text-[12px]",children:[r.jsx(hS,{className:"h-2.5 w-2.5 text-white/60"}),r.jsxs("span",{className:"font-medium",children:["ID: ",b==null?void 0:b.person.citizenid]})]})]}):r.jsx("div",{className:"flex items-center justify-center h-12",children:r.jsx("span",{className:"text-white/50 text-[12px]",children:"No person information"})})}),r.jsxs(Rr,{value:"vehicle",className:"p-2 space-y-1.5 mt-0",children:[b!=null&&b.vehicle?r.jsxs("div",{className:"space-y-1.5 bg-white/5  p-2 rounded-lg border border-white/10",children:[r.jsxs("div",{className:"flex items-center gap-1.5 text-white/80 text-[12px]",children:[r.jsx(Di,{className:"h-2.5 w-2.5 text-white/60"}),r.jsx("span",{className:"font-medium",children:b==null?void 0:b.vehicle.model})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-x-2 gap-y-1 text-[12px] text-white/80",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"font-medium text-white/60",children:"Plate:"})," ",b==null?void 0:b.vehicle.plate]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"font-medium text-white/60",children:"Color:"})," ",b==null?void 0:b.vehicle.color]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"font-medium text-white/60",children:"Class:"})," ",b==null?void 0:b.vehicle.class]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"font-medium text-white/60",children:"Doors:"})," ",b==null?void 0:b.vehicle.doors]})]})]}):r.jsx("div",{className:"flex items-center justify-center h-12",children:r.jsx("span",{className:"text-white/50 text-[12px]",children:"No vehicle information"})}),(b==null?void 0:b.weapon)&&r.jsx("div",{className:"space-y-1 bg-gradient-to-r from-rose-500/10 to-red-500/10  p-2 rounded-lg mt-2 border border-white/10",children:r.jsxs("div",{className:"flex items-center gap-1.5 text-white/90 text-[12px]",children:[r.jsx(bY,{className:"h-2.5 w-2.5 text-rose-400/80"}),r.jsxs("span",{className:"font-medium",children:["Weapon: ",b==null?void 0:b.weapon.name]})]})})]})]})}):r.jsx("div",{className:"flex w-full h-full items-center justify-center",children:r.jsx("p",{className:"text-white/50 text-[12px]",children:"No active incident"})})]})}),(ce||M)&&r.jsxs(r.Fragment,{children:[ce&&r.jsxs("div",{className:Tt("bg-black/30  rounded-xl border border-white/10 gap-1 flex transition-all duration-300 p-1.5 h-full",M?"col-span-2 flex-col":"col-span-3 flex-col items-center justify-around"),children:[r.jsxs("div",{className:Tt("relative flex justify-center",M?"w-full h-1/2":"w-full h-full"),children:[r.jsx("div",{className:Tt("absolute top-0 left-0 w-full h-full rounded-lg z-0",R?"bg-red-600/30 animate-pulse":"bg-gradient-to-r from-cyan-500/10 to-violet-500/10")}),r.jsxs("div",{className:"absolute top-0 left-0 w-full h-full flex flex-col justify-center items-center z-10",children:[r.jsx(j3,{className:"h-2.5 w-2.5 text-white/40 mb-0.5"}),r.jsx("p",{className:Tt("font-medium text-xs tracking-wider",R?"text-red-400":"text-white"),children:k}),r.jsx("p",{className:"text-white/50 text-[8px] mt-0.5",children:"FRONT SCANNER"})]})]}),r.jsxs("div",{className:Tt("relative flex justify-center",M?"w-full h-1/2":"w-full h-full"),children:[r.jsx("div",{className:Tt("absolute top-0 left-0 w-full h-full rounded-lg z-0",te?"bg-red-600/30 animate-pulse":"bg-gradient-to-r from-cyan-500/10 to-violet-500/10")}),r.jsxs("div",{className:"absolute top-0 left-0 w-full h-full flex flex-col justify-center items-center z-10",children:[r.jsx(j3,{className:"h-2.5 w-2.5 text-white/40 mb-0.5"}),r.jsx("p",{className:Tt("font-medium text-xs tracking-wider",te?"text-red-400":"text-white"),children:$}),r.jsx("p",{className:"text-white/50 text-[8px] mt-0.5",children:"REAR SCANNER"})]})]})]}),M&&r.jsxs("div",{className:Tt("bg-black/30  rounded-xl border border-white/10 flex flex-col transition-all duration-300 h-full",ce?"col-span-1":"col-span-3"),children:[r.jsx("div",{className:"bg-gradient-to-r from-slate-800/80 to-slate-900/80  px-2.5 py-1 text-center text-white/90 text-[9px] font-medium tracking-wide border-b border-white/10 rounded-t-xl",children:"STATUS MONITOR"}),r.jsx("div",{className:"flex-1 flex items-center justify-center p-1",children:r.jsxs("div",{className:"grid grid-cols-4 w-full gap-0.5",children:[r.jsx("button",{onClick:()=>Re("clr"),className:Tt("h-6 flex items-center rounded-l-md justify-center text-[9px] font-medium transition-all duration-300",i==="clr"?"bg-gradient-to-r from-cyan-500 to-cyan-600 text-white shadow-[0_2px_8px_rgba(6,182,212,0.3)]":"bg-white/5 text-white/60 hover:bg-white/10"),children:"CLR"}),r.jsx("button",{onClick:()=>Re("enr"),className:Tt("h-6 flex items-center justify-center text-[9px] font-medium transition-all duration-300",i==="enr"?"bg-gradient-to-r from-emerald-500 to-emerald-600 text-white shadow-[0_2px_8px_rgba(16,185,129,0.3)]":"bg-white/5 text-white/60 hover:bg-white/10"),children:"ENR"}),r.jsx("button",{onClick:()=>Re("avl"),className:Tt("h-6 flex items-center justify-center text-[9px] font-medium transition-all duration-300",i==="avl"?"bg-gradient-to-r from-amber-500 to-amber-600 text-white shadow-[0_2px_8px_rgba(245,158,11,0.3)]":"bg-white/5 text-white/60 hover:bg-white/10"),children:"AVL"}),r.jsx("button",{onClick:()=>Re("busy"),className:Tt("h-6 flex rounded-r-md items-center justify-center text-[9px] font-medium transition-all duration-300",i==="busy"?"bg-gradient-to-r from-red-500 to-red-600 text-white shadow-[0_2px_8px_rgba(245,158,11,0.3)]":"bg-white/5 text-white/60 hover:bg-white/10"),children:"BUSY"})]})}),r.jsx("div",{className:"bg-gradient-to-r from-slate-800/40 to-slate-900/40  p-1 text-center text-white/80 text-[8px] tracking-wide border-t border-white/10 rounded-b-xl",children:ct()})]})]})]})]})})})}const BNe=()=>{const{settings:e,isEditing:t,setIsEditing:n,saveSettings:s,resetSettings:a,toggleComponentDirection:i,updateComponentData:o}=Wx(),[l,c]=m.useState(!1),[d,u]=m.useState({});return Gs("openUIEditor",f=>{c(f)}),m.useEffect(()=>{const f=v=>{v.key==="Escape"&&l&&(c(!1),n(!1),ke("closeUIEditor",{}))};return window.addEventListener("keydown",f),()=>{window.removeEventListener("keydown",f),n(!1)}},[l]),m.useEffect(()=>{const f={};Object.entries(e.components).forEach(([v,g])=>{f[v]=g.data||{}}),u(f)},[e]),r.jsx("div",{className:"fixed bottom-6 left-6 z-[9999]",children:r.jsx(Gn,{mode:"wait",children:l&&r.jsxs(Xt.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},transition:{duration:.2},className:"bg-zinc-900/95 text-white p-5 rounded-2xl w-80 border border-zinc-800",children:[r.jsxs("div",{className:"flex justify-between items-center mb-5",children:[r.jsxs("h3",{className:"font-medium text-lg flex items-center gap-2",children:[r.jsx(pS,{className:"h-4 w-4 text-violet-400"}),"UI Editor"]}),r.jsx("button",{onClick:()=>{c(!1),n(!1),ke("closeUIEditor",{})},className:"text-zinc-400 hover:text-white transition-colors p-1.5 hover:bg-zinc-800/50 rounded-full",title:"Close",children:r.jsx(mc,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"space-y-5",children:[r.jsxs("div",{className:"flex items-center justify-between bg-zinc-800/50 p-3 rounded-xl",children:[r.jsx("span",{className:"text-sm font-medium",children:"Edit Mode"}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:t,onChange:()=>n(!t),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-zinc-700 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-violet-500/30 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-zinc-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-violet-600"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"text-xs uppercase text-zinc-400 font-semibold tracking-wider",children:"Components"}),r.jsx("div",{className:"space-y-2 max-h-[240px] overflow-y-auto pr-1 scrollbar-thin scrollbar-thumb-zinc-700 scrollbar-track-transparent",children:Object.entries(e.components).map(([f,v])=>r.jsxs(Xt.div,{className:"bg-zinc-800/70 p-3 rounded-xl border border-zinc-700/50 hover:border-zinc-700 transition-colors",whileHover:{scale:1.01},transition:{type:"spring",stiffness:400,damping:10},children:[r.jsx("div",{className:"flex items-center justify-between text-sm mb-1",children:r.jsx("span",{className:"font-medium",children:(v==null?void 0:v.name)||f||"Unknown"})}),f==="dispatch-calls"&&r.jsxs("div",{className:"flex items-center justify-between text-xs mt-2 bg-zinc-700/50 p-2 rounded-lg",children:[r.jsx("span",{className:"text-zinc-300",children:"Direction:"}),r.jsx("button",{onClick:()=>i(f),className:`text-violet-400 hover:text-violet-300 flex items-center gap-1.5 py-1 px-2 rounded-md hover:bg-zinc-600/30 transition-colors ${t?"":"opacity-50 cursor-not-allowed"}`,title:"Toggle direction",disabled:!t,children:v.direction==="column"?r.jsxs(r.Fragment,{children:[r.jsx(GJ,{className:"h-3.5 w-3.5"}),r.jsx("span",{children:"Column"})]}):r.jsxs(r.Fragment,{children:[r.jsx(aO,{className:"h-3.5 w-3.5"}),r.jsx("span",{children:"Row"})]})})]})]},f))})]}),r.jsxs("div",{className:"flex justify-between pt-3 border-t border-zinc-800",children:[r.jsxs(Xt.button,{disabled:!t,whileHover:{scale:1.05},whileTap:{scale:.95},onClick:a,className:`text-xs flex items-center gap-1.5 text-zinc-400 hover:text-white bg-zinc-800/70 hover:bg-zinc-700/70 py-2 px-3 rounded-lg transition-colors ${t?"":"opacity-50 cursor-not-allowed"}`,title:"Reset to defaults",children:[r.jsx(cO,{className:"h-3 w-3"}),"Reset"]}),r.jsxs(Xt.button,{disabled:!t,whileHover:{scale:1.05},whileTap:{scale:.95},onClick:s,className:`text-xs flex items-center gap-1.5 text-white bg-violet-600 hover:bg-violet-700 py-2 px-3 rounded-lg transition-colors ${t?"":"opacity-50 cursor-not-allowed"}`,title:"Save settings",children:[r.jsx(pY,{className:"h-3 w-3"}),"Save"]})]}),r.jsx("div",{className:"text-xs text-zinc-500 italic bg-zinc-800/30 p-2 rounded-lg",children:t?"Drag components by their headers to reposition":"Enable edit mode to move components"})]})]},"editor-panel")})})},ENe={citizens:[{citizenid:1,firstname:"John",surname:"Doe",photo:"https://storage.googleapis.com/gd-prod/images/f4f4bc5f-904a-4b61-972f-c403bc060679.60c498c559810aa0.webp",nationality:"British",birthdate:"1990-01-01",gender:"Male",job:"Developer",phoneNumber:"1234567890",address:"123 Main Street, Los Santos",bankAccount:"1234567890",isDangerous:!1,warrant:!1,warrants:[],citations:["Speeding - $150","Parking Violation - $75"],licenses:["Driver's License","Weapon License"],notes:[],reports:[{reportId:123,id:"RPT-123",name:"Traffic Violation",dateTime:"2024-01-15T14:30:00",location:"Main Street & 5th Avenue",description:"Speeding violation - 65mph in 45mph zone"}]},{citizenid:2,firstname:"Jane",surname:"Smith",photo:"https://storage.googleapis.com/gd-prod/images/f4f4bc5f-904a-4b61-972f-c403bc060679.60c498c559810aa0.webp",nationality:"American",birthdate:"1985-05-15",gender:"Female",job:"Doctor",phone:"0987654321",phoneNumber:"0987654321",address:"456 Oak Avenue, Los Santos",bankAccount:"0987654321",isDangerous:!1,warrant:!0,warrants:["Outstanding Warrant - Failure to Appear"],citations:[],licenses:["Driver's License","Medical License"],notes:[],reports:[]}]},cm={success:!0,citizenId:1,photo:"https://storage.googleapis.com/gd-prod/images/f4f4bc5f-904a-4b61-972f-c403bc060679.60c498c559810aa0.webp",warrant:!1,isDangerous:!1,notes:[],insurances:[{type:"vehicle",plate:"ABC123",model:"Toyota Camry",expireDate:"2025-01-01",citizenid:"1",ownerName:"John Doe",stolen:0,accidentReports:null,documentsSuspended:0,cameraInstalled:0},{type:"health",citizenid:"1",expireDate:"2024-06-15",ownerName:"John Doe"},{type:"property",citizenid:"1",expireDate:"2024-03-01",ownerName:"John Doe"}],reports:[{reportId:123,id:"RPT-123",name:"Traffic Violation",dateTime:"2024-01-15T14:30:00",location:"Main Street & 5th Avenue",description:"Speeding violation - 65mph in 45mph zone",category:"Traffic",status:"Closed",officerId:"PD-789",officerName:"Officer Johnson"}],warrants:[{id:"WRT-001",issueDate:"2024-01-15T10:00:00",expiryDate:"2024-02-15T10:00:00",suspectId:1,charges:["Armed Robbery","Assault with a Deadly Weapon"],status:"active",issuingAuthority:"Judge Smith",description:"Suspect wanted in connection with armed robbery at Central Bank."}],licenses:[{name:"Driver's License",type:"driver",status:"approved",expirationDate:"2025-01-01"},{name:"Firearms License",type:"firearms",status:"pending",expirationDate:"2025-01-01"}],properties:[{id:1,name:"Downtown Apartment",address:"123 Main Street, Anytown, CA 12345",coords:{x:0,y:0,z:0}},{id:2,name:"Beach House",type:"residence",address:"456 Ocean Drive, Seaside, CA 12345"}],citations:[{id:"CIT-001",issueDate:"2024-01-15",issuingOfficer:"Officer Johnson",officerId:"OFF-001",violation:"Speeding - 15 mph over limit",fineAmount:250,dueDate:"2024-02-15",status:"paid",location:"Main St & 5th Ave",vehiclePlate:"ABC123",category:"traffic",severity:"minor"}],vehicles:[{id:"VEH-001",make:"Toyota",model:"Camry",year:"2020",plate:"ABC123",vin:"1HGBH41JXMN109186",status:"Registered"}],weapons:[{id:"WPN-001",type:"Pistol",model:"Glock 17",serial:"GL123456789",status:"Registered"}]},KP=[{id:"VEH-001",plate:"ABC123",model:"Toyota Camry",year:"2020",make:"Toyota",owner:"John Doe",status:"clear",strikePoints:3,photo:"https://storage.googleapis.com/gd-prod/images/f4f4bc5f-904a-4b61-972f-c403bc060679.60c498c559810aa0.webp",sightings:[{location:"Downtown",timestamp:"2024-01-12T18:00:00Z"},{location:"Uptown",timestamp:"2024-01-11T15:30:00Z"}],reports:[{reportId:"RPT-2024-001",reportName:"Traffic Violation",dateTime:"2024-01-15T09:30:00Z",location:"Main Street & 5th Avenue",description:"Vehicle ran red light and exceeded speed limit"}]},{id:"VEH-002",plate:"XYZ789",model:"Ford Mustang",year:"2019",make:"Ford",owner:"Jane Smith",status:"wanted",strikePoints:8,photo:"https://storage.googleapis.com/gd-prod/images/f4f4bc5f-904a-4b61-972f-c403bc060679.60c498c559810aa0.webp",sightings:[{location:"Highway 101",timestamp:"2024-01-10T20:15:00Z"}],reports:[{reportId:"RPT-2024-002",reportName:"Reckless Driving",dateTime:"2024-01-10T20:00:00Z",location:"Highway 101",description:"High-speed chase, evading police"}]},{id:"VEH-003",plate:"DEF456",model:"Honda Civic",year:"2021",make:"Honda",owner:"Mike Johnson",status:"impounded",strikePoints:5,photo:"https://storage.googleapis.com/gd-prod/images/f4f4bc5f-904a-4b61-972f-c403bc060679.60c498c559810aa0.webp",sightings:[{location:"Police Impound Lot",timestamp:"2024-01-08T14:30:00Z"}],reports:[]}],INe={vehiclesData:KP,totalCount:KP.length};function TNe(){const[e,t]=m.useState(!1),[n,s]=m.useState("citizens"),[a,i]=m.useState(""),[o,l]=m.useState([]),[c,d]=m.useState(null),[u,f]=m.useState(!1),[v,g]=m.useState("profile"),[w,y]=m.useState(!1),[b,x]=m.useState(""),[N,S]=m.useState([]),[k,F]=m.useState(null),[$,U]=m.useState(!1),[D,H]=m.useState("details"),[K,B]=m.useState(""),[R,Z]=m.useState([]),[te,ye]=m.useState(null),[de,le]=m.useState(!1),[Q,oe]=m.useState(""),[ce,ee]=m.useState([]),[M,E]=m.useState(null),[q,se]=m.useState(!1),[re,G]=m.useState(""),[ue,ie]=m.useState([]),[Ee,He]=m.useState(null),[rt,we]=m.useState(!1),[Ve,Re]=m.useState("details");Gs("openCivMDT",async Be=>{try{t(Be)}catch(Ye){console.error("Error:",Ye),t(!1),ke("closeCivMDT")}}),bK(()=>{e&&(t(!1),ke("closeCivMDT"))});const je=[{id:"citizens",label:"Citizens",icon:ri},{id:"vehicles",label:"Vehicles",icon:Di},{id:"weapons",label:"Weapons",icon:ef},{id:"criminal-codes",label:"Criminal Codes",icon:Lv},{id:"courts",label:"Courts",icon:Mc}],Mt=async Be=>{var Ye;if(!Be.trim()){l([]);return}f(!0);try{const Ue=await ke("fetchCitizens",{page:1,query:Be},ENe),Lt=Ue&&(Ue==null?void 0:Ue.citizens)&&Array.isArray(Ue==null?void 0:Ue.citizens)&&((Ye=Ue==null?void 0:Ue.citizens)==null?void 0:Ye.map(Et=>({...Et,licenses:Array.isArray(Et.licenses)?Et.licenses:Et.licenses?JSON.parse(Et.licenses):[]})))||[];l(Lt)}catch(Ue){console.error("Search error:",Ue),l([])}finally{f(!1)}},Bt=async(Be,Ye)=>{console.log(Ye),y(!0);let Ue={...Be,reports:[],incidents:[],warrants:[],vehicles:[],properties:[],weapons:[],insurances:[],citations:[]};try{const Lt=await ke("fetchCitizenDataByCitizenId",{citizenId:Ye},cm);Lt.success&&(Ue={...Ue,photo:Lt.photo||Be.photo,warrant:Lt.warrant||!1,isDangerous:Lt.isDangerous||!1},d(Ue));const Et=await ke("fetchCitizenAssets",{citizenId:Ye},cm);Et.success&&(Ue={...Ue,vehicles:Array.isArray(Et.vehicles)?Et.vehicles:JSON.parse(Et.vehicles||"[]"),properties:Array.isArray(Et.properties)?Et.properties:JSON.parse(Et.properties||"[]"),weapons:Array.isArray(Et.weapons)?Et.weapons:JSON.parse(Et.weapons||"[]")},d(Ue));const hr=await ke("fetchCitizenReports",{citizenId:Ye},cm);hr&&(Ue={...Ue,reports:Array.isArray(hr)?hr:[]},d(Ue));const ur=await ke("fetchCitizenWarrants",{citizenId:Ye},cm);ur&&(Ue={...Ue,warrants:Array.isArray(ur)?ur:JSON.parse(ur||"[]")},d(Ue));const Cr=await ke("fetchCitizenInsurances",{citizenId:Ye},cm);Cr.success&&(Ue={...Ue,insurances:Array.isArray(Cr.insurances)?Cr.insurances:JSON.parse(Cr.insurances||"[]")},d(Ue));const Tr=await ke("fetchCitizenCitations",{citizenId:Ye},cm);Tr.success&&(Ue={...Ue,citations:Array.isArray(Tr.citations)?Tr.citations:JSON.parse(Tr.citations||"[]")},d(Ue))}catch(Lt){console.error("Error fetching citizen data:",Lt),d(null)}finally{y(!1)}},ct=async Be=>{if(!Be.trim()){S([]);return}U(!0);try{const Ye=await ke("fetchVehicles",{page:1,query:Be},INe),Ue=(Ye==null?void 0:Ye.vehiclesData)||[];S(Ue)}catch(Ye){console.error("Vehicle search error:",Ye),S([])}finally{U(!1)}},vt=async(Be,Ye)=>{y(!0);let Ue={...Be,sightings:[],reports:[]};try{const Lt=await ke("fetchVehicleDataByPlate",{plate:Ye},Be);Lt&&(Ue={...Ue,...Lt},F(Ue));const Et=await ke("fetchVehiclesReports",{plate:Ye},Be);Et&&(Ue={...Ue,reports:Array.isArray(Et)?Et:JSON.parse(typeof Et=="string"?Et:"[]")},F(Ue));const hr=await ke("fetchVehiclesStrikes",{plate:Ye},Be);hr&&(Ue={...Ue,strikes:Array.isArray(hr)?hr:JSON.parse(typeof hr=="string"?hr:"[]")},F(Ue))}catch(Lt){console.error("Error fetching vehicle data:",Lt),F(null)}finally{y(!1)}},wt=Be=>{switch(Be){case"clear":return"bg-emerald-500/20 text-emerald-400 border-emerald-500/30";case"wanted":return"bg-red-500/20 text-red-400 border-red-500/30";case"impounded":return"bg-amber-500/20 text-amber-400 border-amber-500/30";case"stolen":return"bg-purple-500/20 text-purple-400 border-purple-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}},Fe=Be=>Be>=10?"bg-red-500/20 text-red-400 border-red-500/30":Be>=6?"bg-amber-500/20 text-amber-400 border-amber-500/30":Be>=3?"bg-yellow-500/20 text-yellow-400 border-yellow-500/30":"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",Oe=async Be=>{if(!Be.trim()){Z([]);return}le(!0);try{const Ye=await ke("fetchWeapons",{page:1,query:Be},{weapons:[],totalCount:0}),Ue=(Ye==null?void 0:Ye.weapons)||[];Z(Ue)}catch(Ye){console.error("Weapon search error:",Ye),Z([])}finally{le(!1)}},_e=async(Be,Ye)=>{y(!0);let Ue={...Be};try{const Lt=await ke("fetchWeaponDataBySerialNumber",{serialNumber:Ye},Be);Lt&&(Ue={...Ue,...Lt},ye(Ue))}catch(Lt){console.error("Error fetching weapon data:",Lt),ye(null)}finally{y(!1)}},nt=async Be=>{if(!Be.trim()){ee([]);return}se(!0);try{const Ye=await ke("fetchCriminalCodes",{page:1,query:Be},{criminalCodesData:[],totalCount:0}),Ue=(Ye==null?void 0:Ye.criminalCodesData)||[];ee(Ue)}catch(Ye){console.error("Criminal code search error:",Ye),ee([])}finally{se(!1)}},ut=async Be=>{if(!Be.trim()){ie([]);return}we(!0);try{const Ye=await ke("getCourtCases",{query:Be},{success:!0,cases:jt.filter(Ue=>Ue.title.toLowerCase().includes(Be.toLowerCase())||Ue.id.toLowerCase().includes(Be.toLowerCase())||Ue.defendant.toLowerCase().includes(Be.toLowerCase())||Ue.status.toLowerCase().includes(Be.toLowerCase()))});Ye!=null&&Ye.success&&(Ye!=null&&Ye.cases)&&ie(Ye.cases)}catch(Ye){console.error("Error searching court cases:",Ye),ie(jt.filter(Ue=>Ue.title.toLowerCase().includes(Be.toLowerCase())||Ue.id.toLowerCase().includes(Be.toLowerCase())||Ue.defendant.toLowerCase().includes(Be.toLowerCase())||Ue.status.toLowerCase().includes(Be.toLowerCase())))}finally{we(!1)}},jt=[{id:"CC-2023-001",title:"State vs. Johnson",date:"2025-05-15T14:30:00",status:"scheduled",defendant:"Michael Johnson",charges:["Armed Robbery","Assault"],judge:"Hon. Sarah Williams",defense:"James Peterson",prosecution:"District Attorney Maria Rodriguez",courtroom:"Courtroom 3A",relatedReports:["RPT-2023-0042","RPT-2023-0043"],notes:[{timestamp:"2023-04-20T10:15:00",author:"Clerk Davis",content:"Case filed with the court."},{timestamp:"2023-04-25T14:30:00",author:"Judge Williams",content:"Bail hearing scheduled for May 1st."},{timestamp:"2023-05-01T09:45:00",author:"Judge Williams",content:"Defendant remanded. Trial date set."}]},{id:"CC-2023-002",title:"State vs. Martinez",date:"2025-05-18T10:00:00",status:"completed",defendant:"Ana Martinez",charges:["Drug Trafficking","Possession of Illegal Substance"],judge:"Hon. Robert Chen",defense:"Public Defender Thomas Clark",prosecution:"ADA Jennifer Wilson",courtroom:"Courtroom 2B",verdict:"Guilty on all charges",sentence:"5 years imprisonment, $10,000 fine",relatedReports:["RPT-2023-0039"],notes:[{timestamp:"2023-03-15T11:20:00",author:"Clerk Johnson",content:"Case filed with the court."},{timestamp:"2023-04-10T15:30:00",author:"Judge Chen",content:"Plea hearing completed. Defendant pleaded not guilty."},{timestamp:"2023-05-18T16:45:00",author:"Judge Chen",content:"Trial completed. Verdict: Guilty. Sentencing completed."}]},{id:"CC-2023-003",title:"State vs. Williams",date:"2025-05-20T13:15:00",status:"scheduled",defendant:"David Williams",charges:["Grand Theft Auto","Evading Police"],judge:"Hon. Patricia Lee",defense:"Criminal Defense Attorney Mark Johnson",prosecution:"ADA Robert Smith",courtroom:"Courtroom 1A",relatedReports:["RPT-2023-0051"],notes:[{timestamp:"2023-04-30T09:10:00",author:"Clerk Adams",content:"Case filed with the court."},{timestamp:"2023-05-05T13:45:00",author:"Judge Lee",content:"Arraignment completed. Trial date set."}]}];if(!e)return null;const zt=()=>{var Be,Ye,Ue,Lt,Et,hr,ur,Cr,Tr,fr,dr;switch(n){case"citizens":return r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:c?r.jsx("div",{className:"lg:col-span-3",children:w?r.jsx(Le,{className:"bg-slate-900/60 border-slate-700/50 shadow-2xl",children:r.jsx(Je,{className:"p-8",children:r.jsxs("div",{className:"text-center text-slate-400 py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-400 mx-auto mb-4"}),r.jsx("p",{children:"Loading citizen data..."})]})})}):r.jsxs(Le,{className:"bg-slate-900/60 border-slate-700/50 shadow-2xl",children:[r.jsx(mt,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(kt,{className:"flex items-center gap-2 text-lg font-bold text-white",children:[r.jsx(ri,{className:"h-5 w-5 text-blue-400"}),"Citizen Details - ",c.firstname," ",c.surname]}),r.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>{d(null),g("profile")},className:"border-slate-600/50 bg-slate-800/60 hover:bg-slate-700/60 text-white",children:"Back to Search"})]})}),r.jsxs(Je,{children:[r.jsx("div",{className:"flex items-center gap-2 mb-6 p-1 bg-slate-800/60 rounded-xl border border-slate-700/50",children:[{id:"profile",label:"Profile",icon:ri},{id:"weapons",label:"Weapons",icon:cs},{id:"vehicles",label:"Vehicles",icon:Di},{id:"properties",label:"Properties",icon:qs}].map(Ke=>{const qt=Ke.icon;return r.jsxs("button",{onClick:()=>g(Ke.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-300 ${v===Ke.id?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg shadow-blue-500/25":"text-slate-400 hover:text-white hover:bg-slate-700/60 backdrop-blur-sm"}`,children:[r.jsx(qt,{className:"h-4 w-4"}),r.jsx("span",{className:"text-sm font-medium",children:Ke.label})]},Ke.id)})}),v==="profile"&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-slate-800/40 backdrop-blur-sm rounded-xl border border-slate-600/50",children:[r.jsx("h3",{className:"font-semibold text-white mb-3",children:"Personal Information"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-slate-400",children:"ID:"}),r.jsx("span",{className:"text-white font-mono",children:c.citizenid})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-slate-400",children:"Name:"}),r.jsxs("span",{className:"text-white",children:[c.firstname," ",c.surname]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-slate-400",children:"DOB:"}),r.jsx("span",{className:"text-white",children:c.birthdate})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-slate-400",children:"Phone:"}),r.jsx("span",{className:"text-white",children:c.phoneNumber})]})]})]}),r.jsxs("div",{className:"p-4 bg-slate-800/40 backdrop-blur-sm rounded-xl border border-slate-600/50",children:[r.jsx("h3",{className:"font-semibold text-white mb-3",children:"Licenses"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:((Be=c.licenses)==null?void 0:Be.length)>0?c.licenses.map((Ke,qt)=>r.jsxs(ze,{className:`border ${Ke.status==="approved"?"bg-emerald-500/20 text-emerald-400 border-emerald-500/30":Ke.status==="pending"?"bg-amber-500/20 text-amber-400 border-amber-500/30":"bg-red-500/20 text-red-400 border-red-500/30"}`,children:[Ke.name||Ke," - ",Ke.status||"Active"]},qt)):r.jsx("span",{className:"text-slate-400 text-sm",children:"No licenses on file"})})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-slate-800/40 backdrop-blur-sm rounded-xl border border-slate-600/50",children:[r.jsx("h3",{className:"font-semibold text-white mb-3",children:"Warrants"}),((Ye=c.warrants)==null?void 0:Ye.length)>0?r.jsx("div",{className:"space-y-2",children:c.warrants.map((Ke,qt)=>{var Ge;return r.jsx("div",{className:"p-2 bg-red-500/10 border border-red-500/30 rounded-lg",children:r.jsxs("div",{className:"text-red-400 text-sm",children:[r.jsx("p",{className:"font-medium",children:Ke.id}),Ke&&(Ke==null?void 0:Ke.charges)&&((Ge=JSON.parse(Ke==null?void 0:Ke.charges))==null?void 0:Ge.map((st,it)=>r.jsxs(ze,{variant:"outline",className:"bg-destructive/10",children:[st.title," ",st.count>1&&`(${st.count}x)`]},it))),Ke.description&&r.jsx("p",{className:"text-xs mt-1 text-red-300",children:Ke.description})]})},qt)})}):r.jsx("span",{className:"text-slate-400 text-sm",children:"No active warrants"})]}),r.jsxs("div",{className:"p-4 bg-slate-800/40 backdrop-blur-sm rounded-xl border border-slate-600/50",children:[r.jsx("h3",{className:"font-semibold text-white mb-3",children:"Recent Citations"}),((Ue=c.citations)==null?void 0:Ue.length)>0?r.jsx("div",{className:"space-y-2",children:c.citations.map((Ke,qt)=>r.jsx("div",{className:"p-2 bg-amber-500/10 border border-amber-500/30 rounded-lg",children:r.jsxs("div",{className:"text-amber-400 text-sm",children:[r.jsx("p",{className:"font-medium",children:Ke.violation||Ke}),Ke.fineAmount&&r.jsxs("p",{className:"text-xs mt-1",children:["Fine: $",Ke.fineAmount]}),Ke.status&&r.jsx(ze,{className:`text-xs mt-1 ${Ke.status==="paid"?"bg-emerald-500/20 text-emerald-400":Ke.status==="overdue"?"bg-red-500/20 text-red-400":"bg-amber-500/20 text-amber-400"}`,children:Ke.status})]})},qt))}):r.jsx("span",{className:"text-slate-400 text-sm",children:"No recent citations"})]})]})]}),v==="weapons"&&r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"p-4 bg-slate-800/40 backdrop-blur-sm rounded-xl border border-slate-600/50",children:[r.jsx("h3",{className:"font-semibold text-white mb-4",children:"Registered Weapons"}),r.jsx("div",{className:"space-y-3",children:((Lt=c.weapons)==null?void 0:Lt.length)>0?c.weapons.map((Ke,qt)=>r.jsxs("div",{className:"p-3 bg-slate-700/40 rounded-lg border border-slate-600/30",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-mono text-sm font-medium text-white",children:Ke.id}),r.jsxs("h4",{className:"font-semibold text-white",children:[Ke.weaponName," - ",Ke.registrationDate]})]}),r.jsx(ze,{className:Ke.status==="Registered"?"bg-emerald-500/20 text-emerald-400 border-emerald-500/30 border":"bg-red-500/20 text-red-400 border-red-500/30 border",children:Ke.status})]}),r.jsx("div",{className:"text-sm text-slate-400",children:r.jsxs("p",{children:["Serial: ",Ke.serialNumber]})})]},qt)):r.jsx("p",{className:"text-slate-400 text-center py-4",children:"No weapons registered to this citizen"})})]})}),v==="vehicles"&&r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"p-4 bg-slate-800/40 backdrop-blur-sm rounded-xl border border-slate-600/50",children:[r.jsx("h3",{className:"font-semibold text-white mb-4",children:"Registered Vehicles"}),r.jsx("div",{className:"space-y-3",children:((Et=c.vehicles)==null?void 0:Et.length)>0?c.vehicles.map(Ke=>r.jsxs("div",{className:"p-3 bg-slate-700/40 rounded-lg border border-slate-600/30",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-mono text-sm font-medium text-white",children:Ke.id}),r.jsxs("h4",{className:"font-semibold text-white",children:[Ke.year," ",Ke.make," ",Ke.model]})]}),r.jsx(ze,{className:Ke.status==="Registered"?"bg-emerald-500/20 text-emerald-400 border-emerald-500/30 border":Ke.status==="Impounded"?"bg-amber-500/20 text-amber-400 border-amber-500/30 border":"bg-red-500/20 text-red-400 border-red-500/30 border",children:Ke.status})]}),r.jsxs("div",{className:"text-sm text-slate-400 space-y-1",children:[r.jsxs("p",{children:["Plate: ",Ke.plate]}),r.jsxs("p",{children:["VIN: ",Ke.vin]})]})]},Ke.id)):r.jsx("p",{className:"text-slate-400 text-center py-4",children:"No vehicles registered to this citizen"})})]})}),v==="properties"&&r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"p-4 bg-slate-800/40 backdrop-blur-sm rounded-xl border border-slate-600/50",children:[r.jsx("h3",{className:"font-semibold text-white mb-4",children:"Owned Properties"}),r.jsx("div",{className:"space-y-3",children:((hr=c.properties)==null?void 0:hr.length)>0?c.properties.map(Ke=>r.jsxs("div",{className:"p-3 bg-slate-700/40 rounded-lg border border-slate-600/30",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-mono text-sm font-medium text-white",children:["PROP-",Ke.id]}),r.jsx("h4",{className:"font-semibold text-white",children:Ke.name||Ke.type})]}),r.jsx(ze,{className:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30 border",children:"Owned"})]}),r.jsxs("div",{className:"text-sm text-slate-400 space-y-1",children:[r.jsxs("p",{children:["Address: ",Ke.address]}),Ke.value&&r.jsxs("p",{children:["Value: $",Ke.value.toLocaleString()]})]})]},Ke.id)):r.jsx("p",{className:"text-slate-400 text-center py-4",children:"No properties owned by this citizen"})})]})})]})]})}):r.jsx(r.Fragment,{children:r.jsx("div",{className:"lg:col-span-3 space-y-4",children:r.jsxs(Le,{className:"bg-slate-900/60 border-slate-700/50 shadow-2xl",children:[r.jsx(mt,{className:"pb-3",children:r.jsxs(kt,{className:"flex items-center gap-2 text-lg font-bold text-white",children:[r.jsx(ri,{className:"h-5 w-5 text-blue-400"}),"Citizen Database"]})}),r.jsx(Je,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(ls,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),r.jsx(ht,{placeholder:"Search citizens by name or ID...",className:"pl-10 bg-slate-800/40 border-slate-600/50 text-white placeholder:text-slate-400 focus:border-blue-400/60",value:a,onChange:Ke=>{i(Ke.target.value),Mt(Ke.target.value)}})]}),r.jsx(nr,{className:"h-80",children:r.jsx("div",{className:"space-y-3 pr-2",children:u?r.jsxs("div",{className:"text-center text-slate-400 py-8",children:[r.jsx(ls,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),r.jsx("p",{children:"Searching..."})]}):o.length>0?o.map(Ke=>{var qt,Ge;return r.jsxs("div",{className:"p-4 rounded-xl border border-slate-600/50 bg-slate-800/40 backdrop-blur-sm hover:bg-slate-700/50 cursor-pointer transition-all duration-200 hover:scale-[1.01]",onClick:()=>Bt(Ke,Ke.citizenid.toString()),children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-mono text-sm font-medium text-white",children:Ke.citizenid}),r.jsxs("h3",{className:"font-semibold text-white",children:[Ke.firstname," ",Ke.surname]})]}),r.jsx("div",{className:"text-right text-xs text-slate-400",children:r.jsxs("p",{children:["DOB: ",Ke.birthdate]})})]}),r.jsxs("div",{className:"flex items-center gap-1 text-sm text-slate-400 mb-2",children:[r.jsx(wx,{className:"h-3 w-3"}),Ke.phoneNumber]}),r.jsxs("div",{className:"flex items-center gap-2",children:[((qt=Ke.warrants)==null?void 0:qt.length)>0&&r.jsxs(ze,{className:"bg-red-500/20 text-red-400 border-red-500/30 border",children:[Ke.warrants.length," Warrant(s)"]}),((Ge=Ke.licenses)==null?void 0:Ge.length)>0&&r.jsxs(ze,{className:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30 border",children:[Ke.licenses.length," License(s)"]})]})]},Ke.citizenid)}):a?r.jsxs("div",{className:"text-center text-slate-400 py-8",children:[r.jsx(ri,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),r.jsx("p",{children:"No citizens found"})]}):r.jsxs("div",{className:"text-center text-slate-400 py-8",children:[r.jsx(ls,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),r.jsx("p",{children:"Enter search terms to find citizens"})]})})})]})})]})})})});case"vehicles":return r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:k?r.jsx("div",{className:"lg:col-span-3",children:w?r.jsx(Le,{className:"bg-slate-900/60 border-slate-700/50 shadow-2xl",children:r.jsx(Je,{className:"p-8",children:r.jsxs("div",{className:"text-center text-slate-400 py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-400 mx-auto mb-4"}),r.jsx("p",{children:"Loading vehicle data..."})]})})}):r.jsxs(Le,{className:"bg-slate-900/60 border-slate-700/50 shadow-2xl",children:[r.jsx(mt,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(kt,{className:"flex items-center gap-2 text-lg font-bold text-white",children:[r.jsx(Di,{className:"h-5 w-5 text-blue-400"}),"Vehicle Details - ",k.plate]}),r.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>{F(null),H("details")},className:"border-slate-600/50 bg-slate-800/60 hover:bg-slate-700/60 text-white",children:"Back to Search"})]})}),r.jsxs(Je,{children:[r.jsx("div",{className:"flex items-center gap-2 mb-6 p-1 bg-slate-800/60 rounded-xl border border-slate-700/50",children:[{id:"details",label:"Details",icon:Di},{id:"reports",label:"Reports",icon:fi}].map(Ke=>{const qt=Ke.icon;return r.jsxs("button",{onClick:()=>H(Ke.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-300 ${D===Ke.id?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg shadow-blue-500/25":"text-slate-400 hover:text-white hover:bg-slate-700/60 backdrop-blur-sm"}`,children:[r.jsx(qt,{className:"h-4 w-4"}),r.jsx("span",{className:"text-sm font-medium",children:Ke.label})]},Ke.id)})}),D==="details"&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-slate-800/40 backdrop-blur-sm rounded-xl border border-slate-600/50",children:[r.jsx("h3",{className:"font-semibold text-white mb-3",children:"Vehicle Information"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-slate-400",children:"Plate:"}),r.jsx("span",{className:"text-white font-mono",children:k.plate})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-slate-400",children:"Model:"}),r.jsxs("span",{className:"text-white",children:[k.year," ",k.make," ",k.model]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-slate-400",children:"Owner:"}),r.jsx("span",{className:"text-white",children:k.owner})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-slate-400",children:"Status:"}),r.jsx(ze,{className:`border ${wt(k.status)}`,children:k.status.toUpperCase()})]})]})]}),r.jsxs("div",{className:"p-4 bg-slate-800/40 backdrop-blur-sm rounded-xl border border-slate-600/50",children:[r.jsx("h3",{className:"font-semibold text-white mb-3",children:"Strike Points"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-slate-400",children:"Total Points:"}),r.jsxs(ze,{className:`border ${Fe(k.strikePoints||0)}`,children:[k.strikes.filter(Ke=>Ke.status==="active").reduce((Ke,qt)=>Ke+qt.points,0)," Points"]})]})]})]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"p-4 bg-slate-800/40 backdrop-blur-sm rounded-xl border border-slate-600/50",children:[r.jsx("h3",{className:"font-semibold text-white mb-3",children:"Vehicle Photo"}),r.jsx("div",{className:"aspect-video bg-slate-700/40 rounded-lg overflow-hidden",children:r.jsx("img",{src:k.photo||"/placeholder.svg?height=200&width=300&query=vehicle",alt:"Vehicle",className:"w-full h-full object-cover"})})]})})]}),D==="reports"&&r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"p-4 bg-slate-800/40 backdrop-blur-sm rounded-xl border border-slate-600/50",children:[r.jsx("h3",{className:"font-semibold text-white mb-4",children:"Associated Reports"}),r.jsx("div",{className:"space-y-3",children:((ur=k.reports)==null?void 0:ur.length)>0?k.reports.map(Ke=>r.jsxs("div",{className:"p-3 bg-slate-700/40 rounded-lg border border-slate-600/30",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-mono text-sm font-medium text-white",children:Ke.reportId}),r.jsx("h4",{className:"font-semibold text-white",children:Ke.reportName})]}),r.jsx("span",{className:"text-slate-400 text-sm",children:new Date(Ke.dateTime).toLocaleString()})]}),r.jsx("div",{className:"text-sm text-slate-400 space-y-1",children:r.jsxs("p",{children:["Location: ",Ke.location]})})]},Ke.reportId)):r.jsx("p",{className:"text-slate-400 text-center py-4",children:"No reports associated with this vehicle"})})]})})]})]})}):r.jsx(r.Fragment,{children:r.jsx("div",{className:"lg:col-span-3 space-y-4",children:r.jsxs(Le,{className:"bg-slate-900/60 border-slate-700/50 shadow-2xl",children:[r.jsx(mt,{className:"pb-3",children:r.jsxs(kt,{className:"flex items-center gap-2 text-lg font-bold text-white",children:[r.jsx(Di,{className:"h-5 w-5 text-blue-400"}),"Vehicle Database"]})}),r.jsx(Je,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(ls,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),r.jsx(ht,{placeholder:"Search vehicles by plate, model, or owner...",className:"pl-10 bg-slate-800/40 border-slate-600/50 text-white placeholder:text-slate-400 focus:border-blue-400/60",value:b,onChange:Ke=>{x(Ke.target.value),ct(Ke.target.value)}})]}),r.jsx(nr,{className:"h-80",children:r.jsx("div",{className:"space-y-3 pr-2",children:$?r.jsxs("div",{className:"text-center text-slate-400 py-8",children:[r.jsx(ls,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),r.jsx("p",{children:"Searching..."})]}):N.length>0?N.map(Ke=>{var qt;return r.jsxs("div",{className:"p-4 rounded-xl border border-slate-600/50 bg-slate-800/40 backdrop-blur-sm hover:bg-slate-700/50 cursor-pointer transition-all duration-200 hover:scale-[1.01]",onClick:()=>vt(Ke,Ke.plate),children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-mono text-sm font-medium text-white",children:Ke.plate}),r.jsxs("h3",{className:"font-semibold text-white",children:[Ke.year," ",Ke.make," ",Ke.model]})]}),r.jsx("div",{className:"text-right text-xs text-slate-400",children:r.jsxs("p",{children:["Owner: ",Ke.owner]})})]}),r.jsx("div",{className:"flex items-center gap-2 mb-2",children:r.jsx(ze,{className:`border ${wt(Ke.status)}`,children:Ke.status.toUpperCase()})}),((qt=Ke.sightings)==null?void 0:qt.length)>0&&r.jsxs("div",{className:"flex items-center gap-1 text-sm text-slate-400",children:[r.jsx(qs,{className:"h-3 w-3"}),"Last seen: ",Ke.sightings[0].location]})]},Ke.plate)}):b?r.jsxs("div",{className:"text-center text-slate-400 py-8",children:[r.jsx(Di,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),r.jsx("p",{children:"No vehicles found"})]}):r.jsxs("div",{className:"text-center text-slate-400 py-8",children:[r.jsx(ls,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),r.jsx("p",{children:"Enter search terms to find vehicles"})]})})})]})})]})})})});case"weapons":return r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:te?r.jsx("div",{className:"lg:col-span-3",children:w?r.jsx(Le,{className:"bg-slate-900/60 border-slate-700/50 shadow-2xl",children:r.jsx(Je,{className:"p-8",children:r.jsxs("div",{className:"text-center text-slate-400 py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-400 mx-auto mb-4"}),r.jsx("p",{children:"Loading weapon data..."})]})})}):r.jsxs(Le,{className:"bg-slate-900/60 border-slate-700/50 shadow-2xl",children:[r.jsx(mt,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(kt,{className:"flex items-center gap-2 text-lg font-bold text-white",children:[r.jsx(ef,{className:"h-5 w-5 text-blue-400"}),"Weapon Details - ",te.serialNumber]}),r.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>{ye(null)},className:"border-slate-600/50 bg-slate-800/60 hover:bg-slate-700/60 text-white",children:"Back to Search"})]})}),r.jsx(Je,{children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-slate-800/40 backdrop-blur-sm rounded-xl border border-slate-600/50",children:[r.jsx("h3",{className:"font-semibold text-white mb-3",children:"Weapon Information"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-slate-400",children:"Serial Number:"}),r.jsx("span",{className:"text-white font-mono",children:te.serialNumber})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-slate-400",children:"Weapon Name:"}),r.jsx("span",{className:"text-white",children:te.weaponName})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-slate-400",children:"Owner:"}),r.jsx("span",{className:"text-white",children:te.ownerName})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-slate-400",children:"Citizen ID:"}),r.jsx("span",{className:"text-white font-mono",children:te.citizenId})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-slate-400",children:"Registration Date:"}),r.jsx("span",{className:"text-white",children:new Date(te.registrationDate).toLocaleDateString()})]})]})]}),r.jsxs("div",{className:"p-4 bg-slate-800/40 backdrop-blur-sm rounded-xl border border-slate-600/50",children:[r.jsx("h3",{className:"font-semibold text-white mb-3",children:"Status"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-slate-400",children:"Registration Status:"}),r.jsx(ze,{className:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30 border",children:"Registered"})]})]})]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"p-4 bg-slate-800/40 backdrop-blur-sm rounded-xl border border-slate-600/50",children:[r.jsx("h3",{className:"font-semibold text-white mb-3",children:"Weapon Photo"}),r.jsx("div",{className:"aspect-square bg-slate-700/40 rounded-lg overflow-hidden",children:te.image?r.jsx("img",{src:te.image||"/placeholder.svg",alt:"Weapon",className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsx(ef,{className:"h-16 w-16 text-slate-500"})})})]})})]})})]})}):r.jsx(r.Fragment,{children:r.jsx("div",{className:"lg:col-span-3 space-y-4",children:r.jsxs(Le,{className:"bg-slate-900/60 border-slate-700/50 shadow-2xl",children:[r.jsx(mt,{className:"pb-3",children:r.jsxs(kt,{className:"flex items-center gap-2 text-lg font-bold text-white",children:[r.jsx(ef,{className:"h-5 w-5 text-blue-400"}),"Weapons Database"]})}),r.jsx(Je,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(ls,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),r.jsx(ht,{placeholder:"Search weapons by serial number, name, or owner...",className:"pl-10 bg-slate-800/40 border-slate-600/50 text-white placeholder:text-slate-400 focus:border-blue-400/60",value:K,onChange:Ke=>{B(Ke.target.value),Oe(Ke.target.value)}})]}),r.jsx(nr,{className:"h-80",children:r.jsx("div",{className:"space-y-3 pr-2",children:de?r.jsxs("div",{className:"text-center text-slate-400 py-8",children:[r.jsx(ls,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),r.jsx("p",{children:"Searching..."})]}):R.length>0?R.map(Ke=>r.jsxs("div",{className:"p-4 rounded-xl border border-slate-600/50 bg-slate-800/40 backdrop-blur-sm hover:bg-slate-700/50 cursor-pointer transition-all duration-200 hover:scale-[1.01]",onClick:()=>_e(Ke,Ke.serialNumber),children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-mono text-sm font-medium text-white",children:Ke.serialNumber}),r.jsx("h3",{className:"font-semibold text-white",children:Ke.weaponName})]}),r.jsx("div",{className:"text-right text-xs text-slate-400",children:r.jsxs("p",{children:["Owner: ",Ke.ownerName]})})]}),r.jsx("div",{className:"flex items-center gap-2 mb-2",children:r.jsx(ze,{className:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30 border",children:"Registered"})}),r.jsx("div",{className:"flex items-center gap-1 text-sm text-slate-400",children:r.jsxs("span",{children:["Registered: ",new Date(Ke.registrationDate).toLocaleDateString()]})})]},Ke.serialNumber)):K?r.jsxs("div",{className:"text-center text-slate-400 py-8",children:[r.jsx(ef,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),r.jsx("p",{children:"No weapons found"})]}):r.jsxs("div",{className:"text-center text-slate-400 py-8",children:[r.jsx(ls,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),r.jsx("p",{children:"Enter search terms to find weapons"})]})})})]})})]})})})});case"criminal-codes":return r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:M?r.jsx("div",{className:"lg:col-span-3",children:w?r.jsx(Le,{className:"bg-slate-900/60 border-slate-700/50 shadow-2xl",children:r.jsx(Je,{className:"p-8",children:r.jsxs("div",{className:"text-center text-slate-400 py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-400 mx-auto mb-4"}),r.jsx("p",{children:"Loading criminal code data..."})]})})}):r.jsxs(Le,{className:"bg-slate-900/60 border-slate-700/50 shadow-2xl",children:[r.jsx(mt,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(kt,{className:"flex items-center gap-2 text-lg font-bold text-white",children:[r.jsx(Lv,{className:"h-5 w-5 text-blue-400"}),"Criminal Code Details - ",M.id]}),r.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>{E(null)},className:"border-slate-600/50 bg-slate-800/60 hover:bg-slate-700/60 text-white",children:"Back to Search"})]})}),r.jsx(Je,{children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-slate-800/40 backdrop-blur-sm rounded-xl border border-slate-600/50",children:[r.jsx("h3",{className:"font-semibold text-white mb-3",children:"Code Information"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-slate-400",children:"Code ID:"}),r.jsx("span",{className:"text-white font-mono",children:M.id})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-slate-400",children:"Title:"}),r.jsx("span",{className:"text-white",children:M.title})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-slate-400",children:"Category:"}),r.jsx(ze,{className:"bg-blue-500/20 text-blue-400 border-blue-500/30 border",children:M.category})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("span",{className:"text-slate-400 block mb-2",children:"Description:"}),r.jsx("p",{className:"text-white text-sm",children:M.description})]})]})]}),r.jsxs("div",{className:"p-4 bg-slate-800/40 backdrop-blur-sm rounded-xl border border-slate-600/50",children:[r.jsx("h3",{className:"font-semibold text-white mb-3",children:"Penalties"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-slate-400",children:"Fine Amount:"}),r.jsxs(ze,{className:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30 border",children:["$",M.fine]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-slate-400",children:"Sentence Duration:"}),r.jsxs(ze,{className:"bg-amber-500/20 text-amber-400 border-amber-500/30 border",children:[M.sentence," Months"]})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-slate-800/40 backdrop-blur-sm rounded-xl border border-slate-600/50",children:[r.jsx("h3",{className:"font-semibold text-white mb-3",children:"Additional Penalties"}),r.jsx("div",{className:"space-y-2",children:((Cr=M.additonalPenalties)==null?void 0:Cr.length)>0?M.additonalPenalties.map((Ke,qt)=>r.jsx("div",{className:"p-2 bg-slate-700/40 rounded-lg border border-slate-600/30",children:r.jsx("p",{className:"text-white text-sm",children:Ke})},qt)):r.jsx("p",{className:"text-slate-400 text-sm",children:"No additional penalties"})})]}),r.jsxs("div",{className:"p-4 bg-slate-800/40 backdrop-blur-sm rounded-xl border border-slate-600/50",children:[r.jsx("h3",{className:"font-semibold text-white mb-3",children:"Change History"}),r.jsx(nr,{className:"h-40",children:r.jsx("div",{className:"space-y-2",children:((Tr=M.changeHistory)==null?void 0:Tr.length)>0?M.changeHistory.map((Ke,qt)=>r.jsx("div",{className:"p-2 bg-slate-700/40 rounded-lg border border-slate-600/30",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsx("p",{className:"text-white text-sm",children:Ke.description}),r.jsx("span",{className:"text-slate-400 text-xs",children:new Date(Ke.date).toLocaleDateString()})]})},qt)):r.jsx("p",{className:"text-slate-400 text-sm",children:"No change history available"})})})]})]})]})})]})}):r.jsx(r.Fragment,{children:r.jsx("div",{className:"lg:col-span-3 space-y-4",children:r.jsxs(Le,{className:"bg-slate-900/60 border-slate-700/50 shadow-2xl",children:[r.jsx(mt,{className:"pb-3",children:r.jsxs(kt,{className:"flex items-center gap-2 text-lg font-bold text-white",children:[r.jsx(Lv,{className:"h-5 w-5 text-blue-400"}),"Criminal Codes Database"]})}),r.jsx(Je,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(ls,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),r.jsx(ht,{placeholder:"Search criminal codes by ID, title, category, or description...",className:"pl-10 bg-slate-800/40 border-slate-600/50 text-white placeholder:text-slate-400 focus:border-blue-400/60",value:Q,onChange:Ke=>{oe(Ke.target.value),nt(Ke.target.value)}})]}),r.jsx(nr,{className:"h-80",children:r.jsx("div",{className:"space-y-3 pr-2",children:q?r.jsxs("div",{className:"text-center text-slate-400 py-8",children:[r.jsx(ls,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),r.jsx("p",{children:"Searching..."})]}):ce.length>0?ce.map(Ke=>{var qt;return r.jsxs("div",{className:"p-4 rounded-xl border border-slate-600/50 bg-slate-800/40 backdrop-blur-sm hover:bg-slate-700/50 cursor-pointer transition-all duration-200 hover:scale-[1.01]",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-mono text-sm font-medium text-white",children:Ke.id}),r.jsx("h3",{className:"font-semibold text-white",children:Ke.title})]}),r.jsx(ze,{className:"bg-blue-500/20 text-blue-400 border-blue-500/30 border",children:((qt=Ke.category)==null?void 0:qt.toUpperCase())||"CATEGORY"})]}),r.jsx("div",{className:"flex items-center gap-1 text-sm text-slate-400 mb-2",children:r.jsx("span",{className:"line-clamp-2",children:Ke.description})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(ze,{className:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30 border",children:["Fine: $",Ke.fine]}),r.jsxs(ze,{className:"bg-amber-500/20 text-amber-400 border-amber-500/30 border",children:[Ke.sentence," Months"]})]})]},Ke.id)}):Q?r.jsxs("div",{className:"text-center text-slate-400 py-8",children:[r.jsx(Lv,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),r.jsx("p",{children:"No criminal codes found"})]}):r.jsxs("div",{className:"text-center text-slate-400 py-8",children:[r.jsx(ls,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),r.jsx("p",{children:"Enter search terms to find criminal codes"})]})})})]})})]})})})});case"courts":return r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:Ee?r.jsx(r.Fragment,{children:r.jsx("div",{className:"lg:col-span-3",children:r.jsxs(Le,{className:"bg-slate-900/60 border-slate-700/50 shadow-2xl",children:[r.jsx(mt,{className:"pb-3 border-b border-slate-700/50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ae,{variant:"ghost",size:"sm",onClick:()=>He(null),className:"text-slate-400 hover:text-white hover:bg-slate-700/50",children:r.jsx(Kq,{className:"h-4 w-4"})}),r.jsxs("div",{children:[r.jsxs(kt,{className:"flex items-center gap-2 text-lg font-bold text-white",children:[r.jsx(Mc,{className:"h-5 w-5 text-blue-400"}),Ee.title]}),r.jsxs("p",{className:"text-slate-400 text-sm",children:["#",Ee.id]})]})]}),r.jsx(ze,{variant:"outline",className:`${Ee.status==="scheduled"?"bg-blue-500/20 text-blue-400 border-blue-400/50":Ee.status==="completed"?"bg-green-500/20 text-green-400 border-green-400/50":Ee.status==="postponed"?"bg-yellow-500/20 text-yellow-400 border-yellow-400/50":"bg-red-500/20 text-red-400 border-red-400/50"}`,children:Ee.status})]})}),r.jsx(Je,{className:"p-6",children:r.jsxs(ea,{value:Ve,onValueChange:Re,className:"w-full",children:[r.jsxs(ta,{className:"grid w-full grid-cols-2 bg-slate-800/60 border-slate-600/50",children:[r.jsx(Fr,{value:"details",className:"data-[state=active]:bg-blue-500/20 data-[state=active]:text-blue-400",children:"Details"}),r.jsx(Fr,{value:"reports",className:"data-[state=active]:bg-blue-500/20 data-[state=active]:text-blue-400",children:"Related Reports"})]}),r.jsx(Rr,{value:"details",className:"mt-6 space-y-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-slate-400 mb-2",children:"Case Information"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-slate-400",children:"Defendant:"}),r.jsx("span",{className:"text-white",children:Ee.defendant})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-slate-400",children:"Date:"}),r.jsx("span",{className:"text-white",children:new Date(Ee.date).toLocaleString()})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-slate-400",children:"Courtroom:"}),r.jsx("span",{className:"text-white",children:Ee.courtroom})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-slate-400 mb-2",children:"Charges"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:(fr=Ee.charges)==null?void 0:fr.map((Ke,qt)=>r.jsx(ze,{variant:"outline",className:"bg-red-500/20 text-red-400 border-red-400/50",children:Ke},qt))})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-slate-400 mb-2",children:"Court Officials"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-slate-400",children:"Judge:"}),r.jsx("span",{className:"text-white",children:Ee.judge})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-slate-400",children:"Defense:"}),r.jsx("span",{className:"text-white",children:Ee.defense})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-slate-400",children:"Prosecution:"}),r.jsx("span",{className:"text-white",children:Ee.prosecution})]})]})]}),Ee.status==="completed"&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-slate-400 mb-2",children:"Verdict & Sentence"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-slate-400",children:"Verdict:"}),r.jsx("p",{className:"text-white mt-1",children:Ee.verdict})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-slate-400",children:"Sentence:"}),r.jsx("p",{className:"text-white mt-1",children:Ee.sentence})]})]})]})]})]})}),r.jsx(Rr,{value:"reports",className:"mt-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-sm font-medium text-slate-400",children:"Related Reports"}),((dr=Ee.relatedReports)==null?void 0:dr.length)>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Ee.relatedReports.map((Ke,qt)=>r.jsx(Le,{className:"bg-slate-800/40 border-slate-600/50 hover:bg-slate-700/40 cursor-pointer transition-colors",children:r.jsx(Je,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(fi,{className:"h-4 w-4 text-blue-400"}),r.jsxs("span",{className:"text-white font-medium",children:["Report #",Ke]})]})})},qt))}):r.jsxs("div",{className:"text-center py-8 text-slate-400",children:[r.jsx(fi,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No related reports found for this case."})]})]})})]})})]})})}):r.jsx(r.Fragment,{children:r.jsx("div",{className:"lg:col-span-3 space-y-4",children:r.jsxs(Le,{className:"bg-slate-900/60 border-slate-700/50 shadow-2xl",children:[r.jsx(mt,{className:"pb-3",children:r.jsxs(kt,{className:"flex items-center gap-2 text-lg font-bold text-white",children:[r.jsx(Mc,{className:"h-5 w-5 text-blue-400"}),"Court Cases Database"]})}),r.jsx(Je,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(ls,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),r.jsx(ht,{placeholder:"Search court cases by ID, title, defendant, or status...",className:"pl-10 bg-slate-800/40 border-slate-600/50 text-white placeholder:text-slate-400 focus:border-blue-400/60",value:re,onChange:Ke=>{G(Ke.target.value),ut(Ke.target.value)}})]}),rt&&r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-400"})}),ue.length>0&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-96 overflow-y-auto",children:ue.map(Ke=>r.jsx(Le,{className:"bg-slate-800/60 border-slate-600/50 hover:bg-slate-700/60 cursor-pointer transition-all duration-200 hover:border-blue-400/50",onClick:()=>He(Ke),children:r.jsx(Je,{className:"p-4",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"font-semibold text-white text-sm",children:Ke.title}),r.jsx(ze,{variant:"outline",className:`text-xs ${Ke.status==="scheduled"?"bg-blue-500/20 text-blue-400 border-blue-400/50":Ke.status==="completed"?"bg-green-500/20 text-green-400 border-green-400/50":Ke.status==="postponed"?"bg-yellow-500/20 text-yellow-400 border-yellow-400/50":"bg-red-500/20 text-red-400 border-red-400/50"}`,children:Ke.status})]}),r.jsxs("p",{className:"text-slate-300 text-xs",children:["#",Ke.id]}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("p",{className:"text-slate-400 text-xs",children:[r.jsx("span",{className:"font-medium",children:"Defendant:"})," ",Ke.defendant]}),r.jsxs("p",{className:"text-slate-400 text-xs",children:[r.jsx("span",{className:"font-medium",children:"Judge:"})," ",Ke.judge]}),r.jsxs("p",{className:"text-slate-400 text-xs",children:[r.jsx("span",{className:"font-medium",children:"Courtroom:"})," ",Ke.courtroom]}),r.jsxs("p",{className:"text-slate-400 text-xs",children:[r.jsx("span",{className:"font-medium",children:"Date:"})," ",new Date(Ke.date).toLocaleDateString()]})]})]})})},Ke.id))}),re&&!rt&&ue.length===0&&r.jsxs("div",{className:"text-center py-8 text-slate-400",children:[r.jsx(Mc,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No court cases found matching your search."})]})]})})]})})})});default:return r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("p",{className:"text-slate-400",children:"Select a page from the navigation"})})}};return r.jsx("div",{className:"min-h-screen p-6 flex items-center justify-center overflow-hidden",children:r.jsxs("div",{className:"relative w-full max-w-7xl mx-auto",children:[r.jsx("div",{className:"relative bg-white p-[0.8] rounded-[2rem] shadow-[0_2px_15px_rgba(0,0,0,0.3)] border border-slate-700/20",children:r.jsx("div",{className:"p-3 rounded-[2rem] shadow-inner bg-slate-950 border border-slate-700/30",children:r.jsx("div",{className:"bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 rounded-[1.5rem] overflow-hidden shadow-lg border border-slate-700/50",children:r.jsxs("div",{className:"p-6 font-sans text-white h-[700px] flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between mb-5 pb-3 border-b border-slate-700/40",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-md",children:r.jsx(lf,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-semibold",children:"Civilian MDT"}),r.jsx("p",{className:"text-xs text-slate-400",children:"Mobile Data Terminal"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm font-medium",children:"Hello, User"}),r.jsx("p",{className:"text-xs text-slate-400",children:"No callsign"})]}),r.jsx(Ae,{variant:"ghost",size:"icon",className:"bg-slate-800/50 hover:bg-slate-700/50 backdrop-blur-md rounded-xl",children:r.jsx(eO,{className:"h-4 w-4 text-white"})}),r.jsx(Ae,{variant:"ghost",size:"icon",className:"bg-slate-800/50 hover:bg-slate-700/50 backdrop-blur-md rounded-xl",children:r.jsx(pS,{className:"h-4 w-4 text-white"})})]})]}),r.jsx("div",{className:"flex items-center gap-2 mb-5 p-1 bg-slate-800/60 rounded-xl border border-slate-700/40",children:je.map(Be=>{const Ye=Be.icon;return r.jsxs("button",{onClick:()=>s(Be.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-300 ${n===Be.id?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-md":"text-slate-400 hover:text-white hover:bg-slate-700/50"}`,children:[r.jsx(Ye,{className:"h-4 w-4"}),r.jsx("span",{className:"text-sm",children:Be.label})]},Be.id)})}),r.jsx("div",{className:"flex-1 overflow-y-auto pr-2 scrollbar-thin scrollbar-track-slate-900 scrollbar-thumb-slate-600 hover:scrollbar-thumb-slate-500 scrollbar-thumb-rounded-full",children:zt()})]})})})}),r.jsx("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 flex items-center gap-1.5 bg-black/30 backdrop-blur-sm px-3 py-1 rounded-full border border-slate-700/20",children:je.map(Be=>r.jsx("button",{onClick:()=>s(Be.id),className:`h-2 rounded-full transition-all duration-300 ${n===Be.id?"bg-blue-400 w-6":"bg-white/40 hover:bg-white/60 w-2"}`},Be.id))})]})})}if(l1()){const e=document.getElementById("root");e&&(e.style.backgroundImage='url("https://i.imgur.com/3pzRj9n.png")',e.style.backgroundSize="cover",e.style.backgroundRepeat="no-repeat",e.style.backgroundPosition="center",e.style.webkitUserSelect="none",e.style.userSelect="none")}const kNe=()=>r.jsx(kr.StrictMode,{children:r.jsx(qhe,{children:r.jsx(Ene,{children:r.jsxs(Tne,{children:[r.jsx(CNe,{}),r.jsx(_q,{children:r.jsx(Zje,{children:r.jsxs("div",{className:"relative z-10 overflow-hidden max-h-screen",children:[r.jsx(PNe,{}),r.jsx(NNe,{}),r.jsx(SNe,{}),r.jsx(TNe,{}),r.jsx(tNe,{}),r.jsx(uG,{children:r.jsx(ZY,{children:r.jsx(Xje,{})})})]})})}),r.jsx(jNe,{})]})})})}),mj=document.getElementById("root");mj&&!mj.hasAttribute("data-reactroot")&&cG.createRoot(mj).render(r.jsx(kNe,{}));function PNe(){const{settings:e,setSettings:t,isEditing:n,setIsEditing:s,saveSettings:a,resetSettings:i}=Wx();return r.jsx(BNe,{isEditing:n,setIsEditing:s,settings:e,setSettings:t,saveSettings:a,resetSettings:i})}/*! @license DOMPurify 3.2.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.5/LICENSE */const{entries:GK,setPrototypeOf:WP,isFrozen:DNe,getPrototypeOf:FNe,getOwnPropertyDescriptor:LNe}=Object;let{freeze:yl,seal:zc,create:qK}=Object,{apply:V5,construct:K5}=typeof Reflect<"u"&&Reflect;yl||(yl=function(t){return t});zc||(zc=function(t){return t});V5||(V5=function(t,n,s){return t.apply(n,s)});K5||(K5=function(t,n){return new t(...n)});const D0=wl(Array.prototype.forEach),RNe=wl(Array.prototype.lastIndexOf),$P=wl(Array.prototype.pop),ig=wl(Array.prototype.push),ONe=wl(Array.prototype.splice),uy=wl(String.prototype.toLowerCase),pj=wl(String.prototype.toString),GP=wl(String.prototype.match),ag=wl(String.prototype.replace),MNe=wl(String.prototype.indexOf),UNe=wl(String.prototype.trim),yd=wl(Object.prototype.hasOwnProperty),pl=wl(RegExp.prototype.test),og=QNe(TypeError);function wl(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];return V5(e,t,s)}}function QNe(e){return function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return K5(e,n)}}function os(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:uy;WP&&WP(e,null);let s=t.length;for(;s--;){let a=t[s];if(typeof a=="string"){const i=n(a);i!==a&&(DNe(t)||(t[s]=i),a=i)}e[a]=!0}return e}function HNe(e){for(let t=0;t<e.length;t++)yd(e,t)||(e[t]=null);return e}function Xh(e){const t=qK(null);for(const[n,s]of GK(e))yd(e,n)&&(Array.isArray(s)?t[n]=HNe(s):s&&typeof s=="object"&&s.constructor===Object?t[n]=Xh(s):t[n]=s);return t}function lg(e,t){for(;e!==null;){const s=LNe(e,t);if(s){if(s.get)return wl(s.get);if(typeof s.value=="function")return wl(s.value)}e=FNe(e)}function n(){return null}return n}const qP=yl(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),gj=yl(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),xj=yl(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),zNe=yl(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),vj=yl(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),VNe=yl(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),JP=yl(["#text"]),YP=yl(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),yj=yl(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),XP=yl(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),F0=yl(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),KNe=zc(/\{\{[\w\W]*|[\w\W]*\}\}/gm),WNe=zc(/<%[\w\W]*|[\w\W]*%>/gm),$Ne=zc(/\$\{[\w\W]*/gm),GNe=zc(/^data-[\-\w.\u00B7-\uFFFF]+$/),qNe=zc(/^aria-[\-\w]+$/),JK=zc(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),JNe=zc(/^(?:\w+script|data):/i),YNe=zc(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),YK=zc(/^html$/i),XNe=zc(/^[a-z][.\w]*(-[.\w]+)+$/i);var ZP=Object.freeze({__proto__:null,ARIA_ATTR:qNe,ATTR_WHITESPACE:YNe,CUSTOM_ELEMENT:XNe,DATA_ATTR:GNe,DOCTYPE_NAME:YK,ERB_EXPR:WNe,IS_ALLOWED_URI:JK,IS_SCRIPT_OR_DATA:JNe,MUSTACHE_EXPR:KNe,TMPLIT_EXPR:$Ne});const cg={element:1,text:3,progressingInstruction:7,comment:8,document:9},ZNe=function(){return typeof window>"u"?null:window},eCe=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let s=null;const a="data-tt-policy-suffix";n&&n.hasAttribute(a)&&(s=n.getAttribute(a));const i="dompurify"+(s?"#"+s:"");try{return t.createPolicy(i,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},eD=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function XK(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ZNe();const t=wr=>XK(wr);if(t.version="3.2.5",t.removed=[],!e||!e.document||e.document.nodeType!==cg.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const s=n,a=s.currentScript,{DocumentFragment:i,HTMLTemplateElement:o,Node:l,Element:c,NodeFilter:d,NamedNodeMap:u=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:f,DOMParser:v,trustedTypes:g}=e,w=c.prototype,y=lg(w,"cloneNode"),b=lg(w,"remove"),x=lg(w,"nextSibling"),N=lg(w,"childNodes"),S=lg(w,"parentNode");if(typeof o=="function"){const wr=n.createElement("template");wr.content&&wr.content.ownerDocument&&(n=wr.content.ownerDocument)}let k,F="";const{implementation:$,createNodeIterator:U,createDocumentFragment:D,getElementsByTagName:H}=n,{importNode:K}=s;let B=eD();t.isSupported=typeof GK=="function"&&typeof S=="function"&&$&&$.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:R,ERB_EXPR:Z,TMPLIT_EXPR:te,DATA_ATTR:ye,ARIA_ATTR:de,IS_SCRIPT_OR_DATA:le,ATTR_WHITESPACE:Q,CUSTOM_ELEMENT:oe}=ZP;let{IS_ALLOWED_URI:ce}=ZP,ee=null;const M=os({},[...qP,...gj,...xj,...vj,...JP]);let E=null;const q=os({},[...YP,...yj,...XP,...F0]);let se=Object.seal(qK(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),re=null,G=null,ue=!0,ie=!0,Ee=!1,He=!0,rt=!1,we=!0,Ve=!1,Re=!1,je=!1,Mt=!1,Bt=!1,ct=!1,vt=!0,wt=!1;const Fe="user-content-";let Oe=!0,_e=!1,nt={},ut=null;const jt=os({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let zt=null;const Be=os({},["audio","video","img","source","image","track"]);let Ye=null;const Ue=os({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Lt="http://www.w3.org/1998/Math/MathML",Et="http://www.w3.org/2000/svg",hr="http://www.w3.org/1999/xhtml";let ur=hr,Cr=!1,Tr=null;const fr=os({},[Lt,Et,hr],pj);let dr=os({},["mi","mo","mn","ms","mtext"]),Ke=os({},["annotation-xml"]);const qt=os({},["title","style","font","a","script"]);let Ge=null;const st=["application/xhtml+xml","text/html"],it="text/html";let Pt=null,_r=null;const ot=n.createElement("form"),dt=function(We){return We instanceof RegExp||We instanceof Function},er=function(){let We=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(_r&&_r===We)){if((!We||typeof We!="object")&&(We={}),We=Xh(We),Ge=st.indexOf(We.PARSER_MEDIA_TYPE)===-1?it:We.PARSER_MEDIA_TYPE,Pt=Ge==="application/xhtml+xml"?pj:uy,ee=yd(We,"ALLOWED_TAGS")?os({},We.ALLOWED_TAGS,Pt):M,E=yd(We,"ALLOWED_ATTR")?os({},We.ALLOWED_ATTR,Pt):q,Tr=yd(We,"ALLOWED_NAMESPACES")?os({},We.ALLOWED_NAMESPACES,pj):fr,Ye=yd(We,"ADD_URI_SAFE_ATTR")?os(Xh(Ue),We.ADD_URI_SAFE_ATTR,Pt):Ue,zt=yd(We,"ADD_DATA_URI_TAGS")?os(Xh(Be),We.ADD_DATA_URI_TAGS,Pt):Be,ut=yd(We,"FORBID_CONTENTS")?os({},We.FORBID_CONTENTS,Pt):jt,re=yd(We,"FORBID_TAGS")?os({},We.FORBID_TAGS,Pt):{},G=yd(We,"FORBID_ATTR")?os({},We.FORBID_ATTR,Pt):{},nt=yd(We,"USE_PROFILES")?We.USE_PROFILES:!1,ue=We.ALLOW_ARIA_ATTR!==!1,ie=We.ALLOW_DATA_ATTR!==!1,Ee=We.ALLOW_UNKNOWN_PROTOCOLS||!1,He=We.ALLOW_SELF_CLOSE_IN_ATTR!==!1,rt=We.SAFE_FOR_TEMPLATES||!1,we=We.SAFE_FOR_XML!==!1,Ve=We.WHOLE_DOCUMENT||!1,Mt=We.RETURN_DOM||!1,Bt=We.RETURN_DOM_FRAGMENT||!1,ct=We.RETURN_TRUSTED_TYPE||!1,je=We.FORCE_BODY||!1,vt=We.SANITIZE_DOM!==!1,wt=We.SANITIZE_NAMED_PROPS||!1,Oe=We.KEEP_CONTENT!==!1,_e=We.IN_PLACE||!1,ce=We.ALLOWED_URI_REGEXP||JK,ur=We.NAMESPACE||hr,dr=We.MATHML_TEXT_INTEGRATION_POINTS||dr,Ke=We.HTML_INTEGRATION_POINTS||Ke,se=We.CUSTOM_ELEMENT_HANDLING||{},We.CUSTOM_ELEMENT_HANDLING&&dt(We.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(se.tagNameCheck=We.CUSTOM_ELEMENT_HANDLING.tagNameCheck),We.CUSTOM_ELEMENT_HANDLING&&dt(We.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(se.attributeNameCheck=We.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),We.CUSTOM_ELEMENT_HANDLING&&typeof We.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(se.allowCustomizedBuiltInElements=We.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),rt&&(ie=!1),Bt&&(Mt=!0),nt&&(ee=os({},JP),E=[],nt.html===!0&&(os(ee,qP),os(E,YP)),nt.svg===!0&&(os(ee,gj),os(E,yj),os(E,F0)),nt.svgFilters===!0&&(os(ee,xj),os(E,yj),os(E,F0)),nt.mathMl===!0&&(os(ee,vj),os(E,XP),os(E,F0))),We.ADD_TAGS&&(ee===M&&(ee=Xh(ee)),os(ee,We.ADD_TAGS,Pt)),We.ADD_ATTR&&(E===q&&(E=Xh(E)),os(E,We.ADD_ATTR,Pt)),We.ADD_URI_SAFE_ATTR&&os(Ye,We.ADD_URI_SAFE_ATTR,Pt),We.FORBID_CONTENTS&&(ut===jt&&(ut=Xh(ut)),os(ut,We.FORBID_CONTENTS,Pt)),Oe&&(ee["#text"]=!0),Ve&&os(ee,["html","head","body"]),ee.table&&(os(ee,["tbody"]),delete re.tbody),We.TRUSTED_TYPES_POLICY){if(typeof We.TRUSTED_TYPES_POLICY.createHTML!="function")throw og('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof We.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw og('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');k=We.TRUSTED_TYPES_POLICY,F=k.createHTML("")}else k===void 0&&(k=eCe(g,a)),k!==null&&typeof F=="string"&&(F=k.createHTML(""));yl&&yl(We),_r=We}},Rt=os({},[...gj,...xj,...zNe]),xn=os({},[...vj,...VNe]),qr=function(We){let Ht=S(We);(!Ht||!Ht.tagName)&&(Ht={namespaceURI:ur,tagName:"template"});const mr=uy(We.tagName),jn=uy(Ht.tagName);return Tr[We.namespaceURI]?We.namespaceURI===Et?Ht.namespaceURI===hr?mr==="svg":Ht.namespaceURI===Lt?mr==="svg"&&(jn==="annotation-xml"||dr[jn]):!!Rt[mr]:We.namespaceURI===Lt?Ht.namespaceURI===hr?mr==="math":Ht.namespaceURI===Et?mr==="math"&&Ke[jn]:!!xn[mr]:We.namespaceURI===hr?Ht.namespaceURI===Et&&!Ke[jn]||Ht.namespaceURI===Lt&&!dr[jn]?!1:!xn[mr]&&(qt[mr]||!Rt[mr]):!!(Ge==="application/xhtml+xml"&&Tr[We.namespaceURI]):!1},vn=function(We){ig(t.removed,{element:We});try{S(We).removeChild(We)}catch{b(We)}},Er=function(We,Ht){try{ig(t.removed,{attribute:Ht.getAttributeNode(We),from:Ht})}catch{ig(t.removed,{attribute:null,from:Ht})}if(Ht.removeAttribute(We),We==="is")if(Mt||Bt)try{vn(Ht)}catch{}else try{Ht.setAttribute(We,"")}catch{}},Gt=function(We){let Ht=null,mr=null;if(je)We="<remove></remove>"+We;else{const Ur=GP(We,/^[\r\n\t ]+/);mr=Ur&&Ur[0]}Ge==="application/xhtml+xml"&&ur===hr&&(We='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+We+"</body></html>");const jn=k?k.createHTML(We):We;if(ur===hr)try{Ht=new v().parseFromString(jn,Ge)}catch{}if(!Ht||!Ht.documentElement){Ht=$.createDocument(ur,"template",null);try{Ht.documentElement.innerHTML=Cr?F:jn}catch{}}const Un=Ht.body||Ht.documentElement;return We&&mr&&Un.insertBefore(n.createTextNode(mr),Un.childNodes[0]||null),ur===hr?H.call(Ht,Ve?"html":"body")[0]:Ve?Ht.documentElement:Un},kn=function(We){return U.call(We.ownerDocument||We,We,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},ps=function(We){return We instanceof f&&(typeof We.nodeName!="string"||typeof We.textContent!="string"||typeof We.removeChild!="function"||!(We.attributes instanceof u)||typeof We.removeAttribute!="function"||typeof We.setAttribute!="function"||typeof We.namespaceURI!="string"||typeof We.insertBefore!="function"||typeof We.hasChildNodes!="function")},is=function(We){return typeof l=="function"&&We instanceof l};function en(wr,We,Ht){D0(wr,mr=>{mr.call(t,We,Ht,_r)})}const ws=function(We){let Ht=null;if(en(B.beforeSanitizeElements,We,null),ps(We))return vn(We),!0;const mr=Pt(We.nodeName);if(en(B.uponSanitizeElement,We,{tagName:mr,allowedTags:ee}),We.hasChildNodes()&&!is(We.firstElementChild)&&pl(/<[/\w!]/g,We.innerHTML)&&pl(/<[/\w!]/g,We.textContent)||We.nodeType===cg.progressingInstruction||we&&We.nodeType===cg.comment&&pl(/<[/\w]/g,We.data))return vn(We),!0;if(!ee[mr]||re[mr]){if(!re[mr]&&qn(mr)&&(se.tagNameCheck instanceof RegExp&&pl(se.tagNameCheck,mr)||se.tagNameCheck instanceof Function&&se.tagNameCheck(mr)))return!1;if(Oe&&!ut[mr]){const jn=S(We)||We.parentNode,Un=N(We)||We.childNodes;if(Un&&jn){const Ur=Un.length;for(let Jr=Ur-1;Jr>=0;--Jr){const Xn=y(Un[Jr],!0);Xn.__removalCount=(We.__removalCount||0)+1,jn.insertBefore(Xn,x(We))}}}return vn(We),!0}return We instanceof c&&!qr(We)||(mr==="noscript"||mr==="noembed"||mr==="noframes")&&pl(/<\/no(script|embed|frames)/i,We.innerHTML)?(vn(We),!0):(rt&&We.nodeType===cg.text&&(Ht=We.textContent,D0([R,Z,te],jn=>{Ht=ag(Ht,jn," ")}),We.textContent!==Ht&&(ig(t.removed,{element:We.cloneNode()}),We.textContent=Ht)),en(B.afterSanitizeElements,We,null),!1)},Pn=function(We,Ht,mr){if(vt&&(Ht==="id"||Ht==="name")&&(mr in n||mr in ot))return!1;if(!(ie&&!G[Ht]&&pl(ye,Ht))){if(!(ue&&pl(de,Ht))){if(!E[Ht]||G[Ht]){if(!(qn(We)&&(se.tagNameCheck instanceof RegExp&&pl(se.tagNameCheck,We)||se.tagNameCheck instanceof Function&&se.tagNameCheck(We))&&(se.attributeNameCheck instanceof RegExp&&pl(se.attributeNameCheck,Ht)||se.attributeNameCheck instanceof Function&&se.attributeNameCheck(Ht))||Ht==="is"&&se.allowCustomizedBuiltInElements&&(se.tagNameCheck instanceof RegExp&&pl(se.tagNameCheck,mr)||se.tagNameCheck instanceof Function&&se.tagNameCheck(mr))))return!1}else if(!Ye[Ht]){if(!pl(ce,ag(mr,Q,""))){if(!((Ht==="src"||Ht==="xlink:href"||Ht==="href")&&We!=="script"&&MNe(mr,"data:")===0&&zt[We])){if(!(Ee&&!pl(le,ag(mr,Q,"")))){if(mr)return!1}}}}}}return!0},qn=function(We){return We!=="annotation-xml"&&GP(We,oe)},Zn=function(We){en(B.beforeSanitizeAttributes,We,null);const{attributes:Ht}=We;if(!Ht||ps(We))return;const mr={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:E,forceKeepAttr:void 0};let jn=Ht.length;for(;jn--;){const Un=Ht[jn],{name:Ur,namespaceURI:Jr,value:Xn}=Un,ds=Pt(Ur);let Nn=Ur==="value"?Xn:UNe(Xn);if(mr.attrName=ds,mr.attrValue=Nn,mr.keepAttr=!0,mr.forceKeepAttr=void 0,en(B.uponSanitizeAttribute,We,mr),Nn=mr.attrValue,wt&&(ds==="id"||ds==="name")&&(Er(Ur,We),Nn=Fe+Nn),we&&pl(/((--!?|])>)|<\/(style|title)/i,Nn)){Er(Ur,We);continue}if(mr.forceKeepAttr||(Er(Ur,We),!mr.keepAttr))continue;if(!He&&pl(/\/>/i,Nn)){Er(Ur,We);continue}rt&&D0([R,Z,te],Nt=>{Nn=ag(Nn,Nt," ")});const Te=Pt(We.nodeName);if(Pn(Te,ds,Nn)){if(k&&typeof g=="object"&&typeof g.getAttributeType=="function"&&!Jr)switch(g.getAttributeType(Te,ds)){case"TrustedHTML":{Nn=k.createHTML(Nn);break}case"TrustedScriptURL":{Nn=k.createScriptURL(Nn);break}}try{Jr?We.setAttributeNS(Jr,Ur,Nn):We.setAttribute(Ur,Nn),ps(We)?vn(We):$P(t.removed)}catch{}}}en(B.afterSanitizeAttributes,We,null)},Ln=function wr(We){let Ht=null;const mr=kn(We);for(en(B.beforeSanitizeShadowDOM,We,null);Ht=mr.nextNode();)en(B.uponSanitizeShadowNode,Ht,null),ws(Ht),Zn(Ht),Ht.content instanceof i&&wr(Ht.content);en(B.afterSanitizeShadowDOM,We,null)};return t.sanitize=function(wr){let We=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ht=null,mr=null,jn=null,Un=null;if(Cr=!wr,Cr&&(wr="<!-->"),typeof wr!="string"&&!is(wr))if(typeof wr.toString=="function"){if(wr=wr.toString(),typeof wr!="string")throw og("dirty is not a string, aborting")}else throw og("toString is not a function");if(!t.isSupported)return wr;if(Re||er(We),t.removed=[],typeof wr=="string"&&(_e=!1),_e){if(wr.nodeName){const Xn=Pt(wr.nodeName);if(!ee[Xn]||re[Xn])throw og("root node is forbidden and cannot be sanitized in-place")}}else if(wr instanceof l)Ht=Gt("<!---->"),mr=Ht.ownerDocument.importNode(wr,!0),mr.nodeType===cg.element&&mr.nodeName==="BODY"||mr.nodeName==="HTML"?Ht=mr:Ht.appendChild(mr);else{if(!Mt&&!rt&&!Ve&&wr.indexOf("<")===-1)return k&&ct?k.createHTML(wr):wr;if(Ht=Gt(wr),!Ht)return Mt?null:ct?F:""}Ht&&je&&vn(Ht.firstChild);const Ur=kn(_e?wr:Ht);for(;jn=Ur.nextNode();)ws(jn),Zn(jn),jn.content instanceof i&&Ln(jn.content);if(_e)return wr;if(Mt){if(Bt)for(Un=D.call(Ht.ownerDocument);Ht.firstChild;)Un.appendChild(Ht.firstChild);else Un=Ht;return(E.shadowroot||E.shadowrootmode)&&(Un=K.call(s,Un,!0)),Un}let Jr=Ve?Ht.outerHTML:Ht.innerHTML;return Ve&&ee["!doctype"]&&Ht.ownerDocument&&Ht.ownerDocument.doctype&&Ht.ownerDocument.doctype.name&&pl(YK,Ht.ownerDocument.doctype.name)&&(Jr="<!DOCTYPE "+Ht.ownerDocument.doctype.name+`>
`+Jr),rt&&D0([R,Z,te],Xn=>{Jr=ag(Jr,Xn," ")}),k&&ct?k.createHTML(Jr):Jr},t.setConfig=function(){let wr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};er(wr),Re=!0},t.clearConfig=function(){_r=null,Re=!1},t.isValidAttribute=function(wr,We,Ht){_r||er({});const mr=Pt(wr),jn=Pt(We);return Pn(mr,jn,Ht)},t.addHook=function(wr,We){typeof We=="function"&&ig(B[wr],We)},t.removeHook=function(wr,We){if(We!==void 0){const Ht=RNe(B[wr],We);return Ht===-1?void 0:ONe(B[wr],Ht,1)[0]}return $P(B[wr])},t.removeHooks=function(wr){B[wr]=[]},t.removeAllHooks=function(){B=eD()},t}var tCe=XK();const rCe=Object.freeze(Object.defineProperty({__proto__:null,default:tCe},Symbol.toStringTag,{value:"Module"}));var tD={},rD={},dg,nD;function ra(){if(nD)return dg;nD=1;var e=function(t){return t&&t.Math===Math&&t};return dg=e(typeof globalThis=="object"&&globalThis)||e(typeof window=="object"&&window)||e(typeof self=="object"&&self)||e(typeof r_=="object"&&r_)||e(typeof dg=="object"&&dg)||function(){return this}()||Function("return this")(),dg}var wj={},bj,sD;function Ca(){return sD||(sD=1,bj=function(e){try{return!!e()}catch{return!0}}),bj}var jj,iD;function Ld(){if(iD)return jj;iD=1;var e=Ca();return jj=!e(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),jj}var Nj,aD;function Sw(){if(aD)return Nj;aD=1;var e=Ca();return Nj=!e(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),Nj}var Cj,oD;function Po(){if(oD)return Cj;oD=1;var e=Sw(),t=Function.prototype.call;return Cj=e?t.bind(t):function(){return t.apply(t,arguments)},Cj}var _j={},lD;function nCe(){if(lD)return _j;lD=1;var e={}.propertyIsEnumerable,t=Object.getOwnPropertyDescriptor,n=t&&!e.call({1:2},1);return _j.f=n?function(a){var i=t(this,a);return!!i&&i.enumerable}:e,_j}var Sj,cD;function BB(){return cD||(cD=1,Sj=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}),Sj}var Bj,dD;function _a(){if(dD)return Bj;dD=1;var e=Sw(),t=Function.prototype,n=t.call,s=e&&t.bind.bind(n,n);return Bj=e?s:function(a){return function(){return n.apply(a,arguments)}},Bj}var Ej,uD;function Cf(){if(uD)return Ej;uD=1;var e=_a(),t=e({}.toString),n=e("".slice);return Ej=function(s){return n(t(s),8,-1)},Ej}var Ij,AD;function ZK(){if(AD)return Ij;AD=1;var e=_a(),t=Ca(),n=Cf(),s=Object,a=e("".split);return Ij=t(function(){return!s("z").propertyIsEnumerable(0)})?function(i){return n(i)==="String"?a(i,""):s(i)}:s,Ij}var Tj,hD;function Bw(){return hD||(hD=1,Tj=function(e){return e==null}),Tj}var kj,fD;function Rd(){if(fD)return kj;fD=1;var e=Bw(),t=TypeError;return kj=function(n){if(e(n))throw new t("Can't call method on "+n);return n},kj}var Pj,mD;function Gx(){if(mD)return Pj;mD=1;var e=ZK(),t=Rd();return Pj=function(n){return e(t(n))},Pj}var Dj,pD;function Sa(){if(pD)return Dj;pD=1;var e=typeof document=="object"&&document.all;return Dj=typeof e>"u"&&e!==void 0?function(t){return typeof t=="function"||t===e}:function(t){return typeof t=="function"},Dj}var Fj,gD;function Yl(){if(gD)return Fj;gD=1;var e=Sa();return Fj=function(t){return typeof t=="object"?t!==null:e(t)},Fj}var Lj,xD;function _f(){if(xD)return Lj;xD=1;var e=ra(),t=Sa(),n=function(s){return t(s)?s:void 0};return Lj=function(s,a){return arguments.length<2?n(e[s]):e[s]&&e[s][a]},Lj}var Rj,vD;function Ew(){if(vD)return Rj;vD=1;var e=_a();return Rj=e({}.isPrototypeOf),Rj}var Oj,yD;function qx(){if(yD)return Oj;yD=1;var e=ra(),t=e.navigator,n=t&&t.userAgent;return Oj=n?String(n):"",Oj}var Mj,wD;function EB(){if(wD)return Mj;wD=1;var e=ra(),t=qx(),n=e.process,s=e.Deno,a=n&&n.versions||s&&s.version,i=a&&a.v8,o,l;return i&&(o=i.split("."),l=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!l&&t&&(o=t.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=t.match(/Chrome\/(\d+)/),o&&(l=+o[1]))),Mj=l,Mj}var Uj,bD;function eW(){if(bD)return Uj;bD=1;var e=EB(),t=Ca(),n=ra(),s=n.String;return Uj=!!Object.getOwnPropertySymbols&&!t(function(){var a=Symbol("symbol detection");return!s(a)||!(Object(a)instanceof Symbol)||!Symbol.sham&&e&&e<41}),Uj}var Qj,jD;function tW(){if(jD)return Qj;jD=1;var e=eW();return Qj=e&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Qj}var Hj,ND;function rW(){if(ND)return Hj;ND=1;var e=_f(),t=Sa(),n=Ew(),s=tW(),a=Object;return Hj=s?function(i){return typeof i=="symbol"}:function(i){var o=e("Symbol");return t(o)&&n(o.prototype,a(i))},Hj}var zj,CD;function Iw(){if(CD)return zj;CD=1;var e=String;return zj=function(t){try{return e(t)}catch{return"Object"}},zj}var Vj,_D;function mA(){if(_D)return Vj;_D=1;var e=Sa(),t=Iw(),n=TypeError;return Vj=function(s){if(e(s))return s;throw new n(t(s)+" is not a function")},Vj}var Kj,SD;function pp(){if(SD)return Kj;SD=1;var e=mA(),t=Bw();return Kj=function(n,s){var a=n[s];return t(a)?void 0:e(a)},Kj}var Wj,BD;function sCe(){if(BD)return Wj;BD=1;var e=Po(),t=Sa(),n=Yl(),s=TypeError;return Wj=function(a,i){var o,l;if(i==="string"&&t(o=a.toString)&&!n(l=e(o,a))||t(o=a.valueOf)&&!n(l=e(o,a))||i!=="string"&&t(o=a.toString)&&!n(l=e(o,a)))return l;throw new s("Can't convert object to primitive value")},Wj}var $j={exports:{}},Gj,ED;function Iu(){return ED||(ED=1,Gj=!1),Gj}var qj,ID;function IB(){if(ID)return qj;ID=1;var e=ra(),t=Object.defineProperty;return qj=function(n,s){try{t(e,n,{value:s,configurable:!0,writable:!0})}catch{e[n]=s}return s},qj}var TD;function TB(){if(TD)return $j.exports;TD=1;var e=Iu(),t=ra(),n=IB(),s="__core-js_shared__",a=$j.exports=t[s]||n(s,{});return(a.versions||(a.versions=[])).push({version:"3.42.0",mode:e?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.42.0/LICENSE",source:"https://github.com/zloirock/core-js"}),$j.exports}var Jj,kD;function kB(){if(kD)return Jj;kD=1;var e=TB();return Jj=function(t,n){return e[t]||(e[t]=n||{})},Jj}var Yj,PD;function Tw(){if(PD)return Yj;PD=1;var e=Rd(),t=Object;return Yj=function(n){return t(e(n))},Yj}var Xj,DD;function Od(){if(DD)return Xj;DD=1;var e=_a(),t=Tw(),n=e({}.hasOwnProperty);return Xj=Object.hasOwn||function(a,i){return n(t(a),i)},Xj}var Zj,FD;function nW(){if(FD)return Zj;FD=1;var e=_a(),t=0,n=Math.random(),s=e(1 .toString);return Zj=function(a){return"Symbol("+(a===void 0?"":a)+")_"+s(++t+n,36)},Zj}var eN,LD;function po(){if(LD)return eN;LD=1;var e=ra(),t=kB(),n=Od(),s=nW(),a=eW(),i=tW(),o=e.Symbol,l=t("wks"),c=i?o.for||o:o&&o.withoutSetter||s;return eN=function(d){return n(l,d)||(l[d]=a&&n(o,d)?o[d]:c("Symbol."+d)),l[d]},eN}var tN,RD;function iCe(){if(RD)return tN;RD=1;var e=Po(),t=Yl(),n=rW(),s=pp(),a=sCe(),i=po(),o=TypeError,l=i("toPrimitive");return tN=function(c,d){if(!t(c)||n(c))return c;var u=s(c,l),f;if(u){if(d===void 0&&(d="default"),f=e(u,c,d),!t(f)||n(f))return f;throw new o("Can't convert object to primitive value")}return d===void 0&&(d="number"),a(c,d)},tN}var rN,OD;function sW(){if(OD)return rN;OD=1;var e=iCe(),t=rW();return rN=function(n){var s=e(n,"string");return t(s)?s:s+""},rN}var nN,MD;function kw(){if(MD)return nN;MD=1;var e=ra(),t=Yl(),n=e.document,s=t(n)&&t(n.createElement);return nN=function(a){return s?n.createElement(a):{}},nN}var sN,UD;function iW(){if(UD)return sN;UD=1;var e=Ld(),t=Ca(),n=kw();return sN=!e&&!t(function(){return Object.defineProperty(n("div"),"a",{get:function(){return 7}}).a!==7}),sN}var QD;function Pw(){if(QD)return wj;QD=1;var e=Ld(),t=Po(),n=nCe(),s=BB(),a=Gx(),i=sW(),o=Od(),l=iW(),c=Object.getOwnPropertyDescriptor;return wj.f=e?c:function(u,f){if(u=a(u),f=i(f),l)try{return c(u,f)}catch{}if(o(u,f))return s(!t(n.f,u,f),u[f])},wj}var iN={},aN,HD;function aW(){if(HD)return aN;HD=1;var e=Ld(),t=Ca();return aN=e&&t(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),aN}var oN,zD;function Cl(){if(zD)return oN;zD=1;var e=Yl(),t=String,n=TypeError;return oN=function(s){if(e(s))return s;throw new n(t(s)+" is not an object")},oN}var VD;function Eh(){if(VD)return iN;VD=1;var e=Ld(),t=iW(),n=aW(),s=Cl(),a=sW(),i=TypeError,o=Object.defineProperty,l=Object.getOwnPropertyDescriptor,c="enumerable",d="configurable",u="writable";return iN.f=e?n?function(v,g,w){if(s(v),g=a(g),s(w),typeof v=="function"&&g==="prototype"&&"value"in w&&u in w&&!w[u]){var y=l(v,g);y&&y[u]&&(v[g]=w.value,w={configurable:d in w?w[d]:y[d],enumerable:c in w?w[c]:y[c],writable:!1})}return o(v,g,w)}:o:function(v,g,w){if(s(v),g=a(g),s(w),t)try{return o(v,g,w)}catch{}if("get"in w||"set"in w)throw new i("Accessors not supported");return"value"in w&&(v[g]=w.value),v},iN}var lN,KD;function Jx(){if(KD)return lN;KD=1;var e=Ld(),t=Eh(),n=BB();return lN=e?function(s,a,i){return t.f(s,a,n(1,i))}:function(s,a,i){return s[a]=i,s},lN}var cN={exports:{}},dN,WD;function Dw(){if(WD)return dN;WD=1;var e=Ld(),t=Od(),n=Function.prototype,s=e&&Object.getOwnPropertyDescriptor,a=t(n,"name"),i=a&&(function(){}).name==="something",o=a&&(!e||e&&s(n,"name").configurable);return dN={EXISTS:a,PROPER:i,CONFIGURABLE:o},dN}var uN,$D;function PB(){if($D)return uN;$D=1;var e=_a(),t=Sa(),n=TB(),s=e(Function.toString);return t(n.inspectSource)||(n.inspectSource=function(a){return s(a)}),uN=n.inspectSource,uN}var AN,GD;function aCe(){if(GD)return AN;GD=1;var e=ra(),t=Sa(),n=e.WeakMap;return AN=t(n)&&/native code/.test(String(n)),AN}var hN,qD;function DB(){if(qD)return hN;qD=1;var e=kB(),t=nW(),n=e("keys");return hN=function(s){return n[s]||(n[s]=t(s))},hN}var fN,JD;function FB(){return JD||(JD=1,fN={}),fN}var mN,YD;function Fw(){if(YD)return mN;YD=1;var e=aCe(),t=ra(),n=Yl(),s=Jx(),a=Od(),i=TB(),o=DB(),l=FB(),c="Object already initialized",d=t.TypeError,u=t.WeakMap,f,v,g,w=function(N){return g(N)?v(N):f(N,{})},y=function(N){return function(S){var k;if(!n(S)||(k=v(S)).type!==N)throw new d("Incompatible receiver, "+N+" required");return k}};if(e||i.state){var b=i.state||(i.state=new u);b.get=b.get,b.has=b.has,b.set=b.set,f=function(N,S){if(b.has(N))throw new d(c);return S.facade=N,b.set(N,S),S},v=function(N){return b.get(N)||{}},g=function(N){return b.has(N)}}else{var x=o("state");l[x]=!0,f=function(N,S){if(a(N,x))throw new d(c);return S.facade=N,s(N,x,S),S},v=function(N){return a(N,x)?N[x]:{}},g=function(N){return a(N,x)}}return mN={set:f,get:v,has:g,enforce:w,getterFor:y},mN}var XD;function oW(){if(XD)return cN.exports;XD=1;var e=_a(),t=Ca(),n=Sa(),s=Od(),a=Ld(),i=Dw().CONFIGURABLE,o=PB(),l=Fw(),c=l.enforce,d=l.get,u=String,f=Object.defineProperty,v=e("".slice),g=e("".replace),w=e([].join),y=a&&!t(function(){return f(function(){},"length",{value:8}).length!==8}),b=String(String).split("String"),x=cN.exports=function(N,S,k){v(u(S),0,7)==="Symbol("&&(S="["+g(u(S),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),k&&k.getter&&(S="get "+S),k&&k.setter&&(S="set "+S),(!s(N,"name")||i&&N.name!==S)&&(a?f(N,"name",{value:S,configurable:!0}):N.name=S),y&&k&&s(k,"arity")&&N.length!==k.arity&&f(N,"length",{value:k.arity});try{k&&s(k,"constructor")&&k.constructor?a&&f(N,"prototype",{writable:!1}):N.prototype&&(N.prototype=void 0)}catch{}var F=c(N);return s(F,"source")||(F.source=w(b,typeof S=="string"?S:"")),N};return Function.prototype.toString=x(function(){return n(this)&&d(this).source||o(this)},"toString"),cN.exports}var pN,ZD;function Sf(){if(ZD)return pN;ZD=1;var e=Sa(),t=Eh(),n=oW(),s=IB();return pN=function(a,i,o,l){l||(l={});var c=l.enumerable,d=l.name!==void 0?l.name:i;if(e(o)&&n(o,d,l),l.global)c?a[i]=o:s(i,o);else{try{l.unsafe?a[i]&&(c=!0):delete a[i]}catch{}c?a[i]=o:t.f(a,i,{value:o,enumerable:!1,configurable:!l.nonConfigurable,writable:!l.nonWritable})}return a},pN}var gN={},xN,eF;function oCe(){if(eF)return xN;eF=1;var e=Math.ceil,t=Math.floor;return xN=Math.trunc||function(s){var a=+s;return(a>0?t:e)(a)},xN}var vN,tF;function Lw(){if(tF)return vN;tF=1;var e=oCe();return vN=function(t){var n=+t;return n!==n||n===0?0:e(n)},vN}var yN,rF;function lCe(){if(rF)return yN;rF=1;var e=Lw(),t=Math.max,n=Math.min;return yN=function(s,a){var i=e(s);return i<0?t(i+a,0):n(i,a)},yN}var wN,nF;function gp(){if(nF)return wN;nF=1;var e=Lw(),t=Math.min;return wN=function(n){var s=e(n);return s>0?t(s,9007199254740991):0},wN}var bN,sF;function LB(){if(sF)return bN;sF=1;var e=gp();return bN=function(t){return e(t.length)},bN}var jN,iF;function lW(){if(iF)return jN;iF=1;var e=Gx(),t=lCe(),n=LB(),s=function(a){return function(i,o,l){var c=e(i),d=n(c);if(d===0)return!a&&-1;var u=t(l,d),f;if(a&&o!==o){for(;d>u;)if(f=c[u++],f!==f)return!0}else for(;d>u;u++)if((a||u in c)&&c[u]===o)return a||u||0;return!a&&-1}};return jN={includes:s(!0),indexOf:s(!1)},jN}var NN,aF;function cW(){if(aF)return NN;aF=1;var e=_a(),t=Od(),n=Gx(),s=lW().indexOf,a=FB(),i=e([].push);return NN=function(o,l){var c=n(o),d=0,u=[],f;for(f in c)!t(a,f)&&t(c,f)&&i(u,f);for(;l.length>d;)t(c,f=l[d++])&&(~s(u,f)||i(u,f));return u},NN}var CN,oF;function RB(){return oF||(oF=1,CN=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),CN}var lF;function cCe(){if(lF)return gN;lF=1;var e=cW(),t=RB(),n=t.concat("length","prototype");return gN.f=Object.getOwnPropertyNames||function(a){return e(a,n)},gN}var _N={},cF;function dCe(){return cF||(cF=1,_N.f=Object.getOwnPropertySymbols),_N}var SN,dF;function uCe(){if(dF)return SN;dF=1;var e=_f(),t=_a(),n=cCe(),s=dCe(),a=Cl(),i=t([].concat);return SN=e("Reflect","ownKeys")||function(l){var c=n.f(a(l)),d=s.f;return d?i(c,d(l)):c},SN}var BN,uF;function ACe(){if(uF)return BN;uF=1;var e=Od(),t=uCe(),n=Pw(),s=Eh();return BN=function(a,i,o){for(var l=t(i),c=s.f,d=n.f,u=0;u<l.length;u++){var f=l[u];!e(a,f)&&!(o&&e(o,f))&&c(a,f,d(i,f))}},BN}var EN,AF;function dW(){if(AF)return EN;AF=1;var e=Ca(),t=Sa(),n=/#|\.prototype\./,s=function(c,d){var u=i[a(c)];return u===l?!0:u===o?!1:t(d)?e(d):!!d},a=s.normalize=function(c){return String(c).replace(n,".").toLowerCase()},i=s.data={},o=s.NATIVE="N",l=s.POLYFILL="P";return EN=s,EN}var IN,hF;function _l(){if(hF)return IN;hF=1;var e=ra(),t=Pw().f,n=Jx(),s=Sf(),a=IB(),i=ACe(),o=dW();return IN=function(l,c){var d=l.target,u=l.global,f=l.stat,v,g,w,y,b,x;if(u?g=e:f?g=e[d]||a(d,{}):g=e[d]&&e[d].prototype,g)for(w in c){if(b=c[w],l.dontCallGetSet?(x=t(g,w),y=x&&x.value):y=g[w],v=o(u?w:d+(f?".":"#")+w,l.forced),!v&&y!==void 0){if(typeof b==typeof y)continue;i(b,y)}(l.sham||y&&y.sham)&&n(b,"sham",!0),s(g,w,b,l)}},IN}var TN,fF;function uW(){if(fF)return TN;fF=1;var e=ra(),t=qx(),n=Cf(),s=function(a){return t.slice(0,a.length)===a};return TN=function(){return s("Bun/")?"BUN":s("Cloudflare-Workers")?"CLOUDFLARE":s("Deno/")?"DENO":s("Node.js/")?"NODE":e.Bun&&typeof Bun.version=="string"?"BUN":e.Deno&&typeof Deno.version=="object"?"DENO":n(e.process)==="process"?"NODE":e.window&&e.document?"BROWSER":"REST"}(),TN}var kN,mF;function Rw(){if(mF)return kN;mF=1;var e=uW();return kN=e==="NODE",kN}var PN,pF;function hCe(){if(pF)return PN;pF=1;var e=_a(),t=mA();return PN=function(n,s,a){try{return e(t(Object.getOwnPropertyDescriptor(n,s)[a]))}catch{}},PN}var DN,gF;function fCe(){if(gF)return DN;gF=1;var e=Yl();return DN=function(t){return e(t)||t===null},DN}var FN,xF;function mCe(){if(xF)return FN;xF=1;var e=fCe(),t=String,n=TypeError;return FN=function(s){if(e(s))return s;throw new n("Can't set "+t(s)+" as a prototype")},FN}var LN,vF;function AW(){if(vF)return LN;vF=1;var e=hCe(),t=Yl(),n=Rd(),s=mCe();return LN=Object.setPrototypeOf||("__proto__"in{}?function(){var a=!1,i={},o;try{o=e(Object.prototype,"__proto__","set"),o(i,[]),a=i instanceof Array}catch{}return function(c,d){return n(c),s(d),t(c)&&(a?o(c,d):c.__proto__=d),c}}():void 0),LN}var RN,yF;function Ow(){if(yF)return RN;yF=1;var e=Eh().f,t=Od(),n=po(),s=n("toStringTag");return RN=function(a,i,o){a&&!o&&(a=a.prototype),a&&!t(a,s)&&e(a,s,{configurable:!0,value:i})},RN}var ON,wF;function pCe(){if(wF)return ON;wF=1;var e=oW(),t=Eh();return ON=function(n,s,a){return a.get&&e(a.get,s,{getter:!0}),a.set&&e(a.set,s,{setter:!0}),t.f(n,s,a)},ON}var MN,bF;function gCe(){if(bF)return MN;bF=1;var e=_f(),t=pCe(),n=po(),s=Ld(),a=n("species");return MN=function(i){var o=e(i);s&&o&&!o[a]&&t(o,a,{configurable:!0,get:function(){return this}})},MN}var UN,jF;function xCe(){if(jF)return UN;jF=1;var e=Ew(),t=TypeError;return UN=function(n,s){if(e(s,n))return n;throw new t("Incorrect invocation")},UN}var QN,NF;function vCe(){if(NF)return QN;NF=1;var e=po(),t=e("toStringTag"),n={};return n[t]="z",QN=String(n)==="[object z]",QN}var HN,CF;function OB(){if(CF)return HN;CF=1;var e=vCe(),t=Sa(),n=Cf(),s=po(),a=s("toStringTag"),i=Object,o=n(function(){return arguments}())==="Arguments",l=function(c,d){try{return c[d]}catch{}};return HN=e?n:function(c){var d,u,f;return c===void 0?"Undefined":c===null?"Null":typeof(u=l(d=i(c),a))=="string"?u:o?n(d):(f=n(d))==="Object"&&t(d.callee)?"Arguments":f},HN}var zN,_F;function yCe(){if(_F)return zN;_F=1;var e=_a(),t=Ca(),n=Sa(),s=OB(),a=_f(),i=PB(),o=function(){},l=a("Reflect","construct"),c=/^\s*(?:class|function)\b/,d=e(c.exec),u=!c.test(o),f=function(w){if(!n(w))return!1;try{return l(o,[],w),!0}catch{return!1}},v=function(w){if(!n(w))return!1;switch(s(w)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return u||!!d(c,i(w))}catch{return!0}};return v.sham=!0,zN=!l||t(function(){var g;return f(f.call)||!f(Object)||!f(function(){g=!0})||g})?v:f,zN}var VN,SF;function wCe(){if(SF)return VN;SF=1;var e=yCe(),t=Iw(),n=TypeError;return VN=function(s){if(e(s))return s;throw new n(t(s)+" is not a constructor")},VN}var KN,BF;function hW(){if(BF)return KN;BF=1;var e=Cl(),t=wCe(),n=Bw(),s=po(),a=s("species");return KN=function(i,o){var l=e(i).constructor,c;return l===void 0||n(c=e(l)[a])?o:t(c)},KN}var WN,EF;function fW(){if(EF)return WN;EF=1;var e=Sw(),t=Function.prototype,n=t.apply,s=t.call;return WN=typeof Reflect=="object"&&Reflect.apply||(e?s.bind(n):function(){return s.apply(n,arguments)}),WN}var $N,IF;function Mw(){if(IF)return $N;IF=1;var e=Cf(),t=_a();return $N=function(n){if(e(n)==="Function")return t(n)},$N}var GN,TF;function MB(){if(TF)return GN;TF=1;var e=Mw(),t=mA(),n=Sw(),s=e(e.bind);return GN=function(a,i){return t(a),i===void 0?a:n?s(a,i):function(){return a.apply(i,arguments)}},GN}var qN,kF;function mW(){if(kF)return qN;kF=1;var e=_f();return qN=e("document","documentElement"),qN}var JN,PF;function bCe(){if(PF)return JN;PF=1;var e=_a();return JN=e([].slice),JN}var YN,DF;function jCe(){if(DF)return YN;DF=1;var e=TypeError;return YN=function(t,n){if(t<n)throw new e("Not enough arguments");return t},YN}var XN,FF;function pW(){if(FF)return XN;FF=1;var e=qx();return XN=/(?:ipad|iphone|ipod).*applewebkit/i.test(e),XN}var ZN,LF;function gW(){if(LF)return ZN;LF=1;var e=ra(),t=fW(),n=MB(),s=Sa(),a=Od(),i=Ca(),o=mW(),l=bCe(),c=kw(),d=jCe(),u=pW(),f=Rw(),v=e.setImmediate,g=e.clearImmediate,w=e.process,y=e.Dispatch,b=e.Function,x=e.MessageChannel,N=e.String,S=0,k={},F="onreadystatechange",$,U,D,H;i(function(){$=e.location});var K=function(te){if(a(k,te)){var ye=k[te];delete k[te],ye()}},B=function(te){return function(){K(te)}},R=function(te){K(te.data)},Z=function(te){e.postMessage(N(te),$.protocol+"//"+$.host)};return(!v||!g)&&(v=function(ye){d(arguments.length,1);var de=s(ye)?ye:b(ye),le=l(arguments,1);return k[++S]=function(){t(de,void 0,le)},U(S),S},g=function(ye){delete k[ye]},f?U=function(te){w.nextTick(B(te))}:y&&y.now?U=function(te){y.now(B(te))}:x&&!u?(D=new x,H=D.port2,D.port1.onmessage=R,U=n(H.postMessage,H)):e.addEventListener&&s(e.postMessage)&&!e.importScripts&&$&&$.protocol!=="file:"&&!i(Z)?(U=Z,e.addEventListener("message",R,!1)):F in c("script")?U=function(te){o.appendChild(c("script"))[F]=function(){o.removeChild(this),K(te)}}:U=function(te){setTimeout(B(te),0)}),ZN={set:v,clear:g},ZN}var eC,RF;function NCe(){if(RF)return eC;RF=1;var e=ra(),t=Ld(),n=Object.getOwnPropertyDescriptor;return eC=function(s){if(!t)return e[s];var a=n(e,s);return a&&a.value},eC}var tC,OF;function xW(){if(OF)return tC;OF=1;var e=function(){this.head=null,this.tail=null};return e.prototype={add:function(t){var n={item:t,next:null},s=this.tail;s?s.next=n:this.head=n,this.tail=n},get:function(){var t=this.head;if(t){var n=this.head=t.next;return n===null&&(this.tail=null),t.item}}},tC=e,tC}var rC,MF;function CCe(){if(MF)return rC;MF=1;var e=qx();return rC=/ipad|iphone|ipod/i.test(e)&&typeof Pebble<"u",rC}var nC,UF;function _Ce(){if(UF)return nC;UF=1;var e=qx();return nC=/web0s(?!.*chrome)/i.test(e),nC}var sC,QF;function SCe(){if(QF)return sC;QF=1;var e=ra(),t=NCe(),n=MB(),s=gW().set,a=xW(),i=pW(),o=CCe(),l=_Ce(),c=Rw(),d=e.MutationObserver||e.WebKitMutationObserver,u=e.document,f=e.process,v=e.Promise,g=t("queueMicrotask"),w,y,b,x,N;if(!g){var S=new a,k=function(){var F,$;for(c&&(F=f.domain)&&F.exit();$=S.get();)try{$()}catch(U){throw S.head&&w(),U}F&&F.enter()};!i&&!c&&!l&&d&&u?(y=!0,b=u.createTextNode(""),new d(k).observe(b,{characterData:!0}),w=function(){b.data=y=!y}):!o&&v&&v.resolve?(x=v.resolve(void 0),x.constructor=v,N=n(x.then,x),w=function(){N(k)}):c?w=function(){f.nextTick(k)}:(s=n(s,e),w=function(){s(k)}),g=function(F){S.head||w(),S.add(F)}}return sC=g,sC}var iC,HF;function BCe(){return HF||(HF=1,iC=function(e,t){try{arguments.length===1?console.error(e):console.error(e,t)}catch{}}),iC}var aC,zF;function UB(){return zF||(zF=1,aC=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}),aC}var oC,VF;function Yx(){if(VF)return oC;VF=1;var e=ra();return oC=e.Promise,oC}var lC,KF;function Xx(){if(KF)return lC;KF=1;var e=ra(),t=Yx(),n=Sa(),s=dW(),a=PB(),i=po(),o=uW(),l=Iu(),c=EB(),d=t&&t.prototype,u=i("species"),f=!1,v=n(e.PromiseRejectionEvent),g=s("Promise",function(){var w=a(t),y=w!==String(t);if(!y&&c===66||l&&!(d.catch&&d.finally))return!0;if(!c||c<51||!/native code/.test(w)){var b=new t(function(S){S(1)}),x=function(S){S(function(){},function(){})},N=b.constructor={};if(N[u]=x,f=b.then(function(){})instanceof x,!f)return!0}return!y&&(o==="BROWSER"||o==="DENO")&&!v});return lC={CONSTRUCTOR:g,REJECTION_EVENT:v,SUBCLASSING:f},lC}var cC={},WF;function Zx(){if(WF)return cC;WF=1;var e=mA(),t=TypeError,n=function(s){var a,i;this.promise=new s(function(o,l){if(a!==void 0||i!==void 0)throw new t("Bad Promise constructor");a=o,i=l}),this.resolve=e(a),this.reject=e(i)};return cC.f=function(s){return new n(s)},cC}var $F;function ECe(){if($F)return rD;$F=1;var e=_l(),t=Iu(),n=Rw(),s=ra(),a=Po(),i=Sf(),o=AW(),l=Ow(),c=gCe(),d=mA(),u=Sa(),f=Yl(),v=xCe(),g=hW(),w=gW().set,y=SCe(),b=BCe(),x=UB(),N=xW(),S=Fw(),k=Yx(),F=Xx(),$=Zx(),U="Promise",D=F.CONSTRUCTOR,H=F.REJECTION_EVENT,K=F.SUBCLASSING,B=S.getterFor(U),R=S.set,Z=k&&k.prototype,te=k,ye=Z,de=s.TypeError,le=s.document,Q=s.process,oe=$.f,ce=oe,ee=!!(le&&le.createEvent&&s.dispatchEvent),M="unhandledrejection",E="rejectionhandled",q=0,se=1,re=2,G=1,ue=2,ie,Ee,He,rt,we=function(Oe){var _e;return f(Oe)&&u(_e=Oe.then)?_e:!1},Ve=function(Oe,_e){var nt=_e.value,ut=_e.state===se,jt=ut?Oe.ok:Oe.fail,zt=Oe.resolve,Be=Oe.reject,Ye=Oe.domain,Ue,Lt,Et;try{jt?(ut||(_e.rejection===ue&&ct(_e),_e.rejection=G),jt===!0?Ue=nt:(Ye&&Ye.enter(),Ue=jt(nt),Ye&&(Ye.exit(),Et=!0)),Ue===Oe.promise?Be(new de("Promise-chain cycle")):(Lt=we(Ue))?a(Lt,Ue,zt,Be):zt(Ue)):Be(nt)}catch(hr){Ye&&!Et&&Ye.exit(),Be(hr)}},Re=function(Oe,_e){Oe.notified||(Oe.notified=!0,y(function(){for(var nt=Oe.reactions,ut;ut=nt.get();)Ve(ut,Oe);Oe.notified=!1,_e&&!Oe.rejection&&Mt(Oe)}))},je=function(Oe,_e,nt){var ut,jt;ee?(ut=le.createEvent("Event"),ut.promise=_e,ut.reason=nt,ut.initEvent(Oe,!1,!0),s.dispatchEvent(ut)):ut={promise:_e,reason:nt},!H&&(jt=s["on"+Oe])?jt(ut):Oe===M&&b("Unhandled promise rejection",nt)},Mt=function(Oe){a(w,s,function(){var _e=Oe.facade,nt=Oe.value,ut=Bt(Oe),jt;if(ut&&(jt=x(function(){n?Q.emit("unhandledRejection",nt,_e):je(M,_e,nt)}),Oe.rejection=n||Bt(Oe)?ue:G,jt.error))throw jt.value})},Bt=function(Oe){return Oe.rejection!==G&&!Oe.parent},ct=function(Oe){a(w,s,function(){var _e=Oe.facade;n?Q.emit("rejectionHandled",_e):je(E,_e,Oe.value)})},vt=function(Oe,_e,nt){return function(ut){Oe(_e,ut,nt)}},wt=function(Oe,_e,nt){Oe.done||(Oe.done=!0,nt&&(Oe=nt),Oe.value=_e,Oe.state=re,Re(Oe,!0))},Fe=function(Oe,_e,nt){if(!Oe.done){Oe.done=!0,nt&&(Oe=nt);try{if(Oe.facade===_e)throw new de("Promise can't be resolved itself");var ut=we(_e);ut?y(function(){var jt={done:!1};try{a(ut,_e,vt(Fe,jt,Oe),vt(wt,jt,Oe))}catch(zt){wt(jt,zt,Oe)}}):(Oe.value=_e,Oe.state=se,Re(Oe,!1))}catch(jt){wt({done:!1},jt,Oe)}}};if(D&&(te=function(_e){v(this,ye),d(_e),a(ie,this);var nt=B(this);try{_e(vt(Fe,nt),vt(wt,nt))}catch(ut){wt(nt,ut)}},ye=te.prototype,ie=function(_e){R(this,{type:U,done:!1,notified:!1,parent:!1,reactions:new N,rejection:!1,state:q,value:null})},ie.prototype=i(ye,"then",function(_e,nt){var ut=B(this),jt=oe(g(this,te));return ut.parent=!0,jt.ok=u(_e)?_e:!0,jt.fail=u(nt)&&nt,jt.domain=n?Q.domain:void 0,ut.state===q?ut.reactions.add(jt):y(function(){Ve(jt,ut)}),jt.promise}),Ee=function(){var Oe=new ie,_e=B(Oe);this.promise=Oe,this.resolve=vt(Fe,_e),this.reject=vt(wt,_e)},$.f=oe=function(Oe){return Oe===te||Oe===He?new Ee(Oe):ce(Oe)},!t&&u(k)&&Z!==Object.prototype)){rt=Z.then,K||i(Z,"then",function(_e,nt){var ut=this;return new te(function(jt,zt){a(rt,ut,jt,zt)}).then(_e,nt)},{unsafe:!0});try{delete Z.constructor}catch{}o&&o(Z,ye)}return e({global:!0,constructor:!0,wrap:!0,forced:D},{Promise:te}),l(te,U,!1,!0),c(U),rD}var GF={},dC,qF;function ev(){return qF||(qF=1,dC={}),dC}var uC,JF;function ICe(){if(JF)return uC;JF=1;var e=po(),t=ev(),n=e("iterator"),s=Array.prototype;return uC=function(a){return a!==void 0&&(t.Array===a||s[n]===a)},uC}var AC,YF;function vW(){if(YF)return AC;YF=1;var e=OB(),t=pp(),n=Bw(),s=ev(),a=po(),i=a("iterator");return AC=function(o){if(!n(o))return t(o,i)||t(o,"@@iterator")||s[e(o)]},AC}var hC,XF;function TCe(){if(XF)return hC;XF=1;var e=Po(),t=mA(),n=Cl(),s=Iw(),a=vW(),i=TypeError;return hC=function(o,l){var c=arguments.length<2?a(o):l;if(t(c))return n(e(c,o));throw new i(s(o)+" is not iterable")},hC}var fC,ZF;function kCe(){if(ZF)return fC;ZF=1;var e=Po(),t=Cl(),n=pp();return fC=function(s,a,i){var o,l;t(s);try{if(o=n(s,"return"),!o){if(a==="throw")throw i;return i}o=e(o,s)}catch(c){l=!0,o=c}if(a==="throw")throw i;if(l)throw o;return t(o),i},fC}var mC,eL;function yW(){if(eL)return mC;eL=1;var e=MB(),t=Po(),n=Cl(),s=Iw(),a=ICe(),i=LB(),o=Ew(),l=TCe(),c=vW(),d=kCe(),u=TypeError,f=function(g,w){this.stopped=g,this.result=w},v=f.prototype;return mC=function(g,w,y){var b=y&&y.that,x=!!(y&&y.AS_ENTRIES),N=!!(y&&y.IS_RECORD),S=!!(y&&y.IS_ITERATOR),k=!!(y&&y.INTERRUPTED),F=e(w,b),$,U,D,H,K,B,R,Z=function(ye){return $&&d($,"normal",ye),new f(!0,ye)},te=function(ye){return x?(n(ye),k?F(ye[0],ye[1],Z):F(ye[0],ye[1])):k?F(ye,Z):F(ye)};if(N)$=g.iterator;else if(S)$=g;else{if(U=c(g),!U)throw new u(s(g)+" is not iterable");if(a(U)){for(D=0,H=i(g);H>D;D++)if(K=te(g[D]),K&&o(v,K))return K;return new f(!1)}$=l(g,U)}for(B=N?g.next:$.next;!(R=t(B,$)).done;){try{K=te(R.value)}catch(ye){d($,"throw",ye)}if(typeof K=="object"&&K&&o(v,K))return K}return new f(!1)},mC}var pC,tL;function PCe(){if(tL)return pC;tL=1;var e=po(),t=e("iterator"),n=!1;try{var s=0,a={next:function(){return{done:!!s++}},return:function(){n=!0}};a[t]=function(){return this},Array.from(a,function(){throw 2})}catch{}return pC=function(i,o){try{if(!o&&!n)return!1}catch{return!1}var l=!1;try{var c={};c[t]=function(){return{next:function(){return{done:l=!0}}}},i(c)}catch{}return l},pC}var gC,rL;function wW(){if(rL)return gC;rL=1;var e=Yx(),t=PCe(),n=Xx().CONSTRUCTOR;return gC=n||!t(function(s){e.all(s).then(void 0,function(){})}),gC}var nL;function DCe(){if(nL)return GF;nL=1;var e=_l(),t=Po(),n=mA(),s=Zx(),a=UB(),i=yW(),o=wW();return e({target:"Promise",stat:!0,forced:o},{all:function(c){var d=this,u=s.f(d),f=u.resolve,v=u.reject,g=a(function(){var w=n(d.resolve),y=[],b=0,x=1;i(c,function(N){var S=b++,k=!1;x++,t(w,d,N).then(function(F){k||(k=!0,y[S]=F,--x||f(y))},v)}),--x||f(y)});return g.error&&v(g.value),u.promise}}),GF}var sL={},iL;function FCe(){if(iL)return sL;iL=1;var e=_l(),t=Iu(),n=Xx().CONSTRUCTOR,s=Yx(),a=_f(),i=Sa(),o=Sf(),l=s&&s.prototype;if(e({target:"Promise",proto:!0,forced:n,real:!0},{catch:function(d){return this.then(void 0,d)}}),!t&&i(s)){var c=a("Promise").prototype.catch;l.catch!==c&&o(l,"catch",c,{unsafe:!0})}return sL}var aL={},oL;function LCe(){if(oL)return aL;oL=1;var e=_l(),t=Po(),n=mA(),s=Zx(),a=UB(),i=yW(),o=wW();return e({target:"Promise",stat:!0,forced:o},{race:function(c){var d=this,u=s.f(d),f=u.reject,v=a(function(){var g=n(d.resolve);i(c,function(w){t(g,d,w).then(u.resolve,f)})});return v.error&&f(v.value),u.promise}}),aL}var lL={},cL;function RCe(){if(cL)return lL;cL=1;var e=_l(),t=Zx(),n=Xx().CONSTRUCTOR;return e({target:"Promise",stat:!0,forced:n},{reject:function(a){var i=t.f(this),o=i.reject;return o(a),i.promise}}),lL}var dL={},xC,uL;function OCe(){if(uL)return xC;uL=1;var e=Cl(),t=Yl(),n=Zx();return xC=function(s,a){if(e(s),t(a)&&a.constructor===s)return a;var i=n.f(s),o=i.resolve;return o(a),i.promise},xC}var AL;function MCe(){if(AL)return dL;AL=1;var e=_l(),t=_f(),n=Iu(),s=Yx(),a=Xx().CONSTRUCTOR,i=OCe(),o=t("Promise"),l=n&&!a;return e({target:"Promise",stat:!0,forced:n||a},{resolve:function(d){return i(l&&this===o?s:this,d)}}),dL}var hL;function UCe(){return hL||(hL=1,ECe(),DCe(),FCe(),LCe(),RCe(),MCe()),tD}UCe();function fL(e,t,n,s,a,i,o){try{var l=e[i](o),c=l.value}catch(d){return void n(d)}l.done?t(c):Promise.resolve(c).then(s,a)}function AA(e){return function(){var t=this,n=arguments;return new Promise(function(s,a){var i=e.apply(t,n);function o(c){fL(i,s,a,o,l,"next",c)}function l(c){fL(i,s,a,o,l,"throw",c)}o(void 0)})}}var mL={},pL={},vC,gL;function Tu(){if(gL)return vC;gL=1;var e=OB(),t=String;return vC=function(n){if(e(n)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return t(n)},vC}var yC,xL;function bW(){if(xL)return yC;xL=1;var e=Cl();return yC=function(){var t=e(this),n="";return t.hasIndices&&(n+="d"),t.global&&(n+="g"),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),t.dotAll&&(n+="s"),t.unicode&&(n+="u"),t.unicodeSets&&(n+="v"),t.sticky&&(n+="y"),n},yC}var wC,vL;function jW(){if(vL)return wC;vL=1;var e=Ca(),t=ra(),n=t.RegExp,s=e(function(){var o=n("a","y");return o.lastIndex=2,o.exec("abcd")!==null}),a=s||e(function(){return!n("a","y").sticky}),i=s||e(function(){var o=n("^r","gy");return o.lastIndex=2,o.exec("str")!==null});return wC={BROKEN_CARET:i,MISSED_STICKY:a,UNSUPPORTED_Y:s},wC}var bC={},jC,yL;function QCe(){if(yL)return jC;yL=1;var e=cW(),t=RB();return jC=Object.keys||function(s){return e(s,t)},jC}var wL;function HCe(){if(wL)return bC;wL=1;var e=Ld(),t=aW(),n=Eh(),s=Cl(),a=Gx(),i=QCe();return bC.f=e&&!t?Object.defineProperties:function(l,c){s(l);for(var d=a(c),u=i(c),f=u.length,v=0,g;f>v;)n.f(l,g=u[v++],d[g]);return l},bC}var NC,bL;function Uw(){if(bL)return NC;bL=1;var e=Cl(),t=HCe(),n=RB(),s=FB(),a=mW(),i=kw(),o=DB(),l=">",c="<",d="prototype",u="script",f=o("IE_PROTO"),v=function(){},g=function(N){return c+u+l+N+c+"/"+u+l},w=function(N){N.write(g("")),N.close();var S=N.parentWindow.Object;return N=null,S},y=function(){var N=i("iframe"),S="java"+u+":",k;return N.style.display="none",a.appendChild(N),N.src=String(S),k=N.contentWindow.document,k.open(),k.write(g("document.F=Object")),k.close(),k.F},b,x=function(){try{b=new ActiveXObject("htmlfile")}catch{}x=typeof document<"u"?document.domain&&b?w(b):y():w(b);for(var N=n.length;N--;)delete x[d][n[N]];return x()};return s[f]=!0,NC=Object.create||function(S,k){var F;return S!==null?(v[d]=e(S),F=new v,v[d]=null,F[f]=S):F=x(),k===void 0?F:t.f(F,k)},NC}var CC,jL;function zCe(){if(jL)return CC;jL=1;var e=Ca(),t=ra(),n=t.RegExp;return CC=e(function(){var s=n(".","s");return!(s.dotAll&&s.test(`
`)&&s.flags==="s")}),CC}var _C,NL;function VCe(){if(NL)return _C;NL=1;var e=Ca(),t=ra(),n=t.RegExp;return _C=e(function(){var s=n("(?<a>b)","g");return s.exec("b").groups.a!=="b"||"b".replace(s,"$<a>c")!=="bc"}),_C}var SC,CL;function QB(){if(CL)return SC;CL=1;var e=Po(),t=_a(),n=Tu(),s=bW(),a=jW(),i=kB(),o=Uw(),l=Fw().get,c=zCe(),d=VCe(),u=i("native-string-replace",String.prototype.replace),f=RegExp.prototype.exec,v=f,g=t("".charAt),w=t("".indexOf),y=t("".replace),b=t("".slice),x=function(){var F=/a/,$=/b*/g;return e(f,F,"a"),e(f,$,"a"),F.lastIndex!==0||$.lastIndex!==0}(),N=a.BROKEN_CARET,S=/()??/.exec("")[1]!==void 0,k=x||S||N||c||d;return k&&(v=function($){var U=this,D=l(U),H=n($),K=D.raw,B,R,Z,te,ye,de,le;if(K)return K.lastIndex=U.lastIndex,B=e(v,K,H),U.lastIndex=K.lastIndex,B;var Q=D.groups,oe=N&&U.sticky,ce=e(s,U),ee=U.source,M=0,E=H;if(oe&&(ce=y(ce,"y",""),w(ce,"g")===-1&&(ce+="g"),E=b(H,U.lastIndex),U.lastIndex>0&&(!U.multiline||U.multiline&&g(H,U.lastIndex-1)!==`
`)&&(ee="(?: "+ee+")",E=" "+E,M++),R=new RegExp("^(?:"+ee+")",ce)),S&&(R=new RegExp("^"+ee+"$(?!\\s)",ce)),x&&(Z=U.lastIndex),te=e(f,oe?R:U,E),oe?te?(te.input=b(te.input,M),te[0]=b(te[0],M),te.index=U.lastIndex,U.lastIndex+=te[0].length):U.lastIndex=0:x&&te&&(U.lastIndex=U.global?te.index+te[0].length:Z),S&&te&&te.length>1&&e(u,te[0],R,function(){for(ye=1;ye<arguments.length-2;ye++)arguments[ye]===void 0&&(te[ye]=void 0)}),te&&Q)for(te.groups=de=o(null),ye=0;ye<Q.length;ye++)le=Q[ye],de[le[0]]=te[le[1]];return te}),SC=v,SC}var _L;function KCe(){if(_L)return pL;_L=1;var e=_l(),t=QB();return e({target:"RegExp",proto:!0,forced:/./.exec!==t},{exec:t}),pL}var BC,SL;function HB(){if(SL)return BC;SL=1,KCe();var e=Po(),t=Sf(),n=QB(),s=Ca(),a=po(),i=Jx(),o=a("species"),l=RegExp.prototype;return BC=function(c,d,u,f){var v=a(c),g=!s(function(){var x={};return x[v]=function(){return 7},""[c](x)!==7}),w=g&&!s(function(){var x=!1,N=/a/;return c==="split"&&(N={},N.constructor={},N.constructor[o]=function(){return N},N.flags="",N[v]=/./[v]),N.exec=function(){return x=!0,null},N[v](""),!x});if(!g||!w||u){var y=/./[v],b=d(v,""[c],function(x,N,S,k,F){var $=N.exec;return $===n||$===l.exec?g&&!F?{done:!0,value:e(y,N,S,k)}:{done:!0,value:e(x,S,N,k)}:{done:!1}});t(String.prototype,c,b[0]),t(l,v,b[1])}f&&i(l[v],"sham",!0)},BC}var EC,BL;function WCe(){if(BL)return EC;BL=1;var e=_a(),t=Lw(),n=Tu(),s=Rd(),a=e("".charAt),i=e("".charCodeAt),o=e("".slice),l=function(c){return function(d,u){var f=n(s(d)),v=t(u),g=f.length,w,y;return v<0||v>=g?c?"":void 0:(w=i(f,v),w<55296||w>56319||v+1===g||(y=i(f,v+1))<56320||y>57343?c?a(f,v):w:c?o(f,v,v+2):(w-55296<<10)+(y-56320)+65536)}};return EC={codeAt:l(!1),charAt:l(!0)},EC}var IC,EL;function zB(){if(EL)return IC;EL=1;var e=WCe().charAt;return IC=function(t,n,s){return n+(s?e(t,n).length:1)},IC}var TC,IL;function VB(){if(IL)return TC;IL=1;var e=Po(),t=Cl(),n=Sa(),s=Cf(),a=QB(),i=TypeError;return TC=function(o,l){var c=o.exec;if(n(c)){var d=e(c,o,l);return d!==null&&t(d),d}if(s(o)==="RegExp")return e(a,o,l);throw new i("RegExp#exec called on incompatible receiver")},TC}var TL;function $Ce(){if(TL)return mL;TL=1;var e=Po(),t=HB(),n=Cl(),s=Yl(),a=gp(),i=Tu(),o=Rd(),l=pp(),c=zB(),d=VB();return t("match",function(u,f,v){return[function(w){var y=o(this),b=s(w)?l(w,u):void 0;return b?e(b,w,y):new RegExp(w)[u](i(y))},function(g){var w=n(this),y=i(g),b=v(f,w,y);if(b.done)return b.value;if(!w.global)return d(w,y);var x=w.unicode;w.lastIndex=0;for(var N=[],S=0,k;(k=d(w,y))!==null;){var F=i(k[0]);N[S]=F,F===""&&(w.lastIndex=c(y,a(w.lastIndex),x)),S++}return S===0?null:N}]}),mL}$Ce();var kL={},kC,PL;function GCe(){if(PL)return kC;PL=1;var e=_a(),t=Tw(),n=Math.floor,s=e("".charAt),a=e("".replace),i=e("".slice),o=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;return kC=function(c,d,u,f,v,g){var w=u+c.length,y=f.length,b=l;return v!==void 0&&(v=t(v),b=o),a(g,b,function(x,N){var S;switch(s(N,0)){case"$":return"$";case"&":return c;case"`":return i(d,0,u);case"'":return i(d,w);case"<":S=v[i(N,1,-1)];break;default:var k=+N;if(k===0)return x;if(k>y){var F=n(k/10);return F===0?x:F<=y?f[F-1]===void 0?s(N,1):f[F-1]+s(N,1):x}S=f[k-1]}return S===void 0?"":S})},kC}var DL;function qCe(){if(DL)return kL;DL=1;var e=fW(),t=Po(),n=_a(),s=HB(),a=Ca(),i=Cl(),o=Sa(),l=Yl(),c=Lw(),d=gp(),u=Tu(),f=Rd(),v=zB(),g=pp(),w=GCe(),y=VB(),b=po(),x=b("replace"),N=Math.max,S=Math.min,k=n([].concat),F=n([].push),$=n("".indexOf),U=n("".slice),D=function(R){return R===void 0?R:String(R)},H=function(){return"a".replace(/./,"$0")==="$0"}(),K=function(){return/./[x]?/./[x]("a","$0")==="":!1}(),B=!a(function(){var R=/./;return R.exec=function(){var Z=[];return Z.groups={a:"7"},Z},"".replace(R,"$<a>")!=="7"});return s("replace",function(R,Z,te){var ye=K?"$":"$0";return[function(le,Q){var oe=f(this),ce=l(le)?g(le,x):void 0;return ce?t(ce,le,oe,Q):t(Z,u(oe),le,Q)},function(de,le){var Q=i(this),oe=u(de);if(typeof le=="string"&&$(le,ye)===-1&&$(le,"$<")===-1){var ce=te(Z,Q,oe,le);if(ce.done)return ce.value}var ee=o(le);ee||(le=u(le));var M=Q.global,E;M&&(E=Q.unicode,Q.lastIndex=0);for(var q=[],se;se=y(Q,oe),!(se===null||(F(q,se),!M));){var re=u(se[0]);re===""&&(Q.lastIndex=v(oe,d(Q.lastIndex),E))}for(var G="",ue=0,ie=0;ie<q.length;ie++){se=q[ie];for(var Ee=u(se[0]),He=N(S(c(se.index),oe.length),0),rt=[],we,Ve=1;Ve<se.length;Ve++)F(rt,D(se[Ve]));var Re=se.groups;if(ee){var je=k([Ee],rt,He,oe);Re!==void 0&&F(je,Re),we=u(e(le,void 0,je))}else we=w(Ee,oe,He,rt,Re,le);He>=ue&&(G+=U(oe,ue,He)+we,ue=He+Ee.length)}return G+U(oe,ue)}]},!B||!H||K),kL}qCe();var FL={},PC,LL;function JCe(){if(LL)return PC;LL=1;var e=Yl(),t=Cf(),n=po(),s=n("match");return PC=function(a){var i;return e(a)&&((i=a[s])!==void 0?!!i:t(a)==="RegExp")},PC}var DC,RL;function KB(){if(RL)return DC;RL=1;var e=JCe(),t=TypeError;return DC=function(n){if(e(n))throw new t("The method doesn't accept regular expressions");return n},DC}var FC,OL;function WB(){if(OL)return FC;OL=1;var e=po(),t=e("match");return FC=function(n){var s=/./;try{"/./"[n](s)}catch{try{return s[t]=!1,"/./"[n](s)}catch{}}return!1},FC}var ML;function YCe(){if(ML)return FL;ML=1;var e=_l(),t=Mw(),n=Pw().f,s=gp(),a=Tu(),i=KB(),o=Rd(),l=WB(),c=Iu(),d=t("".slice),u=Math.min,f=l("startsWith"),v=!c&&!f&&!!function(){var g=n(String.prototype,"startsWith");return g&&!g.writable}();return e({target:"String",proto:!0,forced:!v&&!f},{startsWith:function(w){var y=a(o(this));i(w);var b=s(u(arguments.length>1?arguments[1]:void 0,y.length)),x=a(w);return d(y,b,b+x.length)===x}}),FL}YCe();var LC,UL;function XCe(){if(UL)return LC;UL=1;var e=po(),t=Uw(),n=Eh().f,s=e("unscopables"),a=Array.prototype;return a[s]===void 0&&n(a,s,{configurable:!0,value:t(null)}),LC=function(i){a[s][i]=!0},LC}var RC,QL;function ZCe(){if(QL)return RC;QL=1;var e=Ca();return RC=!e(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),RC}var OC,HL;function NW(){if(HL)return OC;HL=1;var e=Od(),t=Sa(),n=Tw(),s=DB(),a=ZCe(),i=s("IE_PROTO"),o=Object,l=o.prototype;return OC=a?o.getPrototypeOf:function(c){var d=n(c);if(e(d,i))return d[i];var u=d.constructor;return t(u)&&d instanceof u?u.prototype:d instanceof o?l:null},OC}var MC,zL;function CW(){if(zL)return MC;zL=1;var e=Ca(),t=Sa(),n=Yl(),s=Uw(),a=NW(),i=Sf(),o=po(),l=Iu(),c=o("iterator"),d=!1,u,f,v;[].keys&&(v=[].keys(),"next"in v?(f=a(a(v)),f!==Object.prototype&&(u=f)):d=!0);var g=!n(u)||e(function(){var w={};return u[c].call(w)!==w});return g?u={}:l&&(u=s(u)),t(u[c])||i(u,c,function(){return this}),MC={IteratorPrototype:u,BUGGY_SAFARI_ITERATORS:d},MC}var UC,VL;function e_e(){if(VL)return UC;VL=1;var e=CW().IteratorPrototype,t=Uw(),n=BB(),s=Ow(),a=ev(),i=function(){return this};return UC=function(o,l,c,d){var u=l+" Iterator";return o.prototype=t(e,{next:n(+!d,c)}),s(o,u,!1,!0),a[u]=i,o},UC}var QC,KL;function t_e(){if(KL)return QC;KL=1;var e=_l(),t=Po(),n=Iu(),s=Dw(),a=Sa(),i=e_e(),o=NW(),l=AW(),c=Ow(),d=Jx(),u=Sf(),f=po(),v=ev(),g=CW(),w=s.PROPER,y=s.CONFIGURABLE,b=g.IteratorPrototype,x=g.BUGGY_SAFARI_ITERATORS,N=f("iterator"),S="keys",k="values",F="entries",$=function(){return this};return QC=function(U,D,H,K,B,R,Z){i(H,D,K);var te=function(q){if(q===B&&oe)return oe;if(!x&&q&&q in le)return le[q];switch(q){case S:return function(){return new H(this,q)};case k:return function(){return new H(this,q)};case F:return function(){return new H(this,q)}}return function(){return new H(this)}},ye=D+" Iterator",de=!1,le=U.prototype,Q=le[N]||le["@@iterator"]||B&&le[B],oe=!x&&Q||te(B),ce=D==="Array"&&le.entries||Q,ee,M,E;if(ce&&(ee=o(ce.call(new U)),ee!==Object.prototype&&ee.next&&(!n&&o(ee)!==b&&(l?l(ee,b):a(ee[N])||u(ee,N,$)),c(ee,ye,!0,!0),n&&(v[ye]=$))),w&&B===k&&Q&&Q.name!==k&&(!n&&y?d(le,"name",k):(de=!0,oe=function(){return t(Q,this)})),B)if(M={values:te(k),keys:R?oe:te(S),entries:te(F)},Z)for(E in M)(x||de||!(E in le))&&u(le,E,M[E]);else e({target:D,proto:!0,forced:x||de},M);return(!n||Z)&&le[N]!==oe&&u(le,N,oe,{name:B}),v[D]=oe,M},QC}var HC,WL;function r_e(){return WL||(WL=1,HC=function(e,t){return{value:e,done:t}}),HC}var zC,$L;function _W(){if($L)return zC;$L=1;var e=Gx(),t=XCe(),n=ev(),s=Fw(),a=Eh().f,i=t_e(),o=r_e(),l=Iu(),c=Ld(),d="Array Iterator",u=s.set,f=s.getterFor(d);zC=i(Array,"Array",function(g,w){u(this,{type:d,target:e(g),index:0,kind:w})},function(){var g=f(this),w=g.target,y=g.index++;if(!w||y>=w.length)return g.target=null,o(void 0,!0);switch(g.kind){case"keys":return o(y,!1);case"values":return o(w[y],!1)}return o([y,w[y]],!1)},"values");var v=n.Arguments=n.Array;if(t("keys"),t("values"),t("entries"),!l&&c&&v.name!=="values")try{a(v,"name",{value:"values"})}catch{}return zC}_W();var GL={},VC,qL;function n_e(){return qL||(qL=1,VC={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),VC}var KC,JL;function s_e(){if(JL)return KC;JL=1;var e=kw(),t=e("span").classList,n=t&&t.constructor&&t.constructor.prototype;return KC=n===Object.prototype?void 0:n,KC}var YL;function i_e(){if(YL)return GL;YL=1;var e=ra(),t=n_e(),n=s_e(),s=_W(),a=Jx(),i=Ow(),o=po(),l=o("iterator"),c=s.values,d=function(f,v){if(f){if(f[l]!==c)try{a(f,l,c)}catch{f[l]=c}if(i(f,v,!0),t[v]){for(var g in s)if(f[g]!==s[g])try{a(f,g,s[g])}catch{f[g]=s[g]}}}};for(var u in t)d(e[u]&&e[u].prototype,u);return d(n,"DOMTokenList"),GL}i_e();function a_e(e,t){if(Ps(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Ps(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o_e(e){var t=a_e(e,"string");return Ps(t)=="symbol"?t:t+""}function $B(e,t,n){return(t=o_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var XL={},WC,ZL;function l_e(){if(ZL)return WC;ZL=1;var e=mA(),t=Tw(),n=ZK(),s=LB(),a=TypeError,i="Reduce of empty array with no initial value",o=function(l){return function(c,d,u,f){var v=t(c),g=n(v),w=s(v);if(e(d),w===0&&u<2)throw new a(i);var y=l?w-1:0,b=l?-1:1;if(u<2)for(;;){if(y in g){f=g[y],y+=b;break}if(y+=b,l?y<0:w<=y)throw new a(i)}for(;l?y>=0:w>y;y+=b)y in g&&(f=d(f,g[y],y,v));return f}};return WC={left:o(!1),right:o(!0)},WC}var $C,eR;function SW(){if(eR)return $C;eR=1;var e=Ca();return $C=function(t,n){var s=[][t];return!!s&&e(function(){s.call(null,n||function(){return 1},1)})},$C}var tR;function c_e(){if(tR)return XL;tR=1;var e=_l(),t=l_e().left,n=SW(),s=EB(),a=Rw(),i=!a&&s>79&&s<83,o=i||!n("reduce");return e({target:"Array",proto:!0,forced:o},{reduce:function(c){var d=arguments.length;return t(this,c,d,d>1?arguments[1]:void 0)}}),XL}c_e();var rR={},nR;function d_e(){if(nR)return rR;nR=1;var e=_l(),t=Mw(),n=Pw().f,s=gp(),a=Tu(),i=KB(),o=Rd(),l=WB(),c=Iu(),d=t("".slice),u=Math.min,f=l("endsWith"),v=!c&&!f&&!!function(){var g=n(String.prototype,"endsWith");return g&&!g.writable}();return e({target:"String",proto:!0,forced:!v&&!f},{endsWith:function(w){var y=a(o(this));i(w);var b=arguments.length>1?arguments[1]:void 0,x=y.length,N=b===void 0?x:u(s(b),x),S=a(w);return d(y,N-S.length,N)===S}}),rR}d_e();var sR={},iR;function u_e(){if(iR)return sR;iR=1;var e=Po(),t=_a(),n=HB(),s=Cl(),a=Yl(),i=Rd(),o=hW(),l=zB(),c=gp(),d=Tu(),u=pp(),f=VB(),v=jW(),g=Ca(),w=v.UNSUPPORTED_Y,y=4294967295,b=Math.min,x=t([].push),N=t("".slice),S=!g(function(){var F=/(?:)/,$=F.exec;F.exec=function(){return $.apply(this,arguments)};var U="ab".split(F);return U.length!==2||U[0]!=="a"||U[1]!=="b"}),k="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;return n("split",function(F,$,U){var D="0".split(void 0,0).length?function(H,K){return H===void 0&&K===0?[]:e($,this,H,K)}:$;return[function(K,B){var R=i(this),Z=a(K)?u(K,F):void 0;return Z?e(Z,K,R,B):e(D,d(R),K,B)},function(H,K){var B=s(this),R=d(H);if(!k){var Z=U(D,B,R,K,D!==$);if(Z.done)return Z.value}var te=o(B,RegExp),ye=B.unicode,de=(B.ignoreCase?"i":"")+(B.multiline?"m":"")+(B.unicode?"u":"")+(w?"g":"y"),le=new te(w?"^(?:"+B.source+")":B,de),Q=K===void 0?y:K>>>0;if(Q===0)return[];if(R.length===0)return f(le,R)===null?[R]:[];for(var oe=0,ce=0,ee=[];ce<R.length;){le.lastIndex=w?0:ce;var M=f(le,w?N(R,ce):R),E;if(M===null||(E=b(c(le.lastIndex+(w?ce:0)),R.length))===oe)ce=l(R,ce,ye);else{if(x(ee,N(R,oe,ce)),ee.length===Q)return ee;for(var q=1;q<=M.length-1;q++)if(x(ee,M[q]),ee.length===Q)return ee;ce=oe=E}}return x(ee,N(R,oe)),ee}]},k||!S,w),sR}u_e();var ug={exports:{}},Zh={exports:{}},A_e=Zh.exports,aR;function h_e(){return aR||(aR=1,(function(){var e,t,n,s,a,i;typeof performance<"u"&&performance!==null&&performance.now?Zh.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(Zh.exports=function(){return(e()-a)/1e6},t=process.hrtime,e=function(){var o;return o=t(),o[0]*1e9+o[1]},s=e(),i=process.uptime()*1e9,a=s-i):Date.now?(Zh.exports=function(){return Date.now()-n},n=Date.now()):(Zh.exports=function(){return new Date().getTime()-n},n=new Date().getTime())}).call(A_e)),Zh.exports}var oR;function f_e(){if(oR)return ug.exports;oR=1;for(var e=h_e(),t=typeof window>"u"?r_:window,n=["moz","webkit"],s="AnimationFrame",a=t["request"+s],i=t["cancel"+s]||t["cancelRequest"+s],o=0;!a&&o<n.length;o++)a=t[n[o]+"Request"+s],i=t[n[o]+"Cancel"+s]||t[n[o]+"CancelRequest"+s];if(!a||!i){var l=0,c=0,d=[],u=1e3/60;a=function(f){if(d.length===0){var v=e(),g=Math.max(0,u-(v-l));l=g+v,setTimeout(function(){var w=d.slice(0);d.length=0;for(var y=0;y<w.length;y++)if(!w[y].cancelled)try{w[y].callback(l)}catch(b){setTimeout(function(){throw b},0)}},Math.round(g))}return d.push({handle:++c,callback:f,cancelled:!1}),c},i=function(f){for(var v=0;v<d.length;v++)d[v].handle===f&&(d[v].cancelled=!0)}}return ug.exports=function(f){return a.call(t,f)},ug.exports.cancel=function(){i.apply(t,arguments)},ug.exports.polyfill=function(f){f||(f=t),f.requestAnimationFrame=a,f.cancelAnimationFrame=i},ug.exports}var m_e=f_e();const GC=$m(m_e);var lR={},qC,cR;function BW(){return cR||(cR=1,qC=`	
\v\f\r \u2028\u2029\uFEFF`),qC}var JC,dR;function p_e(){if(dR)return JC;dR=1;var e=_a(),t=Rd(),n=Tu(),s=BW(),a=e("".replace),i=RegExp("^["+s+"]+"),o=RegExp("(^|[^"+s+"])["+s+"]+$"),l=function(c){return function(d){var u=n(t(d));return c&1&&(u=a(u,i,"")),c&2&&(u=a(u,o,"$1")),u}};return JC={start:l(1),end:l(2),trim:l(3)},JC}var YC,uR;function g_e(){if(uR)return YC;uR=1;var e=Dw().PROPER,t=Ca(),n=BW(),s="";return YC=function(a){return t(function(){return!!n[a]()||s[a]()!==s||e&&n[a].name!==a})},YC}var AR;function x_e(){if(AR)return lR;AR=1;var e=_l(),t=p_e().trim,n=g_e();return e({target:"String",proto:!0,forced:n("trim")},{trim:function(){return t(this)}}),lR}x_e();var XC,hR;function v_e(){return hR||(hR=1,XC=function(e){this.ok=!1,this.alpha=1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e=e.replace(/ /g,""),e=e.toLowerCase();var t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};e=t[e]||e;for(var n=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3]),parseFloat(c[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],s=0;s<n.length;s++){var a=n[s].re,i=n[s].process,o=a.exec(e);if(o){var l=i(o);this.r=l[0],this.g=l[1],this.b=l[2],l.length>3&&(this.alpha=l[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var c=this.r.toString(16),d=this.g.toString(16),u=this.b.toString(16);return c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),u.length==1&&(u="0"+u),"#"+c+d+u},this.getHelpXML=function(){for(var c=new Array,d=0;d<n.length;d++)for(var u=n[d].example,f=0;f<u.length;f++)c[c.length]=u[f];for(var v in t)c[c.length]=v;var g=document.createElement("ul");g.setAttribute("id","rgbcolor-examples");for(var d=0;d<c.length;d++)try{var w=document.createElement("li"),y=new RGBColor(c[d]),b=document.createElement("div");b.style.cssText="margin: 3px; border: 1px solid black; background:"+y.toHex()+"; color:"+y.toHex(),b.appendChild(document.createTextNode("test"));var x=document.createTextNode(" "+c[d]+" -> "+y.toRGB()+" -> "+y.toHex());w.appendChild(b),w.appendChild(x),g.appendChild(w)}catch{}return g}}),XC}var y_e=v_e();const W5=$m(y_e);var fR={},mR;function w_e(){if(mR)return fR;mR=1;var e=_l(),t=Mw(),n=lW().indexOf,s=SW(),a=t([].indexOf),i=!!a&&1/a([1],1,-0)<0,o=i||!s("indexOf");return e({target:"Array",proto:!0,forced:o},{indexOf:function(c){var d=arguments.length>1?arguments[1]:void 0;return i?a(this,c,d)||0:n(this,c,d)}}),fR}w_e();var pR={},gR;function b_e(){if(gR)return pR;gR=1;var e=_l(),t=_a(),n=KB(),s=Rd(),a=Tu(),i=WB(),o=t("".indexOf);return e({target:"String",proto:!0,forced:!i("includes")},{includes:function(c){return!!~o(a(s(this)),a(n(c)),arguments.length>1?arguments[1]:void 0)}}),pR}b_e();var xR={},ZC,vR;function j_e(){if(vR)return ZC;vR=1;var e=Cf();return ZC=Array.isArray||function(n){return e(n)==="Array"},ZC}var yR;function N_e(){if(yR)return xR;yR=1;var e=_l(),t=_a(),n=j_e(),s=t([].reverse),a=[1,2];return e({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function(){return n(this)&&(this.length=this.length),s(this)}}),xR}N_e();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var EW=function(e,t){return(EW=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(n[a]=s[a])})(e,t)};function IW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}EW(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function C_e(e){var t="";Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var s=e[n];if(s.type===sr.CLOSE_PATH)t+="z";else if(s.type===sr.HORIZ_LINE_TO)t+=(s.relative?"h":"H")+s.x;else if(s.type===sr.VERT_LINE_TO)t+=(s.relative?"v":"V")+s.y;else if(s.type===sr.MOVE_TO)t+=(s.relative?"m":"M")+s.x+" "+s.y;else if(s.type===sr.LINE_TO)t+=(s.relative?"l":"L")+s.x+" "+s.y;else if(s.type===sr.CURVE_TO)t+=(s.relative?"c":"C")+s.x1+" "+s.y1+" "+s.x2+" "+s.y2+" "+s.x+" "+s.y;else if(s.type===sr.SMOOTH_CURVE_TO)t+=(s.relative?"s":"S")+s.x2+" "+s.y2+" "+s.x+" "+s.y;else if(s.type===sr.QUAD_TO)t+=(s.relative?"q":"Q")+s.x1+" "+s.y1+" "+s.x+" "+s.y;else if(s.type===sr.SMOOTH_QUAD_TO)t+=(s.relative?"t":"T")+s.x+" "+s.y;else{if(s.type!==sr.ARC)throw new Error('Unexpected command type "'+s.type+'" at index '+n+".");t+=(s.relative?"a":"A")+s.rX+" "+s.rY+" "+s.xRot+" "+ +s.lArcFlag+" "+ +s.sweepFlag+" "+s.x+" "+s.y}}return t}function $5(e,t){var n=e[0],s=e[1];return[n*Math.cos(t)-s*Math.sin(t),n*Math.sin(t)+s*Math.cos(t)]}function gd(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;n++)if(typeof e[n]!="number")throw new Error("assertNumbers arguments["+n+"] is not a number. "+typeof e[n]+" == typeof "+e[n]);return!0}var KA=Math.PI;function e_(e,t,n){e.lArcFlag=e.lArcFlag===0?0:1,e.sweepFlag=e.sweepFlag===0?0:1;var s=e.rX,a=e.rY,i=e.x,o=e.y;s=Math.abs(e.rX),a=Math.abs(e.rY);var l=$5([(t-i)/2,(n-o)/2],-e.xRot/180*KA),c=l[0],d=l[1],u=Math.pow(c,2)/Math.pow(s,2)+Math.pow(d,2)/Math.pow(a,2);1<u&&(s*=Math.sqrt(u),a*=Math.sqrt(u)),e.rX=s,e.rY=a;var f=Math.pow(s,2)*Math.pow(d,2)+Math.pow(a,2)*Math.pow(c,2),v=(e.lArcFlag!==e.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(s,2)*Math.pow(a,2)-f)/f)),g=s*d/a*v,w=-a*c/s*v,y=$5([g,w],e.xRot/180*KA);e.cX=y[0]+(t+i)/2,e.cY=y[1]+(n+o)/2,e.phi1=Math.atan2((d-w)/a,(c-g)/s),e.phi2=Math.atan2((-d-w)/a,(-c-g)/s),e.sweepFlag===0&&e.phi2>e.phi1&&(e.phi2-=2*KA),e.sweepFlag===1&&e.phi2<e.phi1&&(e.phi2+=2*KA),e.phi1*=180/KA,e.phi2*=180/KA}function wR(e,t,n){gd(e,t,n);var s=e*e+t*t-n*n;if(0>s)return[];if(s===0)return[[e*n/(e*e+t*t),t*n/(e*e+t*t)]];var a=Math.sqrt(s);return[[(e*n+t*a)/(e*e+t*t),(t*n-e*a)/(e*e+t*t)],[(e*n-t*a)/(e*e+t*t),(t*n+e*a)/(e*e+t*t)]]}var La,qu=Math.PI/180;function bR(e,t,n){return(1-n)*e+n*t}function jR(e,t,n,s){return e+Math.cos(s/180*KA)*t+Math.sin(s/180*KA)*n}function NR(e,t,n,s){var a=1e-6,i=t-e,o=n-t,l=3*i+3*(s-n)-6*o,c=6*(o-i),d=3*i;return Math.abs(l)<a?[-d/c]:function(u,f,v){var g=u*u/4-f;if(g<-1e-6)return[];if(g<=v)return[-u/2];var w=Math.sqrt(g);return[-u/2-w,-u/2+w]}(c/l,d/l,a)}function CR(e,t,n,s,a){var i=1-a;return e*(i*i*i)+t*(3*i*i*a)+n*(3*i*a*a)+s*(a*a*a)}(function(e){function t(){return a(function(l,c,d){return l.relative&&(l.x1!==void 0&&(l.x1+=c),l.y1!==void 0&&(l.y1+=d),l.x2!==void 0&&(l.x2+=c),l.y2!==void 0&&(l.y2+=d),l.x!==void 0&&(l.x+=c),l.y!==void 0&&(l.y+=d),l.relative=!1),l})}function n(){var l=NaN,c=NaN,d=NaN,u=NaN;return a(function(f,v,g){return f.type&sr.SMOOTH_CURVE_TO&&(f.type=sr.CURVE_TO,l=isNaN(l)?v:l,c=isNaN(c)?g:c,f.x1=f.relative?v-l:2*v-l,f.y1=f.relative?g-c:2*g-c),f.type&sr.CURVE_TO?(l=f.relative?v+f.x2:f.x2,c=f.relative?g+f.y2:f.y2):(l=NaN,c=NaN),f.type&sr.SMOOTH_QUAD_TO&&(f.type=sr.QUAD_TO,d=isNaN(d)?v:d,u=isNaN(u)?g:u,f.x1=f.relative?v-d:2*v-d,f.y1=f.relative?g-u:2*g-u),f.type&sr.QUAD_TO?(d=f.relative?v+f.x1:f.x1,u=f.relative?g+f.y1:f.y1):(d=NaN,u=NaN),f})}function s(){var l=NaN,c=NaN;return a(function(d,u,f){if(d.type&sr.SMOOTH_QUAD_TO&&(d.type=sr.QUAD_TO,l=isNaN(l)?u:l,c=isNaN(c)?f:c,d.x1=d.relative?u-l:2*u-l,d.y1=d.relative?f-c:2*f-c),d.type&sr.QUAD_TO){l=d.relative?u+d.x1:d.x1,c=d.relative?f+d.y1:d.y1;var v=d.x1,g=d.y1;d.type=sr.CURVE_TO,d.x1=((d.relative?0:u)+2*v)/3,d.y1=((d.relative?0:f)+2*g)/3,d.x2=(d.x+2*v)/3,d.y2=(d.y+2*g)/3}else l=NaN,c=NaN;return d})}function a(l){var c=0,d=0,u=NaN,f=NaN;return function(v){if(isNaN(u)&&!(v.type&sr.MOVE_TO))throw new Error("path must start with moveto");var g=l(v,c,d,u,f);return v.type&sr.CLOSE_PATH&&(c=u,d=f),v.x!==void 0&&(c=v.relative?c+v.x:v.x),v.y!==void 0&&(d=v.relative?d+v.y:v.y),v.type&sr.MOVE_TO&&(u=c,f=d),g}}function i(l,c,d,u,f,v){return gd(l,c,d,u,f,v),a(function(g,w,y,b){var x=g.x1,N=g.x2,S=g.relative&&!isNaN(b),k=g.x!==void 0?g.x:S?0:w,F=g.y!==void 0?g.y:S?0:y;function $(M){return M*M}g.type&sr.HORIZ_LINE_TO&&c!==0&&(g.type=sr.LINE_TO,g.y=g.relative?0:y),g.type&sr.VERT_LINE_TO&&d!==0&&(g.type=sr.LINE_TO,g.x=g.relative?0:w),g.x!==void 0&&(g.x=g.x*l+F*d+(S?0:f)),g.y!==void 0&&(g.y=k*c+g.y*u+(S?0:v)),g.x1!==void 0&&(g.x1=g.x1*l+g.y1*d+(S?0:f)),g.y1!==void 0&&(g.y1=x*c+g.y1*u+(S?0:v)),g.x2!==void 0&&(g.x2=g.x2*l+g.y2*d+(S?0:f)),g.y2!==void 0&&(g.y2=N*c+g.y2*u+(S?0:v));var U=l*u-c*d;if(g.xRot!==void 0&&(l!==1||c!==0||d!==0||u!==1))if(U===0)delete g.rX,delete g.rY,delete g.xRot,delete g.lArcFlag,delete g.sweepFlag,g.type=sr.LINE_TO;else{var D=g.xRot*Math.PI/180,H=Math.sin(D),K=Math.cos(D),B=1/$(g.rX),R=1/$(g.rY),Z=$(K)*B+$(H)*R,te=2*H*K*(B-R),ye=$(H)*B+$(K)*R,de=Z*u*u-te*c*u+ye*c*c,le=te*(l*u+c*d)-2*(Z*d*u+ye*l*c),Q=Z*d*d-te*l*d+ye*l*l,oe=(Math.atan2(le,de-Q)+Math.PI)%Math.PI/2,ce=Math.sin(oe),ee=Math.cos(oe);g.rX=Math.abs(U)/Math.sqrt(de*$(ee)+le*ce*ee+Q*$(ce)),g.rY=Math.abs(U)/Math.sqrt(de*$(ce)-le*ce*ee+Q*$(ee)),g.xRot=180*oe/Math.PI}return g.sweepFlag!==void 0&&0>U&&(g.sweepFlag=+!g.sweepFlag),g})}function o(){return function(l){var c={};for(var d in l)c[d]=l[d];return c}}e.ROUND=function(l){function c(d){return Math.round(d*l)/l}return l===void 0&&(l=1e13),gd(l),function(d){return d.x1!==void 0&&(d.x1=c(d.x1)),d.y1!==void 0&&(d.y1=c(d.y1)),d.x2!==void 0&&(d.x2=c(d.x2)),d.y2!==void 0&&(d.y2=c(d.y2)),d.x!==void 0&&(d.x=c(d.x)),d.y!==void 0&&(d.y=c(d.y)),d.rX!==void 0&&(d.rX=c(d.rX)),d.rY!==void 0&&(d.rY=c(d.rY)),d}},e.TO_ABS=t,e.TO_REL=function(){return a(function(l,c,d){return l.relative||(l.x1!==void 0&&(l.x1-=c),l.y1!==void 0&&(l.y1-=d),l.x2!==void 0&&(l.x2-=c),l.y2!==void 0&&(l.y2-=d),l.x!==void 0&&(l.x-=c),l.y!==void 0&&(l.y-=d),l.relative=!0),l})},e.NORMALIZE_HVZ=function(l,c,d){return l===void 0&&(l=!0),c===void 0&&(c=!0),d===void 0&&(d=!0),a(function(u,f,v,g,w){if(isNaN(g)&&!(u.type&sr.MOVE_TO))throw new Error("path must start with moveto");return c&&u.type&sr.HORIZ_LINE_TO&&(u.type=sr.LINE_TO,u.y=u.relative?0:v),d&&u.type&sr.VERT_LINE_TO&&(u.type=sr.LINE_TO,u.x=u.relative?0:f),l&&u.type&sr.CLOSE_PATH&&(u.type=sr.LINE_TO,u.x=u.relative?g-f:g,u.y=u.relative?w-v:w),u.type&sr.ARC&&(u.rX===0||u.rY===0)&&(u.type=sr.LINE_TO,delete u.rX,delete u.rY,delete u.xRot,delete u.lArcFlag,delete u.sweepFlag),u})},e.NORMALIZE_ST=n,e.QT_TO_C=s,e.INFO=a,e.SANITIZE=function(l){l===void 0&&(l=0),gd(l);var c=NaN,d=NaN,u=NaN,f=NaN;return a(function(v,g,w,y,b){var x=Math.abs,N=!1,S=0,k=0;if(v.type&sr.SMOOTH_CURVE_TO&&(S=isNaN(c)?0:g-c,k=isNaN(d)?0:w-d),v.type&(sr.CURVE_TO|sr.SMOOTH_CURVE_TO)?(c=v.relative?g+v.x2:v.x2,d=v.relative?w+v.y2:v.y2):(c=NaN,d=NaN),v.type&sr.SMOOTH_QUAD_TO?(u=isNaN(u)?g:2*g-u,f=isNaN(f)?w:2*w-f):v.type&sr.QUAD_TO?(u=v.relative?g+v.x1:v.x1,f=v.relative?w+v.y1:v.y2):(u=NaN,f=NaN),v.type&sr.LINE_COMMANDS||v.type&sr.ARC&&(v.rX===0||v.rY===0||!v.lArcFlag)||v.type&sr.CURVE_TO||v.type&sr.SMOOTH_CURVE_TO||v.type&sr.QUAD_TO||v.type&sr.SMOOTH_QUAD_TO){var F=v.x===void 0?0:v.relative?v.x:v.x-g,$=v.y===void 0?0:v.relative?v.y:v.y-w;S=isNaN(u)?v.x1===void 0?S:v.relative?v.x:v.x1-g:u-g,k=isNaN(f)?v.y1===void 0?k:v.relative?v.y:v.y1-w:f-w;var U=v.x2===void 0?0:v.relative?v.x:v.x2-g,D=v.y2===void 0?0:v.relative?v.y:v.y2-w;x(F)<=l&&x($)<=l&&x(S)<=l&&x(k)<=l&&x(U)<=l&&x(D)<=l&&(N=!0)}return v.type&sr.CLOSE_PATH&&x(g-y)<=l&&x(w-b)<=l&&(N=!0),N?[]:v})},e.MATRIX=i,e.ROTATE=function(l,c,d){c===void 0&&(c=0),d===void 0&&(d=0),gd(l,c,d);var u=Math.sin(l),f=Math.cos(l);return i(f,u,-u,f,c-c*f+d*u,d-c*u-d*f)},e.TRANSLATE=function(l,c){return c===void 0&&(c=0),gd(l,c),i(1,0,0,1,l,c)},e.SCALE=function(l,c){return c===void 0&&(c=l),gd(l,c),i(l,0,0,c,0,0)},e.SKEW_X=function(l){return gd(l),i(1,0,Math.atan(l),1,0,0)},e.SKEW_Y=function(l){return gd(l),i(1,Math.atan(l),0,1,0,0)},e.X_AXIS_SYMMETRY=function(l){return l===void 0&&(l=0),gd(l),i(-1,0,0,1,l,0)},e.Y_AXIS_SYMMETRY=function(l){return l===void 0&&(l=0),gd(l),i(1,0,0,-1,0,l)},e.A_TO_C=function(){return a(function(l,c,d){return sr.ARC===l.type?function(u,f,v){var g,w,y,b;u.cX||e_(u,f,v);for(var x=Math.min(u.phi1,u.phi2),N=Math.max(u.phi1,u.phi2)-x,S=Math.ceil(N/90),k=new Array(S),F=f,$=v,U=0;U<S;U++){var D=bR(u.phi1,u.phi2,U/S),H=bR(u.phi1,u.phi2,(U+1)/S),K=H-D,B=4/3*Math.tan(K*qu/4),R=[Math.cos(D*qu)-B*Math.sin(D*qu),Math.sin(D*qu)+B*Math.cos(D*qu)],Z=R[0],te=R[1],ye=[Math.cos(H*qu),Math.sin(H*qu)],de=ye[0],le=ye[1],Q=[de+B*Math.sin(H*qu),le-B*Math.cos(H*qu)],oe=Q[0],ce=Q[1];k[U]={relative:u.relative,type:sr.CURVE_TO};var ee=function(M,E){var q=$5([M*u.rX,E*u.rY],u.xRot),se=q[0],re=q[1];return[u.cX+se,u.cY+re]};g=ee(Z,te),k[U].x1=g[0],k[U].y1=g[1],w=ee(oe,ce),k[U].x2=w[0],k[U].y2=w[1],y=ee(de,le),k[U].x=y[0],k[U].y=y[1],u.relative&&(k[U].x1-=F,k[U].y1-=$,k[U].x2-=F,k[U].y2-=$,k[U].x-=F,k[U].y-=$),F=(b=[k[U].x,k[U].y])[0],$=b[1]}return k}(l,l.relative?0:c,l.relative?0:d):l})},e.ANNOTATE_ARCS=function(){return a(function(l,c,d){return l.relative&&(c=0,d=0),sr.ARC===l.type&&e_(l,c,d),l})},e.CLONE=o,e.CALCULATE_BOUNDS=function(){var l=function(v){var g={};for(var w in v)g[w]=v[w];return g},c=t(),d=s(),u=n(),f=a(function(v,g,w){var y=u(d(c(l(v))));function b(ce){ce>f.maxX&&(f.maxX=ce),ce<f.minX&&(f.minX=ce)}function x(ce){ce>f.maxY&&(f.maxY=ce),ce<f.minY&&(f.minY=ce)}if(y.type&sr.DRAWING_COMMANDS&&(b(g),x(w)),y.type&sr.HORIZ_LINE_TO&&b(y.x),y.type&sr.VERT_LINE_TO&&x(y.y),y.type&sr.LINE_TO&&(b(y.x),x(y.y)),y.type&sr.CURVE_TO){b(y.x),x(y.y);for(var N=0,S=NR(g,y.x1,y.x2,y.x);N<S.length;N++)0<(oe=S[N])&&1>oe&&b(CR(g,y.x1,y.x2,y.x,oe));for(var k=0,F=NR(w,y.y1,y.y2,y.y);k<F.length;k++)0<(oe=F[k])&&1>oe&&x(CR(w,y.y1,y.y2,y.y,oe))}if(y.type&sr.ARC){b(y.x),x(y.y),e_(y,g,w);for(var $=y.xRot/180*Math.PI,U=Math.cos($)*y.rX,D=Math.sin($)*y.rX,H=-Math.sin($)*y.rY,K=Math.cos($)*y.rY,B=y.phi1<y.phi2?[y.phi1,y.phi2]:-180>y.phi2?[y.phi2+360,y.phi1+360]:[y.phi2,y.phi1],R=B[0],Z=B[1],te=function(ce){var ee=ce[0],M=ce[1],E=180*Math.atan2(M,ee)/Math.PI;return E<R?E+360:E},ye=0,de=wR(H,-U,0).map(te);ye<de.length;ye++)(oe=de[ye])>R&&oe<Z&&b(jR(y.cX,U,H,oe));for(var le=0,Q=wR(K,-D,0).map(te);le<Q.length;le++){var oe;(oe=Q[le])>R&&oe<Z&&x(jR(y.cY,D,K,oe))}}return v});return f.minX=1/0,f.maxX=-1/0,f.minY=1/0,f.maxY=-1/0,f}})(La||(La={}));var md,TW=function(){function e(){}return e.prototype.round=function(t){return this.transform(La.ROUND(t))},e.prototype.toAbs=function(){return this.transform(La.TO_ABS())},e.prototype.toRel=function(){return this.transform(La.TO_REL())},e.prototype.normalizeHVZ=function(t,n,s){return this.transform(La.NORMALIZE_HVZ(t,n,s))},e.prototype.normalizeST=function(){return this.transform(La.NORMALIZE_ST())},e.prototype.qtToC=function(){return this.transform(La.QT_TO_C())},e.prototype.aToC=function(){return this.transform(La.A_TO_C())},e.prototype.sanitize=function(t){return this.transform(La.SANITIZE(t))},e.prototype.translate=function(t,n){return this.transform(La.TRANSLATE(t,n))},e.prototype.scale=function(t,n){return this.transform(La.SCALE(t,n))},e.prototype.rotate=function(t,n,s){return this.transform(La.ROTATE(t,n,s))},e.prototype.matrix=function(t,n,s,a,i,o){return this.transform(La.MATRIX(t,n,s,a,i,o))},e.prototype.skewX=function(t){return this.transform(La.SKEW_X(t))},e.prototype.skewY=function(t){return this.transform(La.SKEW_Y(t))},e.prototype.xSymmetry=function(t){return this.transform(La.X_AXIS_SYMMETRY(t))},e.prototype.ySymmetry=function(t){return this.transform(La.Y_AXIS_SYMMETRY(t))},e.prototype.annotateArcs=function(){return this.transform(La.ANNOTATE_ARCS())},e}(),__e=function(e){return e===" "||e==="	"||e==="\r"||e===`
`},_R=function(e){return 48<=e.charCodeAt(0)&&e.charCodeAt(0)<=57},S_e=function(e){function t(){var n=e.call(this)||this;return n.curNumber="",n.curCommandType=-1,n.curCommandRelative=!1,n.canParseCommandOrComma=!0,n.curNumberHasExp=!1,n.curNumberHasExpDigits=!1,n.curNumberHasDecimal=!1,n.curArgs=[],n}return IW(t,e),t.prototype.finish=function(n){if(n===void 0&&(n=[]),this.parse(" ",n),this.curArgs.length!==0||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return n},t.prototype.parse=function(n,s){var a=this;s===void 0&&(s=[]);for(var i=function(f){s.push(f),a.curArgs.length=0,a.canParseCommandOrComma=!0},o=0;o<n.length;o++){var l=n[o],c=!(this.curCommandType!==sr.ARC||this.curArgs.length!==3&&this.curArgs.length!==4||this.curNumber.length!==1||this.curNumber!=="0"&&this.curNumber!=="1"),d=_R(l)&&(this.curNumber==="0"&&l==="0"||c);if(!_R(l)||d)if(l!=="e"&&l!=="E")if(l!=="-"&&l!=="+"||!this.curNumberHasExp||this.curNumberHasExpDigits)if(l!=="."||this.curNumberHasExp||this.curNumberHasDecimal||c){if(this.curNumber&&this.curCommandType!==-1){var u=Number(this.curNumber);if(isNaN(u))throw new SyntaxError("Invalid number ending at "+o);if(this.curCommandType===sr.ARC){if(this.curArgs.length===0||this.curArgs.length===1){if(0>u)throw new SyntaxError('Expected positive number, got "'+u+'" at index "'+o+'"')}else if((this.curArgs.length===3||this.curArgs.length===4)&&this.curNumber!=="0"&&this.curNumber!=="1")throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+o+'"')}this.curArgs.push(u),this.curArgs.length===B_e[this.curCommandType]&&(sr.HORIZ_LINE_TO===this.curCommandType?i({type:sr.HORIZ_LINE_TO,relative:this.curCommandRelative,x:u}):sr.VERT_LINE_TO===this.curCommandType?i({type:sr.VERT_LINE_TO,relative:this.curCommandRelative,y:u}):this.curCommandType===sr.MOVE_TO||this.curCommandType===sr.LINE_TO||this.curCommandType===sr.SMOOTH_QUAD_TO?(i({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),sr.MOVE_TO===this.curCommandType&&(this.curCommandType=sr.LINE_TO)):this.curCommandType===sr.CURVE_TO?i({type:sr.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===sr.SMOOTH_CURVE_TO?i({type:sr.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===sr.QUAD_TO?i({type:sr.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===sr.ARC&&i({type:sr.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!__e(l))if(l===","&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if(l!=="+"&&l!=="-"&&l!==".")if(d)this.curNumber=l,this.curNumberHasDecimal=!1;else{if(this.curArgs.length!==0)throw new SyntaxError("Unterminated command at index "+o+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+l+'" at index '+o+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,l!=="z"&&l!=="Z")if(l==="h"||l==="H")this.curCommandType=sr.HORIZ_LINE_TO,this.curCommandRelative=l==="h";else if(l==="v"||l==="V")this.curCommandType=sr.VERT_LINE_TO,this.curCommandRelative=l==="v";else if(l==="m"||l==="M")this.curCommandType=sr.MOVE_TO,this.curCommandRelative=l==="m";else if(l==="l"||l==="L")this.curCommandType=sr.LINE_TO,this.curCommandRelative=l==="l";else if(l==="c"||l==="C")this.curCommandType=sr.CURVE_TO,this.curCommandRelative=l==="c";else if(l==="s"||l==="S")this.curCommandType=sr.SMOOTH_CURVE_TO,this.curCommandRelative=l==="s";else if(l==="q"||l==="Q")this.curCommandType=sr.QUAD_TO,this.curCommandRelative=l==="q";else if(l==="t"||l==="T")this.curCommandType=sr.SMOOTH_QUAD_TO,this.curCommandRelative=l==="t";else{if(l!=="a"&&l!=="A")throw new SyntaxError('Unexpected character "'+l+'" at index '+o+".");this.curCommandType=sr.ARC,this.curCommandRelative=l==="a"}else s.push({type:sr.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=l,this.curNumberHasDecimal=l==="."}else this.curNumber+=l,this.curNumberHasDecimal=!0;else this.curNumber+=l;else this.curNumber+=l,this.curNumberHasExp=!0;else this.curNumber+=l,this.curNumberHasExpDigits=this.curNumberHasExp}return s},t.prototype.transform=function(n){return Object.create(this,{parse:{value:function(s,a){a===void 0&&(a=[]);for(var i=0,o=Object.getPrototypeOf(this).parse.call(this,s);i<o.length;i++){var l=o[i],c=n(l);Array.isArray(c)?a.push.apply(a,c):a.push(c)}return a}}})},t}(TW),sr=function(e){function t(n){var s=e.call(this)||this;return s.commands=typeof n=="string"?t.parse(n):n,s}return IW(t,e),t.prototype.encode=function(){return t.encode(this.commands)},t.prototype.getBounds=function(){var n=La.CALCULATE_BOUNDS();return this.transform(n),n},t.prototype.transform=function(n){for(var s=[],a=0,i=this.commands;a<i.length;a++){var o=n(i[a]);Array.isArray(o)?s.push.apply(s,o):s.push(o)}return this.commands=s,this},t.encode=function(n){return C_e(n)},t.parse=function(n){var s=new S_e,a=[];return s.parse(n,a),s.finish(a),a},t.CLOSE_PATH=1,t.MOVE_TO=2,t.HORIZ_LINE_TO=4,t.VERT_LINE_TO=8,t.LINE_TO=16,t.CURVE_TO=32,t.SMOOTH_CURVE_TO=64,t.QUAD_TO=128,t.SMOOTH_QUAD_TO=256,t.ARC=512,t.LINE_COMMANDS=t.LINE_TO|t.HORIZ_LINE_TO|t.VERT_LINE_TO,t.DRAWING_COMMANDS=t.HORIZ_LINE_TO|t.VERT_LINE_TO|t.LINE_TO|t.CURVE_TO|t.SMOOTH_CURVE_TO|t.QUAD_TO|t.SMOOTH_QUAD_TO|t.ARC,t}(TW),B_e=((md={})[sr.MOVE_TO]=2,md[sr.LINE_TO]=2,md[sr.HORIZ_LINE_TO]=1,md[sr.VERT_LINE_TO]=1,md[sr.CLOSE_PATH]=0,md[sr.QUAD_TO]=4,md[sr.SMOOTH_QUAD_TO]=2,md[sr.CURVE_TO]=6,md[sr.SMOOTH_CURVE_TO]=4,md[sr.ARC]=7,md),SR={},t_,BR;function E_e(){if(BR)return t_;BR=1;var e=Po(),t=Od(),n=Ew(),s=bW(),a=RegExp.prototype;return t_=function(i){var o=i.flags;return o===void 0&&!("flags"in a)&&!t(i,"flags")&&n(a,i)?e(s,i):o},t_}var ER;function I_e(){if(ER)return SR;ER=1;var e=Dw().PROPER,t=Sf(),n=Cl(),s=Tu(),a=Ca(),i=E_e(),o="toString",l=RegExp.prototype,c=l[o],d=a(function(){return c.call({source:"a",flags:"b"})!=="/a/b"}),u=e&&c.name!==o;return(d||u)&&t(l,o,function(){var v=n(this),g=s(v.source),w=s(i(v));return"/"+g+"/"+w},{unsafe:!0}),SR}I_e();function Ay(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ay=function(t){return typeof t}:Ay=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ay(e)}function T_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var k_e=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],P_e=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function D_e(e,t,n,s,a){if(typeof e=="string"&&(e=document.getElementById(e)),!e||Ay(e)!=="object"||!("getContext"in e))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var i=e.getContext("2d");try{return i.getImageData(t,n,s,a)}catch(o){throw new Error("unable to access image data: "+o)}}function F_e(e,t,n,s,a,i){if(!(isNaN(i)||i<1)){i|=0;var o=D_e(e,t,n,s,a);o=L_e(o,t,n,s,a,i),e.getContext("2d").putImageData(o,t,n)}}function L_e(e,t,n,s,a,i){for(var o=e.data,l=2*i+1,c=s-1,d=a-1,u=i+1,f=u*(u+1)/2,v=new IR,g=v,w,y=1;y<l;y++)g=g.next=new IR,y===u&&(w=g);g.next=v;for(var b=null,x=null,N=0,S=0,k=k_e[i],F=P_e[i],$=0;$<a;$++){g=v;for(var U=o[S],D=o[S+1],H=o[S+2],K=o[S+3],B=0;B<u;B++)g.r=U,g.g=D,g.b=H,g.a=K,g=g.next;for(var R=0,Z=0,te=0,ye=0,de=u*U,le=u*D,Q=u*H,oe=u*K,ce=f*U,ee=f*D,M=f*H,E=f*K,q=1;q<u;q++){var se=S+((c<q?c:q)<<2),re=o[se],G=o[se+1],ue=o[se+2],ie=o[se+3],Ee=u-q;ce+=(g.r=re)*Ee,ee+=(g.g=G)*Ee,M+=(g.b=ue)*Ee,E+=(g.a=ie)*Ee,R+=re,Z+=G,te+=ue,ye+=ie,g=g.next}b=v,x=w;for(var He=0;He<s;He++){var rt=E*k>>>F;if(o[S+3]=rt,rt!==0){var we=255/rt;o[S]=(ce*k>>>F)*we,o[S+1]=(ee*k>>>F)*we,o[S+2]=(M*k>>>F)*we}else o[S]=o[S+1]=o[S+2]=0;ce-=de,ee-=le,M-=Q,E-=oe,de-=b.r,le-=b.g,Q-=b.b,oe-=b.a;var Ve=He+i+1;Ve=N+(Ve<c?Ve:c)<<2,R+=b.r=o[Ve],Z+=b.g=o[Ve+1],te+=b.b=o[Ve+2],ye+=b.a=o[Ve+3],ce+=R,ee+=Z,M+=te,E+=ye,b=b.next;var Re=x,je=Re.r,Mt=Re.g,Bt=Re.b,ct=Re.a;de+=je,le+=Mt,Q+=Bt,oe+=ct,R-=je,Z-=Mt,te-=Bt,ye-=ct,x=x.next,S+=4}N+=s}for(var vt=0;vt<s;vt++){S=vt<<2;var wt=o[S],Fe=o[S+1],Oe=o[S+2],_e=o[S+3],nt=u*wt,ut=u*Fe,jt=u*Oe,zt=u*_e,Be=f*wt,Ye=f*Fe,Ue=f*Oe,Lt=f*_e;g=v;for(var Et=0;Et<u;Et++)g.r=wt,g.g=Fe,g.b=Oe,g.a=_e,g=g.next;for(var hr=s,ur=0,Cr=0,Tr=0,fr=0,dr=1;dr<=i;dr++){S=hr+vt<<2;var Ke=u-dr;Be+=(g.r=wt=o[S])*Ke,Ye+=(g.g=Fe=o[S+1])*Ke,Ue+=(g.b=Oe=o[S+2])*Ke,Lt+=(g.a=_e=o[S+3])*Ke,fr+=wt,ur+=Fe,Cr+=Oe,Tr+=_e,g=g.next,dr<d&&(hr+=s)}S=vt,b=v,x=w;for(var qt=0;qt<a;qt++){var Ge=S<<2;o[Ge+3]=_e=Lt*k>>>F,_e>0?(_e=255/_e,o[Ge]=(Be*k>>>F)*_e,o[Ge+1]=(Ye*k>>>F)*_e,o[Ge+2]=(Ue*k>>>F)*_e):o[Ge]=o[Ge+1]=o[Ge+2]=0,Be-=nt,Ye-=ut,Ue-=jt,Lt-=zt,nt-=b.r,ut-=b.g,jt-=b.b,zt-=b.a,Ge=vt+((Ge=qt+u)<d?Ge:d)*s<<2,Be+=fr+=b.r=o[Ge],Ye+=ur+=b.g=o[Ge+1],Ue+=Cr+=b.b=o[Ge+2],Lt+=Tr+=b.a=o[Ge+3],b=b.next,nt+=wt=x.r,ut+=Fe=x.g,jt+=Oe=x.b,zt+=_e=x.a,fr-=wt,ur-=Fe,Cr-=Oe,Tr-=_e,x=x.next,S+=s}}return e}var IR=function e(){T_e(this,e),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null};function R_e(){var{DOMParser:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:e,createCanvas(n,s){return new OffscreenCanvas(n,s)},createImage(n){return AA(function*(){var s=yield fetch(n),a=yield s.blob(),i=yield createImageBitmap(a);return i})()}};return(typeof DOMParser<"u"||typeof e>"u")&&Reflect.deleteProperty(t,"DOMParser"),t}function O_e(e){var{DOMParser:t,canvas:n,fetch:s}=e;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:t,fetch:s,createCanvas:n.createCanvas,createImage:n.loadImage}}var M_e=Object.freeze({__proto__:null,offscreen:R_e,node:O_e});function Bf(e){return e.replace(/(?!\u3000)\s+/gm," ")}function kW(e){return e.replace(/^[\n \t]+/,"")}function PW(e){return e.replace(/[\n \t]+$/,"")}function $l(e){var t=(e||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[];return t.map(parseFloat)}var U_e=/^[A-Z-]+$/;function DW(e){return U_e.test(e)?e.toLowerCase():e}function GB(e){var t=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(e)||[];return t[2]||t[3]||t[4]}function FW(e){if(!e.startsWith("rgb"))return e;var t=3,n=e.replace(/\d+(\.\d+)?/g,(s,a)=>t--&&a?String(Math.round(parseFloat(s))):s);return n}var Q_e=/(\[[^\]]+\])/g,H_e=/(#[^\s+>~.[:]+)/g,z_e=/(\.[^\s+>~.[:]+)/g,V_e=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,K_e=/(:[\w-]+\([^)]*\))/gi,W_e=/(:[^\s+>~.[:]+)/g,$_e=/([^\s+>~.[:]+)/g;function Wh(e,t){var n=t.exec(e);return n?[e.replace(t," "),n.length]:[e,0]}function LW(e){var t=[0,0,0],n=e.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),s=0;return[n,s]=Wh(n,Q_e),t[1]+=s,[n,s]=Wh(n,H_e),t[0]+=s,[n,s]=Wh(n,z_e),t[1]+=s,[n,s]=Wh(n,V_e),t[2]+=s,[n,s]=Wh(n,K_e),t[1]+=s,[n,s]=Wh(n,W_e),t[1]+=s,n=n.replace(/[*\s+>~]/g," ").replace(/[#.]/g," "),[n,s]=Wh(n,$_e),t[2]+=s,t.join("")}var hf=1e-8;function G5(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))}function i1(e,t){return(e[0]*t[0]+e[1]*t[1])/(G5(e)*G5(t))}function q5(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(i1(e,t))}function J5(e){return e*e*e}function Y5(e){return 3*e*e*(1-e)}function X5(e){return 3*e*(1-e)*(1-e)}function Z5(e){return(1-e)*(1-e)*(1-e)}function eS(e){return e*e}function tS(e){return 2*e*(1-e)}function rS(e){return(1-e)*(1-e)}class dn{constructor(t,n,s){this.document=t,this.name=n,this.value=s,this.isNormalizedColor=!1}static empty(t){return new dn(t,"EMPTY","")}split(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:" ",{document:n,name:s}=this;return Bf(this.getString()).trim().split(t).map(a=>new dn(n,s,a))}hasValue(t){var{value:n}=this;return n!==null&&n!==""&&(t||n!==0)&&typeof n<"u"}isString(t){var{value:n}=this,s=typeof n=="string";return!s||!t?s:t.test(n)}isUrlDefinition(){return this.isString(/^url\(/)}isPixels(){if(!this.hasValue())return!1;var t=this.getString();switch(!0){case t.endsWith("px"):case/^[0-9]+$/.test(t):return!0;default:return!1}}setValue(t){return this.value=t,this}getValue(t){return typeof t>"u"||this.hasValue()?this.value:t}getNumber(t){if(!this.hasValue())return typeof t>"u"?0:parseFloat(t);var{value:n}=this,s=parseFloat(n);return this.isString(/%$/)&&(s/=100),s}getString(t){return typeof t>"u"||this.hasValue()?typeof this.value>"u"?"":String(this.value):String(t)}getColor(t){var n=this.getString(t);return this.isNormalizedColor||(this.isNormalizedColor=!0,n=FW(n),this.value=n),n}getDpi(){return 96}getRem(){return this.document.rootEmSize}getEm(){return this.document.emSize}getUnits(){return this.getString().replace(/[0-9.-]/g,"")}getPixels(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!this.hasValue())return 0;var[s,a]=typeof t=="boolean"?[void 0,t]:[t],{viewPort:i}=this.document.screen;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(i.computeSize("x"),i.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(i.computeSize("x"),i.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*i.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*i.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*(1/72);case this.isString(/pc$/):return this.getNumber()*15;case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case(this.isString(/%$/)&&a):return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*i.computeSize(s);default:{var o=this.getNumber();return n&&o<1?o*i.computeSize(s):o}}}getMilliseconds(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():this.getNumber()*1e3:0}getRadians(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}getDefinition(){var t=this.getString(),n=/#([^)'"]+)/.exec(t);return n&&(n=n[1]),n||(n=t),this.document.definitions[n]}getFillStyleDefinition(t,n){var s=this.getDefinition();if(!s)return null;if(typeof s.createGradient=="function")return s.createGradient(this.document.ctx,t,n);if(typeof s.createPattern=="function"){if(s.getHrefAttribute().hasValue()){var a=s.getAttribute("patternTransform");s=s.getHrefAttribute().getDefinition(),a.hasValue()&&s.getAttribute("patternTransform",!0).setValue(a.value)}return s.createPattern(this.document.ctx,t,n)}return null}getTextBaseline(){return this.hasValue()?dn.textBaselineMapping[this.getString()]:null}addOpacity(t){for(var n=this.getColor(),s=n.length,a=0,i=0;i<s&&(n[i]===","&&a++,a!==3);i++);if(t.hasValue()&&this.isString()&&a!==3){var o=new W5(n);o.ok&&(o.alpha=t.getNumber(),n=o.toRGBA())}return new dn(this.document,this.name,n)}}dn.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};class RW{constructor(){this.viewPorts=[]}clear(){this.viewPorts=[]}setCurrent(t,n){this.viewPorts.push({width:t,height:n})}removeCurrent(){this.viewPorts.pop()}getCurrent(){var{viewPorts:t}=this;return t[t.length-1]}get width(){return this.getCurrent().width}get height(){return this.getCurrent().height}computeSize(t){return typeof t=="number"?t:t==="x"?this.width:t==="y"?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}}class Yi{constructor(t,n){this.x=t,this.y=n}static parse(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,[s=n,a=n]=$l(t);return new Yi(s,a)}static parseScale(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,[s=n,a=s]=$l(t);return new Yi(s,a)}static parsePath(t){for(var n=$l(t),s=n.length,a=[],i=0;i<s;i+=2)a.push(new Yi(n[i],n[i+1]));return a}angleTo(t){return Math.atan2(t.y-this.y,t.x-this.x)}applyTransform(t){var{x:n,y:s}=this,a=n*t[0]+s*t[2]+t[4],i=n*t[1]+s*t[3]+t[5];this.x=a,this.y=i}}class OW{constructor(t){this.screen=t,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}isWorking(){return this.working}start(){if(!this.working){var{screen:t,onClick:n,onMouseMove:s}=this,a=t.ctx.canvas;a.onclick=n,a.onmousemove=s,this.working=!0}}stop(){if(this.working){var t=this.screen.ctx.canvas;this.working=!1,t.onclick=null,t.onmousemove=null}}hasEvents(){return this.working&&this.events.length>0}runEvents(){if(this.working){var{screen:t,events:n,eventElements:s}=this,{style:a}=t.ctx.canvas;a&&(a.cursor=""),n.forEach((i,o)=>{for(var{run:l}=i,c=s[o];c;)l(c),c=c.parent}),this.events=[],this.eventElements=[]}}checkPath(t,n){if(!(!this.working||!n)){var{events:s,eventElements:a}=this;s.forEach((i,o)=>{var{x:l,y:c}=i;!a[o]&&n.isPointInPath&&n.isPointInPath(l,c)&&(a[o]=t)})}}checkBoundingBox(t,n){if(!(!this.working||!n)){var{events:s,eventElements:a}=this;s.forEach((i,o)=>{var{x:l,y:c}=i;!a[o]&&n.isPointInBox(l,c)&&(a[o]=t)})}}mapXY(t,n){for(var{window:s,ctx:a}=this.screen,i=new Yi(t,n),o=a.canvas;o;)i.x-=o.offsetLeft,i.y-=o.offsetTop,o=o.offsetParent;return s.scrollX&&(i.x+=s.scrollX),s.scrollY&&(i.y+=s.scrollY),i}onClick(t){var{x:n,y:s}=this.mapXY(t.clientX,t.clientY);this.events.push({type:"onclick",x:n,y:s,run(a){a.onClick&&a.onClick()}})}onMouseMove(t){var{x:n,y:s}=this.mapXY(t.clientX,t.clientY);this.events.push({type:"onmousemove",x:n,y:s,run(a){a.onMouseMove&&a.onMouseMove()}})}}var MW=typeof window<"u"?window:null,UW=typeof fetch<"u"?fetch.bind(void 0):null;class tv{constructor(t){var{fetch:n=UW,window:s=MW}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.ctx=t,this.FRAMERATE=30,this.MAX_VIRTUAL_PIXELS=3e4,this.CLIENT_WIDTH=800,this.CLIENT_HEIGHT=600,this.viewPort=new RW,this.mouse=new OW(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=s,this.fetch=n}wait(t){this.waits.push(t)}ready(){return this.readyPromise?this.readyPromise:Promise.resolve()}isReady(){if(this.isReadyLock)return!0;var t=this.waits.every(n=>n());return t&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=t,t}setDefaults(t){t.strokeStyle="rgba(0,0,0,0)",t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4}setViewBox(t){var{document:n,ctx:s,aspectRatio:a,width:i,desiredWidth:o,height:l,desiredHeight:c,minX:d=0,minY:u=0,refX:f,refY:v,clip:g=!1,clipX:w=0,clipY:y=0}=t,b=Bf(a).replace(/^defer\s/,""),[x,N]=b.split(" "),S=x||"xMidYMid",k=N||"meet",F=i/o,$=l/c,U=Math.min(F,$),D=Math.max(F,$),H=o,K=c;k==="meet"&&(H*=U,K*=U),k==="slice"&&(H*=D,K*=D);var B=new dn(n,"refX",f),R=new dn(n,"refY",v),Z=B.hasValue()&&R.hasValue();if(Z&&s.translate(-U*B.getPixels("x"),-U*R.getPixels("y")),g){var te=U*w,ye=U*y;s.beginPath(),s.moveTo(te,ye),s.lineTo(i,ye),s.lineTo(i,l),s.lineTo(te,l),s.closePath(),s.clip()}if(!Z){var de=k==="meet"&&U===$,le=k==="slice"&&D===$,Q=k==="meet"&&U===F,oe=k==="slice"&&D===F;S.startsWith("xMid")&&(de||le)&&s.translate(i/2-H/2,0),S.endsWith("YMid")&&(Q||oe)&&s.translate(0,l/2-K/2),S.startsWith("xMax")&&(de||le)&&s.translate(i-H,0),S.endsWith("YMax")&&(Q||oe)&&s.translate(0,l-K)}switch(!0){case S==="none":s.scale(F,$);break;case k==="meet":s.scale(U,U);break;case k==="slice":s.scale(D,D);break}s.translate(-d,-u)}start(t){var{enableRedraw:n=!1,ignoreMouse:s=!1,ignoreAnimation:a=!1,ignoreDimensions:i=!1,ignoreClear:o=!1,forceRedraw:l,scaleWidth:c,scaleHeight:d,offsetX:u,offsetY:f}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{FRAMERATE:v,mouse:g}=this,w=1e3/v;if(this.frameDuration=w,this.readyPromise=new Promise(S=>{this.resolveReady=S}),this.isReady()&&this.render(t,i,o,c,d,u,f),!!n){var y=Date.now(),b=y,x=0,N=()=>{y=Date.now(),x=y-b,x>=w&&(b=y-x%w,this.shouldUpdate(a,l)&&(this.render(t,i,o,c,d,u,f),g.runEvents())),this.intervalId=GC(N)};s||g.start(),this.intervalId=GC(N)}}stop(){this.intervalId&&(GC.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}shouldUpdate(t,n){if(!t){var{frameDuration:s}=this,a=this.animations.reduce((i,o)=>o.update(s)||i,!1);if(a)return!0}return!!(typeof n=="function"&&n()||!this.isReadyLock&&this.isReady()||this.mouse.hasEvents())}render(t,n,s,a,i,o,l){var{CLIENT_WIDTH:c,CLIENT_HEIGHT:d,viewPort:u,ctx:f,isFirstRender:v}=this,g=f.canvas;u.clear(),g.width&&g.height?u.setCurrent(g.width,g.height):u.setCurrent(c,d);var w=t.getStyle("width"),y=t.getStyle("height");!n&&(v||typeof a!="number"&&typeof i!="number")&&(w.hasValue()&&(g.width=w.getPixels("x"),g.style&&(g.style.width="".concat(g.width,"px"))),y.hasValue()&&(g.height=y.getPixels("y"),g.style&&(g.style.height="".concat(g.height,"px"))));var b=g.clientWidth||g.width,x=g.clientHeight||g.height;if(n&&w.hasValue()&&y.hasValue()&&(b=w.getPixels("x"),x=y.getPixels("y")),u.setCurrent(b,x),typeof o=="number"&&t.getAttribute("x",!0).setValue(o),typeof l=="number"&&t.getAttribute("y",!0).setValue(l),typeof a=="number"||typeof i=="number"){var N=$l(t.getAttribute("viewBox").getString()),S=0,k=0;if(typeof a=="number"){var F=t.getStyle("width");F.hasValue()?S=F.getPixels("x")/a:isNaN(N[2])||(S=N[2]/a)}if(typeof i=="number"){var $=t.getStyle("height");$.hasValue()?k=$.getPixels("y")/i:isNaN(N[3])||(k=N[3]/i)}S||(S=k),k||(k=S),t.getAttribute("width",!0).setValue(a),t.getAttribute("height",!0).setValue(i);var U=t.getStyle("transform",!0,!0);U.setValue("".concat(U.getString()," scale(").concat(1/S,", ").concat(1/k,")"))}s||f.clearRect(0,0,b,x),t.render(f),v&&(this.isFirstRender=!1)}}tv.defaultWindow=MW;tv.defaultFetch=UW;var{defaultFetch:G_e}=tv,q_e=typeof DOMParser<"u"?DOMParser:null;class hy{constructor(){var{fetch:t=G_e,DOMParser:n=q_e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fetch=t,this.DOMParser=n}parse(t){var n=this;return AA(function*(){return t.startsWith("<")?n.parseFromString(t):n.load(t)})()}parseFromString(t){var n=new this.DOMParser;try{return this.checkDocument(n.parseFromString(t,"image/svg+xml"))}catch{return this.checkDocument(n.parseFromString(t,"text/xml"))}}checkDocument(t){var n=t.getElementsByTagName("parsererror")[0];if(n)throw new Error(n.textContent);return t}load(t){var n=this;return AA(function*(){var s=yield n.fetch(t),a=yield s.text();return n.parseFromString(a)})()}}class QW{constructor(t,n){this.type="translate",this.point=null,this.point=Yi.parse(n)}apply(t){var{x:n,y:s}=this.point;t.translate(n||0,s||0)}unapply(t){var{x:n,y:s}=this.point;t.translate(-1*n||0,-1*s||0)}applyToPoint(t){var{x:n,y:s}=this.point;t.applyTransform([1,0,0,1,n||0,s||0])}}class HW{constructor(t,n,s){this.type="rotate",this.angle=null,this.originX=null,this.originY=null,this.cx=0,this.cy=0;var a=$l(n);this.angle=new dn(t,"angle",a[0]),this.originX=s[0],this.originY=s[1],this.cx=a[1]||0,this.cy=a[2]||0}apply(t){var{cx:n,cy:s,originX:a,originY:i,angle:o}=this,l=n+a.getPixels("x"),c=s+i.getPixels("y");t.translate(l,c),t.rotate(o.getRadians()),t.translate(-l,-c)}unapply(t){var{cx:n,cy:s,originX:a,originY:i,angle:o}=this,l=n+a.getPixels("x"),c=s+i.getPixels("y");t.translate(l,c),t.rotate(-1*o.getRadians()),t.translate(-l,-c)}applyToPoint(t){var{cx:n,cy:s,angle:a}=this,i=a.getRadians();t.applyTransform([1,0,0,1,n||0,s||0]),t.applyTransform([Math.cos(i),Math.sin(i),-Math.sin(i),Math.cos(i),0,0]),t.applyTransform([1,0,0,1,-n||0,-s||0])}}class zW{constructor(t,n,s){this.type="scale",this.scale=null,this.originX=null,this.originY=null;var a=Yi.parseScale(n);(a.x===0||a.y===0)&&(a.x=hf,a.y=hf),this.scale=a,this.originX=s[0],this.originY=s[1]}apply(t){var{scale:{x:n,y:s},originX:a,originY:i}=this,o=a.getPixels("x"),l=i.getPixels("y");t.translate(o,l),t.scale(n,s||n),t.translate(-o,-l)}unapply(t){var{scale:{x:n,y:s},originX:a,originY:i}=this,o=a.getPixels("x"),l=i.getPixels("y");t.translate(o,l),t.scale(1/n,1/s||n),t.translate(-o,-l)}applyToPoint(t){var{x:n,y:s}=this.scale;t.applyTransform([n||0,0,0,s||0,0,0])}}class qB{constructor(t,n,s){this.type="matrix",this.matrix=[],this.originX=null,this.originY=null,this.matrix=$l(n),this.originX=s[0],this.originY=s[1]}apply(t){var{originX:n,originY:s,matrix:a}=this,i=n.getPixels("x"),o=s.getPixels("y");t.translate(i,o),t.transform(a[0],a[1],a[2],a[3],a[4],a[5]),t.translate(-i,-o)}unapply(t){var{originX:n,originY:s,matrix:a}=this,i=a[0],o=a[2],l=a[4],c=a[1],d=a[3],u=a[5],f=0,v=0,g=1,w=1/(i*(d*g-u*v)-o*(c*g-u*f)+l*(c*v-d*f)),y=n.getPixels("x"),b=s.getPixels("y");t.translate(y,b),t.transform(w*(d*g-u*v),w*(u*f-c*g),w*(l*v-o*g),w*(i*g-l*f),w*(o*u-l*d),w*(l*c-i*u)),t.translate(-y,-b)}applyToPoint(t){t.applyTransform(this.matrix)}}class JB extends qB{constructor(t,n,s){super(t,n,s),this.type="skew",this.angle=null,this.angle=new dn(t,"angle",n)}}class VW extends JB{constructor(t,n,s){super(t,n,s),this.type="skewX",this.matrix=[1,0,Math.tan(this.angle.getRadians()),1,0,0]}}class KW extends JB{constructor(t,n,s){super(t,n,s),this.type="skewY",this.matrix=[1,Math.tan(this.angle.getRadians()),0,1,0,0]}}function J_e(e){return Bf(e).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}function Y_e(e){var[t,n]=e.split("(");return[t.trim(),n.trim().replace(")","")]}class yh{constructor(t,n,s){this.document=t,this.transforms=[];var a=J_e(n);a.forEach(i=>{if(i!=="none"){var[o,l]=Y_e(i),c=yh.transformTypes[o];typeof c<"u"&&this.transforms.push(new c(this.document,l,s))}})}static fromElement(t,n){var s=n.getStyle("transform",!1,!0),[a,i=a]=n.getStyle("transform-origin",!1,!0).split(),o=[a,i];return s.hasValue()?new yh(t,s.getString(),o):null}apply(t){for(var{transforms:n}=this,s=n.length,a=0;a<s;a++)n[a].apply(t)}unapply(t){for(var{transforms:n}=this,s=n.length,a=s-1;a>=0;a--)n[a].unapply(t)}applyToPoint(t){for(var{transforms:n}=this,s=n.length,a=0;a<s;a++)n[a].applyToPoint(t)}}yh.transformTypes={translate:QW,rotate:HW,scale:zW,matrix:qB,skewX:VW,skewY:KW};let Ui=class nS{constructor(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this.document=t,this.node=n,this.captureTextNodes=s,this.attributes=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],!(!n||n.nodeType!==1)){if(Array.from(n.attributes).forEach(l=>{var c=DW(l.nodeName);this.attributes[c]=new dn(t,c,l.value)}),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()){var a=this.getAttribute("style").getString().split(";").map(l=>l.trim());a.forEach(l=>{if(l){var[c,d]=l.split(":").map(u=>u.trim());this.styles[c]=new dn(t,c,d)}})}var{definitions:i}=t,o=this.getAttribute("id");o.hasValue()&&(i[o.getString()]||(i[o.getString()]=this)),Array.from(n.childNodes).forEach(l=>{if(l.nodeType===1)this.addChild(l);else if(s&&(l.nodeType===3||l.nodeType===4)){var c=t.createTextNode(l);c.getText().length>0&&this.addChild(c)}})}}getAttribute(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=this.attributes[t];if(!s&&n){var a=new dn(this.document,t,"");return this.attributes[t]=a,a}return s||dn.empty(this.document)}getHrefAttribute(){for(var t in this.attributes)if(t==="href"||t.endsWith(":href"))return this.attributes[t];return dn.empty(this.document)}getStyle(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=this.styles[t];if(a)return a;var i=this.getAttribute(t);if(i!=null&&i.hasValue())return this.styles[t]=i,i;if(!s){var{parent:o}=this;if(o){var l=o.getStyle(t);if(l!=null&&l.hasValue())return l}}if(n){var c=new dn(this.document,t,"");return this.styles[t]=c,c}return a||dn.empty(this.document)}render(t){if(!(this.getStyle("display").getString()==="none"||this.getStyle("visibility").getString()==="hidden")){if(t.save(),this.getStyle("mask").hasValue()){var n=this.getStyle("mask").getDefinition();n&&(this.applyEffects(t),n.apply(t,this))}else if(this.getStyle("filter").getValue("none")!=="none"){var s=this.getStyle("filter").getDefinition();s&&(this.applyEffects(t),s.apply(t,this))}else this.setContext(t),this.renderChildren(t),this.clearContext(t);t.restore()}}setContext(t){}applyEffects(t){var n=yh.fromElement(this.document,this);n&&n.apply(t);var s=this.getStyle("clip-path",!1,!0);if(s.hasValue()){var a=s.getDefinition();a&&a.apply(t)}}clearContext(t){}renderChildren(t){this.children.forEach(n=>{n.render(t)})}addChild(t){var n=t instanceof nS?t:this.document.createElement(t);n.parent=this,nS.ignoreChildTypes.includes(n.type)||this.children.push(n)}matchesSelector(t){var n,{node:s}=this;if(typeof s.matches=="function")return s.matches(t);var a=(n=s.getAttribute)===null||n===void 0?void 0:n.call(s,"class");return!a||a===""?!1:a.split(" ").some(i=>".".concat(i)===t)}addStylesFromStyleDefinition(){var{styles:t,stylesSpecificity:n}=this.document;for(var s in t)if(!s.startsWith("@")&&this.matchesSelector(s)){var a=t[s],i=n[s];if(a)for(var o in a){var l=this.stylesSpecificity[o];typeof l>"u"&&(l="000"),i>=l&&(this.styles[o]=a[o],this.stylesSpecificity[o]=i)}}}removeStyles(t,n){var s=n.reduce((a,i)=>{var o=t.getStyle(i);if(!o.hasValue())return a;var l=o.getString();return o.setValue(""),[...a,[i,l]]},[]);return s}restoreStyles(t,n){n.forEach(s=>{var[a,i]=s;t.getStyle(a,!0).setValue(i)})}isFirstChild(){var t;return((t=this.parent)===null||t===void 0?void 0:t.children.indexOf(this))===0}};Ui.ignoreChildTypes=["title"];class WW extends Ui{constructor(t,n,s){super(t,n,s)}}function X_e(e){var t=e.trim();return/^('|")/.test(t)?t:'"'.concat(t,'"')}function Z_e(e){return typeof process>"u"?e:e.trim().split(",").map(X_e).join(",")}function e5e(e){if(!e)return"";var t=e.trim().toLowerCase();switch(t){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return t;default:return/^oblique\s+(-|)\d+deg$/.test(t)?t:""}}function t5e(e){if(!e)return"";var t=e.trim().toLowerCase();switch(t){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return t;default:return/^[\d.]+$/.test(t)?t:""}}class el{constructor(t,n,s,a,i,o){var l=o?typeof o=="string"?el.parse(o):o:{};this.fontFamily=i||l.fontFamily,this.fontSize=a||l.fontSize,this.fontStyle=t||l.fontStyle,this.fontWeight=s||l.fontWeight,this.fontVariant=n||l.fontVariant}static parse(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,s="",a="",i="",o="",l="",c=Bf(t).trim().split(" "),d={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return c.forEach(u=>{switch(!0){case(!d.fontStyle&&el.styles.includes(u)):u!=="inherit"&&(s=u),d.fontStyle=!0;break;case(!d.fontVariant&&el.variants.includes(u)):u!=="inherit"&&(a=u),d.fontStyle=!0,d.fontVariant=!0;break;case(!d.fontWeight&&el.weights.includes(u)):u!=="inherit"&&(i=u),d.fontStyle=!0,d.fontVariant=!0,d.fontWeight=!0;break;case!d.fontSize:u!=="inherit"&&([o]=u.split("/")),d.fontStyle=!0,d.fontVariant=!0,d.fontWeight=!0,d.fontSize=!0;break;default:u!=="inherit"&&(l+=u)}}),new el(s,a,i,o,l,n)}toString(){return[e5e(this.fontStyle),this.fontVariant,t5e(this.fontWeight),this.fontSize,Z_e(this.fontFamily)].join(" ").trim()}}el.styles="normal|italic|oblique|inherit";el.variants="normal|small-caps|inherit";el.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";class Wc{constructor(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Number.NaN,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.NaN,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Number.NaN,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Number.NaN;this.x1=t,this.y1=n,this.x2=s,this.y2=a,this.addPoint(t,n),this.addPoint(s,a)}get x(){return this.x1}get y(){return this.y1}get width(){return this.x2-this.x1}get height(){return this.y2-this.y1}addPoint(t,n){typeof t<"u"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),typeof n<"u"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=n,this.y2=n),n<this.y1&&(this.y1=n),n>this.y2&&(this.y2=n))}addX(t){this.addPoint(t,null)}addY(t){this.addPoint(null,t)}addBoundingBox(t){if(t){var{x1:n,y1:s,x2:a,y2:i}=t;this.addPoint(n,s),this.addPoint(a,i)}}sumCubic(t,n,s,a,i){return Math.pow(1-t,3)*n+3*Math.pow(1-t,2)*t*s+3*(1-t)*Math.pow(t,2)*a+Math.pow(t,3)*i}bezierCurveAdd(t,n,s,a,i){var o=6*n-12*s+6*a,l=-3*n+9*s-9*a+3*i,c=3*s-3*n;if(l===0){if(o===0)return;var d=-c/o;0<d&&d<1&&(t?this.addX(this.sumCubic(d,n,s,a,i)):this.addY(this.sumCubic(d,n,s,a,i)));return}var u=Math.pow(o,2)-4*c*l;if(!(u<0)){var f=(-o+Math.sqrt(u))/(2*l);0<f&&f<1&&(t?this.addX(this.sumCubic(f,n,s,a,i)):this.addY(this.sumCubic(f,n,s,a,i)));var v=(-o-Math.sqrt(u))/(2*l);0<v&&v<1&&(t?this.addX(this.sumCubic(v,n,s,a,i)):this.addY(this.sumCubic(v,n,s,a,i)))}}addBezierCurve(t,n,s,a,i,o,l,c){this.addPoint(t,n),this.addPoint(l,c),this.bezierCurveAdd(!0,t,s,i,l),this.bezierCurveAdd(!1,n,a,o,c)}addQuadraticCurve(t,n,s,a,i,o){var l=t+.6666666666666666*(s-t),c=n+2/3*(a-n),d=l+1/3*(i-t),u=c+1/3*(o-n);this.addBezierCurve(t,n,l,d,c,u,i,o)}isPointInBox(t,n){var{x1:s,y1:a,x2:i,y2:o}=this;return s<=t&&t<=i&&a<=n&&n<=o}}class Wn extends sr{constructor(t){super(t.replace(/([+\-.])\s+/gm,"$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,"")),this.control=null,this.start=null,this.current=null,this.command=null,this.commands=this.commands,this.i=-1,this.previousCommand=null,this.points=[],this.angles=[]}reset(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new Yi(0,0),this.control=new Yi(0,0),this.current=new Yi(0,0),this.points=[],this.angles=[]}isEnd(){var{i:t,commands:n}=this;return t>=n.length-1}next(){var t=this.commands[++this.i];return this.previousCommand=this.command,this.command=t,t}getPoint(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"x",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"y",s=new Yi(this.command[t],this.command[n]);return this.makeAbsolute(s)}getAsControlPoint(t,n){var s=this.getPoint(t,n);return this.control=s,s}getAsCurrentPoint(t,n){var s=this.getPoint(t,n);return this.current=s,s}getReflectedControlPoint(){var t=this.previousCommand.type;if(t!==sr.CURVE_TO&&t!==sr.SMOOTH_CURVE_TO&&t!==sr.QUAD_TO&&t!==sr.SMOOTH_QUAD_TO)return this.current;var{current:{x:n,y:s},control:{x:a,y:i}}=this,o=new Yi(2*n-a,2*s-i);return o}makeAbsolute(t){if(this.command.relative){var{x:n,y:s}=this.current;t.x+=n,t.y+=s}return t}addMarker(t,n,s){var{points:a,angles:i}=this;s&&i.length>0&&!i[i.length-1]&&(i[i.length-1]=a[a.length-1].angleTo(s)),this.addMarkerAngle(t,n?n.angleTo(t):null)}addMarkerAngle(t,n){this.points.push(t),this.angles.push(n)}getMarkerPoints(){return this.points}getMarkerAngles(){for(var{angles:t}=this,n=t.length,s=0;s<n;s++)if(!t[s]){for(var a=s+1;a<n;a++)if(t[a]){t[s]=t[a];break}}return t}}class Ih extends Ui{constructor(){super(...arguments),this.modifiedEmSizeStack=!1}calculateOpacity(){for(var t=1,n=this;n;){var s=n.getStyle("opacity",!1,!0);s.hasValue(!0)&&(t*=s.getNumber()),n=n.parent}return t}setContext(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!n){var s=this.getStyle("fill"),a=this.getStyle("fill-opacity"),i=this.getStyle("stroke"),o=this.getStyle("stroke-opacity");if(s.isUrlDefinition()){var l=s.getFillStyleDefinition(this,a);l&&(t.fillStyle=l)}else if(s.hasValue()){s.getString()==="currentColor"&&s.setValue(this.getStyle("color").getColor());var c=s.getColor();c!=="inherit"&&(t.fillStyle=c==="none"?"rgba(0,0,0,0)":c)}if(a.hasValue()){var d=new dn(this.document,"fill",t.fillStyle).addOpacity(a).getColor();t.fillStyle=d}if(i.isUrlDefinition()){var u=i.getFillStyleDefinition(this,o);u&&(t.strokeStyle=u)}else if(i.hasValue()){i.getString()==="currentColor"&&i.setValue(this.getStyle("color").getColor());var f=i.getString();f!=="inherit"&&(t.strokeStyle=f==="none"?"rgba(0,0,0,0)":f)}if(o.hasValue()){var v=new dn(this.document,"stroke",t.strokeStyle).addOpacity(o).getString();t.strokeStyle=v}var g=this.getStyle("stroke-width");if(g.hasValue()){var w=g.getPixels();t.lineWidth=w||hf}var y=this.getStyle("stroke-linecap"),b=this.getStyle("stroke-linejoin"),x=this.getStyle("stroke-miterlimit"),N=this.getStyle("stroke-dasharray"),S=this.getStyle("stroke-dashoffset");if(y.hasValue()&&(t.lineCap=y.getString()),b.hasValue()&&(t.lineJoin=b.getString()),x.hasValue()&&(t.miterLimit=x.getNumber()),N.hasValue()&&N.getString()!=="none"){var k=$l(N.getString());typeof t.setLineDash<"u"?t.setLineDash(k):typeof t.webkitLineDash<"u"?t.webkitLineDash=k:typeof t.mozDash<"u"&&!(k.length===1&&k[0]===0)&&(t.mozDash=k);var F=S.getPixels();typeof t.lineDashOffset<"u"?t.lineDashOffset=F:typeof t.webkitLineDashOffset<"u"?t.webkitLineDashOffset=F:typeof t.mozDashOffset<"u"&&(t.mozDashOffset=F)}}if(this.modifiedEmSizeStack=!1,typeof t.font<"u"){var $=this.getStyle("font"),U=this.getStyle("font-style"),D=this.getStyle("font-variant"),H=this.getStyle("font-weight"),K=this.getStyle("font-size"),B=this.getStyle("font-family"),R=new el(U.getString(),D.getString(),H.getString(),K.hasValue()?"".concat(K.getPixels(!0),"px"):"",B.getString(),el.parse($.getString(),t.font));U.setValue(R.fontStyle),D.setValue(R.fontVariant),H.setValue(R.fontWeight),K.setValue(R.fontSize),B.setValue(R.fontFamily),t.font=R.toString(),K.isPixels()&&(this.document.emSize=K.getPixels(),this.modifiedEmSizeStack=!0)}n||(this.applyEffects(t),t.globalAlpha=this.calculateOpacity())}clearContext(t){super.clearContext(t),this.modifiedEmSizeStack&&this.document.popEmSize()}}class Us extends Ih{constructor(t,n,s){super(t,n,s),this.type="path",this.pathParser=null,this.pathParser=new Wn(this.getAttribute("d").getString())}path(t){var{pathParser:n}=this,s=new Wc;for(n.reset(),t&&t.beginPath();!n.isEnd();)switch(n.next().type){case Wn.MOVE_TO:this.pathM(t,s);break;case Wn.LINE_TO:this.pathL(t,s);break;case Wn.HORIZ_LINE_TO:this.pathH(t,s);break;case Wn.VERT_LINE_TO:this.pathV(t,s);break;case Wn.CURVE_TO:this.pathC(t,s);break;case Wn.SMOOTH_CURVE_TO:this.pathS(t,s);break;case Wn.QUAD_TO:this.pathQ(t,s);break;case Wn.SMOOTH_QUAD_TO:this.pathT(t,s);break;case Wn.ARC:this.pathA(t,s);break;case Wn.CLOSE_PATH:this.pathZ(t,s);break}return s}getBoundingBox(t){return this.path()}getMarkers(){var{pathParser:t}=this,n=t.getMarkerPoints(),s=t.getMarkerAngles(),a=n.map((i,o)=>[i,s[o]]);return a}renderChildren(t){this.path(t),this.document.screen.mouse.checkPath(this,t);var n=this.getStyle("fill-rule");t.fillStyle!==""&&(n.getString("inherit")!=="inherit"?t.fill(n.getString()):t.fill()),t.strokeStyle!==""&&(this.getAttribute("vector-effect").getString()==="non-scaling-stroke"?(t.save(),t.setTransform(1,0,0,1,0,0),t.stroke(),t.restore()):t.stroke());var s=this.getMarkers();if(s){var a=s.length-1,i=this.getStyle("marker-start"),o=this.getStyle("marker-mid"),l=this.getStyle("marker-end");if(i.isUrlDefinition()){var c=i.getDefinition(),[d,u]=s[0];c.render(t,d,u)}if(o.isUrlDefinition())for(var f=o.getDefinition(),v=1;v<a;v++){var[g,w]=s[v];f.render(t,g,w)}if(l.isUrlDefinition()){var y=l.getDefinition(),[b,x]=s[a];y.render(t,b,x)}}}static pathM(t){var n=t.getAsCurrentPoint();return t.start=t.current,{point:n}}pathM(t,n){var{pathParser:s}=this,{point:a}=Us.pathM(s),{x:i,y:o}=a;s.addMarker(a),n.addPoint(i,o),t&&t.moveTo(i,o)}static pathL(t){var{current:n}=t,s=t.getAsCurrentPoint();return{current:n,point:s}}pathL(t,n){var{pathParser:s}=this,{current:a,point:i}=Us.pathL(s),{x:o,y:l}=i;s.addMarker(i,a),n.addPoint(o,l),t&&t.lineTo(o,l)}static pathH(t){var{current:n,command:s}=t,a=new Yi((s.relative?n.x:0)+s.x,n.y);return t.current=a,{current:n,point:a}}pathH(t,n){var{pathParser:s}=this,{current:a,point:i}=Us.pathH(s),{x:o,y:l}=i;s.addMarker(i,a),n.addPoint(o,l),t&&t.lineTo(o,l)}static pathV(t){var{current:n,command:s}=t,a=new Yi(n.x,(s.relative?n.y:0)+s.y);return t.current=a,{current:n,point:a}}pathV(t,n){var{pathParser:s}=this,{current:a,point:i}=Us.pathV(s),{x:o,y:l}=i;s.addMarker(i,a),n.addPoint(o,l),t&&t.lineTo(o,l)}static pathC(t){var{current:n}=t,s=t.getPoint("x1","y1"),a=t.getAsControlPoint("x2","y2"),i=t.getAsCurrentPoint();return{current:n,point:s,controlPoint:a,currentPoint:i}}pathC(t,n){var{pathParser:s}=this,{current:a,point:i,controlPoint:o,currentPoint:l}=Us.pathC(s);s.addMarker(l,o,i),n.addBezierCurve(a.x,a.y,i.x,i.y,o.x,o.y,l.x,l.y),t&&t.bezierCurveTo(i.x,i.y,o.x,o.y,l.x,l.y)}static pathS(t){var{current:n}=t,s=t.getReflectedControlPoint(),a=t.getAsControlPoint("x2","y2"),i=t.getAsCurrentPoint();return{current:n,point:s,controlPoint:a,currentPoint:i}}pathS(t,n){var{pathParser:s}=this,{current:a,point:i,controlPoint:o,currentPoint:l}=Us.pathS(s);s.addMarker(l,o,i),n.addBezierCurve(a.x,a.y,i.x,i.y,o.x,o.y,l.x,l.y),t&&t.bezierCurveTo(i.x,i.y,o.x,o.y,l.x,l.y)}static pathQ(t){var{current:n}=t,s=t.getAsControlPoint("x1","y1"),a=t.getAsCurrentPoint();return{current:n,controlPoint:s,currentPoint:a}}pathQ(t,n){var{pathParser:s}=this,{current:a,controlPoint:i,currentPoint:o}=Us.pathQ(s);s.addMarker(o,i,i),n.addQuadraticCurve(a.x,a.y,i.x,i.y,o.x,o.y),t&&t.quadraticCurveTo(i.x,i.y,o.x,o.y)}static pathT(t){var{current:n}=t,s=t.getReflectedControlPoint();t.control=s;var a=t.getAsCurrentPoint();return{current:n,controlPoint:s,currentPoint:a}}pathT(t,n){var{pathParser:s}=this,{current:a,controlPoint:i,currentPoint:o}=Us.pathT(s);s.addMarker(o,i,i),n.addQuadraticCurve(a.x,a.y,i.x,i.y,o.x,o.y),t&&t.quadraticCurveTo(i.x,i.y,o.x,o.y)}static pathA(t){var{current:n,command:s}=t,{rX:a,rY:i,xRot:o,lArcFlag:l,sweepFlag:c}=s,d=o*(Math.PI/180),u=t.getAsCurrentPoint(),f=new Yi(Math.cos(d)*(n.x-u.x)/2+Math.sin(d)*(n.y-u.y)/2,-Math.sin(d)*(n.x-u.x)/2+Math.cos(d)*(n.y-u.y)/2),v=Math.pow(f.x,2)/Math.pow(a,2)+Math.pow(f.y,2)/Math.pow(i,2);v>1&&(a*=Math.sqrt(v),i*=Math.sqrt(v));var g=(l===c?-1:1)*Math.sqrt((Math.pow(a,2)*Math.pow(i,2)-Math.pow(a,2)*Math.pow(f.y,2)-Math.pow(i,2)*Math.pow(f.x,2))/(Math.pow(a,2)*Math.pow(f.y,2)+Math.pow(i,2)*Math.pow(f.x,2)));isNaN(g)&&(g=0);var w=new Yi(g*a*f.y/i,g*-i*f.x/a),y=new Yi((n.x+u.x)/2+Math.cos(d)*w.x-Math.sin(d)*w.y,(n.y+u.y)/2+Math.sin(d)*w.x+Math.cos(d)*w.y),b=q5([1,0],[(f.x-w.x)/a,(f.y-w.y)/i]),x=[(f.x-w.x)/a,(f.y-w.y)/i],N=[(-f.x-w.x)/a,(-f.y-w.y)/i],S=q5(x,N);return i1(x,N)<=-1&&(S=Math.PI),i1(x,N)>=1&&(S=0),{currentPoint:u,rX:a,rY:i,sweepFlag:c,xAxisRotation:d,centp:y,a1:b,ad:S}}pathA(t,n){var{pathParser:s}=this,{currentPoint:a,rX:i,rY:o,sweepFlag:l,xAxisRotation:c,centp:d,a1:u,ad:f}=Us.pathA(s),v=1-l?1:-1,g=u+v*(f/2),w=new Yi(d.x+i*Math.cos(g),d.y+o*Math.sin(g));if(s.addMarkerAngle(w,g-v*Math.PI/2),s.addMarkerAngle(a,g-v*Math.PI),n.addPoint(a.x,a.y),t&&!isNaN(u)&&!isNaN(f)){var y=i>o?i:o,b=i>o?1:i/o,x=i>o?o/i:1;t.translate(d.x,d.y),t.rotate(c),t.scale(b,x),t.arc(0,0,y,u,u+f,!!(1-l)),t.scale(1/b,1/x),t.rotate(-c),t.translate(-d.x,-d.y)}}static pathZ(t){t.current=t.start}pathZ(t,n){Us.pathZ(this.pathParser),t&&n.x1!==n.x2&&n.y1!==n.y2&&t.closePath()}}class YB extends Us{constructor(t,n,s){super(t,n,s),this.type="glyph",this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber(),this.unicode=this.getAttribute("unicode").getString(),this.arabicForm=this.getAttribute("arabic-form").getString()}}class hA extends Ih{constructor(t,n,s){super(t,n,new.target===hA?!0:s),this.type="text",this.x=0,this.y=0,this.measureCache=-1}setContext(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super.setContext(t,n);var s=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();s&&(t.textBaseline=s)}initializeCoordinates(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}getBoundingBox(t){if(this.type!=="text")return this.getTElementBoundingBox(t);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(t);var n=null;return this.children.forEach((s,a)=>{var i=this.getChildBoundingBox(t,this,this,a);n?n.addBoundingBox(i):n=i}),n}getFontSize(){var{document:t,parent:n}=this,s=el.parse(t.ctx.font).fontSize,a=n.getStyle("font-size").getNumber(s);return a}getTElementBoundingBox(t){var n=this.getFontSize();return new Wc(this.x,this.y-n,this.x+this.measureText(t),this.y)}getGlyph(t,n,s){var a=n[s],i=null;if(t.isArabic){var o=n.length,l=n[s-1],c=n[s+1],d="isolated";if((s===0||l===" ")&&s<o-1&&c!==" "&&(d="terminal"),s>0&&l!==" "&&s<o-1&&c!==" "&&(d="medial"),s>0&&l!==" "&&(s===o-1||c===" ")&&(d="initial"),typeof t.glyphs[a]<"u"){var u=t.glyphs[a];i=u instanceof YB?u:u[d]}}else i=t.glyphs[a];return i||(i=t.missingGlyph),i}getText(){return""}getTextFromNode(t){var n=t||this.node,s=Array.from(n.parentNode.childNodes),a=s.indexOf(n),i=s.length-1,o=Bf(n.textContent||"");return a===0&&(o=kW(o)),a===i&&(o=PW(o)),o}renderChildren(t){if(this.type!=="text"){this.renderTElementChildren(t);return}this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(t),this.children.forEach((s,a)=>{this.renderChild(t,this,this,a)});var{mouse:n}=this.document.screen;n.isWorking()&&n.checkBoundingBox(this,this.getBoundingBox(t))}renderTElementChildren(t){var{document:n,parent:s}=this,a=this.getText(),i=s.getStyle("font-family").getDefinition();if(i){for(var{unitsPerEm:o}=i.fontFace,l=el.parse(n.ctx.font),c=s.getStyle("font-size").getNumber(l.fontSize),d=s.getStyle("font-style").getString(l.fontStyle),u=c/o,f=i.isRTL?a.split("").reverse().join(""):a,v=$l(s.getAttribute("dx").getString()),g=f.length,w=0;w<g;w++){var y=this.getGlyph(i,f,w);t.translate(this.x,this.y),t.scale(u,-u);var b=t.lineWidth;t.lineWidth=t.lineWidth*o/c,d==="italic"&&t.transform(1,0,.4,1,0,0),y.render(t),d==="italic"&&t.transform(1,0,-.4,1,0,0),t.lineWidth=b,t.scale(1/u,-1/u),t.translate(-this.x,-this.y),this.x+=c*(y.horizAdvX||i.horizAdvX)/o,typeof v[w]<"u"&&!isNaN(v[w])&&(this.x+=v[w])}return}var{x,y:N}=this;t.fillStyle&&t.fillText(a,x,N),t.strokeStyle&&t.strokeText(a,x,N)}applyAnchoring(){if(!(this.textChunkStart>=this.leafTexts.length)){var t=this.leafTexts[this.textChunkStart],n=t.getStyle("text-anchor").getString("start"),s=!1,a=0;n==="start"||n==="end"&&s?a=t.x-this.minX:n==="end"||n==="start"&&s?a=t.x-this.maxX:a=t.x-(this.minX+this.maxX)/2;for(var i=this.textChunkStart;i<this.leafTexts.length;i++)this.leafTexts[i].x+=a;this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}}adjustChildCoordinatesRecursive(t){this.children.forEach((n,s)=>{this.adjustChildCoordinatesRecursiveCore(t,this,this,s)}),this.applyAnchoring()}adjustChildCoordinatesRecursiveCore(t,n,s,a){var i=s.children[a];i.children.length>0?i.children.forEach((o,l)=>{n.adjustChildCoordinatesRecursiveCore(t,n,i,l)}):this.adjustChildCoordinates(t,n,s,a)}adjustChildCoordinates(t,n,s,a){var i=s.children[a];if(typeof i.measureText!="function")return i;t.save(),i.setContext(t,!0);var o=i.getAttribute("x"),l=i.getAttribute("y"),c=i.getAttribute("dx"),d=i.getAttribute("dy"),u=i.getStyle("font-family").getDefinition(),f=!!u&&u.isRTL;a===0&&(o.hasValue()||o.setValue(i.getInheritedAttribute("x")),l.hasValue()||l.setValue(i.getInheritedAttribute("y")),c.hasValue()||c.setValue(i.getInheritedAttribute("dx")),d.hasValue()||d.setValue(i.getInheritedAttribute("dy")));var v=i.measureText(t);return f&&(n.x-=v),o.hasValue()?(n.applyAnchoring(),i.x=o.getPixels("x"),c.hasValue()&&(i.x+=c.getPixels("x"))):(c.hasValue()&&(n.x+=c.getPixels("x")),i.x=n.x),n.x=i.x,f||(n.x+=v),l.hasValue()?(i.y=l.getPixels("y"),d.hasValue()&&(i.y+=d.getPixels("y"))):(d.hasValue()&&(n.y+=d.getPixels("y")),i.y=n.y),n.y=i.y,n.leafTexts.push(i),n.minX=Math.min(n.minX,i.x,i.x+v),n.maxX=Math.max(n.maxX,i.x,i.x+v),i.clearContext(t),t.restore(),i}getChildBoundingBox(t,n,s,a){var i=s.children[a];if(typeof i.getBoundingBox!="function")return null;var o=i.getBoundingBox(t);return o?(i.children.forEach((l,c)=>{var d=n.getChildBoundingBox(t,n,i,c);o.addBoundingBox(d)}),o):null}renderChild(t,n,s,a){var i=s.children[a];i.render(t),i.children.forEach((o,l)=>{n.renderChild(t,n,i,l)})}measureText(t){var{measureCache:n}=this;if(~n)return n;var s=this.getText(),a=this.measureTargetText(t,s);return this.measureCache=a,a}measureTargetText(t,n){if(!n.length)return 0;var{parent:s}=this,a=s.getStyle("font-family").getDefinition();if(a){for(var i=this.getFontSize(),o=a.isRTL?n.split("").reverse().join(""):n,l=$l(s.getAttribute("dx").getString()),c=o.length,d=0,u=0;u<c;u++){var f=this.getGlyph(a,o,u);d+=(f.horizAdvX||a.horizAdvX)*i/a.fontFace.unitsPerEm,typeof l[u]<"u"&&!isNaN(l[u])&&(d+=l[u])}return d}if(!t.measureText)return n.length*10;t.save(),this.setContext(t,!0);var{width:v}=t.measureText(n);return this.clearContext(t),t.restore(),v}getInheritedAttribute(t){for(var n=this;n instanceof hA&&n.isFirstChild();){var s=n.parent.getAttribute(t);if(s.hasValue(!0))return s.getValue("0");n=n.parent}return null}}class rv extends hA{constructor(t,n,s){super(t,n,new.target===rv?!0:s),this.type="tspan",this.text=this.children.length>0?"":this.getTextFromNode()}getText(){return this.text}}class r5e extends rv{constructor(){super(...arguments),this.type="textNode"}}let xp=class extends Ih{constructor(){super(...arguments),this.type="svg",this.root=!1}setContext(t){var n,{document:s}=this,{screen:a,window:i}=s,o=t.canvas;if(a.setDefaults(t),o.style&&typeof t.font<"u"&&i&&typeof i.getComputedStyle<"u"){t.font=i.getComputedStyle(o).getPropertyValue("font");var l=new dn(s,"fontSize",el.parse(t.font).fontSize);l.hasValue()&&(s.rootEmSize=l.getPixels("y"),s.emSize=s.rootEmSize)}this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);var{width:c,height:d}=a.viewPort;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");var u=this.getAttribute("refX"),f=this.getAttribute("refY"),v=this.getAttribute("viewBox"),g=v.hasValue()?$l(v.getString()):null,w=!this.root&&this.getStyle("overflow").getValue("hidden")!=="visible",y=0,b=0,x=0,N=0;g&&(y=g[0],b=g[1]),this.root||(c=this.getStyle("width").getPixels("x"),d=this.getStyle("height").getPixels("y"),this.type==="marker"&&(x=y,N=b,y=0,b=0)),a.viewPort.setCurrent(c,d),this.node&&(!this.parent||((n=this.node.parentNode)===null||n===void 0?void 0:n.nodeName)==="foreignObject")&&this.getStyle("transform",!1,!0).hasValue()&&!this.getStyle("transform-origin",!1,!0).hasValue()&&this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),super.setContext(t),t.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),g&&(c=g[2],d=g[3]),s.setViewBox({ctx:t,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:a.viewPort.width,desiredWidth:c,height:a.viewPort.height,desiredHeight:d,minX:y,minY:b,refX:u.getValue(),refY:f.getValue(),clip:w,clipX:x,clipY:N}),g&&(a.viewPort.removeCurrent(),a.viewPort.setCurrent(c,d))}clearContext(t){super.clearContext(t),this.document.screen.viewPort.removeCurrent()}resize(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=this.getAttribute("width",!0),i=this.getAttribute("height",!0),o=this.getAttribute("viewBox"),l=this.getAttribute("style"),c=a.getNumber(0),d=i.getNumber(0);if(s)if(typeof s=="string")this.getAttribute("preserveAspectRatio",!0).setValue(s);else{var u=this.getAttribute("preserveAspectRatio");u.hasValue()&&u.setValue(u.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}if(a.setValue(t),i.setValue(n),o.hasValue()||o.setValue("0 0 ".concat(c||t," ").concat(d||n)),l.hasValue()){var f=this.getStyle("width"),v=this.getStyle("height");f.hasValue()&&f.setValue("".concat(t,"px")),v.hasValue()&&v.setValue("".concat(n,"px"))}}};class XB extends Us{constructor(){super(...arguments),this.type="rect"}path(t){var n=this.getAttribute("x").getPixels("x"),s=this.getAttribute("y").getPixels("y"),a=this.getStyle("width",!1,!0).getPixels("x"),i=this.getStyle("height",!1,!0).getPixels("y"),o=this.getAttribute("rx"),l=this.getAttribute("ry"),c=o.getPixels("x"),d=l.getPixels("y");if(o.hasValue()&&!l.hasValue()&&(d=c),l.hasValue()&&!o.hasValue()&&(c=d),c=Math.min(c,a/2),d=Math.min(d,i/2),t){var u=4*((Math.sqrt(2)-1)/3);t.beginPath(),i>0&&a>0&&(t.moveTo(n+c,s),t.lineTo(n+a-c,s),t.bezierCurveTo(n+a-c+u*c,s,n+a,s+d-u*d,n+a,s+d),t.lineTo(n+a,s+i-d),t.bezierCurveTo(n+a,s+i-d+u*d,n+a-c+u*c,s+i,n+a-c,s+i),t.lineTo(n+c,s+i),t.bezierCurveTo(n+c-u*c,s+i,n,s+i-d+u*d,n,s+i-d),t.lineTo(n,s+d),t.bezierCurveTo(n,s+d-u*d,n+c-u*c,s,n+c,s),t.closePath())}return new Wc(n,s,n+a,s+i)}getMarkers(){return null}}class $W extends Us{constructor(){super(...arguments),this.type="circle"}path(t){var n=this.getAttribute("cx").getPixels("x"),s=this.getAttribute("cy").getPixels("y"),a=this.getAttribute("r").getPixels();return t&&a>0&&(t.beginPath(),t.arc(n,s,a,0,Math.PI*2,!1),t.closePath()),new Wc(n-a,s-a,n+a,s+a)}getMarkers(){return null}}class GW extends Us{constructor(){super(...arguments),this.type="ellipse"}path(t){var n=4*((Math.sqrt(2)-1)/3),s=this.getAttribute("rx").getPixels("x"),a=this.getAttribute("ry").getPixels("y"),i=this.getAttribute("cx").getPixels("x"),o=this.getAttribute("cy").getPixels("y");return t&&s>0&&a>0&&(t.beginPath(),t.moveTo(i+s,o),t.bezierCurveTo(i+s,o+n*a,i+n*s,o+a,i,o+a),t.bezierCurveTo(i-n*s,o+a,i-s,o+n*a,i-s,o),t.bezierCurveTo(i-s,o-n*a,i-n*s,o-a,i,o-a),t.bezierCurveTo(i+n*s,o-a,i+s,o-n*a,i+s,o),t.closePath()),new Wc(i-s,o-a,i+s,o+a)}getMarkers(){return null}}class qW extends Us{constructor(){super(...arguments),this.type="line"}getPoints(){return[new Yi(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new Yi(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}path(t){var[{x:n,y:s},{x:a,y:i}]=this.getPoints();return t&&(t.beginPath(),t.moveTo(n,s),t.lineTo(a,i)),new Wc(n,s,a,i)}getMarkers(){var[t,n]=this.getPoints(),s=t.angleTo(n);return[[t,s],[n,s]]}}class ZB extends Us{constructor(t,n,s){super(t,n,s),this.type="polyline",this.points=[],this.points=Yi.parsePath(this.getAttribute("points").getString())}path(t){var{points:n}=this,[{x:s,y:a}]=n,i=new Wc(s,a);return t&&(t.beginPath(),t.moveTo(s,a)),n.forEach(o=>{var{x:l,y:c}=o;i.addPoint(l,c),t&&t.lineTo(l,c)}),i}getMarkers(){var{points:t}=this,n=t.length-1,s=[];return t.forEach((a,i)=>{i!==n&&s.push([a,a.angleTo(t[i+1])])}),s.length>0&&s.push([t[t.length-1],s[s.length-1][1]]),s}}class JW extends ZB{constructor(){super(...arguments),this.type="polygon"}path(t){var n=super.path(t),[{x:s,y:a}]=this.points;return t&&(t.lineTo(s,a),t.closePath()),n}}class YW extends Ui{constructor(){super(...arguments),this.type="pattern"}createPattern(t,n,s){var a=this.getStyle("width").getPixels("x",!0),i=this.getStyle("height").getPixels("y",!0),o=new xp(this.document,null);o.attributes.viewBox=new dn(this.document,"viewBox",this.getAttribute("viewBox").getValue()),o.attributes.width=new dn(this.document,"width","".concat(a,"px")),o.attributes.height=new dn(this.document,"height","".concat(i,"px")),o.attributes.transform=new dn(this.document,"transform",this.getAttribute("patternTransform").getValue()),o.children=this.children;var l=this.document.createCanvas(a,i),c=l.getContext("2d"),d=this.getAttribute("x"),u=this.getAttribute("y");d.hasValue()&&u.hasValue()&&c.translate(d.getPixels("x",!0),u.getPixels("y",!0)),s.hasValue()?this.styles["fill-opacity"]=s:Reflect.deleteProperty(this.styles,"fill-opacity");for(var f=-1;f<=1;f++)for(var v=-1;v<=1;v++)c.save(),o.attributes.x=new dn(this.document,"x",f*l.width),o.attributes.y=new dn(this.document,"y",v*l.height),o.render(c),c.restore();var g=t.createPattern(l,"repeat");return g}}class XW extends Ui{constructor(){super(...arguments),this.type="marker"}render(t,n,s){if(n){var{x:a,y:i}=n,o=this.getAttribute("orient").getString("auto"),l=this.getAttribute("markerUnits").getString("strokeWidth");t.translate(a,i),o==="auto"&&t.rotate(s),l==="strokeWidth"&&t.scale(t.lineWidth,t.lineWidth),t.save();var c=new xp(this.document,null);c.type=this.type,c.attributes.viewBox=new dn(this.document,"viewBox",this.getAttribute("viewBox").getValue()),c.attributes.refX=new dn(this.document,"refX",this.getAttribute("refX").getValue()),c.attributes.refY=new dn(this.document,"refY",this.getAttribute("refY").getValue()),c.attributes.width=new dn(this.document,"width",this.getAttribute("markerWidth").getValue()),c.attributes.height=new dn(this.document,"height",this.getAttribute("markerHeight").getValue()),c.attributes.overflow=new dn(this.document,"overflow",this.getAttribute("overflow").getValue()),c.attributes.fill=new dn(this.document,"fill",this.getAttribute("fill").getColor("black")),c.attributes.stroke=new dn(this.document,"stroke",this.getAttribute("stroke").getValue("none")),c.children=this.children,c.render(t),t.restore(),l==="strokeWidth"&&t.scale(1/t.lineWidth,1/t.lineWidth),o==="auto"&&t.rotate(-s),t.translate(-a,-i)}}}class ZW extends Ui{constructor(){super(...arguments),this.type="defs"}render(){}}class Qw extends Ih{constructor(){super(...arguments),this.type="g"}getBoundingBox(t){var n=new Wc;return this.children.forEach(s=>{n.addBoundingBox(s.getBoundingBox(t))}),n}}class eE extends Ui{constructor(t,n,s){super(t,n,s),this.attributesToInherit=["gradientUnits"],this.stops=[];var{stops:a,children:i}=this;i.forEach(o=>{o.type==="stop"&&a.push(o)})}getGradientUnits(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}createGradient(t,n,s){var a=this;this.getHrefAttribute().hasValue()&&(a=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(a));var{stops:i}=a,o=this.getGradient(t,n);if(!o)return this.addParentOpacity(s,i[i.length-1].color);if(i.forEach(b=>{o.addColorStop(b.offset,this.addParentOpacity(s,b.color))}),this.getAttribute("gradientTransform").hasValue()){var{document:l}=this,{MAX_VIRTUAL_PIXELS:c,viewPort:d}=l.screen,[u]=d.viewPorts,f=new XB(l,null);f.attributes.x=new dn(l,"x",-c/3),f.attributes.y=new dn(l,"y",-c/3),f.attributes.width=new dn(l,"width",c),f.attributes.height=new dn(l,"height",c);var v=new Qw(l,null);v.attributes.transform=new dn(l,"transform",this.getAttribute("gradientTransform").getValue()),v.children=[f];var g=new xp(l,null);g.attributes.x=new dn(l,"x",0),g.attributes.y=new dn(l,"y",0),g.attributes.width=new dn(l,"width",u.width),g.attributes.height=new dn(l,"height",u.height),g.children=[v];var w=l.createCanvas(u.width,u.height),y=w.getContext("2d");return y.fillStyle=o,g.render(y),y.createPattern(w,"no-repeat")}return o}inheritStopContainer(t){this.attributesToInherit.forEach(n=>{!this.getAttribute(n).hasValue()&&t.getAttribute(n).hasValue()&&this.getAttribute(n,!0).setValue(t.getAttribute(n).getValue())})}addParentOpacity(t,n){if(t.hasValue()){var s=new dn(this.document,"color",n);return s.addOpacity(t).getColor()}return n}}class e$ extends eE{constructor(t,n,s){super(t,n,s),this.type="linearGradient",this.attributesToInherit.push("x1","y1","x2","y2")}getGradient(t,n){var s=this.getGradientUnits()==="objectBoundingBox",a=s?n.getBoundingBox(t):null;if(s&&!a)return null;!this.getAttribute("x1").hasValue()&&!this.getAttribute("y1").hasValue()&&!this.getAttribute("x2").hasValue()&&!this.getAttribute("y2").hasValue()&&(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));var i=s?a.x+a.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),o=s?a.y+a.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),l=s?a.x+a.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),c=s?a.y+a.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return i===l&&o===c?null:t.createLinearGradient(i,o,l,c)}}class t$ extends eE{constructor(t,n,s){super(t,n,s),this.type="radialGradient",this.attributesToInherit.push("cx","cy","r","fx","fy","fr")}getGradient(t,n){var s=this.getGradientUnits()==="objectBoundingBox",a=n.getBoundingBox(t);if(s&&!a)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");var i=s?a.x+a.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),o=s?a.y+a.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y"),l=i,c=o;this.getAttribute("fx").hasValue()&&(l=s?a.x+a.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(c=s?a.y+a.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));var d=s?(a.width+a.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),u=this.getAttribute("fr").getPixels();return t.createRadialGradient(l,c,u,i,o,d)}}class r$ extends Ui{constructor(t,n,s){super(t,n,s),this.type="stop";var a=Math.max(0,Math.min(1,this.getAttribute("offset").getNumber())),i=this.getStyle("stop-opacity"),o=this.getStyle("stop-color",!0);o.getString()===""&&o.setValue("#000"),i.hasValue()&&(o=o.addOpacity(i)),this.offset=a,this.color=o.getColor()}}class Hw extends Ui{constructor(t,n,s){super(t,n,s),this.type="animate",this.duration=0,this.initialValue=null,this.initialUnits="",this.removed=!1,this.frozen=!1,t.screen.animations.push(this),this.begin=this.getAttribute("begin").getMilliseconds(),this.maxDuration=this.begin+this.getAttribute("dur").getMilliseconds(),this.from=this.getAttribute("from"),this.to=this.getAttribute("to"),this.values=new dn(t,"values",null);var a=this.getAttribute("values");a.hasValue()&&this.values.setValue(a.getString().split(";"))}getProperty(){var t=this.getAttribute("attributeType").getString(),n=this.getAttribute("attributeName").getString();return t==="CSS"?this.parent.getStyle(n,!0):this.parent.getAttribute(n,!0)}calcValue(){var{initialUnits:t}=this,{progress:n,from:s,to:a}=this.getProgress(),i=s.getNumber()+(a.getNumber()-s.getNumber())*n;return t==="%"&&(i*=100),"".concat(i).concat(t)}update(t){var{parent:n}=this,s=this.getProperty();if(this.initialValue||(this.initialValue=s.getString(),this.initialUnits=s.getUnits()),this.duration>this.maxDuration){var a=this.getAttribute("fill").getString("remove");if(this.getAttribute("repeatCount").getString()==="indefinite"||this.getAttribute("repeatDur").getString()==="indefinite")this.duration=0;else if(a==="freeze"&&!this.frozen)this.frozen=!0,n.animationFrozen=!0,n.animationFrozenValue=s.getString();else if(a==="remove"&&!this.removed)return this.removed=!0,s.setValue(n.animationFrozen?n.animationFrozenValue:this.initialValue),!0;return!1}this.duration+=t;var i=!1;if(this.begin<this.duration){var o=this.calcValue(),l=this.getAttribute("type");if(l.hasValue()){var c=l.getString();o="".concat(c,"(").concat(o,")")}s.setValue(o),i=!0}return i}getProgress(){var{document:t,values:n}=this,s={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(n.hasValue()){var a=s.progress*(n.getValue().length-1),i=Math.floor(a),o=Math.ceil(a);s.from=new dn(t,"from",parseFloat(n.getValue()[i])),s.to=new dn(t,"to",parseFloat(n.getValue()[o])),s.progress=(a-i)/(o-i)}else s.from=this.from,s.to=this.to;return s}}class n$ extends Hw{constructor(){super(...arguments),this.type="animateColor"}calcValue(){var{progress:t,from:n,to:s}=this.getProgress(),a=new W5(n.getColor()),i=new W5(s.getColor());if(a.ok&&i.ok){var o=a.r+(i.r-a.r)*t,l=a.g+(i.g-a.g)*t,c=a.b+(i.b-a.b)*t;return"rgb(".concat(Math.floor(o),", ").concat(Math.floor(l),", ").concat(Math.floor(c),")")}return this.getAttribute("from").getColor()}}class s$ extends Hw{constructor(){super(...arguments),this.type="animateTransform"}calcValue(){var{progress:t,from:n,to:s}=this.getProgress(),a=$l(n.getString()),i=$l(s.getString()),o=a.map((l,c)=>{var d=i[c];return l+(d-l)*t}).join(" ");return o}}class i$ extends Ui{constructor(t,n,s){super(t,n,s),this.type="font",this.glyphs=Object.create(null),this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber();var{definitions:a}=t,{children:i}=this;for(var o of i)switch(o.type){case"font-face":{this.fontFace=o;var l=o.getStyle("font-family");l.hasValue()&&(a[l.getString()]=this);break}case"missing-glyph":this.missingGlyph=o;break;case"glyph":{var c=o;c.arabicForm?(this.isRTL=!0,this.isArabic=!0,typeof this.glyphs[c.unicode]>"u"&&(this.glyphs[c.unicode]=Object.create(null)),this.glyphs[c.unicode][c.arabicForm]=c):this.glyphs[c.unicode]=c;break}}}render(){}}class a$ extends Ui{constructor(t,n,s){super(t,n,s),this.type="font-face",this.ascent=this.getAttribute("ascent").getNumber(),this.descent=this.getAttribute("descent").getNumber(),this.unitsPerEm=this.getAttribute("units-per-em").getNumber()}}class o$ extends Us{constructor(){super(...arguments),this.type="missing-glyph",this.horizAdvX=0}}class l$ extends hA{constructor(){super(...arguments),this.type="tref"}getText(){var t=this.getHrefAttribute().getDefinition();if(t){var n=t.children[0];if(n)return n.getText()}return""}}class c$ extends hA{constructor(t,n,s){super(t,n,s),this.type="a";var{childNodes:a}=n,i=a[0],o=a.length>0&&Array.from(a).every(l=>l.nodeType===3);this.hasText=o,this.text=o?this.getTextFromNode(i):""}getText(){return this.text}renderChildren(t){if(this.hasText){super.renderChildren(t);var{document:n,x:s,y:a}=this,{mouse:i}=n.screen,o=new dn(n,"fontSize",el.parse(n.ctx.font).fontSize);i.isWorking()&&i.checkBoundingBox(this,new Wc(s,a-o.getPixels("y"),s+this.measureText(t),a))}else if(this.children.length>0){var l=new Qw(this.document,null);l.children=this.children,l.parent=this,l.render(t)}}onClick(){var{window:t}=this.document;t&&t.open(this.getHrefAttribute().getString())}onMouseMove(){var t=this.document.ctx;t.canvas.style.cursor="pointer"}}function TR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function L0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TR(Object(n),!0).forEach(function(s){$B(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}class d$ extends hA{constructor(t,n,s){super(t,n,s),this.type="textPath",this.textWidth=0,this.textHeight=0,this.pathLength=-1,this.glyphInfo=null,this.letterSpacingCache=[],this.measuresCache=new Map([["",0]]);var a=this.getHrefAttribute().getDefinition();this.text=this.getTextFromNode(),this.dataArray=this.parsePathData(a)}getText(){return this.text}path(t){var{dataArray:n}=this;t&&t.beginPath(),n.forEach(s=>{var{type:a,points:i}=s;switch(a){case Wn.LINE_TO:t&&t.lineTo(i[0],i[1]);break;case Wn.MOVE_TO:t&&t.moveTo(i[0],i[1]);break;case Wn.CURVE_TO:t&&t.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5]);break;case Wn.QUAD_TO:t&&t.quadraticCurveTo(i[0],i[1],i[2],i[3]);break;case Wn.ARC:{var[o,l,c,d,u,f,v,g]=i,w=c>d?c:d,y=c>d?1:c/d,b=c>d?d/c:1;t&&(t.translate(o,l),t.rotate(v),t.scale(y,b),t.arc(0,0,w,u,u+f,!!(1-g)),t.scale(1/y,1/b),t.rotate(-v),t.translate(-o,-l));break}case Wn.CLOSE_PATH:t&&t.closePath();break}})}renderChildren(t){this.setTextData(t),t.save();var n=this.parent.getStyle("text-decoration").getString(),s=this.getFontSize(),{glyphInfo:a}=this,i=t.fillStyle;n==="underline"&&t.beginPath(),a.forEach((o,l)=>{var{p0:c,p1:d,rotation:u,text:f}=o;t.save(),t.translate(c.x,c.y),t.rotate(u),t.fillStyle&&t.fillText(f,0,0),t.strokeStyle&&t.strokeText(f,0,0),t.restore(),n==="underline"&&(l===0&&t.moveTo(c.x,c.y+s/8),t.lineTo(d.x,d.y+s/5))}),n==="underline"&&(t.lineWidth=s/20,t.strokeStyle=i,t.stroke(),t.closePath()),t.restore()}getLetterSpacingAt(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.letterSpacingCache[t]||0}findSegmentToFitChar(t,n,s,a,i,o,l,c,d){var u=o,f=this.measureText(t,c);c===" "&&n==="justify"&&s<a&&(f+=(a-s)/i),d>-1&&(u+=this.getLetterSpacingAt(d));var v=this.textHeight/20,g=this.getEquidistantPointOnPath(u,v,0),w=this.getEquidistantPointOnPath(u+f,v,0),y={p0:g,p1:w},b=g&&w?Math.atan2(w.y-g.y,w.x-g.x):0;if(l){var x=Math.cos(Math.PI/2+b)*l,N=Math.cos(-b)*l;y.p0=L0(L0({},g),{},{x:g.x+x,y:g.y+N}),y.p1=L0(L0({},w),{},{x:w.x+x,y:w.y+N})}return u+=f,{offset:u,segment:y,rotation:b}}measureText(t,n){var{measuresCache:s}=this,a=n||this.getText();if(s.has(a))return s.get(a);var i=this.measureTargetText(t,a);return s.set(a,i),i}setTextData(t){if(!this.glyphInfo){var n=this.getText(),s=n.split(""),a=n.split(" ").length-1,i=this.parent.getAttribute("dx").split().map(k=>k.getPixels("x")),o=this.parent.getAttribute("dy").getPixels("y"),l=this.parent.getStyle("text-anchor").getString("start"),c=this.getStyle("letter-spacing"),d=this.parent.getStyle("letter-spacing"),u=0;!c.hasValue()||c.getValue()==="inherit"?u=d.getPixels():c.hasValue()&&c.getValue()!=="initial"&&c.getValue()!=="unset"&&(u=c.getPixels());var f=[],v=n.length;this.letterSpacingCache=f;for(var g=0;g<v;g++)f.push(typeof i[g]<"u"?i[g]:u);var w=f.reduce((k,F,$)=>$===0?0:k+F||0,0),y=this.measureText(t),b=Math.max(y+w,0);this.textWidth=y,this.textHeight=this.getFontSize(),this.glyphInfo=[];var x=this.getPathLength(),N=this.getStyle("startOffset").getNumber(0)*x,S=0;(l==="middle"||l==="center")&&(S=-b/2),(l==="end"||l==="right")&&(S=-b),S+=N,s.forEach((k,F)=>{var{offset:$,segment:U,rotation:D}=this.findSegmentToFitChar(t,l,b,x,a,S,o,k,F);S=$,!(!U.p0||!U.p1)&&this.glyphInfo.push({text:s[F],p0:U.p0,p1:U.p1,rotation:D})})}}parsePathData(t){if(this.pathLength=-1,!t)return[];var n=[],{pathParser:s}=t;for(s.reset();!s.isEnd();){var{current:a}=s,i=a?a.x:0,o=a?a.y:0,l=s.next(),c=l.type,d=[];switch(l.type){case Wn.MOVE_TO:this.pathM(s,d);break;case Wn.LINE_TO:c=this.pathL(s,d);break;case Wn.HORIZ_LINE_TO:c=this.pathH(s,d);break;case Wn.VERT_LINE_TO:c=this.pathV(s,d);break;case Wn.CURVE_TO:this.pathC(s,d);break;case Wn.SMOOTH_CURVE_TO:c=this.pathS(s,d);break;case Wn.QUAD_TO:this.pathQ(s,d);break;case Wn.SMOOTH_QUAD_TO:c=this.pathT(s,d);break;case Wn.ARC:d=this.pathA(s);break;case Wn.CLOSE_PATH:Us.pathZ(s);break}l.type!==Wn.CLOSE_PATH?n.push({type:c,points:d,start:{x:i,y:o},pathLength:this.calcLength(i,o,c,d)}):n.push({type:Wn.CLOSE_PATH,points:[],pathLength:0})}return n}pathM(t,n){var{x:s,y:a}=Us.pathM(t).point;n.push(s,a)}pathL(t,n){var{x:s,y:a}=Us.pathL(t).point;return n.push(s,a),Wn.LINE_TO}pathH(t,n){var{x:s,y:a}=Us.pathH(t).point;return n.push(s,a),Wn.LINE_TO}pathV(t,n){var{x:s,y:a}=Us.pathV(t).point;return n.push(s,a),Wn.LINE_TO}pathC(t,n){var{point:s,controlPoint:a,currentPoint:i}=Us.pathC(t);n.push(s.x,s.y,a.x,a.y,i.x,i.y)}pathS(t,n){var{point:s,controlPoint:a,currentPoint:i}=Us.pathS(t);return n.push(s.x,s.y,a.x,a.y,i.x,i.y),Wn.CURVE_TO}pathQ(t,n){var{controlPoint:s,currentPoint:a}=Us.pathQ(t);n.push(s.x,s.y,a.x,a.y)}pathT(t,n){var{controlPoint:s,currentPoint:a}=Us.pathT(t);return n.push(s.x,s.y,a.x,a.y),Wn.QUAD_TO}pathA(t){var{rX:n,rY:s,sweepFlag:a,xAxisRotation:i,centp:o,a1:l,ad:c}=Us.pathA(t);return a===0&&c>0&&(c-=2*Math.PI),a===1&&c<0&&(c+=2*Math.PI),[o.x,o.y,n,s,l,c,i,a]}calcLength(t,n,s,a){var i=0,o=null,l=null,c=0;switch(s){case Wn.LINE_TO:return this.getLineLength(t,n,a[0],a[1]);case Wn.CURVE_TO:for(i=0,o=this.getPointOnCubicBezier(0,t,n,a[0],a[1],a[2],a[3],a[4],a[5]),c=.01;c<=1;c+=.01)l=this.getPointOnCubicBezier(c,t,n,a[0],a[1],a[2],a[3],a[4],a[5]),i+=this.getLineLength(o.x,o.y,l.x,l.y),o=l;return i;case Wn.QUAD_TO:for(i=0,o=this.getPointOnQuadraticBezier(0,t,n,a[0],a[1],a[2],a[3]),c=.01;c<=1;c+=.01)l=this.getPointOnQuadraticBezier(c,t,n,a[0],a[1],a[2],a[3]),i+=this.getLineLength(o.x,o.y,l.x,l.y),o=l;return i;case Wn.ARC:{i=0;var d=a[4],u=a[5],f=a[4]+u,v=Math.PI/180;if(Math.abs(d-f)<v&&(v=Math.abs(d-f)),o=this.getPointOnEllipticalArc(a[0],a[1],a[2],a[3],d,0),u<0)for(c=d-v;c>f;c-=v)l=this.getPointOnEllipticalArc(a[0],a[1],a[2],a[3],c,0),i+=this.getLineLength(o.x,o.y,l.x,l.y),o=l;else for(c=d+v;c<f;c+=v)l=this.getPointOnEllipticalArc(a[0],a[1],a[2],a[3],c,0),i+=this.getLineLength(o.x,o.y,l.x,l.y),o=l;return l=this.getPointOnEllipticalArc(a[0],a[1],a[2],a[3],f,0),i+=this.getLineLength(o.x,o.y,l.x,l.y),i}}return 0}getPointOnLine(t,n,s,a,i){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:n,l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:s,c=(i-s)/(a-n+hf),d=Math.sqrt(t*t/(1+c*c));a<n&&(d*=-1);var u=c*d,f=null;if(a===n)f={x:o,y:l+u};else if((l-s)/(o-n+hf)===c)f={x:o+d,y:l+u};else{var v=0,g=0,w=this.getLineLength(n,s,a,i);if(w<hf)return null;var y=(o-n)*(a-n)+(l-s)*(i-s);y/=w*w,v=n+y*(a-n),g=s+y*(i-s);var b=this.getLineLength(o,l,v,g),x=Math.sqrt(t*t-b*b);d=Math.sqrt(x*x/(1+c*c)),a<n&&(d*=-1),u=c*d,f={x:v+d,y:g+u}}return f}getPointOnPath(t){var n=this.getPathLength(),s=0,a=null;if(t<-5e-5||t-5e-5>n)return null;var{dataArray:i}=this;for(var o of i){if(o&&(o.pathLength<5e-5||s+o.pathLength+5e-5<t)){s+=o.pathLength;continue}var l=t-s,c=0;switch(o.type){case Wn.LINE_TO:a=this.getPointOnLine(l,o.start.x,o.start.y,o.points[0],o.points[1],o.start.x,o.start.y);break;case Wn.ARC:{var d=o.points[4],u=o.points[5],f=o.points[4]+u;if(c=d+l/o.pathLength*u,u<0&&c<f||u>=0&&c>f)break;a=this.getPointOnEllipticalArc(o.points[0],o.points[1],o.points[2],o.points[3],c,o.points[6]);break}case Wn.CURVE_TO:c=l/o.pathLength,c>1&&(c=1),a=this.getPointOnCubicBezier(c,o.start.x,o.start.y,o.points[0],o.points[1],o.points[2],o.points[3],o.points[4],o.points[5]);break;case Wn.QUAD_TO:c=l/o.pathLength,c>1&&(c=1),a=this.getPointOnQuadraticBezier(c,o.start.x,o.start.y,o.points[0],o.points[1],o.points[2],o.points[3]);break}if(a)return a;break}return null}getLineLength(t,n,s,a){return Math.sqrt((s-t)*(s-t)+(a-n)*(a-n))}getPathLength(){return this.pathLength===-1&&(this.pathLength=this.dataArray.reduce((t,n)=>n.pathLength>0?t+n.pathLength:t,0)),this.pathLength}getPointOnCubicBezier(t,n,s,a,i,o,l,c,d){var u=c*J5(t)+o*Y5(t)+a*X5(t)+n*Z5(t),f=d*J5(t)+l*Y5(t)+i*X5(t)+s*Z5(t);return{x:u,y:f}}getPointOnQuadraticBezier(t,n,s,a,i,o,l){var c=o*eS(t)+a*tS(t)+n*rS(t),d=l*eS(t)+i*tS(t)+s*rS(t);return{x:c,y:d}}getPointOnEllipticalArc(t,n,s,a,i,o){var l=Math.cos(o),c=Math.sin(o),d={x:s*Math.cos(i),y:a*Math.sin(i)};return{x:t+(d.x*l-d.y*c),y:n+(d.x*c+d.y*l)}}buildEquidistantCache(t,n){var s=this.getPathLength(),a=n||.25,i=t||s/100;if(!this.equidistantCache||this.equidistantCache.step!==i||this.equidistantCache.precision!==a){this.equidistantCache={step:i,precision:a,points:[]};for(var o=0,l=0;l<=s;l+=a){var c=this.getPointOnPath(l),d=this.getPointOnPath(l+a);!c||!d||(o+=this.getLineLength(c.x,c.y,d.x,d.y),o>=i&&(this.equidistantCache.points.push({x:c.x,y:c.y,distance:l}),o-=i))}}}getEquidistantPointOnPath(t,n,s){if(this.buildEquidistantCache(n,s),t<0||t-this.getPathLength()>5e-5)return null;var a=Math.round(t/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[a]||null}}var n5e=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i;class u$ extends Ih{constructor(t,n,s){super(t,n,s),this.type="image",this.loaded=!1;var a=this.getHrefAttribute().getString();if(a){var i=a.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test(a);t.images.push(this),i?this.loadSvg(a):this.loadImage(a),this.isSvg=i}}loadImage(t){var n=this;return AA(function*(){try{var s=yield n.document.createImage(t);n.image=s}catch(a){console.error('Error while loading image "'.concat(t,'":'),a)}n.loaded=!0})()}loadSvg(t){var n=this;return AA(function*(){var s=n5e.exec(t);if(s){var a=s[5];s[4]==="base64"?n.image=atob(a):n.image=decodeURIComponent(a)}else try{var i=yield n.document.fetch(t),o=yield i.text();n.image=o}catch(l){console.error('Error while loading image "'.concat(t,'":'),l)}n.loaded=!0})()}renderChildren(t){var{document:n,image:s,loaded:a}=this,i=this.getAttribute("x").getPixels("x"),o=this.getAttribute("y").getPixels("y"),l=this.getStyle("width").getPixels("x"),c=this.getStyle("height").getPixels("y");if(!(!a||!s||!l||!c)){if(t.save(),t.translate(i,o),this.isSvg){var d=n.canvg.forkString(t,this.image,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:l,scaleHeight:c});d.document.documentElement.parent=this,d.render()}else{var u=this.image;n.setViewBox({ctx:t,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:l,desiredWidth:u.width,height:c,desiredHeight:u.height}),this.loaded&&(typeof u.complete>"u"||u.complete)&&t.drawImage(u,0,0)}t.restore()}}getBoundingBox(){var t=this.getAttribute("x").getPixels("x"),n=this.getAttribute("y").getPixels("y"),s=this.getStyle("width").getPixels("x"),a=this.getStyle("height").getPixels("y");return new Wc(t,n,t+s,n+a)}}class A$ extends Ih{constructor(){super(...arguments),this.type="symbol"}render(t){}}class h${constructor(t){this.document=t,this.loaded=!1,t.fonts.push(this)}load(t,n){var s=this;return AA(function*(){try{var{document:a}=s,i=yield a.canvg.parser.load(n),o=i.getElementsByTagName("font");Array.from(o).forEach(l=>{var c=a.createElement(l);a.definitions[t]=c})}catch(l){console.error('Error while loading font "'.concat(n,'":'),l)}s.loaded=!0})()}}class tE extends Ui{constructor(t,n,s){super(t,n,s),this.type="style";var a=Bf(Array.from(n.childNodes).map(o=>o.textContent).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,"")),i=a.split("}");i.forEach(o=>{var l=o.trim();if(l){var c=l.split("{"),d=c[0].split(","),u=c[1].split(";");d.forEach(f=>{var v=f.trim();if(v){var g=t.styles[v]||{};if(u.forEach(b=>{var x=b.indexOf(":"),N=b.substr(0,x).trim(),S=b.substr(x+1,b.length-x).trim();N&&S&&(g[N]=new dn(t,N,S))}),t.styles[v]=g,t.stylesSpecificity[v]=LW(v),v==="@font-face"){var w=g["font-family"].getString().replace(/"|'/g,""),y=g.src.getString().split(",");y.forEach(b=>{if(b.indexOf('format("svg")')>0){var x=GB(b);x&&new h$(t).load(w,x)}})}}})}})}}tE.parseExternalUrl=GB;class f$ extends Ih{constructor(){super(...arguments),this.type="use"}setContext(t){super.setContext(t);var n=this.getAttribute("x"),s=this.getAttribute("y");n.hasValue()&&t.translate(n.getPixels("x"),0),s.hasValue()&&t.translate(0,s.getPixels("y"))}path(t){var{element:n}=this;n&&n.path(t)}renderChildren(t){var{document:n,element:s}=this;if(s){var a=s;if(s.type==="symbol"&&(a=new xp(n,null),a.attributes.viewBox=new dn(n,"viewBox",s.getAttribute("viewBox").getString()),a.attributes.preserveAspectRatio=new dn(n,"preserveAspectRatio",s.getAttribute("preserveAspectRatio").getString()),a.attributes.overflow=new dn(n,"overflow",s.getAttribute("overflow").getString()),a.children=s.children,s.styles.opacity=new dn(n,"opacity",this.calculateOpacity())),a.type==="svg"){var i=this.getStyle("width",!1,!0),o=this.getStyle("height",!1,!0);i.hasValue()&&(a.attributes.width=new dn(n,"width",i.getString())),o.hasValue()&&(a.attributes.height=new dn(n,"height",o.getString()))}var l=a.parent;a.parent=this,a.render(t),a.parent=l}}getBoundingBox(t){var{element:n}=this;return n?n.getBoundingBox(t):null}elementTransform(){var{document:t,element:n}=this;return yh.fromElement(t,n)}get element(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}}function R0(e,t,n,s,a,i){return e[n*s*4+t*4+i]}function O0(e,t,n,s,a,i,o){e[n*s*4+t*4+i]=o}function Fa(e,t,n){var s=e[t];return s*n}function Ju(e,t,n,s){return t+Math.cos(e)*n+Math.sin(e)*s}class rE extends Ui{constructor(t,n,s){super(t,n,s),this.type="feColorMatrix";var a=$l(this.getAttribute("values").getString());switch(this.getAttribute("type").getString("matrix")){case"saturate":{var i=a[0];a=[.213+.787*i,.715-.715*i,.072-.072*i,0,0,.213-.213*i,.715+.285*i,.072-.072*i,0,0,.213-.213*i,.715-.715*i,.072+.928*i,0,0,0,0,0,1,0,0,0,0,0,1];break}case"hueRotate":{var o=a[0]*Math.PI/180;a=[Ju(o,.213,.787,-.213),Ju(o,.715,-.715,-.715),Ju(o,.072,-.072,.928),0,0,Ju(o,.213,-.213,.143),Ju(o,.715,.285,.14),Ju(o,.072,-.072,-.283),0,0,Ju(o,.213,-.213,-.787),Ju(o,.715,-.715,.715),Ju(o,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break}case"luminanceToAlpha":a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1];break}this.matrix=a,this.includeOpacity=this.getAttribute("includeOpacity").hasValue()}apply(t,n,s,a,i){for(var{includeOpacity:o,matrix:l}=this,c=t.getImageData(0,0,a,i),d=0;d<i;d++)for(var u=0;u<a;u++){var f=R0(c.data,u,d,a,i,0),v=R0(c.data,u,d,a,i,1),g=R0(c.data,u,d,a,i,2),w=R0(c.data,u,d,a,i,3),y=Fa(l,0,f)+Fa(l,1,v)+Fa(l,2,g)+Fa(l,3,w)+Fa(l,4,1),b=Fa(l,5,f)+Fa(l,6,v)+Fa(l,7,g)+Fa(l,8,w)+Fa(l,9,1),x=Fa(l,10,f)+Fa(l,11,v)+Fa(l,12,g)+Fa(l,13,w)+Fa(l,14,1),N=Fa(l,15,f)+Fa(l,16,v)+Fa(l,17,g)+Fa(l,18,w)+Fa(l,19,1);o&&(y=0,b=0,x=0,N*=w/255),O0(c.data,u,d,a,i,0,y),O0(c.data,u,d,a,i,1,b),O0(c.data,u,d,a,i,2,x),O0(c.data,u,d,a,i,3,N)}t.clearRect(0,0,a,i),t.putImageData(c,0,0)}}class nv extends Ui{constructor(){super(...arguments),this.type="mask"}apply(t,n){var{document:s}=this,a=this.getAttribute("x").getPixels("x"),i=this.getAttribute("y").getPixels("y"),o=this.getStyle("width").getPixels("x"),l=this.getStyle("height").getPixels("y");if(!o&&!l){var c=new Wc;this.children.forEach(w=>{c.addBoundingBox(w.getBoundingBox(t))}),a=Math.floor(c.x1),i=Math.floor(c.y1),o=Math.floor(c.width),l=Math.floor(c.height)}var d=this.removeStyles(n,nv.ignoreStyles),u=s.createCanvas(a+o,i+l),f=u.getContext("2d");s.screen.setDefaults(f),this.renderChildren(f),new rE(s,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(f,0,0,a+o,i+l);var v=s.createCanvas(a+o,i+l),g=v.getContext("2d");s.screen.setDefaults(g),n.render(g),g.globalCompositeOperation="destination-in",g.fillStyle=f.createPattern(u,"no-repeat"),g.fillRect(0,0,a+o,i+l),t.fillStyle=g.createPattern(v,"no-repeat"),t.fillRect(0,0,a+o,i+l),this.restoreStyles(n,d)}render(t){}}nv.ignoreStyles=["mask","transform","clip-path"];var kR=()=>{};class m$ extends Ui{constructor(){super(...arguments),this.type="clipPath"}apply(t){var{document:n}=this,s=Reflect.getPrototypeOf(t),{beginPath:a,closePath:i}=t;s&&(s.beginPath=kR,s.closePath=kR),Reflect.apply(a,t,[]),this.children.forEach(o=>{if(!(typeof o.path>"u")){var l=typeof o.elementTransform<"u"?o.elementTransform():null;l||(l=yh.fromElement(n,o)),l&&l.apply(t),o.path(t),s&&(s.closePath=i),l&&l.unapply(t)}}),Reflect.apply(i,t,[]),t.clip(),s&&(s.beginPath=a,s.closePath=i)}render(t){}}class sv extends Ui{constructor(){super(...arguments),this.type="filter"}apply(t,n){var{document:s,children:a}=this,i=n.getBoundingBox(t);if(i){var o=0,l=0;a.forEach(x=>{var N=x.extraFilterDistance||0;o=Math.max(o,N),l=Math.max(l,N)});var c=Math.floor(i.width),d=Math.floor(i.height),u=c+2*o,f=d+2*l;if(!(u<1||f<1)){var v=Math.floor(i.x),g=Math.floor(i.y),w=this.removeStyles(n,sv.ignoreStyles),y=s.createCanvas(u,f),b=y.getContext("2d");s.screen.setDefaults(b),b.translate(-v+o,-g+l),n.render(b),a.forEach(x=>{typeof x.apply=="function"&&x.apply(b,0,0,u,f)}),t.drawImage(y,0,0,u,f,v-o,g-l,u,f),this.restoreStyles(n,w)}}}render(t){}}sv.ignoreStyles=["filter","transform","clip-path"];class p$ extends Ui{constructor(t,n,s){super(t,n,s),this.type="feDropShadow",this.addStylesFromStyleDefinition()}apply(t,n,s,a,i){}}class g$ extends Ui{constructor(){super(...arguments),this.type="feMorphology"}apply(t,n,s,a,i){}}class x$ extends Ui{constructor(){super(...arguments),this.type="feComposite"}apply(t,n,s,a,i){}}class v$ extends Ui{constructor(t,n,s){super(t,n,s),this.type="feGaussianBlur",this.blurRadius=Math.floor(this.getAttribute("stdDeviation").getNumber()),this.extraFilterDistance=this.blurRadius}apply(t,n,s,a,i){var{document:o,blurRadius:l}=this,c=o.window?o.window.document.body:null,d=t.canvas;d.id=o.getUniqueId(),c&&(d.style.display="none",c.appendChild(d)),F_e(d,n,s,a,i,l),c&&c.removeChild(d)}}class y$ extends Ui{constructor(){super(...arguments),this.type="title"}}class w$ extends Ui{constructor(){super(...arguments),this.type="desc"}}var s5e={svg:xp,rect:XB,circle:$W,ellipse:GW,line:qW,polyline:ZB,polygon:JW,path:Us,pattern:YW,marker:XW,defs:ZW,linearGradient:e$,radialGradient:t$,stop:r$,animate:Hw,animateColor:n$,animateTransform:s$,font:i$,"font-face":a$,"missing-glyph":o$,glyph:YB,text:hA,tspan:rv,tref:l$,a:c$,textPath:d$,image:u$,g:Qw,symbol:A$,style:tE,use:f$,mask:nv,clipPath:m$,filter:sv,feDropShadow:p$,feMorphology:g$,feComposite:x$,feColorMatrix:rE,feGaussianBlur:v$,title:y$,desc:w$};function PR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function i5e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PR(Object(n),!0).forEach(function(s){$B(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function a5e(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,n}function o5e(e){return sS.apply(this,arguments)}function sS(){return sS=AA(function*(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=document.createElement("img");return t&&(n.crossOrigin="Anonymous"),new Promise((s,a)=>{n.onload=()=>{s(n)},n.onerror=(i,o,l,c,d)=>{a(d)},n.src=e})}),sS.apply(this,arguments)}class nA{constructor(t){var{rootEmSize:n=12,emSize:s=12,createCanvas:a=nA.createCanvas,createImage:i=nA.createImage,anonymousCrossOrigin:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.canvg=t,this.definitions=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=t.screen,this.rootEmSize=n,this.emSize=s,this.createCanvas=a,this.createImage=this.bindCreateImage(i,o),this.screen.wait(this.isImagesLoaded.bind(this)),this.screen.wait(this.isFontsLoaded.bind(this))}bindCreateImage(t,n){return typeof n=="boolean"?(s,a)=>t(s,typeof a=="boolean"?a:n):t}get window(){return this.screen.window}get fetch(){return this.screen.fetch}get ctx(){return this.screen.ctx}get emSize(){var{emSizeStack:t}=this;return t[t.length-1]}set emSize(t){var{emSizeStack:n}=this;n.push(t)}popEmSize(){var{emSizeStack:t}=this;t.pop()}getUniqueId(){return"canvg".concat(++this.uniqueId)}isImagesLoaded(){return this.images.every(t=>t.loaded)}isFontsLoaded(){return this.fonts.every(t=>t.loaded)}createDocumentElement(t){var n=this.createElement(t.documentElement);return n.root=!0,n.addStylesFromStyleDefinition(),this.documentElement=n,n}createElement(t){var n=t.nodeName.replace(/^[^:]+:/,""),s=nA.elementTypes[n];return typeof s<"u"?new s(this,t):new WW(this,t)}createTextNode(t){return new r5e(this,t)}setViewBox(t){this.screen.setViewBox(i5e({document:this},t))}}nA.createCanvas=a5e;nA.createImage=o5e;nA.elementTypes=s5e;function DR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function $h(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DR(Object(n),!0).forEach(function(s){$B(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}class of{constructor(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.parser=new hy(s),this.screen=new tv(t,s),this.options=s;var a=new nA(this,s),i=a.createDocumentElement(n);this.document=a,this.documentElement=i}static from(t,n){var s=arguments;return AA(function*(){var a=s.length>2&&s[2]!==void 0?s[2]:{},i=new hy(a),o=yield i.parse(n);return new of(t,o,a)})()}static fromString(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=new hy(s),i=a.parseFromString(n);return new of(t,i,s)}fork(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return of.from(t,n,$h($h({},this.options),s))}forkString(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return of.fromString(t,n,$h($h({},this.options),s))}ready(){return this.screen.ready()}isReady(){return this.screen.isReady()}render(){var t=arguments,n=this;return AA(function*(){var s=t.length>0&&t[0]!==void 0?t[0]:{};n.start($h({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0},s)),yield n.ready(),n.stop()})()}start(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{documentElement:n,screen:s,options:a}=this;s.start(n,$h($h({enableRedraw:!0},a),t))}stop(){this.screen.stop()}resize(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.documentElement.resize(t,n,s)}}const l5e=Object.freeze(Object.defineProperty({__proto__:null,AElement:c$,AnimateColorElement:n$,AnimateElement:Hw,AnimateTransformElement:s$,BoundingBox:Wc,CB1:J5,CB2:Y5,CB3:X5,CB4:Z5,Canvg:of,CircleElement:$W,ClipPathElement:m$,DefsElement:ZW,DescElement:w$,Document:nA,Element:Ui,EllipseElement:GW,FeColorMatrixElement:rE,FeCompositeElement:x$,FeDropShadowElement:p$,FeGaussianBlurElement:v$,FeMorphologyElement:g$,FilterElement:sv,Font:el,FontElement:i$,FontFaceElement:a$,GElement:Qw,GlyphElement:YB,GradientElement:eE,ImageElement:u$,LineElement:qW,LinearGradientElement:e$,MarkerElement:XW,MaskElement:nv,Matrix:qB,MissingGlyphElement:o$,Mouse:OW,PSEUDO_ZERO:hf,Parser:hy,PathElement:Us,PathParser:Wn,PatternElement:YW,Point:Yi,PolygonElement:JW,PolylineElement:ZB,Property:dn,QB1:eS,QB2:tS,QB3:rS,RadialGradientElement:t$,RectElement:XB,RenderedElement:Ih,Rotate:HW,SVGElement:xp,SVGFontLoader:h$,Scale:zW,Screen:tv,Skew:JB,SkewX:VW,SkewY:KW,StopElement:r$,StyleElement:tE,SymbolElement:A$,TRefElement:l$,TSpanElement:rv,TextElement:hA,TextPathElement:d$,TitleElement:y$,Transform:yh,Translate:QW,UnknownElement:WW,UseElement:f$,ViewPort:RW,compressSpaces:Bf,default:of,getSelectorSpecificity:LW,normalizeAttributeName:DW,normalizeColor:FW,parseExternalUrl:GB,presets:M_e,toNumbers:$l,trimLeft:kW,trimRight:PW,vectorMagnitude:G5,vectorsAngle:q5,vectorsRatio:i1},Symbol.toStringTag,{value:"Module"}));
